<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">clutch.program_logic.language</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Reals.html#"><span class="id" title="library">Reals</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.micromega.Psatz.html#"><span class="id" title="library">Psatz</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.prelude</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.prelude.options.html#"><span class="id" title="library">options</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.algebra</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#"><span class="id" title="library">ofe</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.bi</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#"><span class="id" title="library">weakestpre</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.prob</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="clutch.prob.distribution.html#"><span class="id" title="library">distribution</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="language_mixin" class="idref" href="#language_mixin"><span class="id" title="section">language_mixin</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="expr:1" class="idref" href="#expr:1"><span class="id" title="binder">expr</span></a> <a id="val:2" class="idref" href="#val:2"><span class="id" title="binder">val</span></a> <a id="state:3" class="idref" href="#state:3"><span class="id" title="binder">state</span></a> <a id="state_idx:4" class="idref" href="#state_idx:4"><span class="id" title="binder">state_idx</span></a> : <span class="id" title="keyword">Type</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:6" class="idref" href="#H:6"><span class="id" title="binder">Countable</span></a> <a id="H:6" class="idref" href="#H:6"><span class="id" title="binder">expr</span></a>, <a id="H0:8" class="idref" href="#H0:8"><span class="id" title="binder">Countable</span></a> <a id="H0:8" class="idref" href="#H0:8"><span class="id" title="binder">val</span></a>, <a id="H1:10" class="idref" href="#H1:10"><span class="id" title="binder">Countable</span></a> <a id="H1:10" class="idref" href="#H1:10"><span class="id" title="binder">state</span></a>, <a id="H2:12" class="idref" href="#H2:12"><span class="id" title="binder">Countable</span></a> <a id="H2:12" class="idref" href="#H2:12"><span class="id" title="binder">state_idx</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="of_val:13" class="idref" href="#of_val:13"><span class="id" title="binder">of_val</span></a> : <a class="idref" href="clutch.program_logic.language.html#language_mixin.val"><span class="id" title="variable">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#language_mixin.expr"><span class="id" title="variable">expr</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="to_val:14" class="idref" href="#to_val:14"><span class="id" title="binder">to_val</span></a> : <a class="idref" href="clutch.program_logic.language.html#language_mixin.expr"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="clutch.program_logic.language.html#language_mixin.val"><span class="id" title="variable">val</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="prim_step:15" class="idref" href="#prim_step:15"><span class="id" title="binder">prim_step</span></a>  : <a class="idref" href="clutch.program_logic.language.html#language_mixin.expr"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#language_mixin.state"><span class="id" title="variable">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.program_logic.language.html#language_mixin.expr"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.program_logic.language.html#language_mixin.state"><span class="id" title="variable">state</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="state_step:16" class="idref" href="#state_step:16"><span class="id" title="binder">state_step</span></a> : <a class="idref" href="clutch.program_logic.language.html#language_mixin.state"><span class="id" title="variable">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#language_mixin.state_idx"><span class="id" title="variable">state_idx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.program_logic.language.html#language_mixin.state"><span class="id" title="variable">state</span></a>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;For&nbsp;<span class="inlinecode"><span class="id" title="var">prob_lang</span></span>&nbsp;this&nbsp;will&nbsp;just&nbsp;be&nbsp;<span class="inlinecode"><span class="id" title="var">λ</span></span> <span class="inlinecode">σ,</span> <span class="inlinecode"><span class="id" title="var">elements</span></span> <span class="inlinecode">(<span class="id" title="var">dom</span></span> <span class="inlinecode">σ.(<span class="id" title="var">tapes</span>))</span>&nbsp;-&nbsp;it'll<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be&nbsp;nicer&nbsp;with&nbsp;just&nbsp;a&nbsp;set&nbsp;but&nbsp;there's&nbsp;no&nbsp;set-big_op&nbsp;for&nbsp;disjunction&nbsp;in&nbsp;Iris<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;the&nbsp;moment,&nbsp;so&nbsp;lets&nbsp;stick&nbsp;to&nbsp;a&nbsp;list&nbsp;for&nbsp;now&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="get_active:17" class="idref" href="#get_active:17"><span class="id" title="binder">get_active</span></a> : <a class="idref" href="clutch.program_logic.language.html#language_mixin.state"><span class="id" title="variable">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="clutch.program_logic.language.html#language_mixin.state_idx"><span class="id" title="variable">state_idx</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="LanguageMixin" class="idref" href="#LanguageMixin"><span class="id" title="record">LanguageMixin</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_to_of_val" class="idref" href="#mixin_to_of_val"><span class="id" title="projection">mixin_to_of_val</span></a> <a id="v:19" class="idref" href="#v:19"><span class="id" title="binder">v</span></a> : <a class="idref" href="clutch.program_logic.language.html#language_mixin.to_val"><span class="id" title="variable">to_val</span></a> (<a class="idref" href="clutch.program_logic.language.html#language_mixin.of_val"><span class="id" title="variable">of_val</span></a> <a class="idref" href="clutch.program_logic.language.html#v:19"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="clutch.program_logic.language.html#v:19"><span class="id" title="variable">v</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_of_to_val" class="idref" href="#mixin_of_to_val"><span class="id" title="projection">mixin_of_to_val</span></a> <a id="e:21" class="idref" href="#e:21"><span class="id" title="binder">e</span></a> <a id="v:22" class="idref" href="#v:22"><span class="id" title="binder">v</span></a> : <a class="idref" href="clutch.program_logic.language.html#language_mixin.to_val"><span class="id" title="variable">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#e:21"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="clutch.program_logic.language.html#v:22"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#language_mixin.of_val"><span class="id" title="variable">of_val</span></a> <a class="idref" href="clutch.program_logic.language.html#v:22"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.language.html#e:21"><span class="id" title="variable">e</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_val_stuck" class="idref" href="#mixin_val_stuck"><span class="id" title="projection">mixin_val_stuck</span></a> <a id="e:24" class="idref" href="#e:24"><span class="id" title="binder">e</span></a> <a id="671d6a60fe91a45440b15b3b4e49a57f" class="idref" href="#671d6a60fe91a45440b15b3b4e49a57f"><span class="id" title="binder">σ</span></a> <a id="5887ff30c3475dc86b5d5aeb60b7c453" class="idref" href="#5887ff30c3475dc86b5d5aeb60b7c453"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="clutch.program_logic.language.html#language_mixin.prim_step"><span class="id" title="variable">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e:24"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#671d6a60fe91a45440b15b3b4e49a57f"><span class="id" title="variable">σ</span></a> <a class="idref" href="clutch.program_logic.language.html#5887ff30c3475dc86b5d5aeb60b7c453"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#language_mixin.to_val"><span class="id" title="variable">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#e:24"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="clutch.prob_lang.lang.html#prob_lang.state_step"><span class="id" title="definition">state_step</span></a></span> preserves reducibility 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_state_step_not_stuck" class="idref" href="#mixin_state_step_not_stuck"><span class="id" title="projection">mixin_state_step_not_stuck</span></a> <a id="e:28" class="idref" href="#e:28"><span class="id" title="binder">e</span></a> <a id="41fad5ed30e0ddd6aae2f148cb138a09" class="idref" href="#41fad5ed30e0ddd6aae2f148cb138a09"><span class="id" title="binder">σ</span></a> <a id="28e3931d7d5dd88c96bd68216bfc47ba" class="idref" href="#28e3931d7d5dd88c96bd68216bfc47ba"><span class="id" title="binder">σ'</span></a> <a id="d1eba641b6c42aff67e0cce349a80f3e" class="idref" href="#d1eba641b6c42aff67e0cce349a80f3e"><span class="id" title="binder">α</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#language_mixin.state_step"><span class="id" title="variable">state_step</span></a> <a class="idref" href="clutch.program_logic.language.html#41fad5ed30e0ddd6aae2f148cb138a09"><span class="id" title="variable">σ</span></a> <a class="idref" href="clutch.program_logic.language.html#d1eba641b6c42aff67e0cce349a80f3e"><span class="id" title="variable">α</span></a> <a class="idref" href="clutch.program_logic.language.html#28e3931d7d5dd88c96bd68216bfc47ba"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="282b6ae5c626b82a9cf3e153ca29b42a" class="idref" href="#282b6ae5c626b82a9cf3e153ca29b42a"><span class="id" title="binder">ρ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#language_mixin.prim_step"><span class="id" title="variable">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e:28"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#41fad5ed30e0ddd6aae2f148cb138a09"><span class="id" title="variable">σ</span></a> <a class="idref" href="clutch.program_logic.language.html#282b6ae5c626b82a9cf3e153ca29b42a"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="5f98b452914f79dd582b702027e4964b" class="idref" href="#5f98b452914f79dd582b702027e4964b"><span class="id" title="binder">ρ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#language_mixin.prim_step"><span class="id" title="variable">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e:28"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#28e3931d7d5dd88c96bd68216bfc47ba"><span class="id" title="variable">σ'</span></a> <a class="idref" href="clutch.program_logic.language.html#5f98b452914f79dd582b702027e4964b"><span class="id" title="variable">ρ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">)</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
The mass of active <span class="inlinecode"><a class="idref" href="clutch.prob_lang.lang.html#prob_lang.state_step"><span class="id" title="definition">state_step</span></a></span>s is 1 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_state_step_mass" class="idref" href="#mixin_state_step_mass"><span class="id" title="projection">mixin_state_step_mass</span></a> <a id="8b3949d2de8620e054410c326ed1c9c8" class="idref" href="#8b3949d2de8620e054410c326ed1c9c8"><span class="id" title="binder">σ</span></a> <a id="597c28fd2b0c7d7a6dc5faaa5f709cd8" class="idref" href="#597c28fd2b0c7d7a6dc5faaa5f709cd8"><span class="id" title="binder">α</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#597c28fd2b0c7d7a6dc5faaa5f709cd8"><span class="id" title="variable">α</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="clutch.program_logic.language.html#language_mixin.get_active"><span class="id" title="variable">get_active</span></a> <a class="idref" href="clutch.program_logic.language.html#8b3949d2de8620e054410c326ed1c9c8"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.program_logic.language.html#language_mixin.state_step"><span class="id" title="variable">state_step</span></a> <a class="idref" href="clutch.program_logic.language.html#8b3949d2de8620e054410c326ed1c9c8"><span class="id" title="variable">σ</span></a> <a class="idref" href="clutch.program_logic.language.html#597c28fd2b0c7d7a6dc5faaa5f709cd8"><span class="id" title="variable">α</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
The mass of reducible <span class="inlinecode"><a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a></span>s is 1 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_prim_step_mass" class="idref" href="#mixin_prim_step_mass"><span class="id" title="projection">mixin_prim_step_mass</span></a> <a id="e:38" class="idref" href="#e:38"><span class="id" title="binder">e</span></a> <a id="280fe6e9a98af7df6c57e9f4080a26e0" class="idref" href="#280fe6e9a98af7df6c57e9f4080a26e0"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="60121a901814d5edce33b68edc4ef496" class="idref" href="#60121a901814d5edce33b68edc4ef496"><span class="id" title="binder">ρ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#language_mixin.prim_step"><span class="id" title="variable">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e:38"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#280fe6e9a98af7df6c57e9f4080a26e0"><span class="id" title="variable">σ</span></a> <a class="idref" href="clutch.program_logic.language.html#60121a901814d5edce33b68edc4ef496"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.program_logic.language.html#language_mixin.prim_step"><span class="id" title="variable">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e:38"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#280fe6e9a98af7df6c57e9f4080a26e0"><span class="id" title="variable">σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1;<br/>
&nbsp;&nbsp;}.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.program_logic.language.html#language_mixin"><span class="id" title="section">language_mixin</span></a>.<br/>

<br/>
<span class="id" title="keyword">Structure</span> <a id="language" class="idref" href="#language"><span class="id" title="record">language</span></a> := <span class="id" title="var">Language</span> {<br/>
&nbsp;&nbsp;<a id="expr" class="idref" href="#expr"><span class="id" title="projection">expr</span></a> : <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;<a id="val" class="idref" href="#val"><span class="id" title="projection">val</span></a> : <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;<a id="state" class="idref" href="#state"><span class="id" title="projection">state</span></a> : <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;<a id="state_idx" class="idref" href="#state_idx"><span class="id" title="projection">state_idx</span></a> : <span class="id" title="keyword">Type</span>;<br/>
<br/>
&nbsp;&nbsp;<a id="expr_eqdec" class="idref" href="#expr_eqdec"><span class="id" title="projection">expr_eqdec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="clutch.program_logic.language.html#expr:43"><span class="id" title="method">expr</span></a>;<br/>
&nbsp;&nbsp;<a id="val_eqdec" class="idref" href="#val_eqdec"><span class="id" title="projection">val_eqdec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="clutch.program_logic.language.html#val:44"><span class="id" title="method">val</span></a>;<br/>
&nbsp;&nbsp;<a id="state_eqdec" class="idref" href="#state_eqdec"><span class="id" title="projection">state_eqdec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="clutch.program_logic.language.html#state:45"><span class="id" title="method">state</span></a>;<br/>
&nbsp;&nbsp;<a id="state_idx_eqdec" class="idref" href="#state_idx_eqdec"><span class="id" title="projection">state_idx_eqdec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="clutch.program_logic.language.html#state_idx:46"><span class="id" title="method">state_idx</span></a>;<br/>
&nbsp;&nbsp;<a id="expr_countable" class="idref" href="#expr_countable"><span class="id" title="projection">expr_countable</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="clutch.program_logic.language.html#expr:43"><span class="id" title="method">expr</span></a>;<br/>
&nbsp;&nbsp;<a id="val_countable" class="idref" href="#val_countable"><span class="id" title="projection">val_countable</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="clutch.program_logic.language.html#val:44"><span class="id" title="method">val</span></a>;<br/>
&nbsp;&nbsp;<a id="state_countable" class="idref" href="#state_countable"><span class="id" title="projection">state_countable</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="clutch.program_logic.language.html#state:45"><span class="id" title="method">state</span></a>;<br/>
&nbsp;&nbsp;<a id="state_idx_countable" class="idref" href="#state_idx_countable"><span class="id" title="projection">state_idx_countable</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="clutch.program_logic.language.html#state_idx:46"><span class="id" title="method">state_idx</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="of_val" class="idref" href="#of_val"><span class="id" title="projection">of_val</span></a> : <a class="idref" href="clutch.program_logic.language.html#val:44"><span class="id" title="method">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#expr:43"><span class="id" title="method">expr</span></a>;<br/>
&nbsp;&nbsp;<a id="to_val" class="idref" href="#to_val"><span class="id" title="projection">to_val</span></a> : <a class="idref" href="clutch.program_logic.language.html#expr:43"><span class="id" title="method">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="clutch.program_logic.language.html#val:44"><span class="id" title="method">val</span></a>;<br/>
&nbsp;&nbsp;<a id="prim_step" class="idref" href="#prim_step"><span class="id" title="projection">prim_step</span></a> : <a class="idref" href="clutch.program_logic.language.html#expr:43"><span class="id" title="method">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#state:45"><span class="id" title="method">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.program_logic.language.html#expr:43"><span class="id" title="method">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.program_logic.language.html#state:45"><span class="id" title="method">state</span></a>);<br/>
&nbsp;&nbsp;<a id="state_step" class="idref" href="#state_step"><span class="id" title="projection">state_step</span></a> : <a class="idref" href="clutch.program_logic.language.html#state:45"><span class="id" title="method">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#state_idx:46"><span class="id" title="method">state_idx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.program_logic.language.html#state:45"><span class="id" title="method">state</span></a>;<br/>
&nbsp;&nbsp;<a id="get_active" class="idref" href="#get_active"><span class="id" title="projection">get_active</span></a> : <a class="idref" href="clutch.program_logic.language.html#state:45"><span class="id" title="method">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="clutch.program_logic.language.html#state_idx:46"><span class="id" title="method">state_idx</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="language_mixin" class="idref" href="#language_mixin"><span class="id" title="projection">language_mixin</span></a> : <a class="idref" href="clutch.program_logic.language.html#LanguageMixin"><span class="id" title="record">LanguageMixin</span></a> <a class="idref" href="clutch.program_logic.language.html#of_val:55"><span class="id" title="method">of_val</span></a> <a class="idref" href="clutch.program_logic.language.html#to_val:56"><span class="id" title="method">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#prim_step:57"><span class="id" title="method">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#state_step:58"><span class="id" title="method">state_step</span></a> <a class="idref" href="clutch.program_logic.language.html#get_active:59"><span class="id" title="method">get_active</span></a><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Bind Scope</span> <span class="id" title="var">expr_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">expr</span>.<br/>
<span class="id" title="keyword">Bind Scope</span> <span class="id" title="var">val_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">val</span>.<br/>

<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="clutch.program_logic.language.html#Language"><span class="id" title="constructor">Language</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> } <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="clutch.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="clutch.program_logic.language.html#state_step"><span class="id" title="projection">state_step</span></a> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="clutch.program_logic.language.html#get_active"><span class="id" title="projection">get_active</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">expr_eqdec</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">val_eqdec</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">state_eqdec</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">expr_countable</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">val_countable</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">state_countable</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">state_idx_countable</span>.<br/>

<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="stateO" class="idref" href="#stateO"><span class="id" title="definition">stateO</span></a> <a id="0483ed38668b0a00f5d68c3404c54c7f" class="idref" href="#0483ed38668b0a00f5d68c3404c54c7f"><span class="id" title="binder">Λ</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#leibnizO"><span class="id" title="abbreviation">leibnizO</span></a> (<a class="idref" href="clutch.program_logic.language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="clutch.program_logic.language.html#0483ed38668b0a00f5d68c3404c54c7f"><span class="id" title="variable">Λ</span></a>).<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="valO" class="idref" href="#valO"><span class="id" title="definition">valO</span></a> <a id="4803d7d061d0e5595f0e668a928a5225" class="idref" href="#4803d7d061d0e5595f0e668a928a5225"><span class="id" title="binder">Λ</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#leibnizO"><span class="id" title="abbreviation">leibnizO</span></a> (<a class="idref" href="clutch.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="clutch.program_logic.language.html#4803d7d061d0e5595f0e668a928a5225"><span class="id" title="variable">Λ</span></a>).<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="exprO" class="idref" href="#exprO"><span class="id" title="definition">exprO</span></a> <a id="17d6568d370b4ec85d5f6f78e82d21ca" class="idref" href="#17d6568d370b4ec85d5f6f78e82d21ca"><span class="id" title="binder">Λ</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#leibnizO"><span class="id" title="abbreviation">leibnizO</span></a> (<a class="idref" href="clutch.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="clutch.program_logic.language.html#17d6568d370b4ec85d5f6f78e82d21ca"><span class="id" title="variable">Λ</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="cfg" class="idref" href="#cfg"><span class="id" title="definition">cfg</span></a> (<a id="350c5ad0a513698baaeb38ef43ec607b" class="idref" href="#350c5ad0a513698baaeb38ef43ec607b"><span class="id" title="binder">Λ</span></a> : <a class="idref" href="clutch.program_logic.language.html#language"><span class="id" title="record">language</span></a>) := (<a class="idref" href="clutch.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="clutch.program_logic.language.html#350c5ad0a513698baaeb38ef43ec607b"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.program_logic.language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="clutch.program_logic.language.html#350c5ad0a513698baaeb38ef43ec607b"><span class="id" title="variable">Λ</span></a>)%<span class="id" title="keyword">type</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="fill_lift" class="idref" href="#fill_lift"><span class="id" title="definition">fill_lift</span></a> {<a id="04317395911beb197bfb601703a4b2a3" class="idref" href="#04317395911beb197bfb601703a4b2a3"><span class="id" title="binder">Λ</span></a>} (<a id="K:66" class="idref" href="#K:66"><span class="id" title="binder">K</span></a> : <a class="idref" href="clutch.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="clutch.program_logic.language.html#04317395911beb197bfb601703a4b2a3"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="clutch.program_logic.language.html#04317395911beb197bfb601703a4b2a3"><span class="id" title="variable">Λ</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="clutch.program_logic.language.html#04317395911beb197bfb601703a4b2a3"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.program_logic.language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="clutch.program_logic.language.html#04317395911beb197bfb601703a4b2a3"><span class="id" title="variable">Λ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="clutch.program_logic.language.html#04317395911beb197bfb601703a4b2a3"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.program_logic.language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="clutch.program_logic.language.html#04317395911beb197bfb601703a4b2a3"><span class="id" title="variable">Λ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:69" class="idref" href="#pat:69"><span class="id" title="binder">(</span></a><a id="pat:69" class="idref" href="#pat:69"><span class="id" title="binder">e</span></a><a id="pat:69" class="idref" href="#pat:69"><span class="id" title="binder">,</span></a> <a id="pat:69" class="idref" href="#pat:69"><span class="id" title="binder">σ)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.program_logic.language.html#K:66"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e:68"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#e0654d5deb2c1e9011d617fb5c8d1727"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="inj_fill_lift" class="idref" href="#inj_fill_lift"><span class="id" title="instance">inj_fill_lift</span></a> {<a id="f3eb0250803b105859356ab0f9a1d17d" class="idref" href="#f3eb0250803b105859356ab0f9a1d17d"><span class="id" title="binder">Λ</span></a> : <a class="idref" href="clutch.program_logic.language.html#language"><span class="id" title="record">language</span></a>} (<a id="K:71" class="idref" href="#K:71"><span class="id" title="binder">K</span></a> : <a class="idref" href="clutch.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="clutch.program_logic.language.html#f3eb0250803b105859356ab0f9a1d17d"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="clutch.program_logic.language.html#f3eb0250803b105859356ab0f9a1d17d"><span class="id" title="variable">Λ</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="clutch.program_logic.language.html#K:71"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (<a class="idref" href="clutch.program_logic.language.html#fill_lift"><span class="id" title="definition">fill_lift</span></a> <a class="idref" href="clutch.program_logic.language.html#K:71"><span class="id" title="variable">K</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ? [] [] [=-&gt;%(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#inj"><span class="id" title="definition">inj</span></a> <span class="id" title="var">_</span>) -&gt;]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="LanguageCtx" class="idref" href="#LanguageCtx"><span class="id" title="record">LanguageCtx</span></a> {<a id="ffebf150f87cc6df24d09c22069c5308" class="idref" href="#ffebf150f87cc6df24d09c22069c5308"><span class="id" title="binder">Λ</span></a> : <a class="idref" href="clutch.program_logic.language.html#language"><span class="id" title="record">language</span></a>} (<a id="K:73" class="idref" href="#K:73"><span class="id" title="binder">K</span></a> : <a class="idref" href="clutch.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="clutch.program_logic.language.html#ffebf150f87cc6df24d09c22069c5308"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="clutch.program_logic.language.html#ffebf150f87cc6df24d09c22069c5308"><span class="id" title="variable">Λ</span></a>) := {<br/>
&nbsp;&nbsp;<a id="fill_not_val" class="idref" href="#fill_not_val"><span class="id" title="projection">fill_not_val</span></a> <a id="e:75" class="idref" href="#e:75"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#e:75"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> (<a class="idref" href="clutch.program_logic.language.html#K:73"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e:75"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>;<br/>
&nbsp;&nbsp;<a id="fill_inj" class="idref" href="#fill_inj"><span class="id" title="projection">fill_inj</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="clutch.program_logic.language.html#K:73"><span class="id" title="variable">K</span></a>;<br/>
&nbsp;&nbsp;<a id="fill_dmap" class="idref" href="#fill_dmap"><span class="id" title="projection">fill_dmap</span></a> <a id="e1:78" class="idref" href="#e1:78"><span class="id" title="binder">e1</span></a> <a id="cd64f6d5328fb83aafaf7cc56c8b4777" class="idref" href="#cd64f6d5328fb83aafaf7cc56c8b4777"><span class="id" title="binder">σ1</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#e1:78"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> (<a class="idref" href="clutch.program_logic.language.html#K:73"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e1:78"><span class="id" title="variable">e1</span></a>) <a class="idref" href="clutch.program_logic.language.html#cd64f6d5328fb83aafaf7cc56c8b4777"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> (<a class="idref" href="clutch.program_logic.language.html#fill_lift"><span class="id" title="definition">fill_lift</span></a> <a class="idref" href="clutch.program_logic.language.html#K:73"><span class="id" title="variable">K</span></a>) (<a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e1:78"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.program_logic.language.html#cd64f6d5328fb83aafaf7cc56c8b4777"><span class="id" title="variable">σ1</span></a>)<br/>
}.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">fill_inj</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="atomicity" class="idref" href="#atomicity"><span class="id" title="inductive">atomicity</span></a> := <a id="StronglyAtomic" class="idref" href="#StronglyAtomic"><span class="id" title="constructor">StronglyAtomic</span></a> | <a id="WeaklyAtomic" class="idref" href="#WeaklyAtomic"><span class="id" title="constructor">WeaklyAtomic</span></a>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a id="stuckness_to_atomicity" class="idref" href="#stuckness_to_atomicity"><span class="id" title="definition">stuckness_to_atomicity</span></a> (<a id="s:83" class="idref" href="#s:83"><span class="id" title="binder">s</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#stuckness"><span class="id" title="inductive">stuckness</span></a>) : <a class="idref" href="clutch.program_logic.language.html#atomicity"><span class="id" title="inductive">atomicity</span></a> := <br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="clutch.program_logic.language.html#s:83"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#MaybeStuck"><span class="id" title="constructor">MaybeStuck</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="clutch.program_logic.language.html#StronglyAtomic"><span class="id" title="constructor">StronglyAtomic</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="clutch.program_logic.language.html#WeaklyAtomic"><span class="id" title="constructor">WeaklyAtomic</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="language" class="idref" href="#language"><span class="id" title="section">language</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="284c2b254e7d5af562458f2526f3ebfc" class="idref" href="#284c2b254e7d5af562458f2526f3ebfc"><span class="id" title="binder">Λ</span></a> : <a class="idref" href="clutch.program_logic.language.html#language"><span class="id" title="record">language</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">v</span> : <a class="idref" href="clutch.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="clutch.program_logic.language.html#8e77600c4e33bc8bd5940639baa9b639"><span class="id" title="variable">Λ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">e</span> : <a class="idref" href="clutch.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="clutch.program_logic.language.html#8e77600c4e33bc8bd5940639baa9b639"><span class="id" title="variable">Λ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> σ : <a class="idref" href="clutch.program_logic.language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="clutch.program_logic.language.html#8e77600c4e33bc8bd5940639baa9b639"><span class="id" title="variable">Λ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="to_of_val" class="idref" href="#to_of_val"><span class="id" title="lemma">to_of_val</span></a> <a id="v:86" class="idref" href="#v:86"><span class="id" title="binder">v</span></a> : <a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> (<a class="idref" href="clutch.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="clutch.program_logic.language.html#v:86"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="clutch.program_logic.language.html#v:86"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.program_logic.language.html#language_mixin"><span class="id" title="projection">language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="of_to_val" class="idref" href="#of_to_val"><span class="id" title="lemma">of_to_val</span></a> <a id="e:87" class="idref" href="#e:87"><span class="id" title="binder">e</span></a> <a id="v:88" class="idref" href="#v:88"><span class="id" title="binder">v</span></a> : <a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#e:87"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="clutch.program_logic.language.html#v:88"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="clutch.program_logic.language.html#v:88"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.language.html#e:87"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.program_logic.language.html#language_mixin"><span class="id" title="projection">language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="val_stuck" class="idref" href="#val_stuck"><span class="id" title="lemma">val_stuck</span></a> <a id="e:89" class="idref" href="#e:89"><span class="id" title="binder">e</span></a> <a id="b702ecd3bf036a057859106a7f1b4dce" class="idref" href="#b702ecd3bf036a057859106a7f1b4dce"><span class="id" title="binder">σ</span></a> <a id="7f719b97c3b07f1433c051b347129b9a" class="idref" href="#7f719b97c3b07f1433c051b347129b9a"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e:89"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#b702ecd3bf036a057859106a7f1b4dce"><span class="id" title="variable">σ</span></a> <a class="idref" href="clutch.program_logic.language.html#7f719b97c3b07f1433c051b347129b9a"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#e:89"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.program_logic.language.html#language_mixin"><span class="id" title="projection">language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="state_step_not_stuck" class="idref" href="#state_step_not_stuck"><span class="id" title="lemma">state_step_not_stuck</span></a> <a id="e:92" class="idref" href="#e:92"><span class="id" title="binder">e</span></a> <a id="08304a5fe01b9b887e728c77caf420c2" class="idref" href="#08304a5fe01b9b887e728c77caf420c2"><span class="id" title="binder">σ</span></a> <a id="da8dfbeec4058a069a74e0cf4c46b730" class="idref" href="#da8dfbeec4058a069a74e0cf4c46b730"><span class="id" title="binder">σ'</span></a> <a id="2c33648b2cf0db4627780e14acbca4c2" class="idref" href="#2c33648b2cf0db4627780e14acbca4c2"><span class="id" title="binder">α</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#state_step"><span class="id" title="projection">state_step</span></a> <a class="idref" href="clutch.program_logic.language.html#08304a5fe01b9b887e728c77caf420c2"><span class="id" title="variable">σ</span></a> <a class="idref" href="clutch.program_logic.language.html#2c33648b2cf0db4627780e14acbca4c2"><span class="id" title="variable">α</span></a> <a class="idref" href="clutch.program_logic.language.html#da8dfbeec4058a069a74e0cf4c46b730"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="f2997d344c351e6c9b6b39c28d50fd7a" class="idref" href="#f2997d344c351e6c9b6b39c28d50fd7a"><span class="id" title="binder">ρ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e:92"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#08304a5fe01b9b887e728c77caf420c2"><span class="id" title="variable">σ</span></a> <a class="idref" href="clutch.program_logic.language.html#f2997d344c351e6c9b6b39c28d50fd7a"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="51d35a6f4b07a853b5a76282ee8e5694" class="idref" href="#51d35a6f4b07a853b5a76282ee8e5694"><span class="id" title="binder">ρ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e:92"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#da8dfbeec4058a069a74e0cf4c46b730"><span class="id" title="variable">σ'</span></a> <a class="idref" href="clutch.program_logic.language.html#51d35a6f4b07a853b5a76282ee8e5694"><span class="id" title="variable">ρ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.program_logic.language.html#language_mixin"><span class="id" title="projection">language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="state_step_mass" class="idref" href="#state_step_mass"><span class="id" title="lemma">state_step_mass</span></a> <a id="cc6b043719e4d47de25e406f4c2e0c05" class="idref" href="#cc6b043719e4d47de25e406f4c2e0c05"><span class="id" title="binder">σ</span></a> <a id="1b38a62920c9ac7c5c6285b4c2769ae0" class="idref" href="#1b38a62920c9ac7c5c6285b4c2769ae0"><span class="id" title="binder">α</span></a> : <a class="idref" href="clutch.program_logic.language.html#1b38a62920c9ac7c5c6285b4c2769ae0"><span class="id" title="variable">α</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="clutch.program_logic.language.html#get_active"><span class="id" title="projection">get_active</span></a> <a class="idref" href="clutch.program_logic.language.html#cc6b043719e4d47de25e406f4c2e0c05"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.program_logic.language.html#state_step"><span class="id" title="projection">state_step</span></a> <a class="idref" href="clutch.program_logic.language.html#cc6b043719e4d47de25e406f4c2e0c05"><span class="id" title="variable">σ</span></a> <a class="idref" href="clutch.program_logic.language.html#1b38a62920c9ac7c5c6285b4c2769ae0"><span class="id" title="variable">α</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.program_logic.language.html#language_mixin"><span class="id" title="projection">language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="prim_step_mass" class="idref" href="#prim_step_mass"><span class="id" title="lemma">prim_step_mass</span></a> <a id="e:100" class="idref" href="#e:100"><span class="id" title="binder">e</span></a> <a id="0068bba064954ff1d2256a45ce198696" class="idref" href="#0068bba064954ff1d2256a45ce198696"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="bfa0bdc8f006e2f640f1ee87cea85b56" class="idref" href="#bfa0bdc8f006e2f640f1ee87cea85b56"><span class="id" title="binder">ρ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e:100"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#0068bba064954ff1d2256a45ce198696"><span class="id" title="variable">σ</span></a> <a class="idref" href="clutch.program_logic.language.html#bfa0bdc8f006e2f640f1ee87cea85b56"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e:100"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#0068bba064954ff1d2256a45ce198696"><span class="id" title="variable">σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.program_logic.language.html#language_mixin"><span class="id" title="projection">language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="reducible" class="idref" href="#reducible"><span class="id" title="definition">reducible</span></a> (<a id="e:103" class="idref" href="#e:103"><span class="id" title="binder">e</span></a> : <a class="idref" href="clutch.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="clutch.program_logic.language.html#8e77600c4e33bc8bd5940639baa9b639"><span class="id" title="variable">Λ</span></a>) (<a id="241996a55dbeb0df3f6494a745503c42" class="idref" href="#241996a55dbeb0df3f6494a745503c42"><span class="id" title="binder">σ</span></a> : <a class="idref" href="clutch.program_logic.language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="clutch.program_logic.language.html#8e77600c4e33bc8bd5940639baa9b639"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="bf1ae1913c09b2a867297af299af0f21" class="idref" href="#bf1ae1913c09b2a867297af299af0f21"><span class="id" title="binder">ρ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e:103"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#241996a55dbeb0df3f6494a745503c42"><span class="id" title="variable">σ</span></a> <a class="idref" href="clutch.program_logic.language.html#bf1ae1913c09b2a867297af299af0f21"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="irreducible" class="idref" href="#irreducible"><span class="id" title="definition">irreducible</span></a> (<a id="e:106" class="idref" href="#e:106"><span class="id" title="binder">e</span></a> : <a class="idref" href="clutch.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="clutch.program_logic.language.html#8e77600c4e33bc8bd5940639baa9b639"><span class="id" title="variable">Λ</span></a>) (<a id="ccfcad0f5f2d68e724a3fa1bd4913fee" class="idref" href="#ccfcad0f5f2d68e724a3fa1bd4913fee"><span class="id" title="binder">σ</span></a> : <a class="idref" href="clutch.program_logic.language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="clutch.program_logic.language.html#8e77600c4e33bc8bd5940639baa9b639"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b278f1fb237401779cadd1233821a8e1" class="idref" href="#b278f1fb237401779cadd1233821a8e1"><span class="id" title="binder">ρ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e:106"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#ccfcad0f5f2d68e724a3fa1bd4913fee"><span class="id" title="variable">σ</span></a> <a class="idref" href="clutch.program_logic.language.html#b278f1fb237401779cadd1233821a8e1"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="stuck" class="idref" href="#stuck"><span class="id" title="definition">stuck</span></a> (<a id="e:109" class="idref" href="#e:109"><span class="id" title="binder">e</span></a> : <a class="idref" href="clutch.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="clutch.program_logic.language.html#8e77600c4e33bc8bd5940639baa9b639"><span class="id" title="variable">Λ</span></a>) (<a id="0e349015c691de677369ceaeb92aeb42" class="idref" href="#0e349015c691de677369ceaeb92aeb42"><span class="id" title="binder">σ</span></a> : <a class="idref" href="clutch.program_logic.language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="clutch.program_logic.language.html#8e77600c4e33bc8bd5940639baa9b639"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#e:109"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.program_logic.language.html#irreducible"><span class="id" title="definition">irreducible</span></a> <a class="idref" href="clutch.program_logic.language.html#e:109"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#0e349015c691de677369ceaeb92aeb42"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="not_stuck" class="idref" href="#not_stuck"><span class="id" title="definition">not_stuck</span></a> (<a id="e:111" class="idref" href="#e:111"><span class="id" title="binder">e</span></a> : <a class="idref" href="clutch.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="clutch.program_logic.language.html#8e77600c4e33bc8bd5940639baa9b639"><span class="id" title="variable">Λ</span></a>) (<a id="c6765da2d84aeeaed4c0765f12390ec0" class="idref" href="#c6765da2d84aeeaed4c0765f12390ec0"><span class="id" title="binder">σ</span></a> : <a class="idref" href="clutch.program_logic.language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="clutch.program_logic.language.html#8e77600c4e33bc8bd5940639baa9b639"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#e:111"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="clutch.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="clutch.program_logic.language.html#e:111"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#c6765da2d84aeeaed4c0765f12390ec0"><span class="id" title="variable">σ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="Atomic" class="idref" href="#Atomic"><span class="id" title="record">Atomic</span></a> (<a id="a:113" class="idref" href="#a:113"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.program_logic.language.html#atomicity"><span class="id" title="inductive">atomicity</span></a>) (<a id="e:114" class="idref" href="#e:114"><span class="id" title="binder">e</span></a> : <a class="idref" href="clutch.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="clutch.program_logic.language.html#8e77600c4e33bc8bd5940639baa9b639"><span class="id" title="variable">Λ</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="atomic" class="idref" href="#atomic"><span class="id" title="projection">atomic</span></a> <a id="03f86bc26ea6bf4494eb49e11860d2a4" class="idref" href="#03f86bc26ea6bf4494eb49e11860d2a4"><span class="id" title="binder">σ</span></a> <a id="e':117" class="idref" href="#e':117"><span class="id" title="binder">e'</span></a> <a id="37ba4193745932708fcd8fa69f3207f0" class="idref" href="#37ba4193745932708fcd8fa69f3207f0"><span class="id" title="binder">σ'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e:114"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#03f86bc26ea6bf4494eb49e11860d2a4"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.program_logic.language.html#e':117"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#37ba4193745932708fcd8fa69f3207f0"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="clutch.program_logic.language.html#a:113"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="clutch.program_logic.language.html#WeaklyAtomic"><span class="id" title="constructor">WeaklyAtomic</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="clutch.program_logic.language.html#irreducible"><span class="id" title="definition">irreducible</span></a> <a class="idref" href="clutch.program_logic.language.html#e':117"><span class="id" title="variable">e'</span></a> <a class="idref" href="clutch.program_logic.language.html#37ba4193745932708fcd8fa69f3207f0"><span class="id" title="variable">σ'</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#e':117"><span class="id" title="variable">e'</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="step" class="idref" href="#step"><span class="id" title="inductive">step</span></a> (<a id="38ad680f8aa3b7c7edac3830582ec9af" class="idref" href="#38ad680f8aa3b7c7edac3830582ec9af"><span class="id" title="binder">ρ1</span></a> : <a class="idref" href="clutch.program_logic.language.html#cfg"><span class="id" title="definition">cfg</span></a> <a class="idref" href="clutch.program_logic.language.html#8e77600c4e33bc8bd5940639baa9b639"><span class="id" title="variable">Λ</span></a>) (<a id="88b9c2d37046ee1f2ae4610d2ee3b088" class="idref" href="#88b9c2d37046ee1f2ae4610d2ee3b088"><span class="id" title="binder">ρ2</span></a> : <a class="idref" href="clutch.program_logic.language.html#cfg"><span class="id" title="definition">cfg</span></a> <a class="idref" href="clutch.program_logic.language.html#8e77600c4e33bc8bd5940639baa9b639"><span class="id" title="variable">Λ</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="step_atomic" class="idref" href="#step_atomic"><span class="id" title="constructor">step_atomic</span></a> <a id="e1:125" class="idref" href="#e1:125"><span class="id" title="binder">e1</span></a> <a id="aad6dd2efadde041a4f2d6a79a70040b" class="idref" href="#aad6dd2efadde041a4f2d6a79a70040b"><span class="id" title="binder">σ1</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#38ad680f8aa3b7c7edac3830582ec9af"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.program_logic.language.html#e1:125"><span class="id" title="variable">e1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#aad6dd2efadde041a4f2d6a79a70040b"><span class="id" title="variable">σ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e1:125"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.program_logic.language.html#aad6dd2efadde041a4f2d6a79a70040b"><span class="id" title="variable">σ1</span></a> <a class="idref" href="clutch.program_logic.language.html#88b9c2d37046ee1f2ae4610d2ee3b088"><span class="id" title="variable">ρ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#step:123"><span class="id" title="inductive">step</span></a> <a class="idref" href="clutch.program_logic.language.html#38ad680f8aa3b7c7edac3830582ec9af"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="clutch.program_logic.language.html#88b9c2d37046ee1f2ae4610d2ee3b088"><span class="id" title="variable">ρ2</span></a><br/>
&nbsp;&nbsp;| <a id="step_state" class="idref" href="#step_state"><span class="id" title="constructor">step_state</span></a> <a id="e:127" class="idref" href="#e:127"><span class="id" title="binder">e</span></a> <a id="f7c7610ea393132d5fd3f79b04668f6c" class="idref" href="#f7c7610ea393132d5fd3f79b04668f6c"><span class="id" title="binder">α</span></a> <a id="477c0ff2bcd99e68e79ea14248eee26e" class="idref" href="#477c0ff2bcd99e68e79ea14248eee26e"><span class="id" title="binder">σ1</span></a> <a id="1e7068e73f451e64b82526766aa53952" class="idref" href="#1e7068e73f451e64b82526766aa53952"><span class="id" title="binder">σ2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#38ad680f8aa3b7c7edac3830582ec9af"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.program_logic.language.html#e:127"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#477c0ff2bcd99e68e79ea14248eee26e"><span class="id" title="variable">σ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#88b9c2d37046ee1f2ae4610d2ee3b088"><span class="id" title="variable">ρ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.program_logic.language.html#e:127"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#1e7068e73f451e64b82526766aa53952"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#state_step"><span class="id" title="projection">state_step</span></a> <a class="idref" href="clutch.program_logic.language.html#477c0ff2bcd99e68e79ea14248eee26e"><span class="id" title="variable">σ1</span></a> <a class="idref" href="clutch.program_logic.language.html#f7c7610ea393132d5fd3f79b04668f6c"><span class="id" title="variable">α</span></a> <a class="idref" href="clutch.program_logic.language.html#1e7068e73f451e64b82526766aa53952"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#step:123"><span class="id" title="inductive">step</span></a> <a class="idref" href="clutch.program_logic.language.html#38ad680f8aa3b7c7edac3830582ec9af"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="clutch.program_logic.language.html#88b9c2d37046ee1f2ae4610d2ee3b088"><span class="id" title="variable">ρ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Hint Constructors</span> <a class="idref" href="clutch.program_logic.language.html#step"><span class="id" title="inductive">step</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="of_to_val_flip" class="idref" href="#of_to_val_flip"><span class="id" title="lemma">of_to_val_flip</span></a> <a id="v:131" class="idref" href="#v:131"><span class="id" title="binder">v</span></a> <a id="e:132" class="idref" href="#e:132"><span class="id" title="binder">e</span></a> : <a class="idref" href="clutch.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="clutch.program_logic.language.html#v:131"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.language.html#e:132"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#e:132"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="clutch.program_logic.language.html#v:131"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> &lt;-. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.program_logic.language.html#to_of_val"><span class="id" title="lemma">to_of_val</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="not_reducible" class="idref" href="#not_reducible"><span class="id" title="lemma">not_reducible</span></a> <a id="e:133" class="idref" href="#e:133"><span class="id" title="binder">e</span></a> <a id="20b6fe43cab13e9b88d6e3af1bd4300c" class="idref" href="#20b6fe43cab13e9b88d6e3af1bd4300c"><span class="id" title="binder">σ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a><a class="idref" href="clutch.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="clutch.program_logic.language.html#e:133"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#20b6fe43cab13e9b88d6e3af1bd4300c"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="clutch.program_logic.language.html#irreducible"><span class="id" title="definition">irreducible</span></a> <a class="idref" href="clutch.program_logic.language.html#e:133"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#20b6fe43cab13e9b88d6e3af1bd4300c"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="clutch.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a>, <a class="idref" href="clutch.program_logic.language.html#irreducible"><span class="id" title="definition">irreducible</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>=&gt; /<a class="idref" href="clutch.prelude.classical.html#not_exists_forall_not"><span class="id" title="lemma">not_exists_forall_not</span></a> <span class="id" title="var">Hneg</span> ρ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hneg</span> ρ). <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rnot_gt_ge"><span class="id" title="lemma">Rnot_gt_ge</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> (<a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <span class="id" title="var">e</span> σ) ρ). <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hall</span> [ρ ?]. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hall</span> ρ). <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reducible_not_val" class="idref" href="#reducible_not_val"><span class="id" title="lemma">reducible_not_val</span></a> <a id="e:135" class="idref" href="#e:135"><span class="id" title="binder">e</span></a> <a id="e30ff2d40e6394a3aa7ed11d643e9d5b" class="idref" href="#e30ff2d40e6394a3aa7ed11d643e9d5b"><span class="id" title="binder">σ</span></a> : <a class="idref" href="clutch.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="clutch.program_logic.language.html#e:135"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#e30ff2d40e6394a3aa7ed11d643e9d5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#e:135"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ([] &amp; ?). <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="clutch.program_logic.language.html#val_stuck"><span class="id" title="lemma">val_stuck</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="val_irreducible" class="idref" href="#val_irreducible"><span class="id" title="lemma">val_irreducible</span></a> <a id="e:137" class="idref" href="#e:137"><span class="id" title="binder">e</span></a> <a id="c5f1c6762d485c6208d66ba59c1b59dc" class="idref" href="#c5f1c6762d485c6208d66ba59c1b59dc"><span class="id" title="binder">σ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#e:137"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#irreducible"><span class="id" title="definition">irreducible</span></a> <a class="idref" href="clutch.program_logic.language.html#e:137"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#c5f1c6762d485c6208d66ba59c1b59dc"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [??] ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> (<a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <span class="id" title="var">e</span> σ) ρ) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span>%<a class="idref" href="clutch.program_logic.language.html#val_stuck"><span class="id" title="lemma">val_stuck</span></a>|]; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="of_val_inj" class="idref" href="#of_val_inj"><span class="id" title="instance">of_val_inj</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (@<a class="idref" href="clutch.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="clutch.program_logic.language.html#8e77600c4e33bc8bd5940639baa9b639"><span class="id" title="variable">Λ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#inj"><span class="id" title="definition">inj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a>); <span class="id" title="tactic">rewrite</span> -!<a class="idref" href="clutch.program_logic.language.html#to_of_val"><span class="id" title="lemma">to_of_val</span></a> <span class="id" title="var">Hv</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="not_not_stuck" class="idref" href="#not_not_stuck"><span class="id" title="lemma">not_not_stuck</span></a> <a id="e:139" class="idref" href="#e:139"><span class="id" title="binder">e</span></a> <a id="8e78b00a890ae7b98d81e3dd364b7c0d" class="idref" href="#8e78b00a890ae7b98d81e3dd364b7c0d"><span class="id" title="binder">σ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a><a class="idref" href="clutch.program_logic.language.html#not_stuck"><span class="id" title="definition">not_stuck</span></a> <a class="idref" href="clutch.program_logic.language.html#e:139"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#8e78b00a890ae7b98d81e3dd364b7c0d"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="clutch.program_logic.language.html#stuck"><span class="id" title="definition">stuck</span></a> <a class="idref" href="clutch.program_logic.language.html#e:139"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#8e78b00a890ae7b98d81e3dd364b7c0d"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.program_logic.language.html#stuck"><span class="id" title="definition">stuck</span></a> /<a class="idref" href="clutch.program_logic.language.html#not_stuck"><span class="id" title="definition">not_stuck</span></a> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#not_eq_None_Some"><span class="id" title="lemma">not_eq_None_Some</span></a> -<a class="idref" href="clutch.program_logic.language.html#not_reducible"><span class="id" title="lemma">not_reducible</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)); <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="val_stuck_dzero" class="idref" href="#val_stuck_dzero"><span class="id" title="lemma">val_stuck_dzero</span></a> <a id="e:141" class="idref" href="#e:141"><span class="id" title="binder">e</span></a> <a id="41325de9c67206b4665388c230d10cb4" class="idref" href="#41325de9c67206b4665388c230d10cb4"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#e:141"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e:141"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#41325de9c67206b4665388c230d10cb4"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt;ρ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <span class="id" title="var">e</span> σ ρ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[?%<a class="idref" href="clutch.program_logic.language.html#val_stuck"><span class="id" title="lemma">val_stuck</span></a> | -&gt;%<a class="idref" href="clutch.prob.distribution.html#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a>]; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="irreducible_dzero" class="idref" href="#irreducible_dzero"><span class="id" title="lemma">irreducible_dzero</span></a> <a id="e:143" class="idref" href="#e:143"><span class="id" title="binder">e</span></a> <a id="dce4d2719dad1ca6a682fd944ba4e879" class="idref" href="#dce4d2719dad1ca6a682fd944ba4e879"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#irreducible"><span class="id" title="definition">irreducible</span></a> <a class="idref" href="clutch.program_logic.language.html#e:143"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#dce4d2719dad1ca6a682fd944ba4e879"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e:143"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#dce4d2719dad1ca6a682fd944ba4e879"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hirr</span>%<a class="idref" href="clutch.program_logic.language.html#not_reducible"><span class="id" title="lemma">not_reducible</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dzero_ext"><span class="id" title="lemma">dzero_ext</span></a>=&gt; ρ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Req_dec"><span class="id" title="lemma">Req_dec</span></a> (<a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <span class="id" title="var">e</span> σ ρ)0); [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hirr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> ρ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_le_1"><span class="id" title="lemma">pmf_le_1</span></a> (<a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <span class="id" title="var">e</span> σ) ρ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> (<a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <span class="id" title="var">e</span> σ) ρ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="strongly_atomic_atomic" class="idref" href="#strongly_atomic_atomic"><span class="id" title="lemma">strongly_atomic_atomic</span></a> <a id="e:145" class="idref" href="#e:145"><span class="id" title="binder">e</span></a> <a id="a:146" class="idref" href="#a:146"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#Atomic"><span class="id" title="class">Atomic</span></a> <a class="idref" href="clutch.program_logic.language.html#StronglyAtomic"><span class="id" title="constructor">StronglyAtomic</span></a> <a class="idref" href="clutch.program_logic.language.html#e:145"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#Atomic"><span class="id" title="class">Atomic</span></a> <a class="idref" href="clutch.program_logic.language.html#a:146"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.program_logic.language.html#e:145"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="clutch.program_logic.language.html#Atomic"><span class="id" title="class">Atomic</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="clutch.program_logic.language.html#val_irreducible"><span class="id" title="lemma">val_irreducible</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fill_step" class="idref" href="#fill_step"><span class="id" title="lemma">fill_step</span></a> <a id="e1:147" class="idref" href="#e1:147"><span class="id" title="binder">e1</span></a> <a id="a5c4635200a80d6e56c44634870f846a" class="idref" href="#a5c4635200a80d6e56c44634870f846a"><span class="id" title="binder">σ1</span></a> <a id="e2:149" class="idref" href="#e2:149"><span class="id" title="binder">e2</span></a> <a id="43910b381aef638162f6edff36fb7981" class="idref" href="#43910b381aef638162f6edff36fb7981"><span class="id" title="binder">σ2</span></a> `{<a id="LanguageCtx0:152" class="idref" href="#LanguageCtx0:152"><span class="id" title="binder">!</span></a><a id="LanguageCtx0:152" class="idref" href="#LanguageCtx0:152"><span class="id" title="binder">LanguageCtx</span></a> <a id="LanguageCtx0:152" class="idref" href="#LanguageCtx0:152"><span class="id" title="binder">K</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e1:147"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.program_logic.language.html#a5c4635200a80d6e56c44634870f846a"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.program_logic.language.html#e2:149"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#43910b381aef638162f6edff36fb7981"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> (<a class="idref" href="clutch.program_logic.language.html#K:151"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e1:147"><span class="id" title="variable">e1</span></a>) <a class="idref" href="clutch.program_logic.language.html#a5c4635200a80d6e56c44634870f846a"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.program_logic.language.html#K:151"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e2:149"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#43910b381aef638162f6edff36fb7981"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.program_logic.language.html#fill_dmap"><span class="id" title="method">fill_dmap</span></a>; [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.program_logic.language.html#val_stuck"><span class="id" title="lemma">val_stuck</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dbind_pos"><span class="id" title="lemma">dbind_pos</span></a>. <span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">split</span>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> //. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fill_step_inv" class="idref" href="#fill_step_inv"><span class="id" title="lemma">fill_step_inv</span></a> <a id="e1':153" class="idref" href="#e1':153"><span class="id" title="binder">e1'</span></a> <a id="530aa564d35a90b02cb2d5896924d67e" class="idref" href="#530aa564d35a90b02cb2d5896924d67e"><span class="id" title="binder">σ1</span></a> <a id="e2:155" class="idref" href="#e2:155"><span class="id" title="binder">e2</span></a> <a id="7a102dc7880e2c5119067a1edab8563c" class="idref" href="#7a102dc7880e2c5119067a1edab8563c"><span class="id" title="binder">σ2</span></a> `{<a id="LanguageCtx0:158" class="idref" href="#LanguageCtx0:158"><span class="id" title="binder">!</span></a><a id="LanguageCtx0:158" class="idref" href="#LanguageCtx0:158"><span class="id" title="binder">LanguageCtx</span></a> <a id="LanguageCtx0:158" class="idref" href="#LanguageCtx0:158"><span class="id" title="binder">K</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#e1':153"><span class="id" title="variable">e1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> (<a class="idref" href="clutch.program_logic.language.html#K:157"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e1':153"><span class="id" title="variable">e1'</span></a>) <a class="idref" href="clutch.program_logic.language.html#530aa564d35a90b02cb2d5896924d67e"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.program_logic.language.html#e2:155"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#7a102dc7880e2c5119067a1edab8563c"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="e2':159" class="idref" href="#e2':159"><span class="id" title="binder">e2'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#e2:155"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.language.html#K:157"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e2':159"><span class="id" title="variable">e2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e1':153"><span class="id" title="variable">e1'</span></a> <a class="idref" href="clutch.program_logic.language.html#530aa564d35a90b02cb2d5896924d67e"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.program_logic.language.html#e2':159"><span class="id" title="variable">e2'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#7a102dc7880e2c5119067a1edab8563c"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hv</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.program_logic.language.html#fill_dmap"><span class="id" title="method">fill_dmap</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ([<span class="id" title="var">e1</span> σ1'] &amp; [=]%<a class="idref" href="clutch.prob.distribution.html#dret_pos"><span class="id" title="lemma">dret_pos</span></a> &amp; <span class="id" title="var">Hstep</span>)%<a class="idref" href="clutch.prob.distribution.html#dbind_pos"><span class="id" title="lemma">dbind_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fill_step_prob" class="idref" href="#fill_step_prob"><span class="id" title="lemma">fill_step_prob</span></a> <a id="e1:160" class="idref" href="#e1:160"><span class="id" title="binder">e1</span></a> <a id="2af78b6a5f115ceca1bdbdd527e3c0aa" class="idref" href="#2af78b6a5f115ceca1bdbdd527e3c0aa"><span class="id" title="binder">σ1</span></a> <a id="e2:162" class="idref" href="#e2:162"><span class="id" title="binder">e2</span></a> <a id="852206b7ffa96cf0038a99d5dc983629" class="idref" href="#852206b7ffa96cf0038a99d5dc983629"><span class="id" title="binder">σ2</span></a> `{<a id="LanguageCtx0:165" class="idref" href="#LanguageCtx0:165"><span class="id" title="binder">!</span></a><a id="LanguageCtx0:165" class="idref" href="#LanguageCtx0:165"><span class="id" title="binder">LanguageCtx</span></a> <a id="LanguageCtx0:165" class="idref" href="#LanguageCtx0:165"><span class="id" title="binder">K</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#e1:160"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e1:160"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.program_logic.language.html#2af78b6a5f115ceca1bdbdd527e3c0aa"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.program_logic.language.html#e2:162"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#852206b7ffa96cf0038a99d5dc983629"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> (<a class="idref" href="clutch.program_logic.language.html#K:164"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e1:160"><span class="id" title="variable">e1</span></a>) <a class="idref" href="clutch.program_logic.language.html#2af78b6a5f115ceca1bdbdd527e3c0aa"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.program_logic.language.html#K:164"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e2:162"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#852206b7ffa96cf0038a99d5dc983629"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hv</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.program_logic.language.html#fill_dmap"><span class="id" title="method">fill_dmap</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> (<a class="idref" href="clutch.prob.distribution.html#dmap_elem_eq"><span class="id" title="lemma">dmap_elem_eq</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> σ2<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:177" class="idref" href="#pat:177"><span class="id" title="binder">(</span></a><a id="pat:177" class="idref" href="#pat:177"><span class="id" title="binder">e0</span></a><a id="pat:177" class="idref" href="#pat:177"><span class="id" title="binder">,</span></a> <a id="pat:177" class="idref" href="#pat:177"><span class="id" title="binder">σ0)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">K</span> <a class="idref" href="clutch.program_logic.language.html#e0:167"><span class="id" title="variable">e0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#50eff836110c0a96396cc2303fb8bfb7"><span class="id" title="variable">σ0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reducible_fill" class="idref" href="#reducible_fill"><span class="id" title="lemma">reducible_fill</span></a> `{<a id="H:179" class="idref" href="#H:179"><span class="id" title="binder">!@</span></a><a id="H:179" class="idref" href="#H:179"><span class="id" title="binder">LanguageCtx</span></a> <a id="H:179" class="idref" href="#H:179"><span class="id" title="binder">Λ</span></a> <a id="H:179" class="idref" href="#H:179"><span class="id" title="binder">K</span></a>} <a id="e:180" class="idref" href="#e:180"><span class="id" title="binder">e</span></a> <a id="acfbeb59d2ec9c35a8ed06d7f69cce72" class="idref" href="#acfbeb59d2ec9c35a8ed06d7f69cce72"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="clutch.program_logic.language.html#e:180"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#acfbeb59d2ec9c35a8ed06d7f69cce72"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a> (<a class="idref" href="clutch.program_logic.language.html#K:178"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e:180"><span class="id" title="variable">e</span></a>) <a class="idref" href="clutch.program_logic.language.html#acfbeb59d2ec9c35a8ed06d7f69cce72"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="clutch.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">intros</span> [[] ?]. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.program_logic.language.html#fill_step"><span class="id" title="lemma">fill_step</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reducible_fill_inv" class="idref" href="#reducible_fill_inv"><span class="id" title="lemma">reducible_fill_inv</span></a> `{<a id="H:183" class="idref" href="#H:183"><span class="id" title="binder">!@</span></a><a id="H:183" class="idref" href="#H:183"><span class="id" title="binder">LanguageCtx</span></a> <a id="H:183" class="idref" href="#H:183"><span class="id" title="binder">Λ</span></a> <a id="H:183" class="idref" href="#H:183"><span class="id" title="binder">K</span></a>} <a id="e:184" class="idref" href="#e:184"><span class="id" title="binder">e</span></a> <a id="bc57062bdd262b7e2510392618d120fc" class="idref" href="#bc57062bdd262b7e2510392618d120fc"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#e:184"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a> (<a class="idref" href="clutch.program_logic.language.html#K:182"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e:184"><span class="id" title="variable">e</span></a>) <a class="idref" href="clutch.program_logic.language.html#bc57062bdd262b7e2510392618d120fc"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="clutch.program_logic.language.html#e:184"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#bc57062bdd262b7e2510392618d120fc"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? [[<span class="id" title="var">e1</span> σ1] <span class="id" title="var">Hstep</span>]; <span class="id" title="tactic">unfold</span> <a class="idref" href="clutch.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.program_logic.language.html#fill_dmap"><span class="id" title="method">fill_dmap</span></a> // <span class="id" title="tactic">in</span> <span class="id" title="var">Hstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dmap_pos"><span class="id" title="lemma">dmap_pos</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hstep</span> <span class="id" title="keyword">as</span> ([<span class="id" title="var">e1'</span> σ2] &amp; ? &amp; <span class="id" title="var">Hstep</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="state_step_reducible" class="idref" href="#state_step_reducible"><span class="id" title="lemma">state_step_reducible</span></a> <a id="e:186" class="idref" href="#e:186"><span class="id" title="binder">e</span></a> <a id="870014fd505de8e887393136f175e632" class="idref" href="#870014fd505de8e887393136f175e632"><span class="id" title="binder">σ</span></a> <a id="e566203e2b78ce41969c02c990121c7f" class="idref" href="#e566203e2b78ce41969c02c990121c7f"><span class="id" title="binder">σ'</span></a> <a id="6b02257b3d9a23ab3fccaab4dea31318" class="idref" href="#6b02257b3d9a23ab3fccaab4dea31318"><span class="id" title="binder">α</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#state_step"><span class="id" title="projection">state_step</span></a> <a class="idref" href="clutch.program_logic.language.html#870014fd505de8e887393136f175e632"><span class="id" title="variable">σ</span></a> <a class="idref" href="clutch.program_logic.language.html#6b02257b3d9a23ab3fccaab4dea31318"><span class="id" title="variable">α</span></a> <a class="idref" href="clutch.program_logic.language.html#e566203e2b78ce41969c02c990121c7f"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="clutch.program_logic.language.html#e:186"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#870014fd505de8e887393136f175e632"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="clutch.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="clutch.program_logic.language.html#e:186"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#e566203e2b78ce41969c02c990121c7f"><span class="id" title="variable">σ'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.program_logic.language.html#state_step_not_stuck"><span class="id" title="lemma">state_step_not_stuck</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="irreducible_fill" class="idref" href="#irreducible_fill"><span class="id" title="lemma">irreducible_fill</span></a> `{<a id="H:191" class="idref" href="#H:191"><span class="id" title="binder">!@</span></a><a id="H:191" class="idref" href="#H:191"><span class="id" title="binder">LanguageCtx</span></a> <a id="H:191" class="idref" href="#H:191"><span class="id" title="binder">Λ</span></a> <a id="H:191" class="idref" href="#H:191"><span class="id" title="binder">K</span></a>} <a id="e:192" class="idref" href="#e:192"><span class="id" title="binder">e</span></a> <a id="b565055c2f596209badf31bf41f2f080" class="idref" href="#b565055c2f596209badf31bf41f2f080"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#e:192"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#irreducible"><span class="id" title="definition">irreducible</span></a> <a class="idref" href="clutch.program_logic.language.html#e:192"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#b565055c2f596209badf31bf41f2f080"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#irreducible"><span class="id" title="definition">irreducible</span></a> (<a class="idref" href="clutch.program_logic.language.html#K:190"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e:192"><span class="id" title="variable">e</span></a>) <a class="idref" href="clutch.program_logic.language.html#b565055c2f596209badf31bf41f2f080"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> -!<a class="idref" href="clutch.program_logic.language.html#not_reducible"><span class="id" title="lemma">not_reducible</span></a>. <span class="id" title="var">naive_solver</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="clutch.program_logic.language.html#reducible_fill_inv"><span class="id" title="lemma">reducible_fill_inv</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="irreducible_fill_inv" class="idref" href="#irreducible_fill_inv"><span class="id" title="lemma">irreducible_fill_inv</span></a> `{<a id="H:195" class="idref" href="#H:195"><span class="id" title="binder">!@</span></a><a id="H:195" class="idref" href="#H:195"><span class="id" title="binder">LanguageCtx</span></a> <a id="H:195" class="idref" href="#H:195"><span class="id" title="binder">Λ</span></a> <a id="H:195" class="idref" href="#H:195"><span class="id" title="binder">K</span></a>} <a id="e:196" class="idref" href="#e:196"><span class="id" title="binder">e</span></a> <a id="8a8d663fd78056367dfc06494f095c84" class="idref" href="#8a8d663fd78056367dfc06494f095c84"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#irreducible"><span class="id" title="definition">irreducible</span></a> (<a class="idref" href="clutch.program_logic.language.html#K:194"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e:196"><span class="id" title="variable">e</span></a>) <a class="idref" href="clutch.program_logic.language.html#8a8d663fd78056367dfc06494f095c84"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#irreducible"><span class="id" title="definition">irreducible</span></a> <a class="idref" href="clutch.program_logic.language.html#e:196"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#8a8d663fd78056367dfc06494f095c84"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> -!<a class="idref" href="clutch.program_logic.language.html#not_reducible"><span class="id" title="lemma">not_reducible</span></a>. <span class="id" title="var">naive_solver</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="clutch.program_logic.language.html#reducible_fill"><span class="id" title="lemma">reducible_fill</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="not_stuck_fill_inv" class="idref" href="#not_stuck_fill_inv"><span class="id" title="lemma">not_stuck_fill_inv</span></a> <a id="K:198" class="idref" href="#K:198"><span class="id" title="binder">K</span></a> `{<a id="H:199" class="idref" href="#H:199"><span class="id" title="binder">!@</span></a><a id="H:199" class="idref" href="#H:199"><span class="id" title="binder">LanguageCtx</span></a> <a id="H:199" class="idref" href="#H:199"><span class="id" title="binder">Λ</span></a> <a id="H:199" class="idref" href="#H:199"><span class="id" title="binder">K</span></a>} <a id="e:200" class="idref" href="#e:200"><span class="id" title="binder">e</span></a> <a id="114311b711f39d5fc7b21cd1efa50f3e" class="idref" href="#114311b711f39d5fc7b21cd1efa50f3e"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#not_stuck"><span class="id" title="definition">not_stuck</span></a> (<a class="idref" href="clutch.program_logic.language.html#K:198"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e:200"><span class="id" title="variable">e</span></a>) <a class="idref" href="clutch.program_logic.language.html#114311b711f39d5fc7b21cd1efa50f3e"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#not_stuck"><span class="id" title="definition">not_stuck</span></a> <a class="idref" href="clutch.program_logic.language.html#e:200"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#114311b711f39d5fc7b21cd1efa50f3e"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.program_logic.language.html#not_stuck"><span class="id" title="definition">not_stuck</span></a> -!<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#not_eq_None_Some"><span class="id" title="lemma">not_eq_None_Some</span></a>. <span class="id" title="tactic">intros</span> [?|?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="clutch.program_logic.language.html#fill_not_val"><span class="id" title="method">fill_not_val</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="clutch.program_logic.language.html#reducible_fill_inv"><span class="id" title="lemma">reducible_fill_inv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="stuck_fill" class="idref" href="#stuck_fill"><span class="id" title="lemma">stuck_fill</span></a> `{<a id="H:203" class="idref" href="#H:203"><span class="id" title="binder">!@</span></a><a id="H:203" class="idref" href="#H:203"><span class="id" title="binder">LanguageCtx</span></a> <a id="H:203" class="idref" href="#H:203"><span class="id" title="binder">Λ</span></a> <a id="H:203" class="idref" href="#H:203"><span class="id" title="binder">K</span></a>} <a id="e:204" class="idref" href="#e:204"><span class="id" title="binder">e</span></a> <a id="0b61b54e044009e37fbbedc4d00cfb3b" class="idref" href="#0b61b54e044009e37fbbedc4d00cfb3b"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#stuck"><span class="id" title="definition">stuck</span></a> <a class="idref" href="clutch.program_logic.language.html#e:204"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#0b61b54e044009e37fbbedc4d00cfb3b"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#stuck"><span class="id" title="definition">stuck</span></a> (<a class="idref" href="clutch.program_logic.language.html#K:202"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e:204"><span class="id" title="variable">e</span></a>) <a class="idref" href="clutch.program_logic.language.html#0b61b54e044009e37fbbedc4d00cfb3b"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> -!<a class="idref" href="clutch.program_logic.language.html#not_not_stuck"><span class="id" title="lemma">not_not_stuck</span></a>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="clutch.program_logic.language.html#not_stuck_fill_inv"><span class="id" title="lemma">not_stuck_fill_inv</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="pure_step" class="idref" href="#pure_step"><span class="id" title="record">pure_step</span></a> (<a id="e1:206" class="idref" href="#e1:206"><span class="id" title="binder">e1</span></a> <a id="e2:207" class="idref" href="#e2:207"><span class="id" title="binder">e2</span></a> : <a class="idref" href="clutch.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="clutch.program_logic.language.html#8e77600c4e33bc8bd5940639baa9b639"><span class="id" title="variable">Λ</span></a>)  := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="pure_step_safe" class="idref" href="#pure_step_safe"><span class="id" title="projection">pure_step_safe</span></a> <a id="fd3e3695a1836d80af81c2829014c8b1" class="idref" href="#fd3e3695a1836d80af81c2829014c8b1"><span class="id" title="binder">σ1</span></a> : <a class="idref" href="clutch.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="clutch.program_logic.language.html#e1:206"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.program_logic.language.html#fd3e3695a1836d80af81c2829014c8b1"><span class="id" title="variable">σ1</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="pure_step_det" class="idref" href="#pure_step_det"><span class="id" title="projection">pure_step_det</span></a> <a id="baf97cef5a712d6b07d59b74c0225854" class="idref" href="#baf97cef5a712d6b07d59b74c0225854"><span class="id" title="binder">σ</span></a> : <a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e1:206"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.program_logic.language.html#baf97cef5a712d6b07d59b74c0225854"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.program_logic.language.html#e2:207"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#baf97cef5a712d6b07d59b74c0225854"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1;<br/>
&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="PureExec" class="idref" href="#PureExec"><span class="id" title="record">PureExec</span></a> (<a id="bba34f20cf25aef66479b20c2c650241" class="idref" href="#bba34f20cf25aef66479b20c2c650241"><span class="id" title="binder">φ</span></a> : <span class="id" title="keyword">Prop</span>) (<a id="n:214" class="idref" href="#n:214"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="e1:215" class="idref" href="#e1:215"><span class="id" title="binder">e1</span></a> <a id="e2:216" class="idref" href="#e2:216"><span class="id" title="binder">e2</span></a> : <a class="idref" href="clutch.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="clutch.program_logic.language.html#8e77600c4e33bc8bd5940639baa9b639"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="pure_exec" class="idref" href="#pure_exec"><span class="id" title="projection">pure_exec</span></a> : <a class="idref" href="clutch.program_logic.language.html#bba34f20cf25aef66479b20c2c650241"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#nsteps"><span class="id" title="inductive">relations.nsteps</span></a> <a class="idref" href="clutch.program_logic.language.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="clutch.program_logic.language.html#n:214"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.program_logic.language.html#e1:215"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.program_logic.language.html#e2:216"><span class="id" title="variable">e2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pure_step_ctx" class="idref" href="#pure_step_ctx"><span class="id" title="lemma">pure_step_ctx</span></a> <a id="K:219" class="idref" href="#K:219"><span class="id" title="binder">K</span></a> `{<a id="H:220" class="idref" href="#H:220"><span class="id" title="binder">!@</span></a><a id="H:220" class="idref" href="#H:220"><span class="id" title="binder">LanguageCtx</span></a> <a id="H:220" class="idref" href="#H:220"><span class="id" title="binder">Λ</span></a> <a id="H:220" class="idref" href="#H:220"><span class="id" title="binder">K</span></a>} <a id="e1:221" class="idref" href="#e1:221"><span class="id" title="binder">e1</span></a> <a id="e2:222" class="idref" href="#e2:222"><span class="id" title="binder">e2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e1:221"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.program_logic.language.html#e2:222"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#pure_step"><span class="id" title="record">pure_step</span></a> (<a class="idref" href="clutch.program_logic.language.html#K:219"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e1:221"><span class="id" title="variable">e1</span></a>) (<a class="idref" href="clutch.program_logic.language.html#K:219"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e2:222"><span class="id" title="variable">e2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hred</span> <span class="id" title="var">Hstep</span>]. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="clutch.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">intros</span> σ1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hred</span> σ1) <span class="id" title="keyword">as</span> [[]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.program_logic.language.html#fill_step"><span class="id" title="lemma">fill_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> σ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.program_logic.language.html#fill_step_prob"><span class="id" title="lemma">fill_step_prob</span></a> //; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> (<a class="idref" href="clutch.program_logic.language.html#reducible_not_val"><span class="id" title="lemma">reducible_not_val</span></a> <span class="id" title="var">_</span> σ).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pure_step_nsteps_ctx" class="idref" href="#pure_step_nsteps_ctx"><span class="id" title="lemma">pure_step_nsteps_ctx</span></a> <a id="K:223" class="idref" href="#K:223"><span class="id" title="binder">K</span></a> `{<a id="H:224" class="idref" href="#H:224"><span class="id" title="binder">!@</span></a><a id="H:224" class="idref" href="#H:224"><span class="id" title="binder">LanguageCtx</span></a> <a id="H:224" class="idref" href="#H:224"><span class="id" title="binder">Λ</span></a> <a id="H:224" class="idref" href="#H:224"><span class="id" title="binder">K</span></a>} <a id="n:225" class="idref" href="#n:225"><span class="id" title="binder">n</span></a> <a id="e1:226" class="idref" href="#e1:226"><span class="id" title="binder">e1</span></a> <a id="e2:227" class="idref" href="#e2:227"><span class="id" title="binder">e2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#nsteps"><span class="id" title="inductive">relations.nsteps</span></a> <a class="idref" href="clutch.program_logic.language.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="clutch.program_logic.language.html#n:225"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.program_logic.language.html#e1:226"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.program_logic.language.html#e2:227"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#nsteps"><span class="id" title="inductive">relations.nsteps</span></a> <a class="idref" href="clutch.program_logic.language.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="clutch.program_logic.language.html#n:225"><span class="id" title="variable">n</span></a> (<a class="idref" href="clutch.program_logic.language.html#K:223"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e1:226"><span class="id" title="variable">e1</span></a>) (<a class="idref" href="clutch.program_logic.language.html#K:223"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e2:227"><span class="id" title="variable">e2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#nsteps_congruence"><span class="id" title="lemma">nsteps_congruence</span></a>, <a class="idref" href="clutch.program_logic.language.html#pure_step_ctx"><span class="id" title="lemma">pure_step_ctx</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="rtc_pure_step_ctx" class="idref" href="#rtc_pure_step_ctx"><span class="id" title="lemma">rtc_pure_step_ctx</span></a> <a id="K:228" class="idref" href="#K:228"><span class="id" title="binder">K</span></a> `{<a id="H:229" class="idref" href="#H:229"><span class="id" title="binder">!@</span></a><a id="H:229" class="idref" href="#H:229"><span class="id" title="binder">LanguageCtx</span></a> <a id="H:229" class="idref" href="#H:229"><span class="id" title="binder">Λ</span></a> <a id="H:229" class="idref" href="#H:229"><span class="id" title="binder">K</span></a>} <a id="e1:230" class="idref" href="#e1:230"><span class="id" title="binder">e1</span></a> <a id="e2:231" class="idref" href="#e2:231"><span class="id" title="binder">e2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="clutch.program_logic.language.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e1:230"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.program_logic.language.html#e2:231"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="clutch.program_logic.language.html#pure_step"><span class="id" title="record">pure_step</span></a> (<a class="idref" href="clutch.program_logic.language.html#K:228"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e1:230"><span class="id" title="variable">e1</span></a>) (<a class="idref" href="clutch.program_logic.language.html#K:228"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e2:231"><span class="id" title="variable">e2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc_congruence"><span class="id" title="lemma">rtc_congruence</span></a>, <a class="idref" href="clutch.program_logic.language.html#pure_step_ctx"><span class="id" title="lemma">pure_step_ctx</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;do&nbsp;not&nbsp;make&nbsp;this&nbsp;an&nbsp;instance&nbsp;because&nbsp;it&nbsp;is&nbsp;awfully&nbsp;general.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pure_exec_ctx" class="idref" href="#pure_exec_ctx"><span class="id" title="lemma">pure_exec_ctx</span></a> <a id="K:232" class="idref" href="#K:232"><span class="id" title="binder">K</span></a> `{<a id="H:233" class="idref" href="#H:233"><span class="id" title="binder">!@</span></a><a id="H:233" class="idref" href="#H:233"><span class="id" title="binder">LanguageCtx</span></a> <a id="H:233" class="idref" href="#H:233"><span class="id" title="binder">Λ</span></a> <a id="H:233" class="idref" href="#H:233"><span class="id" title="binder">K</span></a>} <a id="edc0196fcc059268971feaec870a4177" class="idref" href="#edc0196fcc059268971feaec870a4177"><span class="id" title="binder">φ</span></a> <a id="n:235" class="idref" href="#n:235"><span class="id" title="binder">n</span></a> <a id="e1:236" class="idref" href="#e1:236"><span class="id" title="binder">e1</span></a> <a id="e2:237" class="idref" href="#e2:237"><span class="id" title="binder">e2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#PureExec"><span class="id" title="class">PureExec</span></a> <a class="idref" href="clutch.program_logic.language.html#edc0196fcc059268971feaec870a4177"><span class="id" title="variable">φ</span></a> <a class="idref" href="clutch.program_logic.language.html#n:235"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.program_logic.language.html#e1:236"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.program_logic.language.html#e2:237"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#PureExec"><span class="id" title="class">PureExec</span></a> <a class="idref" href="clutch.program_logic.language.html#edc0196fcc059268971feaec870a4177"><span class="id" title="variable">φ</span></a> <a class="idref" href="clutch.program_logic.language.html#n:235"><span class="id" title="variable">n</span></a> (<a class="idref" href="clutch.program_logic.language.html#K:232"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e1:236"><span class="id" title="variable">e1</span></a>) (<a class="idref" href="clutch.program_logic.language.html#K:232"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e2:237"><span class="id" title="variable">e2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.program_logic.language.html#PureExec"><span class="id" title="class">PureExec</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="clutch.program_logic.language.html#pure_step_nsteps_ctx"><span class="id" title="lemma">pure_step_nsteps_ctx</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;is&nbsp;a&nbsp;family&nbsp;of&nbsp;frequent&nbsp;assumptions&nbsp;for&nbsp;PureExec&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="IntoVal" class="idref" href="#IntoVal"><span class="id" title="record">IntoVal</span></a> (<a id="e:238" class="idref" href="#e:238"><span class="id" title="binder">e</span></a> : <a class="idref" href="clutch.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="clutch.program_logic.language.html#8e77600c4e33bc8bd5940639baa9b639"><span class="id" title="variable">Λ</span></a>) (<a id="v:239" class="idref" href="#v:239"><span class="id" title="binder">v</span></a> : <a class="idref" href="clutch.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="clutch.program_logic.language.html#8e77600c4e33bc8bd5940639baa9b639"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="into_val" class="idref" href="#into_val"><span class="id" title="projection">into_val</span></a> : <a class="idref" href="clutch.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="clutch.program_logic.language.html#v:239"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.language.html#e:238"><span class="id" title="variable">e</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="AsVal" class="idref" href="#AsVal"><span class="id" title="record">AsVal</span></a> (<a id="e:242" class="idref" href="#e:242"><span class="id" title="binder">e</span></a> : <a class="idref" href="clutch.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="clutch.program_logic.language.html#8e77600c4e33bc8bd5940639baa9b639"><span class="id" title="variable">Λ</span></a>) := <a id="as_val" class="idref" href="#as_val"><span class="id" title="projection">as_val</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="v:244" class="idref" href="#v:244"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="clutch.program_logic.language.html#v:244"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.language.html#e:242"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;There&nbsp;is&nbsp;no&nbsp;instance&nbsp;<span class="inlinecode"><span class="id" title="var">IntoVal</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">AsVal</span></span>&nbsp;as&nbsp;often&nbsp;one&nbsp;can&nbsp;solve&nbsp;<span class="inlinecode"><span class="id" title="var">AsVal</span></span>&nbsp;more&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;efficiently&nbsp;since&nbsp;no&nbsp;witness&nbsp;has&nbsp;to&nbsp;be&nbsp;computed.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="as_vals_of_val" class="idref" href="#as_vals_of_val"><span class="id" title="instance">as_vals_of_val</span></a> <a id="vs:246" class="idref" href="#vs:246"><span class="id" title="binder">vs</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCForall"><span class="id" title="class">TCForall</span></a> <a class="idref" href="clutch.program_logic.language.html#AsVal"><span class="id" title="class">AsVal</span></a> (<a class="idref" href="clutch.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="clutch.program_logic.language.html#vs:246"><span class="id" title="variable">vs</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#TCForall_Forall"><span class="id" title="lemma">TCForall_Forall</span></a>, <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#Forall_fmap"><span class="id" title="lemma">Forall_fmap</span></a>, <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#Forall_true"><span class="id" title="lemma">Forall_true</span></a>=&gt; <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.program_logic.language.html#AsVal"><span class="id" title="class">AsVal</span></a> /=; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="as_val_is_Some" class="idref" href="#as_val_is_Some"><span class="id" title="lemma">as_val_is_Some</span></a> <a id="e:247" class="idref" href="#e:247"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="v:248" class="idref" href="#v:248"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="clutch.program_logic.language.html#v:248"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.language.html#e:247"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#e:247"><span class="id" title="variable">e</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">v</span> &lt;-]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.program_logic.language.html#to_of_val"><span class="id" title="lemma">to_of_val</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fill_is_val" class="idref" href="#fill_is_val"><span class="id" title="lemma">fill_is_val</span></a> <a id="e:249" class="idref" href="#e:249"><span class="id" title="binder">e</span></a> <a id="K:250" class="idref" href="#K:250"><span class="id" title="binder">K</span></a> `{<a id="H:251" class="idref" href="#H:251"><span class="id" title="binder">@</span></a><a id="H:251" class="idref" href="#H:251"><span class="id" title="binder">LanguageCtx</span></a> <a id="H:251" class="idref" href="#H:251"><span class="id" title="binder">Λ</span></a> <a id="H:251" class="idref" href="#H:251"><span class="id" title="binder">K</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> (<a class="idref" href="clutch.program_logic.language.html#K:250"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.program_logic.language.html#e:249"><span class="id" title="variable">e</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#e:249"><span class="id" title="variable">e</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> -!<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#not_eq_None_Some"><span class="id" title="lemma">not_eq_None_Some</span></a>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="clutch.program_logic.language.html#fill_not_val"><span class="id" title="method">fill_not_val</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="prim_step_not_stuck" class="idref" href="#prim_step_not_stuck"><span class="id" title="lemma">prim_step_not_stuck</span></a> <a id="e:252" class="idref" href="#e:252"><span class="id" title="binder">e</span></a> <a id="fc9d52a9f5e62ee670869b76f35c8cd9" class="idref" href="#fc9d52a9f5e62ee670869b76f35c8cd9"><span class="id" title="binder">σ</span></a> <a id="e':254" class="idref" href="#e':254"><span class="id" title="binder">e'</span></a> <a id="ef12d1aefa0ded4760fca79f6fd76dc2" class="idref" href="#ef12d1aefa0ded4760fca79f6fd76dc2"><span class="id" title="binder">σ'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <a class="idref" href="clutch.program_logic.language.html#e:252"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#fc9d52a9f5e62ee670869b76f35c8cd9"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.program_logic.language.html#e':254"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.program_logic.language.html#ef12d1aefa0ded4760fca79f6fd76dc2"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#not_stuck"><span class="id" title="definition">not_stuck</span></a> <a class="idref" href="clutch.program_logic.language.html#e:252"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.program_logic.language.html#fc9d52a9f5e62ee670869b76f35c8cd9"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.program_logic.language.html#not_stuck"><span class="id" title="definition">not_stuck</span></a> /<a class="idref" href="clutch.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a>. <span class="id" title="tactic">eauto</span> 10. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="rtc_pure_step_val" class="idref" href="#rtc_pure_step_val"><span class="id" title="lemma">rtc_pure_step_val</span></a> `{<a id="Inhabited0:256" class="idref" href="#Inhabited0:256"><span class="id" title="binder">!</span></a><a id="Inhabited0:256" class="idref" href="#Inhabited0:256"><span class="id" title="binder">Inhabited</span></a> <a id="Inhabited0:256" class="idref" href="#Inhabited0:256"><span class="id" title="binder">(</span></a><a id="Inhabited0:256" class="idref" href="#Inhabited0:256"><span class="id" title="binder">state</span></a> <a id="Inhabited0:256" class="idref" href="#Inhabited0:256"><span class="id" title="binder">Λ</span></a><a id="Inhabited0:256" class="idref" href="#Inhabited0:256"><span class="id" title="binder">)</span></a>} <a id="v:257" class="idref" href="#v:257"><span class="id" title="binder">v</span></a> <a id="e:258" class="idref" href="#e:258"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="clutch.program_logic.language.html#pure_step"><span class="id" title="record">pure_step</span></a> (<a class="idref" href="clutch.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="clutch.program_logic.language.html#v:257"><span class="id" title="variable">v</span></a>) <a class="idref" href="clutch.program_logic.language.html#e:258"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="clutch.program_logic.language.html#e:258"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="clutch.program_logic.language.html#v:257"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="clutch.program_logic.language.html#to_of_val"><span class="id" title="lemma">to_of_val</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc_nf"><span class="id" title="lemma">rtc_nf</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">e'</span> [<span class="id" title="var">Hstep</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hstep</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#inhabitant"><span class="id" title="method">inhabitant</span></a>) <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hval</span>%<a class="idref" href="clutch.program_logic.language.html#val_stuck"><span class="id" title="lemma">val_stuck</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.program_logic.language.html#to_of_val"><span class="id" title="lemma">to_of_val</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hval</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.program_logic.language.html#language"><span class="id" title="section">language</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global</span> <span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="clutch.program_logic.language.html#PureExec"><span class="id" title="class">PureExec</span></a> + - - ! - : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="clutch.program_logic.language.html#step_atomic"><span class="id" title="constructor">step_atomic</span></a> {<span class="id" title="var">Λ</span> ρ1 ρ2}.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="clutch.program_logic.language.html#step_state"><span class="id" title="constructor">step_state</span></a> {<span class="id" title="var">Λ</span> ρ1 ρ2}.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
