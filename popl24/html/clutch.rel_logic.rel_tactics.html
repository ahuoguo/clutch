<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">clutch.rel_logic.rel_tactics</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.base_logic.lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.invariants.html#"><span class="id" title="library">invariants</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#"><span class="id" title="library">coq_tactics</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#"><span class="id" title="library">ltac_tactics</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.reduction.html#"><span class="id" title="library">reduction</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.prelude</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="clutch.prelude.stdpp_ext.html#"><span class="id" title="library">stdpp_ext</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.program_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="clutch.program_logic.language.html#"><span class="id" title="library">language</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#"><span class="id" title="library">ectxi_language</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.prob_lang</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="clutch.prob_lang.locations.html#"><span class="id" title="library">locations</span></a> <a class="idref" href="clutch.prob_lang.class_instances.html#"><span class="id" title="library">class_instances</span></a> <a class="idref" href="clutch.prob_lang.notation.html#"><span class="id" title="library">notation</span></a> <a class="idref" href="clutch.prob_lang.tactics.html#"><span class="id" title="library">tactics</span></a> <a class="idref" href="clutch.prob_lang.lang.html#"><span class="id" title="library">lang</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.rel_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="clutch.rel_logic.primitive_laws.html#"><span class="id" title="library">primitive_laws</span></a> <a class="idref" href="clutch.rel_logic.model.html#"><span class="id" title="library">model</span></a> <a class="idref" href="clutch.rel_logic.rel_rules.html#"><span class="id" title="library">rel_rules</span></a> <a class="idref" href="clutch.rel_logic.proofmode.html#"><span class="id" title="library">proofmode</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.rel_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="clutch.rel_logic.spec_tactics.html#"><span class="id" title="library">spec_tactics</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab81"></a><h1 class="section">General-purpose tactics</h1>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="tac_rel_bind_l" class="idref" href="#tac_rel_bind_l"><span class="id" title="lemma">tac_rel_bind_l</span></a> `{<a id="clutchRGS0:2" class="idref" href="#clutchRGS0:2"><span class="id" title="binder">!</span></a><a id="clutchRGS0:2" class="idref" href="#clutchRGS0:2"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:2" class="idref" href="#clutchRGS0:2"><span class="id" title="binder">Σ</span></a>} <a id="e':3" class="idref" href="#e':3"><span class="id" title="binder">e'</span></a> <a id="K:4" class="idref" href="#K:4"><span class="id" title="binder">K</span></a> <a id="696a46856f8ac31fc0826cf7d9c9038d" class="idref" href="#696a46856f8ac31fc0826cf7d9c9038d"><span class="id" title="binder">ℶ</span></a> <a id="E:6" class="idref" href="#E:6"><span class="id" title="binder">E</span></a> <a id="e:7" class="idref" href="#e:7"><span class="id" title="binder">e</span></a> <a id="t:8" class="idref" href="#t:8"><span class="id" title="binder">t</span></a> <a id="A:9" class="idref" href="#A:9"><span class="id" title="binder">A</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#e:7"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:4"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e':3"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#696a46856f8ac31fc0826cf7d9c9038d"><span class="id" title="variable">ℶ</span></a> (<a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">REL</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:4"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e':3"><span class="id" title="variable">e'</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">≾</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:8"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:6"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:9"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#696a46856f8ac31fc0826cf7d9c9038d"><span class="id" title="variable">ℶ</span></a> (<a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">REL</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e:7"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">≾</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:8"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:6"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:9"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="tac_rel_bind_r" class="idref" href="#tac_rel_bind_r"><span class="id" title="lemma">tac_rel_bind_r</span></a> `{<a id="clutchRGS0:11" class="idref" href="#clutchRGS0:11"><span class="id" title="binder">!</span></a><a id="clutchRGS0:11" class="idref" href="#clutchRGS0:11"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:11" class="idref" href="#clutchRGS0:11"><span class="id" title="binder">Σ</span></a>} (<a id="t':12" class="idref" href="#t':12"><span class="id" title="binder">t'</span></a> : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.expr"><span class="id" title="inductive">expr</span></a>) <a id="K:13" class="idref" href="#K:13"><span class="id" title="binder">K</span></a> <a id="7ea7d3a2f311faaab934ecdba0d88c89" class="idref" href="#7ea7d3a2f311faaab934ecdba0d88c89"><span class="id" title="binder">ℶ</span></a> <a id="E:15" class="idref" href="#E:15"><span class="id" title="binder">E</span></a> <a id="e:16" class="idref" href="#e:16"><span class="id" title="binder">e</span></a> <a id="t:17" class="idref" href="#t:17"><span class="id" title="binder">t</span></a> <a id="A:18" class="idref" href="#A:18"><span class="id" title="binder">A</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#t:17"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:13"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t':12"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#7ea7d3a2f311faaab934ecdba0d88c89"><span class="id" title="variable">ℶ</span></a> (<a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">REL</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e:16"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">≾</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:13"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t':12"><span class="id" title="variable">t'</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:15"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:18"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#7ea7d3a2f311faaab934ecdba0d88c89"><span class="id" title="variable">ℶ</span></a> (<a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">REL</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e:16"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">≾</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:17"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:15"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:18"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_bind_l" <span class="id" title="var">open_constr</span>(<span class="id" title="var">efoc</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">iStartProof</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.rel_logic.rel_tactics.html#tac_rel_bind_l"><span class="id" title="lemma">tac_rel_bind_l</span></a> <span class="id" title="var">efoc</span>);<br/>
&nbsp;&nbsp;[ <span class="id" title="var">tp_bind_helper</span><br/>
&nbsp;&nbsp;| <span class="comment">(*&nbsp;new&nbsp;goal&nbsp;*)</span><br/>
&nbsp;&nbsp;].<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_bind_r" <span class="id" title="var">open_constr</span>(<span class="id" title="var">efoc</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">iStartProof</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.rel_logic.rel_tactics.html#tac_rel_bind_r"><span class="id" title="lemma">tac_rel_bind_r</span></a> <span class="id" title="var">efoc</span>);<br/>
&nbsp;&nbsp;[ <span class="id" title="var">tp_bind_helper</span><br/>
&nbsp;&nbsp;| <span class="comment">(*&nbsp;new&nbsp;goal&nbsp;*)</span><br/>
&nbsp;&nbsp;].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rel_bind_ctx_l</span> <span class="id" title="var">K</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.rel_logic.rel_tactics.html#tac_rel_bind_l"><span class="id" title="lemma">tac_rel_bind_l</span></a> <span class="id" title="var">_</span> <span class="id" title="var">K</span>);<br/>
&nbsp;&nbsp;[<span class="id" title="var">pm_reflexivity</span> || <span class="id" title="var">tp_bind_helper</span><br/>
&nbsp;&nbsp;|].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rel_bind_ctx_r</span> <span class="id" title="var">K</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.rel_logic.rel_tactics.html#tac_rel_bind_r"><span class="id" title="lemma">tac_rel_bind_r</span></a> <span class="id" title="var">_</span> <span class="id" title="var">K</span>);<br/>
&nbsp;&nbsp;[<span class="id" title="var">pm_reflexivity</span> || <span class="id" title="var">tp_bind_helper</span><br/>
&nbsp;&nbsp;|].<br/>

<br/>
</div>

<div class="doc">
Similar to `tp_bind_helper`, but tries tries to solve goals for a <i>specific</i> `efoc` 
</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "tac_bind_helper" <span class="id" title="var">open_constr</span>(<span class="id" title="var">efoc</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> ?<span class="id" title="var">K</span> ?<span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K'</span> <span class="id" title="var">e'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">e'</span> <span class="id" title="var">efoc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">K''</span> := <span class="id" title="tactic">eval</span> <span class="id" title="var">cbn</span>[<span class="id" title="var">app</span>] <span class="id" title="tactic">in</span> (<span class="id" title="var">K'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">K</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <span class="id" title="var">K''</span> <span class="id" title="var">e'</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="clutch.program_logic.ectxi_language.html#fill_app"><span class="id" title="lemma">fill_app</span></a>))<br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K'</span> <span class="id" title="var">e'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">e'</span> <span class="id" title="var">efoc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">e</span> <span class="id" title="keyword">with</span> (<a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <span class="id" title="var">K'</span> <span class="id" title="var">e'</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="clutch.program_logic.ectxi_language.html#fill_app"><span class="id" title="lemma">fill_app</span></a>))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
</div>

<div class="doc">
Reshape the expression on the LHS/RHS untill you can apply `tac` to it 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rel_reshape_cont_l</span> <span class="id" title="var">tac</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> ?<span class="id" title="var">K</span> ?<span class="id" title="var">e</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K'</span> <span class="id" title="var">e'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tac</span> (<span class="id" title="var">K'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e'</span>)<br/>
&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">e</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K'</span> <span class="id" title="var">e'</span> =&gt; <span class="id" title="var">tac</span> <span class="id" title="var">K'</span> <span class="id" title="var">e'</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rel_reshape_cont_r</span> <span class="id" title="var">tac</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> ?<span class="id" title="var">K</span> ?<span class="id" title="var">e</span>) <span class="id" title="var">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K'</span> <span class="id" title="var">e'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tac</span> (<span class="id" title="var">K'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e'</span>)<br/>
&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ?<span class="id" title="var">e</span> <span class="id" title="var">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K'</span> <span class="id" title="var">e'</span> =&gt; <span class="id" title="var">tac</span> <span class="id" title="var">K'</span> <span class="id" title="var">e'</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
1. prettify ▷s caused by <span class="inlinecode"><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#MaybeIntoLaterNEnvs"><span class="id" title="class">MaybeIntoLaterNEnvs</span></a></span>
    2. simplify the goal 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rel_finish</span> := <span class="id" title="var">pm_prettify</span>; <span class="id" title="var">iSimpl</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rel_values</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">iStartProof</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="clutch.rel_logic.model.html#refines_ret"><span class="id" title="lemma">refines_ret</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">iFrame</span>;<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;check&nbsp;that&nbsp;we&nbsp;have&nbsp;actually&nbsp;succeeded&nbsp;in&nbsp;solving&nbsp;the&nbsp;previous&nbsp;conditions,&nbsp;or&nbsp;add&nbsp;rel_pure_l/r&nbsp;beforehand&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">rel_finish</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rel_values_na</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">iStartProof</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="clutch.rel_logic.model.html#refines_ret_na"><span class="id" title="lemma">refines_ret_na</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="var">rel_finish</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_apply_l" <span class="id" title="var">open_constr</span>(<span class="id" title="var">lem</span>) :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">iPoseProofCore</span> <span class="id" title="var">lem</span> <span class="id" title="keyword">as</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rel_reshape_cont_l</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rel_bind_ctx_l</span> <span class="id" title="var">K</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApplyHyp</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id" title="keyword">lazymatch</span> <span class="id" title="var">iTypeOf</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a>?<span class="id" title="var">P</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <span class="id" title="tactic">fail</span> "rel_apply_l: Cannot apply" <span class="id" title="var">P</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>));<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">rel_finish</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_apply_r" <span class="id" title="var">open_constr</span>(<span class="id" title="var">lem</span>) :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">iPoseProofCore</span> <span class="id" title="var">lem</span> <span class="id" title="keyword">as</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rel_reshape_cont_r</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rel_bind_ctx_r</span> <span class="id" title="var">K</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApplyHyp</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id" title="keyword">lazymatch</span> <span class="id" title="var">iTypeOf</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a>?<span class="id" title="var">P</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <span class="id" title="tactic">fail</span> "rel_apply_r: Cannot apply" <span class="id" title="var">P</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>));<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">try</span> <span class="id" title="var">solve_ndisj</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">rel_finish</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_apply" <span class="id" title="var">open_constr</span>(<span class="id" title="var">lem</span>) :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">iPoseProofCore</span> <span class="id" title="var">lem</span> <span class="id" title="keyword">as</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rel_reshape_cont_l</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K_l</span> <span class="id" title="var">e_l</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rel_bind_ctx_l</span> <span class="id" title="var">K_l</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rel_reshape_cont_r</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K_r</span> <span class="id" title="var">e_r</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rel_bind_ctx_r</span> <span class="id" title="var">K_r</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApplyHyp</span> <span class="id" title="var">H</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id" title="keyword">lazymatch</span> <span class="id" title="var">iTypeOf</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a>?<span class="id" title="var">P</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <span class="id" title="tactic">fail</span> "rel_apply: Cannot apply" <span class="id" title="var">P</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>));<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">try</span> <span class="id" title="var">solve_ndisj</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">rel_finish</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab82"></a><h1 class="section">Symbolic execution</h1>

<div class="paragraph"> </div>

 Pure reductions 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="tac_rel_pure_l" class="idref" href="#tac_rel_pure_l"><span class="id" title="lemma">tac_rel_pure_l</span></a> `{<a id="clutchRGS0:20" class="idref" href="#clutchRGS0:20"><span class="id" title="binder">!</span></a><a id="clutchRGS0:20" class="idref" href="#clutchRGS0:20"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:20" class="idref" href="#clutchRGS0:20"><span class="id" title="binder">Σ</span></a>} <a id="K:21" class="idref" href="#K:21"><span class="id" title="binder">K</span></a> <a id="e1:22" class="idref" href="#e1:22"><span class="id" title="binder">e1</span></a> <a id="6d01c3a7f8a619c129e4ac39ab449b08" class="idref" href="#6d01c3a7f8a619c129e4ac39ab449b08"><span class="id" title="binder">ℶ</span></a> <a id="e8437ba583ae62694ef7b372be6a7c95" class="idref" href="#e8437ba583ae62694ef7b372be6a7c95"><span class="id" title="binder">ℶ'</span></a> <a id="E:25" class="idref" href="#E:25"><span class="id" title="binder">E</span></a> <a id="e:26" class="idref" href="#e:26"><span class="id" title="binder">e</span></a> <a id="e2:27" class="idref" href="#e2:27"><span class="id" title="binder">e2</span></a> <a id="eres:28" class="idref" href="#eres:28"><span class="id" title="binder">eres</span></a> <a id="5b050d7816fd1a16866062ef16ed48d4" class="idref" href="#5b050d7816fd1a16866062ef16ed48d4"><span class="id" title="binder">ϕ</span></a> <a id="n:30" class="idref" href="#n:30"><span class="id" title="binder">n</span></a> <a id="m:31" class="idref" href="#m:31"><span class="id" title="binder">m</span></a> <a id="t:32" class="idref" href="#t:32"><span class="id" title="binder">t</span></a> <a id="A:33" class="idref" href="#A:33"><span class="id" title="binder">A</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#e:26"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:21"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e1:22"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#PureExec"><span class="id" title="class">PureExec</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#5b050d7816fd1a16866062ef16ed48d4"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#n:30"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e1:22"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e2:27"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#5b050d7816fd1a16866062ef16ed48d4"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#m:31"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#n:30"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#m:31"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#MaybeIntoLaterNEnvs"><span class="id" title="class">MaybeIntoLaterNEnvs</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#m:31"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#6d01c3a7f8a619c129e4ac39ab449b08"><span class="id" title="variable">ℶ</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e8437ba583ae62694ef7b372be6a7c95"><span class="id" title="variable">ℶ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#eres:28"><span class="id" title="variable">eres</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:21"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e2:27"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e8437ba583ae62694ef7b372be6a7c95"><span class="id" title="variable">ℶ'</span></a> (<a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">REL</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#eres:28"><span class="id" title="variable">eres</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">≾</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:32"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:25"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:33"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#6d01c3a7f8a619c129e4ac39ab449b08"><span class="id" title="variable">ℶ</span></a> (<a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">REL</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e:26"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">≾</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:32"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:25"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:33"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails_unseal"><span class="id" title="definition">envs_entails_unseal</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfill</span> <span class="id" title="var">Hpure</span> <span class="id" title="var">Hϕ</span> <span class="id" title="var">Hm</span> ?? <span class="id" title="var">Hp</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [-&gt; | -&gt;]; <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#into_laterN_env_sound"><span class="id" title="lemma">into_laterN_env_sound</span></a> /= <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.rel_logic.rel_rules.html#refines_pure_l"><span class="id" title="lemma">refines_pure_l</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.rel_logic.rel_rules.html#refines_pure_l"><span class="id" title="lemma">refines_pure_l</span></a> //. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws_later.html#bi.laterN_intro"><span class="id" title="lemma">bi.laterN_intro</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="tac_rel_pure_r" class="idref" href="#tac_rel_pure_r"><span class="id" title="lemma">tac_rel_pure_r</span></a> `{<a id="clutchRGS0:35" class="idref" href="#clutchRGS0:35"><span class="id" title="binder">!</span></a><a id="clutchRGS0:35" class="idref" href="#clutchRGS0:35"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:35" class="idref" href="#clutchRGS0:35"><span class="id" title="binder">Σ</span></a>} <a id="K:36" class="idref" href="#K:36"><span class="id" title="binder">K</span></a> <a id="e1:37" class="idref" href="#e1:37"><span class="id" title="binder">e1</span></a> <a id="fb77a9718b477da9ea59c7c55ddc3413" class="idref" href="#fb77a9718b477da9ea59c7c55ddc3413"><span class="id" title="binder">ℶ</span></a> <a id="E:39" class="idref" href="#E:39"><span class="id" title="binder">E</span></a> (<a id="e:40" class="idref" href="#e:40"><span class="id" title="binder">e</span></a> <a id="e2:41" class="idref" href="#e2:41"><span class="id" title="binder">e2</span></a> <a id="eres:42" class="idref" href="#eres:42"><span class="id" title="binder">eres</span></a> : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.expr"><span class="id" title="inductive">expr</span></a>) <a id="2d1b0f44e6946d9472a1fd7398956843" class="idref" href="#2d1b0f44e6946d9472a1fd7398956843"><span class="id" title="binder">ϕ</span></a> <a id="n:44" class="idref" href="#n:44"><span class="id" title="binder">n</span></a> <a id="t:45" class="idref" href="#t:45"><span class="id" title="binder">t</span></a> <a id="A:46" class="idref" href="#A:46"><span class="id" title="binder">A</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#e:40"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:36"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e1:37"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#PureExec"><span class="id" title="class">PureExec</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#2d1b0f44e6946d9472a1fd7398956843"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#n:44"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e1:37"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e2:41"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#2d1b0f44e6946d9472a1fd7398956843"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#nclose"><span class="id" title="instance">nclose</span></a> <a class="idref" href="clutch.rel_logic.spec_ra.html#specN"><span class="id" title="definition">specN</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:39"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#eres:42"><span class="id" title="variable">eres</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:36"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e2:41"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#fb77a9718b477da9ea59c7c55ddc3413"><span class="id" title="variable">ℶ</span></a> (<a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">REL</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:45"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">≾</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#eres:42"><span class="id" title="variable">eres</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:39"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:46"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#fb77a9718b477da9ea59c7c55ddc3413"><span class="id" title="variable">ℶ</span></a> (<a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">REL</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:45"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">≾</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e:40"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:39"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#bf01606c06c578731a501222c534e76d"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:46"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfill</span> <span class="id" title="var">Hpure</span> <span class="id" title="var">Hϕ</span> ?? <span class="id" title="var">Hp</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.rel_logic.rel_rules.html#refines_pure_r"><span class="id" title="lemma">refines_pure_r</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_pure_l" <span class="id" title="var">open_constr</span>(<span class="id" title="var">ef</span>) "in" <span class="id" title="var">open_constr</span>(<span class="id" title="var">Kf</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">iStartProof</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">rel_reshape_cont_l</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">K</span> <span class="id" title="var">Kf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">e'</span> <span class="id" title="var">ef</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.rel_logic.rel_tactics.html#tac_rel_pure_l"><span class="id" title="lemma">tac_rel_pure_l</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">reflexivity</span>                  </div>

<div class="doc">
e = fill K e1 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">iSolveTC</span>                     </div>

<div class="doc">
PureExec ϕ n e1 e2 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| .. ]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">try</span> <span class="id" title="var">solve_vals_compare_safe</span>                </div>

<div class="doc">
φ 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">first</span> [<span class="id" title="tactic">left</span>; <span class="id" title="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">right</span>; <span class="id" title="tactic">reflexivity</span>]                  </div>

<div class="doc">
(m = n) ∨ (m = 0) 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">iSolveTC</span>                                     </div>

<div class="doc">
IntoLaters 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>           </div>

<div class="doc">
eres = fill K e2 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">rel_finish</span>                   </div>

<div class="doc">
new goal </div>
<div class="code">
]<br/>
&nbsp;&nbsp;|| <span class="id" title="tactic">fail</span> "rel_pure_l: cannot find the reduct".<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_pure_l" <span class="id" title="var">open_constr</span>(<span class="id" title="var">ef</span>) := <span class="id" title="var">rel_pure_l</span> <span class="id" title="var">ef</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_pure_l" := <span class="id" title="var">rel_pure_l</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_pure_r" <span class="id" title="var">open_constr</span>(<span class="id" title="var">ef</span>) "in" <span class="id" title="var">open_constr</span>(<span class="id" title="var">Kf</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">iStartProof</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">rel_reshape_cont_r</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">K</span> <span class="id" title="var">Kf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">e'</span> <span class="id" title="var">ef</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.rel_logic.rel_tactics.html#tac_rel_pure_r"><span class="id" title="lemma">tac_rel_pure_r</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">reflexivity</span>                  </div>

<div class="doc">
e = fill K e1 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">iSolveTC</span>                     </div>

<div class="doc">
PureExec ϕ n e1 e2 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|..]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">try</span> <span class="id" title="var">solve_vals_compare_safe</span>                </div>

<div class="doc">
φ 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">solve_ndisj</span>        || <span class="id" title="tactic">fail</span> 1 "rel_pure_r: cannot solve ↑specN ⊆ ?"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>           </div>

<div class="doc">
eres = fill K e2 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">rel_finish</span>                   </div>

<div class="doc">
new goal </div>
<div class="code">
]<br/>
&nbsp;&nbsp;|| <span class="id" title="tactic">fail</span> "rel_pure_r: cannot find the reduct".<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_pure_r" <span class="id" title="var">open_constr</span>(<span class="id" title="var">ef</span>) := <span class="id" title="var">rel_pure_r</span> <span class="id" title="var">ef</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_pure_r" := <span class="id" title="var">rel_pure_r</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;do&nbsp;this&nbsp;in&nbsp;one&nbsp;go,&nbsp;without&nbsp;<span class="inlinecode"><span class="id" title="tactic">repeat</span></span>.&nbsp;*)</span><br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rel_pures_l</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">iStartProof</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="var">rel_pure_l</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>; []). <span class="comment">(*&nbsp;The&nbsp;`;<span class="inlinecode"></span>`&nbsp;makes&nbsp;sure&nbsp;that&nbsp;no&nbsp;side-condition<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;magically&nbsp;spawns.&nbsp;*)</span><br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rel_pures_r</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">iStartProof</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="var">rel_pure_r</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>; []).<br/>

<br/>
</div>

<div class="doc">
Load 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="tac_rel_load_l_simp" class="idref" href="#tac_rel_load_l_simp"><span class="id" title="lemma">tac_rel_load_l_simp</span></a> `{<a id="clutchRGS0:48" class="idref" href="#clutchRGS0:48"><span class="id" title="binder">!</span></a><a id="clutchRGS0:48" class="idref" href="#clutchRGS0:48"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:48" class="idref" href="#clutchRGS0:48"><span class="id" title="binder">Σ</span></a>} <a id="K:49" class="idref" href="#K:49"><span class="id" title="binder">K</span></a> <a id="b577b9981ec4f6f06c09cec5f205288e" class="idref" href="#b577b9981ec4f6f06c09cec5f205288e"><span class="id" title="binder">ℶ1</span></a> <a id="ceb9ca680afc584ffae3040ec0a2f070" class="idref" href="#ceb9ca680afc584ffae3040ec0a2f070"><span class="id" title="binder">ℶ2</span></a> <a id="i1:52" class="idref" href="#i1:52"><span class="id" title="binder">i1</span></a> <a id="p:53" class="idref" href="#p:53"><span class="id" title="binder">p</span></a> (<a id="l:54" class="idref" href="#l:54"><span class="id" title="binder">l</span></a> : <a class="idref" href="clutch.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a>) <a id="q:55" class="idref" href="#q:55"><span class="id" title="binder">q</span></a> <a id="v:56" class="idref" href="#v:56"><span class="id" title="binder">v</span></a> <a id="e:57" class="idref" href="#e:57"><span class="id" title="binder">e</span></a> <a id="t:58" class="idref" href="#t:58"><span class="id" title="binder">t</span></a> <a id="eres:59" class="idref" href="#eres:59"><span class="id" title="binder">eres</span></a> <a id="A:60" class="idref" href="#A:60"><span class="id" title="binder">A</span></a> <a id="E:61" class="idref" href="#E:61"><span class="id" title="binder">E</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#e:57"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:49"><span class="id" title="variable">K</span></a> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Load"><span class="id" title="constructor">Load</span></a> (<a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#l:54"><span class="id" title="variable">l</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#MaybeIntoLaterNEnvs"><span class="id" title="class">MaybeIntoLaterNEnvs</span></a> 1 <a class="idref" href="clutch.rel_logic.rel_tactics.html#b577b9981ec4f6f06c09cec5f205288e"><span class="id" title="variable">ℶ1</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#ceb9ca680afc584ffae3040ec0a2f070"><span class="id" title="variable">ℶ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#i1:52"><span class="id" title="variable">i1</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#ceb9ca680afc584ffae3040ec0a2f070"><span class="id" title="variable">ℶ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#p:53"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#l:54"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.rel_logic.primitive_laws.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#q:55"><span class="id" title="variable">q</span></a><a class="idref" href="clutch.rel_logic.primitive_laws.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#v:56"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>%<span class="id" title="var">I</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#eres:59"><span class="id" title="variable">eres</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:49"><span class="id" title="variable">K</span></a> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.of_val"><span class="id" title="abbreviation">of_val</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#v:56"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#ceb9ca680afc584ffae3040ec0a2f070"><span class="id" title="variable">ℶ2</span></a> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:61"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#eres:59"><span class="id" title="variable">eres</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:58"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:60"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#b577b9981ec4f6f06c09cec5f205288e"><span class="id" title="variable">ℶ1</span></a> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:61"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e:57"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:58"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:60"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails_unseal"><span class="id" title="definition">envs_entails_unseal</span></a>. <span class="id" title="var">iIntros</span> (-&gt; ?? -&gt; <span class="id" title="var">Hℶ2</span>) "Henvs".<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#into_laterN_env_sound"><span class="id" title="lemma">into_laterN_env_sound</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Henvs"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "Henvs".<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_lookup_split"><span class="id" title="lemma">envs_lookup_split</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Henvs"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hl Henvs]"; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hℶ2</span>. <span class="id" title="var">iApply</span> (<a class="idref" href="clutch.rel_logic.rel_rules.html#refines_load_l"><span class="id" title="lemma">refines_load_l</span></a> <span class="id" title="var">K</span> <span class="id" title="var">E</span> <span class="id" title="var">l</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>; [|<span class="id" title="tactic">by</span> <span class="id" title="var">iFrame</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hl" <span class="id" title="keyword">as</span> "#Hl". <span class="id" title="var">iSplitR</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt; _". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "Henvs".<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="tac_rel_load_r" class="idref" href="#tac_rel_load_r"><span class="id" title="lemma">tac_rel_load_r</span></a> `{<a id="clutchRGS0:63" class="idref" href="#clutchRGS0:63"><span class="id" title="binder">!</span></a><a id="clutchRGS0:63" class="idref" href="#clutchRGS0:63"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:63" class="idref" href="#clutchRGS0:63"><span class="id" title="binder">Σ</span></a>} <a id="K:64" class="idref" href="#K:64"><span class="id" title="binder">K</span></a> <a id="e2854c014f49a44112c58c250c849181" class="idref" href="#e2854c014f49a44112c58c250c849181"><span class="id" title="binder">ℶ1</span></a> <a id="E:66" class="idref" href="#E:66"><span class="id" title="binder">E</span></a> <a id="i1:67" class="idref" href="#i1:67"><span class="id" title="binder">i1</span></a> <a id="p:68" class="idref" href="#p:68"><span class="id" title="binder">p</span></a> (<a id="l:69" class="idref" href="#l:69"><span class="id" title="binder">l</span></a> : <a class="idref" href="clutch.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a>) <a id="q:70" class="idref" href="#q:70"><span class="id" title="binder">q</span></a> <a id="e:71" class="idref" href="#e:71"><span class="id" title="binder">e</span></a> <a id="t:72" class="idref" href="#t:72"><span class="id" title="binder">t</span></a> <a id="tres:73" class="idref" href="#tres:73"><span class="id" title="binder">tres</span></a> <a id="A:74" class="idref" href="#A:74"><span class="id" title="binder">A</span></a> <a id="v:75" class="idref" href="#v:75"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#t:72"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:64"><span class="id" title="variable">K</span></a> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Load"><span class="id" title="constructor">Load</span></a> (<a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#l:69"><span class="id" title="variable">l</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#nclose"><span class="id" title="instance">nclose</span></a> <a class="idref" href="clutch.rel_logic.spec_ra.html#specN"><span class="id" title="definition">specN</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:66"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#i1:67"><span class="id" title="variable">i1</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e2854c014f49a44112c58c250c849181"><span class="id" title="variable">ℶ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#p:68"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#l:69"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.rel_logic.spec_ra.html#e730e42c5e8de925c5934d80eba35f6f"><span class="id" title="notation">↦ₛ{</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#q:70"><span class="id" title="variable">q</span></a><a class="idref" href="clutch.rel_logic.spec_ra.html#e730e42c5e8de925c5934d80eba35f6f"><span class="id" title="notation">}</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#v:75"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>%<span class="id" title="var">I</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#tres:73"><span class="id" title="variable">tres</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:64"><span class="id" title="variable">K</span></a> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.of_val"><span class="id" title="abbreviation">of_val</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#v:75"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e2854c014f49a44112c58c250c849181"><span class="id" title="variable">ℶ1</span></a> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:66"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e:71"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#tres:73"><span class="id" title="variable">tres</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:74"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e2854c014f49a44112c58c250c849181"><span class="id" title="variable">ℶ1</span></a> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:66"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e:71"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:72"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:74"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails_unseal"><span class="id" title="definition">envs_entails_unseal</span></a>. <span class="id" title="var">iIntros</span> (-&gt; ?? -&gt; <span class="id" title="var">Hg</span>) "Henvs".<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_lookup_split"><span class="id" title="lemma">envs_lookup_split</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Henvs"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hl Henvs]"; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hg</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">iDestruct</span> "Hl" <span class="id" title="keyword">as</span> "#Hl". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.rel_rules.html#refines_load_r"><span class="id" title="lemma">refines_load_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hl"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "_". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "Henvs".<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.rel_rules.html#refines_load_r"><span class="id" title="lemma">refines_load_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hl"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_load_l" <span class="id" title="var">open_constr</span>(<span class="id" title="var">ef</span>) "in" <span class="id" title="var">open_constr</span>(<span class="id" title="var">Kf</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">solve_mapsto</span> <span class="id" title="var">_</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (?<span class="id" title="var">l</span> <a class="idref" href="clutch.rel_logic.primitive_laws.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><span class="id" title="var">_</span><a class="idref" href="clutch.rel_logic.primitive_laws.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">I</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <span class="id" title="var">l</span> <span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssumptionCore</span> || <span class="id" title="tactic">fail</span> "rel_load_l: cannot find" <span class="id" title="var">l</span> "↦ ?" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">rel_reshape_cont_l</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">K</span> <span class="id" title="var">Kf</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">e'</span> <span class="id" title="var">ef</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.rel_logic.rel_tactics.html#tac_rel_load_l_simp"><span class="id" title="lemma">tac_rel_load_l_simp</span></a> <span class="id" title="var">K</span>); <span class="id" title="tactic">first</span> <span class="id" title="tactic">reflexivity</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">fail</span> 1 "rel_load_l: cannot find 'Load'"];<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;remaining&nbsp;goals&nbsp;are&nbsp;from&nbsp;tac_lel_load_l&nbsp;(except&nbsp;for&nbsp;the&nbsp;first&nbsp;one,&nbsp;which&nbsp;has&nbsp;already&nbsp;been&nbsp;solved&nbsp;by&nbsp;this&nbsp;point)&nbsp;*)</span><br/>
&nbsp;&nbsp;[<span class="id" title="var">iSolveTC</span>             </div>

<div class="doc">
IntoLaters 
</div>
<div class="code">
&nbsp;&nbsp;|<span class="id" title="var">solve_mapsto</span> ()<br/>
&nbsp;&nbsp;|<span class="id" title="tactic">reflexivity</span>       </div>

<div class="doc">
eres = fill K v 
</div>
<div class="code">
&nbsp;&nbsp;|<span class="id" title="var">rel_finish</span>  </div>

<div class="doc">
new goal </div>
<div class="code">
].<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_load_l" := <span class="id" title="var">rel_pures_l</span> ; <span class="id" title="var">rel_load_l</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Tactic&nbsp;Notation&nbsp;"rel_load_l_atomic"&nbsp;:=&nbsp;rel_apply_l&nbsp;refines_load_l.&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;structure&nbsp;for&nbsp;the&nbsp;tacticals&nbsp;on&nbsp;the&nbsp;right&nbsp;hand&nbsp;side&nbsp;is&nbsp;a&nbsp;bit<br/>
different.&nbsp;Because&nbsp;there&nbsp;is&nbsp;only&nbsp;one&nbsp;type&nbsp;of&nbsp;rules,&nbsp;we&nbsp;can&nbsp;report<br/>
errors&nbsp;in&nbsp;a&nbsp;more&nbsp;precise&nbsp;way.&nbsp;E.g.&nbsp;if&nbsp;we&nbsp;are&nbsp;executing&nbsp;!l and l ↦ₛ is
not found in the environment, then we can immediately fail with an
error *)</span><br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_load_r" <span class="id" title="var">open_constr</span>(<span class="id" title="var">ef</span>) "in" <span class="id" title="var">open_constr</span>(<span class="id" title="var">Kf</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">solve_mapsto</span> <span class="id" title="var">_</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (?<span class="id" title="var">l</span> <a class="idref" href="clutch.rel_logic.spec_ra.html#e730e42c5e8de925c5934d80eba35f6f"><span class="id" title="notation">↦ₛ{</span></a><span class="id" title="var">_</span><a class="idref" href="clutch.rel_logic.spec_ra.html#e730e42c5e8de925c5934d80eba35f6f"><span class="id" title="notation">}</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">I</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <span class="id" title="var">l</span> <span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssumptionCore</span> || <span class="id" title="tactic">fail</span> "rel_load_r: cannot find" <span class="id" title="var">l</span> "↦ₛ ?" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">rel_reshape_cont_r</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">K</span> <span class="id" title="var">Kf</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">e'</span> <span class="id" title="var">ef</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.rel_logic.rel_tactics.html#tac_rel_load_r"><span class="id" title="lemma">tac_rel_load_r</span></a> <span class="id" title="var">K</span>); <span class="id" title="tactic">first</span> <span class="id" title="tactic">reflexivity</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">fail</span> 1 "rel_load_r: cannot find 'Load'"];<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;remaining&nbsp;goals&nbsp;are&nbsp;from&nbsp;tac_rel_load_r&nbsp;(except&nbsp;for&nbsp;the&nbsp;first&nbsp;one,&nbsp;which&nbsp;has&nbsp;already&nbsp;been&nbsp;solved&nbsp;by&nbsp;this&nbsp;point)&nbsp;*)</span><br/>
&nbsp;&nbsp;[<span class="id" title="var">solve_ndisj</span> || <span class="id" title="tactic">fail</span> "rel_load_r: cannot prove 'nclose specN ⊆ ?'"<br/>
&nbsp;&nbsp;|<span class="id" title="var">solve_mapsto</span> ()<br/>
&nbsp;&nbsp;|<span class="id" title="tactic">reflexivity</span><br/>
&nbsp;&nbsp;|<span class="id" title="var">rel_finish</span>  </div>

<div class="doc">
new goal </div>
<div class="code">
].<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_load_r" := <span class="id" title="var">rel_pures_r</span> ; <span class="id" title="var">rel_load_r</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Store 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="tac_rel_store_l_simpl" class="idref" href="#tac_rel_store_l_simpl"><span class="id" title="lemma">tac_rel_store_l_simpl</span></a> `{<a id="clutchRGS0:77" class="idref" href="#clutchRGS0:77"><span class="id" title="binder">!</span></a><a id="clutchRGS0:77" class="idref" href="#clutchRGS0:77"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:77" class="idref" href="#clutchRGS0:77"><span class="id" title="binder">Σ</span></a>} <a id="K:78" class="idref" href="#K:78"><span class="id" title="binder">K</span></a> <a id="1087ccc84544fc859f679b43643f44c6" class="idref" href="#1087ccc84544fc859f679b43643f44c6"><span class="id" title="binder">ℶ1</span></a> <a id="0e9b2dfeb69272cb8bc36741096dca23" class="idref" href="#0e9b2dfeb69272cb8bc36741096dca23"><span class="id" title="binder">ℶ2</span></a> <a id="e75415eb167d0ed45bb66500f57b1857" class="idref" href="#e75415eb167d0ed45bb66500f57b1857"><span class="id" title="binder">ℶ3</span></a> <a id="i1:82" class="idref" href="#i1:82"><span class="id" title="binder">i1</span></a> (<a id="l:83" class="idref" href="#l:83"><span class="id" title="binder">l</span></a> : <a class="idref" href="clutch.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a>) <a id="v:84" class="idref" href="#v:84"><span class="id" title="binder">v</span></a> <a id="e':85" class="idref" href="#e':85"><span class="id" title="binder">e'</span></a> <a id="v':86" class="idref" href="#v':86"><span class="id" title="binder">v'</span></a> <a id="e:87" class="idref" href="#e:87"><span class="id" title="binder">e</span></a> <a id="t:88" class="idref" href="#t:88"><span class="id" title="binder">t</span></a> <a id="eres:89" class="idref" href="#eres:89"><span class="id" title="binder">eres</span></a> <a id="A:90" class="idref" href="#A:90"><span class="id" title="binder">A</span></a> <a id="E:91" class="idref" href="#E:91"><span class="id" title="binder">E</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#e:87"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:78"><span class="id" title="variable">K</span></a> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Store"><span class="id" title="constructor">Store</span></a> (<a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#l:83"><span class="id" title="variable">l</span></a>) <a class="idref" href="clutch.rel_logic.rel_tactics.html#e':85"><span class="id" title="variable">e'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#IntoVal"><span class="id" title="class">IntoVal</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e':85"><span class="id" title="variable">e'</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#v':86"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#MaybeIntoLaterNEnvs"><span class="id" title="class">MaybeIntoLaterNEnvs</span></a> 1 <a class="idref" href="clutch.rel_logic.rel_tactics.html#1087ccc84544fc859f679b43643f44c6"><span class="id" title="variable">ℶ1</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#0e9b2dfeb69272cb8bc36741096dca23"><span class="id" title="variable">ℶ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#i1:82"><span class="id" title="variable">i1</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#0e9b2dfeb69272cb8bc36741096dca23"><span class="id" title="variable">ℶ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#l:83"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.rel_logic.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#v:84"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>%<span class="id" title="var">I</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_simple_replace"><span class="id" title="definition">envs_simple_replace</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#i1:82"><span class="id" title="variable">i1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#i1:82"><span class="id" title="variable">i1</span></a> (<a class="idref" href="clutch.rel_logic.rel_tactics.html#l:83"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.rel_logic.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#v':86"><span class="id" title="variable">v'</span></a>)) <a class="idref" href="clutch.rel_logic.rel_tactics.html#0e9b2dfeb69272cb8bc36741096dca23"><span class="id" title="variable">ℶ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e75415eb167d0ed45bb66500f57b1857"><span class="id" title="variable">ℶ3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#eres:89"><span class="id" title="variable">eres</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:78"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.prob_lang.notation.html#3127c6bc552ca21a494fc6e3474a507d"><span class="id" title="notation">()</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e75415eb167d0ed45bb66500f57b1857"><span class="id" title="variable">ℶ3</span></a> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:91"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#eres:89"><span class="id" title="variable">eres</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:88"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:90"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#1087ccc84544fc859f679b43643f44c6"><span class="id" title="variable">ℶ1</span></a> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:91"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e:87"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:88"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:90"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails_unseal"><span class="id" title="definition">envs_entails_unseal</span></a>. <span class="id" title="tactic">intros</span> ?????? <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">e</span> <span class="id" title="var">eres</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#into_laterN_env_sound"><span class="id" title="lemma">into_laterN_env_sound</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_simple_replace_sound"><span class="id" title="lemma">envs_simple_replace_sound</span></a> //; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws_later.html#bi.later_sep"><span class="id" title="lemma">bi.later_sep</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#right_id"><span class="id" title="definition">right_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="clutch.rel_logic.rel_rules.html#refines_store_l"><span class="id" title="lemma">refines_store_l</span></a> <span class="id" title="var">K</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi.exist_intro"><span class="id" title="lemma">bi.exist_intro</span></a> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hg</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="tac_rel_store_r" class="idref" href="#tac_rel_store_r"><span class="id" title="lemma">tac_rel_store_r</span></a> `{<a id="clutchRGS0:93" class="idref" href="#clutchRGS0:93"><span class="id" title="binder">!</span></a><a id="clutchRGS0:93" class="idref" href="#clutchRGS0:93"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:93" class="idref" href="#clutchRGS0:93"><span class="id" title="binder">Σ</span></a>} <a id="K:94" class="idref" href="#K:94"><span class="id" title="binder">K</span></a> <a id="19664255aa6a52723b4432c052423d36" class="idref" href="#19664255aa6a52723b4432c052423d36"><span class="id" title="binder">ℶ1</span></a> <a id="4370e0cedbc40dd162fab8ea798faeac" class="idref" href="#4370e0cedbc40dd162fab8ea798faeac"><span class="id" title="binder">ℶ2</span></a> <a id="i1:97" class="idref" href="#i1:97"><span class="id" title="binder">i1</span></a> <a id="E:98" class="idref" href="#E:98"><span class="id" title="binder">E</span></a> (<a id="l:99" class="idref" href="#l:99"><span class="id" title="binder">l</span></a> : <a class="idref" href="clutch.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a>) <a id="v:100" class="idref" href="#v:100"><span class="id" title="binder">v</span></a> <a id="e':101" class="idref" href="#e':101"><span class="id" title="binder">e'</span></a> <a id="v':102" class="idref" href="#v':102"><span class="id" title="binder">v'</span></a> <a id="e:103" class="idref" href="#e:103"><span class="id" title="binder">e</span></a> <a id="t:104" class="idref" href="#t:104"><span class="id" title="binder">t</span></a> <a id="eres:105" class="idref" href="#eres:105"><span class="id" title="binder">eres</span></a> <a id="A:106" class="idref" href="#A:106"><span class="id" title="binder">A</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#e:103"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:94"><span class="id" title="variable">K</span></a> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Store"><span class="id" title="constructor">Store</span></a> (<a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#l:99"><span class="id" title="variable">l</span></a>) <a class="idref" href="clutch.rel_logic.rel_tactics.html#e':101"><span class="id" title="variable">e'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#IntoVal"><span class="id" title="class">IntoVal</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e':101"><span class="id" title="variable">e'</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#v':102"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#nclose"><span class="id" title="instance">nclose</span></a> <a class="idref" href="clutch.rel_logic.spec_ra.html#specN"><span class="id" title="definition">specN</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:98"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#i1:97"><span class="id" title="variable">i1</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#19664255aa6a52723b4432c052423d36"><span class="id" title="variable">ℶ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#l:99"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.rel_logic.spec_ra.html#0326014f985dcbdf069e6962e826748b"><span class="id" title="notation">↦ₛ</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#v:100"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>%<span class="id" title="var">I</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_simple_replace"><span class="id" title="definition">envs_simple_replace</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#i1:97"><span class="id" title="variable">i1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#i1:97"><span class="id" title="variable">i1</span></a> (<a class="idref" href="clutch.rel_logic.rel_tactics.html#l:99"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.rel_logic.spec_ra.html#0326014f985dcbdf069e6962e826748b"><span class="id" title="notation">↦ₛ</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#v':102"><span class="id" title="variable">v'</span></a>)) <a class="idref" href="clutch.rel_logic.rel_tactics.html#19664255aa6a52723b4432c052423d36"><span class="id" title="variable">ℶ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#4370e0cedbc40dd162fab8ea798faeac"><span class="id" title="variable">ℶ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#eres:105"><span class="id" title="variable">eres</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:94"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.prob_lang.notation.html#3127c6bc552ca21a494fc6e3474a507d"><span class="id" title="notation">()</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#4370e0cedbc40dd162fab8ea798faeac"><span class="id" title="variable">ℶ2</span></a> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:98"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:104"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#eres:105"><span class="id" title="variable">eres</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:106"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#19664255aa6a52723b4432c052423d36"><span class="id" title="variable">ℶ1</span></a> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:98"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:104"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e:103"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:106"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails_unseal"><span class="id" title="definition">envs_entails_unseal</span></a>. <span class="id" title="tactic">intros</span> ?????? <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">e</span> <span class="id" title="var">eres</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_simple_replace_sound"><span class="id" title="lemma">envs_simple_replace_sound</span></a> //; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#right_id"><span class="id" title="definition">right_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.rel_logic.rel_rules.html#refines_store_r"><span class="id" title="lemma">refines_store_r</span></a> <span class="id" title="var">E</span> <span class="id" title="var">K</span>) //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_l"><span class="id" title="lemma">bi.wand_elim_l</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_store_l" <span class="id" title="var">open_constr</span>(<span class="id" title="var">ef</span>) "in" <span class="id" title="var">open_constr</span>(<span class="id" title="var">Kf</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">solve_mapsto</span> <span class="id" title="var">_</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (?<span class="id" title="var">l</span> <a class="idref" href="clutch.rel_logic.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">I</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <span class="id" title="var">l</span> <span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssumptionCore</span> || <span class="id" title="tactic">fail</span> "rel_store_l: cannot find" <span class="id" title="var">l</span> "↦ ?" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">rel_reshape_cont_l</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">K</span> <span class="id" title="var">Kf</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">e'</span> <span class="id" title="var">ef</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.rel_logic.rel_tactics.html#tac_rel_store_l_simpl"><span class="id" title="lemma">tac_rel_store_l_simpl</span></a> <span class="id" title="var">K</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">reflexivity</span> </div>

<div class="doc">
e = fill K (l <- e') 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">iSolveTC</span>    </div>

<div class="doc">
e' is a value 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">idtac</span>..])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">fail</span> 1 "rel_store_l: cannot find 'Store'"];<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;remaining&nbsp;goals&nbsp;are&nbsp;from&nbsp;tac_rel_store_l&nbsp;(except&nbsp;for&nbsp;the&nbsp;first&nbsp;one,&nbsp;which&nbsp;has&nbsp;already&nbsp;been&nbsp;solved&nbsp;by&nbsp;this&nbsp;point)&nbsp;*)</span><br/>
&nbsp;&nbsp;[<span class="id" title="var">iSolveTC</span>        </div>

<div class="doc">
IntoLaters 
</div>
<div class="code">
&nbsp;&nbsp;|<span class="id" title="var">solve_mapsto</span> ()<br/>
&nbsp;&nbsp;|<span class="id" title="var">reduction.pm_reflexivity</span> || <span class="id" title="tactic">fail</span> "rel_store_l: this should not happen O-:"<br/>
&nbsp;&nbsp;|<span class="id" title="tactic">reflexivity</span><br/>
&nbsp;&nbsp;|<span class="id" title="var">rel_finish</span>  </div>

<div class="doc">
new goal </div>
<div class="code">
].<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_store_l" := <span class="id" title="var">rel_pures_l</span> ; <span class="id" title="var">rel_store_l</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Tactic&nbsp;Notation&nbsp;"rel_store_l_atomic"&nbsp;:=&nbsp;rel_apply_l&nbsp;refines_store_l.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_store_r" <span class="id" title="var">open_constr</span>(<span class="id" title="var">ef</span>) "in" <span class="id" title="var">open_constr</span>(<span class="id" title="var">Kf</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">solve_mapsto</span> <span class="id" title="var">_</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (?<span class="id" title="var">l</span> <a class="idref" href="clutch.rel_logic.spec_ra.html#0326014f985dcbdf069e6962e826748b"><span class="id" title="notation">↦ₛ</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">I</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <span class="id" title="var">l</span> <span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssumptionCore</span> || <span class="id" title="tactic">fail</span> "rel_store_r: cannot find" <span class="id" title="var">l</span> "↦ₛ ?" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">rel_reshape_cont_r</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">K</span> <span class="id" title="var">Kf</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">e'</span> <span class="id" title="var">ef</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.rel_logic.rel_tactics.html#tac_rel_store_r"><span class="id" title="lemma">tac_rel_store_r</span></a> <span class="id" title="var">K</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">reflexivity</span>|<span class="id" title="var">iSolveTC</span>|<span class="id" title="tactic">idtac</span>..])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">fail</span> 1 "rel_store_r: cannot find 'Store'"];<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;remaining&nbsp;goals&nbsp;are&nbsp;from&nbsp;tac_rel_store_r&nbsp;(except&nbsp;for&nbsp;the&nbsp;first&nbsp;one,&nbsp;which&nbsp;has&nbsp;already&nbsp;been&nbsp;solved&nbsp;by&nbsp;this&nbsp;point)&nbsp;*)</span><br/>
&nbsp;&nbsp;[<span class="id" title="var">solve_ndisj</span> || <span class="id" title="tactic">fail</span> "rel_store_r: cannot prove 'nclose specN ⊆ ?'"<br/>
&nbsp;&nbsp;|<span class="id" title="var">solve_mapsto</span> ()<br/>
&nbsp;&nbsp;|<span class="id" title="var">reduction.pm_reflexivity</span> || <span class="id" title="tactic">fail</span> "rel_store_r: this should not happen O-:"<br/>
&nbsp;&nbsp;|<span class="id" title="tactic">reflexivity</span><br/>
&nbsp;&nbsp;|<span class="id" title="var">rel_finish</span>  </div>

<div class="doc">
new goal </div>
<div class="code">
].<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_store_r" := <span class="id" title="var">rel_pures_r</span> ; <span class="id" title="var">rel_store_r</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Alloc 
</div>
<div class="code">
<span class="comment">(*&nbsp;Tactic&nbsp;Notation&nbsp;"rel_alloc_l_atomic"&nbsp;:=&nbsp;rel_apply_l&nbsp;refines_alloc_l.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="tac_rel_alloc_l_simpl" class="idref" href="#tac_rel_alloc_l_simpl"><span class="id" title="lemma">tac_rel_alloc_l_simpl</span></a> `{<a id="clutchRGS0:108" class="idref" href="#clutchRGS0:108"><span class="id" title="binder">!</span></a><a id="clutchRGS0:108" class="idref" href="#clutchRGS0:108"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:108" class="idref" href="#clutchRGS0:108"><span class="id" title="binder">Σ</span></a>} <a id="K:109" class="idref" href="#K:109"><span class="id" title="binder">K</span></a> <a id="8a9628a3dec03cf77f06030953be801b" class="idref" href="#8a9628a3dec03cf77f06030953be801b"><span class="id" title="binder">ℶ1</span></a> <a id="5a71e365ae14040ebb1c33795a752f6c" class="idref" href="#5a71e365ae14040ebb1c33795a752f6c"><span class="id" title="binder">ℶ2</span></a> <a id="e:112" class="idref" href="#e:112"><span class="id" title="binder">e</span></a> <a id="t:113" class="idref" href="#t:113"><span class="id" title="binder">t</span></a> <a id="e':114" class="idref" href="#e':114"><span class="id" title="binder">e'</span></a> <a id="v':115" class="idref" href="#v':115"><span class="id" title="binder">v'</span></a> <a id="A:116" class="idref" href="#A:116"><span class="id" title="binder">A</span></a> <a id="E:117" class="idref" href="#E:117"><span class="id" title="binder">E</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#e:112"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:109"><span class="id" title="variable">K</span></a> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Alloc"><span class="id" title="constructor">Alloc</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e':114"><span class="id" title="variable">e'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#IntoVal"><span class="id" title="class">IntoVal</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e':114"><span class="id" title="variable">e'</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#v':115"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#MaybeIntoLaterNEnvs"><span class="id" title="class">MaybeIntoLaterNEnvs</span></a> 1 <a class="idref" href="clutch.rel_logic.rel_tactics.html#8a9628a3dec03cf77f06030953be801b"><span class="id" title="variable">ℶ1</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#5a71e365ae14040ebb1c33795a752f6c"><span class="id" title="variable">ℶ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#5a71e365ae14040ebb1c33795a752f6c"><span class="id" title="variable">ℶ2</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">(</span></a><a id="l:118" class="idref" href="#l:118"><span class="id" title="binder">l</span></a> : <a class="idref" href="clutch.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#l:118"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.rel_logic.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#v':115"><span class="id" title="variable">v'</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:117"><span class="id" title="variable">E</span></a> (<a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:109"><span class="id" title="variable">K</span></a> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.of_val"><span class="id" title="abbreviation">of_val</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#l:118"><span class="id" title="variable">l</span></a>)) <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:113"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:116"><span class="id" title="variable">A</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">)</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#8a9628a3dec03cf77f06030953be801b"><span class="id" title="variable">ℶ1</span></a> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:117"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e:112"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:113"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:116"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails_unseal"><span class="id" title="definition">envs_entails_unseal</span></a>. <span class="id" title="tactic">intros</span> ???; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#into_laterN_env_sound"><span class="id" title="lemma">into_laterN_env_sound</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="clutch.rel_logic.rel_rules.html#refines_alloc_l"><span class="id" title="lemma">refines_alloc_l</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi.later_mono"><span class="id" title="lemma">bi.later_mono</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_alloc_l" <span class="id" title="var">simple_intropattern</span>(<span class="id" title="var">l</span>) "as" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) "at" <span class="id" title="var">open_constr</span>(<span class="id" title="var">ef</span>) "in" <span class="id" title="var">open_constr</span>(<span class="id" title="var">Kf</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">rel_reshape_cont_l</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">K</span> <span class="id" title="var">Kf</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">e'</span> <span class="id" title="var">ef</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.rel_logic.rel_tactics.html#tac_rel_alloc_l_simpl"><span class="id" title="lemma">tac_rel_alloc_l_simpl</span></a> <span class="id" title="var">K</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">reflexivity</span> </div>

<div class="doc">
e = fill K (Alloc e') 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">iSolveTC</span>    </div>

<div class="doc">
e' is a value 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">idtac</span>..])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">fail</span> 1 "rel_alloc_l: cannot find 'Alloc'"];<br/>
&nbsp;&nbsp;[<span class="id" title="var">iSolveTC</span>        </div>

<div class="doc">
IntoLaters 
</div>
<div class="code">
&nbsp;&nbsp;|<span class="id" title="var">iIntros</span> (<span class="id" title="var">l</span>) <span class="id" title="var">H</span>; <span class="id" title="var">rel_finish</span>  </div>

<div class="doc">
new goal </div>
<div class="code">
].<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_alloc_l" <span class="id" title="var">simple_intropattern</span>(<span class="id" title="var">l</span>) "as" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">rel_pures_l</span> ; <span class="id" title="var">rel_alloc_l</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H</span> <span class="id" title="tactic">at</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="tac_rel_alloc_r" class="idref" href="#tac_rel_alloc_r"><span class="id" title="lemma">tac_rel_alloc_r</span></a> `{<a id="clutchRGS0:120" class="idref" href="#clutchRGS0:120"><span class="id" title="binder">!</span></a><a id="clutchRGS0:120" class="idref" href="#clutchRGS0:120"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:120" class="idref" href="#clutchRGS0:120"><span class="id" title="binder">Σ</span></a>} <a id="K':121" class="idref" href="#K':121"><span class="id" title="binder">K'</span></a> <a id="96a50fcb765eb1baa3c4172a73f58392" class="idref" href="#96a50fcb765eb1baa3c4172a73f58392"><span class="id" title="binder">ℶ</span></a> <a id="E:123" class="idref" href="#E:123"><span class="id" title="binder">E</span></a> <a id="t':124" class="idref" href="#t':124"><span class="id" title="binder">t'</span></a> <a id="v':125" class="idref" href="#v':125"><span class="id" title="binder">v'</span></a> <a id="e:126" class="idref" href="#e:126"><span class="id" title="binder">e</span></a> <a id="t:127" class="idref" href="#t:127"><span class="id" title="binder">t</span></a> <a id="A:128" class="idref" href="#A:128"><span class="id" title="binder">A</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#t:127"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K':121"><span class="id" title="variable">K'</span></a> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Alloc"><span class="id" title="constructor">Alloc</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t':124"><span class="id" title="variable">t'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#IntoVal"><span class="id" title="class">IntoVal</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t':124"><span class="id" title="variable">t'</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#v':125"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#nclose"><span class="id" title="instance">nclose</span></a> <a class="idref" href="clutch.rel_logic.spec_ra.html#specN"><span class="id" title="definition">specN</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:123"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#96a50fcb765eb1baa3c4172a73f58392"><span class="id" title="variable">ℶ</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="l:129" class="idref" href="#l:129"><span class="id" title="binder">l</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#l:129"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.rel_logic.spec_ra.html#0326014f985dcbdf069e6962e826748b"><span class="id" title="notation">↦ₛ</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#v':125"><span class="id" title="variable">v'</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:123"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e:126"><span class="id" title="variable">e</span></a> (<a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K':121"><span class="id" title="variable">K'</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#l:129"><span class="id" title="variable">l</span></a>) <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:128"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#96a50fcb765eb1baa3c4172a73f58392"><span class="id" title="variable">ℶ</span></a> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:123"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e:126"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:127"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:128"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ????. <span class="id" title="tactic">subst</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.rel_logic.rel_rules.html#refines_alloc_r"><span class="id" title="lemma">refines_alloc_r</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_alloc_r" <span class="id" title="var">simple_intropattern</span>(<span class="id" title="var">l</span>) "as" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) "at" <span class="id" title="var">open_constr</span>(<span class="id" title="var">ef</span>) "in" <span class="id" title="var">open_constr</span>(<span class="id" title="var">Kf</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">rel_reshape_cont_r</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">K</span> <span class="id" title="var">Kf</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">e'</span> <span class="id" title="var">ef</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.rel_logic.rel_tactics.html#tac_rel_alloc_r"><span class="id" title="lemma">tac_rel_alloc_r</span></a> <span class="id" title="var">K</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">reflexivity</span>  </div>

<div class="doc">
t = K'<span class="inlinecode"><a class="idref" href="clutch.prob_lang.notation.html#alloc"><span class="id" title="abbreviation">alloc</span></a></span> <span class="inlinecode"><span class="id" title="var">t'</span></span> 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">iSolveTC</span>     </div>

<div class="doc">
t' is a value 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">idtac</span>..])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">fail</span> 1 "rel_alloc_r: cannot find 'Alloc'"];<br/>
&nbsp;&nbsp;[<span class="id" title="var">solve_ndisj</span> || <span class="id" title="tactic">fail</span> "rel_alloc_r: cannot prove 'nclose specN ⊆ ?'"<br/>
&nbsp;&nbsp;|<span class="id" title="var">iIntros</span> (<span class="id" title="var">l</span>) <span class="id" title="var">H</span>; <span class="id" title="var">rel_finish</span>  </div>

<div class="doc">
new goal </div>
<div class="code">
].<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_alloc_r" <span class="id" title="var">simple_intropattern</span>(<span class="id" title="var">l</span>) "as" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">rel_pures_r</span> ; <span class="id" title="var">rel_alloc_r</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H</span> <span class="id" title="tactic">at</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
AllocTape 
</div>
<div class="code">
<span class="comment">(*&nbsp;Tactic&nbsp;Notation&nbsp;"rel_alloctape_l_atomic"&nbsp;:=&nbsp;rel_apply_l&nbsp;refines_alloctape_l.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="tac_rel_alloctape_l_simpl" class="idref" href="#tac_rel_alloctape_l_simpl"><span class="id" title="lemma">tac_rel_alloctape_l_simpl</span></a> `{<a id="clutchRGS0:131" class="idref" href="#clutchRGS0:131"><span class="id" title="binder">!</span></a><a id="clutchRGS0:131" class="idref" href="#clutchRGS0:131"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:131" class="idref" href="#clutchRGS0:131"><span class="id" title="binder">Σ</span></a>} <a id="K:132" class="idref" href="#K:132"><span class="id" title="binder">K</span></a> <a id="bc69cf5d97434bf3a7f702b4accfc36a" class="idref" href="#bc69cf5d97434bf3a7f702b4accfc36a"><span class="id" title="binder">ℶ1</span></a> <a id="1311b8296719111224460ef58dd0e36f" class="idref" href="#1311b8296719111224460ef58dd0e36f"><span class="id" title="binder">ℶ2</span></a> <a id="e:135" class="idref" href="#e:135"><span class="id" title="binder">e</span></a> <a id="N:136" class="idref" href="#N:136"><span class="id" title="binder">N</span></a> <a id="z:137" class="idref" href="#z:137"><span class="id" title="binder">z</span></a> <a id="t:138" class="idref" href="#t:138"><span class="id" title="binder">t</span></a> <a id="A:139" class="idref" href="#A:139"><span class="id" title="binder">A</span></a> <a id="E:140" class="idref" href="#E:140"><span class="id" title="binder">E</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#N:136"><span class="id" title="variable">N</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#z:137"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#e:135"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:132"><span class="id" title="variable">K</span></a> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.AllocTape"><span class="id" title="constructor">AllocTape</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#z:137"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#MaybeIntoLaterNEnvs"><span class="id" title="class">MaybeIntoLaterNEnvs</span></a> 1 <a class="idref" href="clutch.rel_logic.rel_tactics.html#bc69cf5d97434bf3a7f702b4accfc36a"><span class="id" title="variable">ℶ1</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#1311b8296719111224460ef58dd0e36f"><span class="id" title="variable">ℶ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#1311b8296719111224460ef58dd0e36f"><span class="id" title="variable">ℶ2</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">(</span></a><a id="528b1a0cbffa3b68cf2c017f65a2f931" class="idref" href="#528b1a0cbffa3b68cf2c017f65a2f931"><span class="id" title="binder">α</span></a> : <a class="idref" href="clutch.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#528b1a0cbffa3b68cf2c017f65a2f931"><span class="id" title="variable">α</span></a> <a class="idref" href="clutch.rel_logic.primitive_laws.html#52c0998123349fcc3e1f8d05ae50419f"><span class="id" title="notation">↪</span></a> <a class="idref" href="clutch.rel_logic.primitive_laws.html#52c0998123349fcc3e1f8d05ae50419f"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#N:136"><span class="id" title="variable">N</span></a><a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.tape"><span class="id" title="definition">tape</span></a><a class="idref" href="clutch.rel_logic.primitive_laws.html#52c0998123349fcc3e1f8d05ae50419f"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:140"><span class="id" title="variable">E</span></a> (<a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:132"><span class="id" title="variable">K</span></a> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.of_val"><span class="id" title="abbreviation">of_val</span></a> <a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">lbl</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">:</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#528b1a0cbffa3b68cf2c017f65a2f931"><span class="id" title="variable">α</span></a>)) <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:138"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:139"><span class="id" title="variable">A</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">)</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#bc69cf5d97434bf3a7f702b4accfc36a"><span class="id" title="variable">ℶ1</span></a> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:140"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e:135"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:138"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:139"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails_unseal"><span class="id" title="definition">envs_entails_unseal</span></a>. <span class="id" title="tactic">intros</span> -&gt; ???; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#into_laterN_env_sound"><span class="id" title="lemma">into_laterN_env_sound</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="clutch.rel_logic.rel_rules.html#refines_alloctape_l"><span class="id" title="lemma">refines_alloctape_l</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi.later_mono"><span class="id" title="lemma">bi.later_mono</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_alloctape_l" <span class="id" title="var">simple_intropattern</span>(<span class="id" title="var">l</span>) "as" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) "at" <span class="id" title="var">open_constr</span>(<span class="id" title="var">ef</span>) "in" <span class="id" title="var">open_constr</span>(<span class="id" title="var">Kf</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">rel_reshape_cont_l</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">K</span> <span class="id" title="var">Kf</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">e'</span> <span class="id" title="var">ef</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.rel_logic.rel_tactics.html#tac_rel_alloctape_l_simpl"><span class="id" title="lemma">tac_rel_alloctape_l_simpl</span></a> <span class="id" title="var">K</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">iSolveTC</span> </div>

<div class="doc">
TCEq N (Z.to_nat z) → 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">reflexivity</span> </div>

<div class="doc">
e = fill K (Alloc e') 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">idtac</span>..])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">fail</span> 1 "rel_alloctape_l: cannot find 'AllocTape'"];<br/>
&nbsp;&nbsp;[<span class="id" title="var">iSolveTC</span>        </div>

<div class="doc">
IntoLaters 
</div>
<div class="code">
&nbsp;&nbsp;|<span class="id" title="var">iIntros</span> (<span class="id" title="var">l</span>) <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.id"><span class="id" title="lemma">Nat2Z.id</span></a>; <span class="id" title="var">rel_finish</span>  </div>

<div class="doc">
new goal </div>
<div class="code">
].<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_alloctape_l" <span class="id" title="var">simple_intropattern</span>(<span class="id" title="var">l</span>) "as" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">rel_pures_l</span> ; <span class="id" title="var">rel_alloctape_l</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H</span> <span class="id" title="tactic">at</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="tac_rel_alloctape_r" class="idref" href="#tac_rel_alloctape_r"><span class="id" title="lemma">tac_rel_alloctape_r</span></a> `{<a id="clutchRGS0:143" class="idref" href="#clutchRGS0:143"><span class="id" title="binder">!</span></a><a id="clutchRGS0:143" class="idref" href="#clutchRGS0:143"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:143" class="idref" href="#clutchRGS0:143"><span class="id" title="binder">Σ</span></a>} <a id="K':144" class="idref" href="#K':144"><span class="id" title="binder">K'</span></a> <a id="68d6328c81ec0dc06be8697904d2f736" class="idref" href="#68d6328c81ec0dc06be8697904d2f736"><span class="id" title="binder">ℶ</span></a> <a id="E:146" class="idref" href="#E:146"><span class="id" title="binder">E</span></a> <a id="e:147" class="idref" href="#e:147"><span class="id" title="binder">e</span></a> <a id="N:148" class="idref" href="#N:148"><span class="id" title="binder">N</span></a> <a id="z:149" class="idref" href="#z:149"><span class="id" title="binder">z</span></a> <a id="t:150" class="idref" href="#t:150"><span class="id" title="binder">t</span></a> <a id="A:151" class="idref" href="#A:151"><span class="id" title="binder">A</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#N:148"><span class="id" title="variable">N</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#z:149"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#t:150"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K':144"><span class="id" title="variable">K'</span></a> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.AllocTape"><span class="id" title="constructor">AllocTape</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#z:149"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#nclose"><span class="id" title="instance">nclose</span></a> <a class="idref" href="clutch.rel_logic.spec_ra.html#specN"><span class="id" title="definition">specN</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:146"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#68d6328c81ec0dc06be8697904d2f736"><span class="id" title="variable">ℶ</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="4a4c782f6e31aa201caa587889ccbbb3" class="idref" href="#4a4c782f6e31aa201caa587889ccbbb3"><span class="id" title="binder">α</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#4a4c782f6e31aa201caa587889ccbbb3"><span class="id" title="variable">α</span></a> <a class="idref" href="clutch.rel_logic.spec_ra.html#537f9bfe1a4246c42baec6fa8e98c8aa"><span class="id" title="notation">↪ₛ</span></a> <a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#N:148"><span class="id" title="variable">N</span></a><a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:146"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e:147"><span class="id" title="variable">e</span></a> (<a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K':144"><span class="id" title="variable">K'</span></a> <a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">lbl</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">:</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#4a4c782f6e31aa201caa587889ccbbb3"><span class="id" title="variable">α</span></a>) <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:151"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#68d6328c81ec0dc06be8697904d2f736"><span class="id" title="variable">ℶ</span></a> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:146"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e:147"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:150"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:151"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> -&gt; ???. <span class="id" title="tactic">subst</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.rel_logic.rel_rules.html#refines_alloctape_r"><span class="id" title="lemma">refines_alloctape_r</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_alloctape_r" <span class="id" title="var">simple_intropattern</span>(<span class="id" title="var">l</span>) "as" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) "at" <span class="id" title="var">open_constr</span>(<span class="id" title="var">ef</span>) "in" <span class="id" title="var">open_constr</span>(<span class="id" title="var">Kf</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">rel_reshape_cont_r</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">K</span> <span class="id" title="var">Kf</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">e'</span> <span class="id" title="var">ef</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.rel_logic.rel_tactics.html#tac_rel_alloctape_r"><span class="id" title="lemma">tac_rel_alloctape_r</span></a> <span class="id" title="var">K</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">iSolveTC</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">reflexivity</span>  </div>

<div class="doc">
t = K'<span class="inlinecode"><a class="idref" href="clutch.prob_lang.notation.html#alloc"><span class="id" title="abbreviation">alloc</span></a></span> <span class="inlinecode"><span class="id" title="var">t'</span></span> 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">idtac</span>..])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">fail</span> 1 "rel_alloctape_r: cannot find 'AllocTape'"];<br/>
&nbsp;&nbsp;[<span class="id" title="var">solve_ndisj</span> || <span class="id" title="tactic">fail</span> "rel_alloctape_r: cannot prove 'nclose specN ⊆ ?'"<br/>
&nbsp;&nbsp;|<span class="id" title="var">iIntros</span> (<span class="id" title="var">l</span>) <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.id"><span class="id" title="lemma">Nat2Z.id</span></a>; <span class="id" title="var">rel_finish</span>  </div>

<div class="doc">
new goal </div>
<div class="code">
].<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_alloctape_r" <span class="id" title="var">simple_intropattern</span>(<span class="id" title="var">l</span>) "as" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">rel_pures_r</span> ; <span class="id" title="var">rel_alloctape_r</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H</span> <span class="id" title="tactic">at</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="tac_rel_rand_l" class="idref" href="#tac_rel_rand_l"><span class="id" title="lemma">tac_rel_rand_l</span></a> `{<a id="clutchRGS0:154" class="idref" href="#clutchRGS0:154"><span class="id" title="binder">!</span></a><a id="clutchRGS0:154" class="idref" href="#clutchRGS0:154"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:154" class="idref" href="#clutchRGS0:154"><span class="id" title="binder">Σ</span></a>} <a id="K:155" class="idref" href="#K:155"><span class="id" title="binder">K</span></a> <a id="2bba96bde057cf26ffa8fa3c7f0bec60" class="idref" href="#2bba96bde057cf26ffa8fa3c7f0bec60"><span class="id" title="binder">ℶ1</span></a> <a id="bf21d76a1cdc6051ed57b61629b211f6" class="idref" href="#bf21d76a1cdc6051ed57b61629b211f6"><span class="id" title="binder">ℶ2</span></a> <a id="i1:158" class="idref" href="#i1:158"><span class="id" title="binder">i1</span></a> (<a id="44fe85fc64808b6f043007684c03b88e" class="idref" href="#44fe85fc64808b6f043007684c03b88e"><span class="id" title="binder">α</span></a> : <a class="idref" href="clutch.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a>) <a id="N:160" class="idref" href="#N:160"><span class="id" title="binder">N</span></a> <a id="z:161" class="idref" href="#z:161"><span class="id" title="binder">z</span></a> <a id="n:162" class="idref" href="#n:162"><span class="id" title="binder">n</span></a> <a id="ns:163" class="idref" href="#ns:163"><span class="id" title="binder">ns</span></a> <a id="e:164" class="idref" href="#e:164"><span class="id" title="binder">e</span></a> <a id="t:165" class="idref" href="#t:165"><span class="id" title="binder">t</span></a> <a id="tres:166" class="idref" href="#tres:166"><span class="id" title="binder">tres</span></a> <a id="A:167" class="idref" href="#A:167"><span class="id" title="binder">A</span></a> <a id="E:168" class="idref" href="#E:168"><span class="id" title="binder">E</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#N:160"><span class="id" title="variable">N</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#z:161"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#t:165"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:155"><span class="id" title="variable">K</span></a> (<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'rand'_x_'from'_x"><span class="id" title="notation">rand</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#z:161"><span class="id" title="variable">z</span></a> <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'rand'_x_'from'_x"><span class="id" title="notation">from</span></a> <a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">lbl</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">:</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#44fe85fc64808b6f043007684c03b88e"><span class="id" title="variable">α</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#i1:158"><span class="id" title="variable">i1</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#2bba96bde057cf26ffa8fa3c7f0bec60"><span class="id" title="variable">ℶ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#44fe85fc64808b6f043007684c03b88e"><span class="id" title="variable">α</span></a> <a class="idref" href="clutch.rel_logic.primitive_laws.html#52c0998123349fcc3e1f8d05ae50419f"><span class="id" title="notation">↪</span></a> <a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#N:160"><span class="id" title="variable">N</span></a><a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#n:162"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#ns:163"><span class="id" title="variable">ns</span></a><a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>%<span class="id" title="var">I</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_simple_replace"><span class="id" title="definition">envs_simple_replace</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#i1:158"><span class="id" title="variable">i1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#i1:158"><span class="id" title="variable">i1</span></a> (<a class="idref" href="clutch.rel_logic.rel_tactics.html#44fe85fc64808b6f043007684c03b88e"><span class="id" title="variable">α</span></a> <a class="idref" href="clutch.rel_logic.primitive_laws.html#52c0998123349fcc3e1f8d05ae50419f"><span class="id" title="notation">↪</span></a> <a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#N:160"><span class="id" title="variable">N</span></a><a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#ns:163"><span class="id" title="variable">ns</span></a><a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>)) <a class="idref" href="clutch.rel_logic.rel_tactics.html#2bba96bde057cf26ffa8fa3c7f0bec60"><span class="id" title="variable">ℶ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#bf21d76a1cdc6051ed57b61629b211f6"><span class="id" title="variable">ℶ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#tres:166"><span class="id" title="variable">tres</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:155"><span class="id" title="variable">K</span></a> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.of_val"><span class="id" title="abbreviation">of_val</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#n:162"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#bf21d76a1cdc6051ed57b61629b211f6"><span class="id" title="variable">ℶ2</span></a> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:168"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#tres:166"><span class="id" title="variable">tres</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e:164"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:167"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#2bba96bde057cf26ffa8fa3c7f0bec60"><span class="id" title="variable">ℶ1</span></a> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:168"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:165"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e:164"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:167"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails_unseal"><span class="id" title="definition">envs_entails_unseal</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> -&gt; ???? <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">t</span> <span class="id" title="var">tres</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_simple_replace_sound"><span class="id" title="lemma">envs_simple_replace_sound</span></a> //; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#right_id"><span class="id" title="definition">right_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="clutch.rel_logic.rel_rules.html#refines_rand_l"><span class="id" title="definition">refines_rand_l</span></a> <span class="id" title="var">_</span> <span class="id" title="var">K</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws_later.html#bi.later_sep"><span class="id" title="lemma">bi.later_sep</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi.later_intro"><span class="id" title="lemma">bi.later_intro</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="tac_rel_rand_r" class="idref" href="#tac_rel_rand_r"><span class="id" title="lemma">tac_rel_rand_r</span></a> `{<a id="clutchRGS0:170" class="idref" href="#clutchRGS0:170"><span class="id" title="binder">!</span></a><a id="clutchRGS0:170" class="idref" href="#clutchRGS0:170"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:170" class="idref" href="#clutchRGS0:170"><span class="id" title="binder">Σ</span></a>} <a id="K:171" class="idref" href="#K:171"><span class="id" title="binder">K</span></a> <a id="a61293557dfd27d8d58c8905bda3f7b8" class="idref" href="#a61293557dfd27d8d58c8905bda3f7b8"><span class="id" title="binder">ℶ1</span></a> <a id="220d919f3864107fa0cd56d07b201145" class="idref" href="#220d919f3864107fa0cd56d07b201145"><span class="id" title="binder">ℶ2</span></a> <a id="E:174" class="idref" href="#E:174"><span class="id" title="binder">E</span></a> <a id="i1:175" class="idref" href="#i1:175"><span class="id" title="binder">i1</span></a> (<a id="6c4094f9b63338707c6722c88f398d2c" class="idref" href="#6c4094f9b63338707c6722c88f398d2c"><span class="id" title="binder">α</span></a> : <a class="idref" href="clutch.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a>) <a id="N:177" class="idref" href="#N:177"><span class="id" title="binder">N</span></a> <a id="z:178" class="idref" href="#z:178"><span class="id" title="binder">z</span></a> <a id="n:179" class="idref" href="#n:179"><span class="id" title="binder">n</span></a> <a id="ns:180" class="idref" href="#ns:180"><span class="id" title="binder">ns</span></a> <a id="e:181" class="idref" href="#e:181"><span class="id" title="binder">e</span></a> <a id="t:182" class="idref" href="#t:182"><span class="id" title="binder">t</span></a> <a id="tres:183" class="idref" href="#tres:183"><span class="id" title="binder">tres</span></a> <a id="A:184" class="idref" href="#A:184"><span class="id" title="binder">A</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#N:177"><span class="id" title="variable">N</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#z:178"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#t:182"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:171"><span class="id" title="variable">K</span></a> (<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'rand'_x_'from'_x"><span class="id" title="notation">rand</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#z:178"><span class="id" title="variable">z</span></a> <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'rand'_x_'from'_x"><span class="id" title="notation">from</span></a> <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'rand'_x_'from'_x"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">lbl</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">:</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#6c4094f9b63338707c6722c88f398d2c"><span class="id" title="variable">α</span></a><a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'rand'_x_'from'_x"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#nclose"><span class="id" title="instance">nclose</span></a> <a class="idref" href="clutch.rel_logic.spec_ra.html#specN"><span class="id" title="definition">specN</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:174"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#i1:175"><span class="id" title="variable">i1</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#a61293557dfd27d8d58c8905bda3f7b8"><span class="id" title="variable">ℶ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#6c4094f9b63338707c6722c88f398d2c"><span class="id" title="variable">α</span></a> <a class="idref" href="clutch.rel_logic.spec_ra.html#537f9bfe1a4246c42baec6fa8e98c8aa"><span class="id" title="notation">↪ₛ</span></a> <a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#N:177"><span class="id" title="variable">N</span></a><a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#n:179"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#ns:180"><span class="id" title="variable">ns</span></a><a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>%<span class="id" title="var">I</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_simple_replace"><span class="id" title="definition">envs_simple_replace</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#i1:175"><span class="id" title="variable">i1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#i1:175"><span class="id" title="variable">i1</span></a> (<a class="idref" href="clutch.rel_logic.rel_tactics.html#6c4094f9b63338707c6722c88f398d2c"><span class="id" title="variable">α</span></a> <a class="idref" href="clutch.rel_logic.spec_ra.html#537f9bfe1a4246c42baec6fa8e98c8aa"><span class="id" title="notation">↪ₛ</span></a> <a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#N:177"><span class="id" title="variable">N</span></a><a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#ns:180"><span class="id" title="variable">ns</span></a><a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>)) <a class="idref" href="clutch.rel_logic.rel_tactics.html#a61293557dfd27d8d58c8905bda3f7b8"><span class="id" title="variable">ℶ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#220d919f3864107fa0cd56d07b201145"><span class="id" title="variable">ℶ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.rel_tactics.html#tres:183"><span class="id" title="variable">tres</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#K:171"><span class="id" title="variable">K</span></a> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.of_val"><span class="id" title="abbreviation">of_val</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.rel_tactics.html#n:179"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#220d919f3864107fa0cd56d07b201145"><span class="id" title="variable">ℶ2</span></a> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:174"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e:181"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#tres:183"><span class="id" title="variable">tres</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:184"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#a61293557dfd27d8d58c8905bda3f7b8"><span class="id" title="variable">ℶ1</span></a> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#E:174"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#e:181"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#t:182"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.rel_tactics.html#A:184"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails_unseal"><span class="id" title="definition">envs_entails_unseal</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> -&gt; ????? <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">t</span> <span class="id" title="var">tres</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_simple_replace_sound"><span class="id" title="lemma">envs_simple_replace_sound</span></a> //; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#right_id"><span class="id" title="definition">right_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.rel_logic.rel_rules.html#refines_rand_r"><span class="id" title="definition">refines_rand_r</span></a> <span class="id" title="var">_</span> <span class="id" title="var">K</span>) //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_l"><span class="id" title="lemma">bi.wand_elim_l</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Set</span> <span class="id" title="var">Warnings</span> "-cast-in-pattern".<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_rand_l" <span class="id" title="var">open_constr</span>(<span class="id" title="var">ef</span>) "in" <span class="id" title="var">open_constr</span>(<span class="id" title="var">kf</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">solve_mapsto</span> <span class="id" title="var">_</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">α</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (?<span class="id" title="var">α</span> <a class="idref" href="clutch.rel_logic.primitive_laws.html#52c0998123349fcc3e1f8d05ae50419f"><span class="id" title="notation">↪</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">I</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <span class="id" title="var">α</span> <span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssumptionCore</span> || <span class="id" title="tactic">fail</span> "rel_rand_l: cannot find" <span class="id" title="var">α</span> "↪ ?" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">rel_reshape_cont_l</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">e'</span> <span class="id" title="var">ef</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">K</span> <span class="id" title="var">kf</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.rel_logic.rel_tactics.html#tac_rel_rand_l"><span class="id" title="lemma">tac_rel_rand_l</span></a> <span class="id" title="var">K</span>); [|<span class="id" title="tactic">reflexivity</span>|..])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">fail</span> 1 "rel_rand_l: cannot find 'Rand'"];<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;remaining&nbsp;goals&nbsp;are&nbsp;from&nbsp;tac_rel_rand_l&nbsp;(except&nbsp;for&nbsp;the&nbsp;first&nbsp;one,&nbsp;which&nbsp;has&nbsp;already&nbsp;been&nbsp;solved&nbsp;by&nbsp;this&nbsp;point)&nbsp;*)</span><br/>
&nbsp;&nbsp;[<span class="id" title="var">iSolveTC</span><br/>
&nbsp;&nbsp;|<span class="id" title="var">solve_mapsto</span> ()<br/>
&nbsp;&nbsp;|<span class="id" title="var">reduction.pm_reflexivity</span> || <span class="id" title="tactic">fail</span> "rel_rand_l: this should not happen O-:"<br/>
&nbsp;&nbsp;|<span class="id" title="tactic">reflexivity</span><br/>
&nbsp;&nbsp;|<span class="id" title="var">rel_finish</span>  </div>

<div class="doc">
new goal </div>
<div class="code">
].<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_rand_l" := <span class="id" title="var">rel_pures_l</span> ; <span class="id" title="var">rel_rand_l</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Tactic&nbsp;Notation&nbsp;"rel_rand_l_atomic"&nbsp;:=&nbsp;rel_apply_l&nbsp;refines_rand_l.&nbsp;*)</span><br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_rand_r" <span class="id" title="var">open_constr</span>(<span class="id" title="var">ef</span>) "in" <span class="id" title="var">open_constr</span>(<span class="id" title="var">kf</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">solve_mapsto</span> <span class="id" title="var">_</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (?<span class="id" title="var">l</span> <a class="idref" href="clutch.rel_logic.spec_ra.html#537f9bfe1a4246c42baec6fa8e98c8aa"><span class="id" title="notation">↪ₛ</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">I</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <span class="id" title="var">l</span> <span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssumptionCore</span> || <span class="id" title="tactic">fail</span> "rel_rand_r: cannot find" <span class="id" title="var">l</span> "↪ₛ ?" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">rel_reshape_cont_r</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">e'</span> <span class="id" title="var">ef</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">K</span> <span class="id" title="var">kf</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.rel_logic.rel_tactics.html#tac_rel_rand_r"><span class="id" title="lemma">tac_rel_rand_r</span></a> <span class="id" title="var">K</span>); [|<span class="id" title="tactic">reflexivity</span>|..])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">fail</span> 1 "rel_rand_r: cannot find 'Rand'"];<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;remaining&nbsp;goals&nbsp;are&nbsp;from&nbsp;tac_rel_rand_r&nbsp;(except&nbsp;for&nbsp;the&nbsp;first&nbsp;one,&nbsp;which&nbsp;has&nbsp;already&nbsp;been&nbsp;solved&nbsp;by&nbsp;this&nbsp;point)&nbsp;*)</span><br/>
&nbsp;&nbsp;[<span class="id" title="var">iSolveTC</span><br/>
&nbsp;&nbsp;|<span class="id" title="var">solve_ndisj</span> || <span class="id" title="tactic">fail</span> "rel_rand_r: cannot prove 'nclose specN ⊆ ?'"<br/>
&nbsp;&nbsp;|<span class="id" title="var">solve_mapsto</span> ()<br/>
&nbsp;&nbsp;|<span class="id" title="var">reduction.pm_reflexivity</span> || <span class="id" title="tactic">fail</span> "rel_rand_r: this should not happen O-:"<br/>
&nbsp;&nbsp;|<span class="id" title="tactic">reflexivity</span><br/>
&nbsp;&nbsp;|<span class="id" title="var">rel_finish</span>  </div>

<div class="doc">
new goal </div>
<div class="code">
].<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_rand_r" := <span class="id" title="var">rel_pures_r</span> ; <span class="id" title="var">rel_rand_r</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;handling&nbsp;of&nbsp;beta-reductions&nbsp;is&nbsp;special&nbsp;because&nbsp;it&nbsp;also&nbsp;unlocks<br/>
&nbsp;the&nbsp;locked&nbsp;`RecV`&nbsp;values.&nbsp;The&nbsp;the&nbsp;comments&nbsp;for&nbsp;the&nbsp;`wp_rec`&nbsp;tactic&nbsp;in<br/>
&nbsp;the&nbsp;heap_lang<br/>
&nbsp;proofmode.<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_rec_l" :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> := <a class="idref" href="clutch.prob_lang.class_instances.html#AsRecV_recv"><span class="id" title="definition">AsRecV_recv</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="var">rel_pure_l</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.App"><span class="id" title="constructor">App</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_rec_r" :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> := <a class="idref" href="clutch.prob_lang.class_instances.html#AsRecV_recv"><span class="id" title="definition">AsRecV_recv</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="var">rel_pure_r</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.App"><span class="id" title="constructor">App</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>

<br/>
</div>

<div class="doc">
For backwards compatibility 
</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "rel_seq_l" := <span class="id" title="var">rel_pure_l</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.App"><span class="id" title="constructor">App</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_let_l" := <span class="id" title="var">rel_pure_l</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.App"><span class="id" title="constructor">App</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_fst_l" := <span class="id" title="var">rel_pure_l</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Fst"><span class="id" title="constructor">Fst</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_snd_l" := <span class="id" title="var">rel_pure_l</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Snd"><span class="id" title="constructor">Snd</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_proj_l" := <span class="id" title="var">rel_pure_l</span> (<span class="id" title="var">_</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.PairV"><span class="id" title="constructor">PairV</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_case_inl_l" := <span class="id" title="var">rel_pure_l</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Case"><span class="id" title="constructor">Case</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_case_inr_l" := <span class="id" title="var">rel_pure_l</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Case"><span class="id" title="constructor">Case</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_case_l" := <span class="id" title="var">rel_pure_l</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Case"><span class="id" title="constructor">Case</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_binop_l" := <span class="id" title="var">rel_pure_l</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.BinOp"><span class="id" title="constructor">BinOp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_op_l" := <span class="id" title="var">rel_binop_l</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_if_true_l" := <span class="id" title="var">rel_pure_l</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.If"><span class="id" title="constructor">If</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_if_false_l" := <span class="id" title="var">rel_pure_l</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.If"><span class="id" title="constructor">If</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_if_l" := <span class="id" title="var">rel_pure_l</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.If"><span class="id" title="constructor">If</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_seq_r" := <span class="id" title="var">rel_pure_r</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.App"><span class="id" title="constructor">App</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_let_r" := <span class="id" title="var">rel_pure_r</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.App"><span class="id" title="constructor">App</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_fst_r" := <span class="id" title="var">rel_pure_r</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Fst"><span class="id" title="constructor">Fst</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_snd_r" := <span class="id" title="var">rel_pure_r</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Snd"><span class="id" title="constructor">Snd</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_proj_r" := <span class="id" title="var">rel_pure_r</span> (<span class="id" title="var">_</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.PairV"><span class="id" title="constructor">PairV</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_case_inl_r" := <span class="id" title="var">rel_pure_r</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Case"><span class="id" title="constructor">Case</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_case_inr_r" := <span class="id" title="var">rel_pure_r</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Case"><span class="id" title="constructor">Case</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_case_r" := <span class="id" title="var">rel_pure_r</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Case"><span class="id" title="constructor">Case</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_binop_r" := <span class="id" title="var">rel_pure_r</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.BinOp"><span class="id" title="constructor">BinOp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_op_r" := <span class="id" title="var">rel_binop_r</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_if_true_r" := <span class="id" title="var">rel_pure_r</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.If"><span class="id" title="constructor">If</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_if_false_r" := <span class="id" title="var">rel_pure_r</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.If"><span class="id" title="constructor">If</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "rel_if_r" := <span class="id" title="var">rel_pure_r</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.If"><span class="id" title="constructor">If</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rel_arrow_val</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">rel_pures_l</span>; <span class="id" title="var">rel_pures_r</span>;<br/>
&nbsp;&nbsp;(<span class="id" title="var">iApply</span> <a class="idref" href="clutch.rel_logic.rel_rules.html#refines_arrow_val"><span class="id" title="lemma">refines_arrow_val</span></a><br/>
&nbsp;&nbsp;|| <span class="id" title="tactic">fail</span> "rel_arrow_val: cannot apply the closure rule");<br/>
&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rel_arrow</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">rel_pures_l</span>; <span class="id" title="var">rel_pures_r</span>;<br/>
&nbsp;&nbsp;(<span class="id" title="var">iApply</span> <a class="idref" href="clutch.rel_logic.rel_rules.html#refines_arrow"><span class="id" title="lemma">refines_arrow</span></a><br/>
&nbsp;&nbsp;|| <span class="id" title="tactic">fail</span> "rel_arrow: cannot apply the closure rule");<br/>
&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
