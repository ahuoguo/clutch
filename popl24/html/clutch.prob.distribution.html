<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">clutch.prob.distribution</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Reals.html#"><span class="id" title="library">Reals</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.micromega.Psatz.html#"><span class="id" title="library">Psatz</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq.ssr</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coquelicot</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#"><span class="id" title="library">Rcomplements</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rbar.html#"><span class="id" title="library">Rbar</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#"><span class="id" title="library">Series</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#"><span class="id" title="library">Lim_seq</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#"><span class="id" title="library">Hierarchy</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#"><span class="id" title="library">countable</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#"><span class="id" title="library">finite</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.prelude</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="clutch.prelude.base.html#"><span class="id" title="library">base</span></a> <a class="idref" href="clutch.prelude.Reals_ext.html#"><span class="id" title="library">Reals_ext</span></a> <a class="idref" href="clutch.prelude.Coquelicot_ext.html#"><span class="id" title="library">Coquelicot_ext</span></a> <a class="idref" href="clutch.prelude.Series_ext.html#"><span class="id" title="library">Series_ext</span></a> <a class="idref" href="clutch.prelude.classical.html#"><span class="id" title="library">classical</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.prob</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="clutch.prob.countable_sum.html#"><span class="id" title="library">countable_sum</span></a>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="distr" class="idref" href="#distr"><span class="id" title="record">distr</span></a> (<a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) `{<a id="H:3" class="idref" href="#H:3"><span class="id" title="binder">Countable</span></a> <a id="H:3" class="idref" href="#H:3"><span class="id" title="binder">A</span></a>} := <span class="id" title="var">MkDistr</span> {<br/>
&nbsp;&nbsp;<a id="pmf" class="idref" href="#pmf"><span class="id" title="projection">pmf</span></a> :&gt; <a class="idref" href="clutch.prob.distribution.html#A:1"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>;<br/>
&nbsp;&nbsp;<a id="pmf_pos" class="idref" href="#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:6" class="idref" href="#a:6"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#pmf:5"><span class="id" title="method">pmf</span></a> <a class="idref" href="clutch.prob.distribution.html#a:6"><span class="id" title="variable">a</span></a>;<br/>
&nbsp;&nbsp;<a id="pmf_ex_seriesC" class="idref" href="#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> : <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#pmf:5"><span class="id" title="method">pmf</span></a>;<br/>
&nbsp;&nbsp;<a id="pmf_SeriesC" class="idref" href="#pmf_SeriesC"><span class="id" title="projection">pmf_SeriesC</span></a> : <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#pmf:5"><span class="id" title="method">pmf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="clutch.prob.distribution.html#pmf_SeriesC"><span class="id" title="projection">pmf_SeriesC</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">pmf_pos</span> <span class="id" title="var">pmf_ex_seriesC</span> <span class="id" title="var">pmf_SeriesC</span> : <span class="id" title="var">core</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="distributions" class="idref" href="#distributions"><span class="id" title="section">distributions</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:12" class="idref" href="#H:12"><span class="id" title="binder">Countable</span></a> <a id="H:12" class="idref" href="#H:12"><span class="id" title="binder">A</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">μ</span> <span class="id" title="var">d</span> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="distr_dec" class="idref" href="#distr_dec"><span class="id" title="instance">distr_dec</span></a> <a id="46e20c87cf076939d880dd5152987a0e" class="idref" href="#46e20c87cf076939d880dd5152987a0e"><span class="id" title="binder">μ1</span></a> <a id="6816787de3d81e12652728d0efce690d" class="idref" href="#6816787de3d81e12652728d0efce690d"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Decision"><span class="id" title="class">Decision</span></a> (<a class="idref" href="clutch.prob.distribution.html#46e20c87cf076939d880dd5152987a0e"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#6816787de3d81e12652728d0efce690d"><span class="id" title="variable">μ2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.classical.html#make_decision"><span class="id" title="lemma">make_decision</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_le_1" class="idref" href="#pmf_le_1"><span class="id" title="lemma">pmf_le_1</span></a> <a id="b00ab9843263666e5fa0e80e7f537612" class="idref" href="#b00ab9843263666e5fa0e80e7f537612"><span class="id" title="binder">μ</span></a> <a id="a:16" class="idref" href="#a:16"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#b00ab9843263666e5fa0e80e7f537612"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:16"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':18" class="idref" href="#a':18"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a':17"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; [|<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_SeriesC"><span class="id" title="projection">pmf_SeriesC</span></a> <span class="id" title="var">μ</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_SeriesC_ge_0" class="idref" href="#pmf_SeriesC_ge_0"><span class="id" title="lemma">pmf_SeriesC_ge_0</span></a> <a id="40be0ccef18ee2ad161184284316daf3" class="idref" href="#40be0ccef18ee2ad161184284316daf3"><span class="id" title="binder">μ</span></a> : 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#40be0ccef18ee2ad161184284316daf3"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> : <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0"><span class="id" title="lemma">SeriesC_ge_0</span></a>; [<span class="id" title="var">done</span>|]. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_0"><span class="id" title="lemma">ex_seriesC_0</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le'"><span class="id" title="lemma">SeriesC_le'</span></a>; [<span class="id" title="var">done</span>| |<span class="id" title="var">done</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_0"><span class="id" title="lemma">ex_seriesC_0</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">pmf_le_1</span> : <span class="id" title="var">core</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">pmf_SeriesC_ge_0</span> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_ex_seriesC_mult_fn" class="idref" href="#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a> <a id="9a5f82bf14e2d9fa7ef57f7e19185de2" class="idref" href="#9a5f82bf14e2d9fa7ef57f7e19185de2"><span class="id" title="binder">μ</span></a> (<a id="f:21" class="idref" href="#f:21"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="n:22" class="idref" href="#n:22"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:23" class="idref" href="#a:23"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:21"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:23"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#n:22"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:24" class="idref" href="#a:24"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#9a5f82bf14e2d9fa7ef57f7e19185de2"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:24"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:21"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:24"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">n</span> <span class="id" title="var">Hf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:26" class="idref" href="#a:26"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:25"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">n</span>)); [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_ex_seriesC_mult" class="idref" href="#pmf_ex_seriesC_mult"><span class="id" title="lemma">pmf_ex_seriesC_mult</span></a> (<a id="5c26eec22e6f9f21e49df9b0e7197da4" class="idref" href="#5c26eec22e6f9f21e49df9b0e7197da4"><span class="id" title="binder">μ1</span></a> <a id="179f0da0159eb860ffce1f34a1ccce0c" class="idref" href="#179f0da0159eb860ffce1f34a1ccce0c"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:29" class="idref" href="#a:29"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#5c26eec22e6f9f21e49df9b0e7197da4"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:29"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#179f0da0159eb860ffce1f34a1ccce0c"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#a:29"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> 1. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_le_SeriesC" class="idref" href="#pmf_le_SeriesC"><span class="id" title="lemma">pmf_le_SeriesC</span></a> `{<a id="H0:31" class="idref" href="#H0:31"><span class="id" title="binder">Countable</span></a> <a id="H0:31" class="idref" href="#H0:31"><span class="id" title="binder">A</span></a>} (<a id="ef4ae7934778aeed4bf39382b8b5f724" class="idref" href="#ef4ae7934778aeed4bf39382b8b5f724"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) (<a id="a:33" class="idref" href="#a:33"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ef4ae7934778aeed4bf39382b8b5f724"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:33"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#ef4ae7934778aeed4bf39382b8b5f724"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_elem"><span class="id" title="lemma">SeriesC_ge_elem</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_1_eq_SeriesC" class="idref" href="#pmf_1_eq_SeriesC"><span class="id" title="lemma">pmf_1_eq_SeriesC</span></a> (<a id="bcccfa00454396b394dc5b13cbd521a8" class="idref" href="#bcccfa00454396b394dc5b13cbd521a8"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) (<a id="a:35" class="idref" href="#a:35"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#bcccfa00454396b394dc5b13cbd521a8"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:35"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#bcccfa00454396b394dc5b13cbd521a8"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:35"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#bcccfa00454396b394dc5b13cbd521a8"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hμ</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_le_SeriesC"><span class="id" title="lemma">pmf_le_SeriesC</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_SeriesC"><span class="id" title="projection">pmf_SeriesC</span></a> <span class="id" title="var">μ</span>). <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_plus_neq_SeriesC" class="idref" href="#pmf_plus_neq_SeriesC"><span class="id" title="lemma">pmf_plus_neq_SeriesC</span></a> `{<a id="H0:37" class="idref" href="#H0:37"><span class="id" title="binder">Countable</span></a> <a id="H0:37" class="idref" href="#H0:37"><span class="id" title="binder">A</span></a>} (<a id="857527bcfb5911404b587ad2f1e079e7" class="idref" href="#857527bcfb5911404b587ad2f1e079e7"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) (<a id="a:39" class="idref" href="#a:39"><span class="id" title="binder">a</span></a> <a id="a':40" class="idref" href="#a':40"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#a:39"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="clutch.prob.distribution.html#a':40"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#857527bcfb5911404b587ad2f1e079e7"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:39"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.distribution.html#857527bcfb5911404b587ad2f1e079e7"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a':40"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#857527bcfb5911404b587ad2f1e079e7"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_split_elem"><span class="id" title="lemma">SeriesC_split_elem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a</span>); [|<span class="id" title="var">done</span>|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prelude.Reals_ext.html#Rle_plus_plus"><span class="id" title="lemma">Rle_plus_plus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="var">a</span> (<span class="id" title="var">μ</span> <span class="id" title="var">a</span>))|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_split_elem"><span class="id" title="lemma">SeriesC_split_elem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a'</span>); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a>; [|<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> <span class="id" title="var">μ</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Reals_ext.html#Rle_plus_l"><span class="id" title="lemma">Rle_plus_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="var">a'</span> (<span class="id" title="var">μ</span> <span class="id" title="var">a'</span>))|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0"><span class="id" title="lemma">SeriesC_ge_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a>; [|<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> <span class="id" title="var">μ</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_1_supp_eq" class="idref" href="#pmf_1_supp_eq"><span class="id" title="lemma">pmf_1_supp_eq</span></a> (<a id="097b8060c48d1509e2273bce6bb2e7d6" class="idref" href="#097b8060c48d1509e2273bce6bb2e7d6"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) (<a id="a:42" class="idref" href="#a:42"><span class="id" title="binder">a</span></a> <a id="a':43" class="idref" href="#a':43"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#097b8060c48d1509e2273bce6bb2e7d6"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:42"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#097b8060c48d1509e2273bce6bb2e7d6"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a':43"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#a:42"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#a':43"><span class="id" title="variable">a'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ha</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a'</span>)) <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hneq</span>]; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_le_SeriesC"><span class="id" title="lemma">pmf_le_SeriesC</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_1_eq_SeriesC"><span class="id" title="lemma">pmf_1_eq_SeriesC</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ha</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_plus_neq_SeriesC"><span class="id" title="lemma">pmf_plus_neq_SeriesC</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span> <span class="id" title="var">Hneq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;N.B.&nbsp;uses&nbsp;<span class="inlinecode"><span class="id" title="var">functional_extensionality</span></span>&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">proof_irrelevance</span></span>&nbsp;axioms&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_ext" class="idref" href="#distr_ext"><span class="id" title="lemma">distr_ext</span></a> (<a id="d1:44" class="idref" href="#d1:44"><span class="id" title="binder">d1</span></a> <a id="d2:45" class="idref" href="#d2:45"><span class="id" title="binder">d2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:46" class="idref" href="#a:46"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#d1:44"><span class="id" title="variable">d1</span></a>.(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="clutch.prob.distribution.html#a:46"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#d2:45"><span class="id" title="variable">d2</span></a>.(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="clutch.prob.distribution.html#a:46"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#d1:44"><span class="id" title="variable">d1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#d2:45"><span class="id" title="variable">d2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pmf1</span> ?], <span class="id" title="var">d2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pmf2</span> ?] =&gt;/=. <span class="id" title="tactic">intros</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">pmf1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">pmf2</span>) <span class="id" title="keyword">as</span> -&gt;; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">extensionality</span> <span class="id" title="var">b</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Logic.PropExtensionality.html#proof_irrelevance"><span class="id" title="lemma">proof_irrelevance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_ext_pmf" class="idref" href="#distr_ext_pmf"><span class="id" title="lemma">distr_ext_pmf</span></a> (<a id="d1:47" class="idref" href="#d1:47"><span class="id" title="binder">d1</span></a> <a id="d2:48" class="idref" href="#d2:48"><span class="id" title="binder">d2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#d1:47"><span class="id" title="variable">d1</span></a>.(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>)  <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#d2:48"><span class="id" title="variable">d2</span></a>.(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#d1:47"><span class="id" title="variable">d1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#d2:48"><span class="id" title="variable">d2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pmf1</span> ?], <span class="id" title="var">d2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pmf2</span> ?] =&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>. <span class="id" title="tactic">intros</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Logic.PropExtensionality.html#proof_irrelevance"><span class="id" title="lemma">proof_irrelevance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_eq_0_le" class="idref" href="#pmf_eq_0_le"><span class="id" title="lemma">pmf_eq_0_le</span></a> (<a id="b6654d0c1bd9ffdd8b574f57429b81b9" class="idref" href="#b6654d0c1bd9ffdd8b574f57429b81b9"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) (<a id="a:50" class="idref" href="#a:50"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#b6654d0c1bd9ffdd8b574f57429b81b9"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:50"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#b6654d0c1bd9ffdd8b574f57429b81b9"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:50"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hlt</span>%(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rle_not_gt"><span class="id" title="lemma">Rle_not_gt</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span>)) |]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_eq_0_not_gt_0" class="idref" href="#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a> (<a id="acaa67bc50c55f9c6b8f076fb21cb4a0" class="idref" href="#acaa67bc50c55f9c6b8f076fb21cb4a0"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) (<a id="a:52" class="idref" href="#a:52"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#acaa67bc50c55f9c6b8f076fb21cb4a0"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:52"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#acaa67bc50c55f9c6b8f076fb21cb4a0"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:52"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?%<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rnot_gt_ge"><span class="id" title="lemma">Rnot_gt_ge</span></a>%<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rge_le"><span class="id" title="lemma">Rge_le</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_eq_0_le"><span class="id" title="lemma">pmf_eq_0_le</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#distributions"><span class="id" title="section">distributions</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">pmf_le_1</span> : <span class="id" title="var">core</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">pmf_SeriesC_ge_0</span> : <span class="id" title="var">core</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1"></a><h1 class="section">Sum-swapping equalities for distributions</h1>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="distr_double_swap_ex" class="idref" href="#distr_double_swap_ex"><span class="id" title="lemma">distr_double_swap_ex</span></a> `{<a id="H:55" class="idref" href="#H:55"><span class="id" title="binder">Countable</span></a> <a id="H:55" class="idref" href="#H:55"><span class="id" title="binder">A</span></a>, <a id="H0:58" class="idref" href="#H0:58"><span class="id" title="binder">Countable</span></a> <a id="H0:58" class="idref" href="#H0:58"><span class="id" title="binder">B</span></a>} (<a id="f:59" class="idref" href="#f:59"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:53"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:56"><span class="id" title="variable">B</span></a>) (<a id="066337ab41c121e2134e09daaf3da79d" class="idref" href="#066337ab41c121e2134e09daaf3da79d"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:53"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:61" class="idref" href="#a:61"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:53"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:62" class="idref" href="#b:62"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:56"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#066337ab41c121e2134e09daaf3da79d"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:61"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:59"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:61"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:62"><span class="id" title="variable">b</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:63" class="idref" href="#b:63"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:56"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:64" class="idref" href="#a:64"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:53"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#066337ab41c121e2134e09daaf3da79d"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:64"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:59"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:64"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:63"><span class="id" title="variable">b</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC_ex_double"><span class="id" title="lemma">fubini_pos_seriesC_ex_double</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:70" class="idref" href="#pat:70"><span class="id" title="binder">(</span></a><a id="pat:70" class="idref" href="#pat:70"><span class="id" title="binder">a</span></a><a id="pat:70" class="idref" href="#pat:70"><span class="id" title="binder">,</span></a> <a id="pat:70" class="idref" href="#pat:70"><span class="id" title="binder">b</span></a><a id="pat:70" class="idref" href="#pat:70"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:66"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:66"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:65"><span class="id" title="variable">b</span></a>)); [| |<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_swap" class="idref" href="#distr_double_swap"><span class="id" title="lemma">distr_double_swap</span></a> `{<a id="H:73" class="idref" href="#H:73"><span class="id" title="binder">Countable</span></a> <a id="H:73" class="idref" href="#H:73"><span class="id" title="binder">A</span></a>, <a id="H0:76" class="idref" href="#H0:76"><span class="id" title="binder">Countable</span></a> <a id="H0:76" class="idref" href="#H0:76"><span class="id" title="binder">B</span></a>} (<a id="f:77" class="idref" href="#f:77"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:71"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:74"><span class="id" title="variable">B</span></a>) (<a id="ac6cfe8e089a1ca26383433e291b4d25" class="idref" href="#ac6cfe8e089a1ca26383433e291b4d25"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:71"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:79" class="idref" href="#b:79"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:74"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:80" class="idref" href="#a:80"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:71"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#ac6cfe8e089a1ca26383433e291b4d25"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:80"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:77"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:80"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:79"><span class="id" title="variable">b</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:81" class="idref" href="#a:81"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:71"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:82" class="idref" href="#b:82"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:74"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#ac6cfe8e089a1ca26383433e291b4d25"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:81"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:77"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:81"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:82"><span class="id" title="variable">b</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:88" class="idref" href="#pat:88"><span class="id" title="binder">(</span></a><a id="pat:88" class="idref" href="#pat:88"><span class="id" title="binder">a</span></a><a id="pat:88" class="idref" href="#pat:88"><span class="id" title="binder">,</span></a> <a id="pat:88" class="idref" href="#pat:88"><span class="id" title="binder">b</span></a><a id="pat:88" class="idref" href="#pat:88"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:84"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:84"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:83"><span class="id" title="variable">b</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_ext"><span class="id" title="lemma">ex_seriesC_ext</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="j:91" class="idref" href="#j:91"><span class="id" title="binder">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#j:89"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="k:92" class="idref" href="#k:92"><span class="id" title="binder">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#j:89"><span class="id" title="variable">j</span></a> <a class="idref" href="clutch.prob.distribution.html#k:90"><span class="id" title="variable">k</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:94" class="idref" href="#a:94"><span class="id" title="binder">a</span></a> : <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:93"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> 1)); [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_lr" class="idref" href="#distr_double_lr"><span class="id" title="lemma">distr_double_lr</span></a> `{<a id="H:97" class="idref" href="#H:97"><span class="id" title="binder">Countable</span></a> <a id="H:97" class="idref" href="#H:97"><span class="id" title="binder">A</span></a>, <a id="H0:100" class="idref" href="#H0:100"><span class="id" title="binder">Countable</span></a> <a id="H0:100" class="idref" href="#H0:100"><span class="id" title="binder">B</span></a>} (<a id="f:101" class="idref" href="#f:101"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:95"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:98"><span class="id" title="variable">B</span></a>) (<a id="3e2f7d798f846264ceb3a701650f3bd2" class="idref" href="#3e2f7d798f846264ceb3a701650f3bd2"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:95"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:105" class="idref" href="#pat:105"><span class="id" title="binder">(</span></a><a id="pat:105" class="idref" href="#pat:105"><span class="id" title="binder">a</span></a><a id="pat:105" class="idref" href="#pat:105"><span class="id" title="binder">,</span></a> <a id="pat:105" class="idref" href="#pat:105"><span class="id" title="binder">b</span></a><a id="pat:105" class="idref" href="#pat:105"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#3e2f7d798f846264ceb3a701650f3bd2"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:104"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:101"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:104"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:103"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:106" class="idref" href="#a:106"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:95"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:107" class="idref" href="#b:107"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:98"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#3e2f7d798f846264ceb3a701650f3bd2"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:106"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:101"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:106"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:107"><span class="id" title="variable">b</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC_prod_lr"><span class="id" title="lemma">fubini_pos_seriesC_prod_lr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:113" class="idref" href="#pat:113"><span class="id" title="binder">(</span></a><a id="pat:113" class="idref" href="#pat:113"><span class="id" title="binder">a</span></a><a id="pat:113" class="idref" href="#pat:113"><span class="id" title="binder">,</span></a> <a id="pat:113" class="idref" href="#pat:113"><span class="id" title="binder">b</span></a><a id="pat:113" class="idref" href="#pat:113"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:109"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:109"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:108"><span class="id" title="variable">b</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_prod"><span class="id" title="lemma">ex_seriesC_prod</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_rl" class="idref" href="#distr_double_rl"><span class="id" title="lemma">distr_double_rl</span></a> `{<a id="H:116" class="idref" href="#H:116"><span class="id" title="binder">Countable</span></a> <a id="H:116" class="idref" href="#H:116"><span class="id" title="binder">A</span></a>, <a id="H0:119" class="idref" href="#H0:119"><span class="id" title="binder">Countable</span></a> <a id="H0:119" class="idref" href="#H0:119"><span class="id" title="binder">B</span></a>} (<a id="f:120" class="idref" href="#f:120"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:114"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:117"><span class="id" title="variable">B</span></a>) (<a id="da87514debb40ff8be292808732d208e" class="idref" href="#da87514debb40ff8be292808732d208e"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:114"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:124" class="idref" href="#pat:124"><span class="id" title="binder">(</span></a><a id="pat:124" class="idref" href="#pat:124"><span class="id" title="binder">a</span></a><a id="pat:124" class="idref" href="#pat:124"><span class="id" title="binder">,</span></a> <a id="pat:124" class="idref" href="#pat:124"><span class="id" title="binder">b</span></a><a id="pat:124" class="idref" href="#pat:124"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#da87514debb40ff8be292808732d208e"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:123"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:120"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:123"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:122"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:125" class="idref" href="#b:125"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:117"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:126" class="idref" href="#a:126"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:114"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#da87514debb40ff8be292808732d208e"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:126"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:120"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:126"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:125"><span class="id" title="variable">b</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC_prod_rl"><span class="id" title="lemma">fubini_pos_seriesC_prod_rl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:132" class="idref" href="#pat:132"><span class="id" title="binder">(</span></a><a id="pat:132" class="idref" href="#pat:132"><span class="id" title="binder">a</span></a><a id="pat:132" class="idref" href="#pat:132"><span class="id" title="binder">,</span></a> <a id="pat:132" class="idref" href="#pat:132"><span class="id" title="binder">b</span></a><a id="pat:132" class="idref" href="#pat:132"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:128"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:128"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:127"><span class="id" title="variable">b</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_prod"><span class="id" title="lemma">ex_seriesC_prod</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_swap_rmarg_ex" class="idref" href="#distr_double_swap_rmarg_ex"><span class="id" title="lemma">distr_double_swap_rmarg_ex</span></a> `{<a id="H:135" class="idref" href="#H:135"><span class="id" title="binder">Countable</span></a> <a id="H:135" class="idref" href="#H:135"><span class="id" title="binder">A</span></a>, <a id="H0:138" class="idref" href="#H0:138"><span class="id" title="binder">Countable</span></a> <a id="H0:138" class="idref" href="#H0:138"><span class="id" title="binder">B</span></a>, <a id="H1:141" class="idref" href="#H1:141"><span class="id" title="binder">Countable</span></a> <a id="H1:141" class="idref" href="#H1:141"><span class="id" title="binder">B'</span></a>}<br/>
&nbsp;&nbsp;(<a id="f:142" class="idref" href="#f:142"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:133"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#B:136"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B':139"><span class="id" title="variable">B'</span></a>)) (<a id="c9f20476bf704c70b518d4f918fbc8a3" class="idref" href="#c9f20476bf704c70b518d4f918fbc8a3"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:133"><span class="id" title="variable">A</span></a>) <a id="b':144" class="idref" href="#b':144"><span class="id" title="binder">b'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:145" class="idref" href="#a:145"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:133"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:146" class="idref" href="#b:146"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:136"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#c9f20476bf704c70b518d4f918fbc8a3"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:145"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:142"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:145"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:146"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b':144"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:147" class="idref" href="#b:147"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:136"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:148" class="idref" href="#a:148"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:133"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#c9f20476bf704c70b518d4f918fbc8a3"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:148"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:142"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:148"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:147"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b':144"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC_ex_double"><span class="id" title="lemma">fubini_pos_seriesC_ex_double</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:154" class="idref" href="#pat:154"><span class="id" title="binder">(</span></a><a id="pat:154" class="idref" href="#pat:154"><span class="id" title="binder">a</span></a><a id="pat:154" class="idref" href="#pat:154"><span class="id" title="binder">,</span></a> <a id="pat:154" class="idref" href="#pat:154"><span class="id" title="binder">b</span></a><a id="pat:154" class="idref" href="#pat:154"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:150"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:150"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:149"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); [| |<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_rmarg"><span class="id" title="lemma">ex_seriesC_rmarg</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_swap_rmarg" class="idref" href="#distr_double_swap_rmarg"><span class="id" title="lemma">distr_double_swap_rmarg</span></a> `{<a id="H:157" class="idref" href="#H:157"><span class="id" title="binder">Countable</span></a> <a id="H:157" class="idref" href="#H:157"><span class="id" title="binder">A</span></a>, <a id="H0:160" class="idref" href="#H0:160"><span class="id" title="binder">Countable</span></a> <a id="H0:160" class="idref" href="#H0:160"><span class="id" title="binder">B</span></a>, <a id="H1:163" class="idref" href="#H1:163"><span class="id" title="binder">Countable</span></a> <a id="H1:163" class="idref" href="#H1:163"><span class="id" title="binder">B'</span></a>}<br/>
&nbsp;&nbsp;(<a id="f:164" class="idref" href="#f:164"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:155"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#B:158"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B':161"><span class="id" title="variable">B'</span></a>)) (<a id="1e3099c1c57b0baccb352c40201950dc" class="idref" href="#1e3099c1c57b0baccb352c40201950dc"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:155"><span class="id" title="variable">A</span></a>) <a id="b':166" class="idref" href="#b':166"><span class="id" title="binder">b'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:167" class="idref" href="#a:167"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:155"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:168" class="idref" href="#b:168"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:158"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#1e3099c1c57b0baccb352c40201950dc"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:167"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:164"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:167"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:168"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b':166"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:169" class="idref" href="#b:169"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:158"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:170" class="idref" href="#a:170"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:155"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#1e3099c1c57b0baccb352c40201950dc"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:170"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:164"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:170"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:169"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b':166"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:179" class="idref" href="#pat:179"><span class="id" title="binder">(</span></a><a id="pat:179" class="idref" href="#pat:179"><span class="id" title="binder">a</span></a><a id="pat:179" class="idref" href="#pat:179"><span class="id" title="binder">,</span></a> <a id="pat:179" class="idref" href="#pat:179"><span class="id" title="binder">b</span></a><a id="pat:179" class="idref" href="#pat:179"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:172"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:172"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:171"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); [<span class="id" title="var">done</span>| | |].<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_rmarg"><span class="id" title="lemma">ex_seriesC_rmarg</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [<span class="id" title="var">real_solver</span>|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0"><span class="id" title="lemma">SeriesC_ge_0</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_rmarg"><span class="id" title="lemma">ex_seriesC_rmarg</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -{2}(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (<span class="id" title="var">μ</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>))); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#seriesC_rmarg_le"><span class="id" title="lemma">seriesC_rmarg_le</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [<span class="id" title="var">real_solver</span>|<span class="id" title="var">done</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_swap_lmarg_ex" class="idref" href="#distr_double_swap_lmarg_ex"><span class="id" title="lemma">distr_double_swap_lmarg_ex</span></a> `{<a id="H:182" class="idref" href="#H:182"><span class="id" title="binder">Countable</span></a> <a id="H:182" class="idref" href="#H:182"><span class="id" title="binder">A</span></a>, <a id="H0:185" class="idref" href="#H0:185"><span class="id" title="binder">Countable</span></a> <a id="H0:185" class="idref" href="#H0:185"><span class="id" title="binder">B</span></a>, <a id="H1:188" class="idref" href="#H1:188"><span class="id" title="binder">Countable</span></a> <a id="H1:188" class="idref" href="#H1:188"><span class="id" title="binder">B'</span></a>}<br/>
&nbsp;&nbsp;(<a id="f:189" class="idref" href="#f:189"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:180"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#B:183"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B':186"><span class="id" title="variable">B'</span></a>)) (<a id="d6292f7c8173b89be0815f24d8c6c12f" class="idref" href="#d6292f7c8173b89be0815f24d8c6c12f"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:180"><span class="id" title="variable">A</span></a>) (<a id="b:191" class="idref" href="#b:191"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:183"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:192" class="idref" href="#a:192"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:180"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':193" class="idref" href="#b':193"><span class="id" title="binder">b'</span></a> : <a class="idref" href="clutch.prob.distribution.html#B':186"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#d6292f7c8173b89be0815f24d8c6c12f"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:192"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:189"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:192"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:191"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b':193"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':194" class="idref" href="#b':194"><span class="id" title="binder">b'</span></a> : <a class="idref" href="clutch.prob.distribution.html#B':186"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:195" class="idref" href="#a:195"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:180"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#d6292f7c8173b89be0815f24d8c6c12f"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:195"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:189"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:195"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:191"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b':194"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC_ex_double"><span class="id" title="lemma">fubini_pos_seriesC_ex_double</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:201" class="idref" href="#pat:201"><span class="id" title="binder">(</span></a><a id="pat:201" class="idref" href="#pat:201"><span class="id" title="binder">a</span></a><a id="pat:201" class="idref" href="#pat:201"><span class="id" title="binder">,</span></a> <a id="pat:201" class="idref" href="#pat:201"><span class="id" title="binder">b'</span></a><a id="pat:201" class="idref" href="#pat:201"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:197"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:197"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b':196"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_lmarg"><span class="id" title="lemma">ex_seriesC_lmarg</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [<span class="id" title="var">real_solver</span>|<span class="id" title="var">done</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_swap_lmarg" class="idref" href="#distr_double_swap_lmarg"><span class="id" title="lemma">distr_double_swap_lmarg</span></a> `{<a id="H:204" class="idref" href="#H:204"><span class="id" title="binder">Countable</span></a> <a id="H:204" class="idref" href="#H:204"><span class="id" title="binder">A</span></a>, <a id="H0:207" class="idref" href="#H0:207"><span class="id" title="binder">Countable</span></a> <a id="H0:207" class="idref" href="#H0:207"><span class="id" title="binder">B</span></a>, <a id="H1:210" class="idref" href="#H1:210"><span class="id" title="binder">Countable</span></a> <a id="H1:210" class="idref" href="#H1:210"><span class="id" title="binder">B'</span></a>}<br/>
&nbsp;&nbsp;(<a id="f:211" class="idref" href="#f:211"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:202"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#B:205"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B':208"><span class="id" title="variable">B'</span></a>)) (<a id="735a86cd0fdf7d8f8bedd1fed15de70a" class="idref" href="#735a86cd0fdf7d8f8bedd1fed15de70a"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:202"><span class="id" title="variable">A</span></a>) (<a id="b:213" class="idref" href="#b:213"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:205"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:214" class="idref" href="#a:214"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:202"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':215" class="idref" href="#b':215"><span class="id" title="binder">b'</span></a> : <a class="idref" href="clutch.prob.distribution.html#B':208"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#735a86cd0fdf7d8f8bedd1fed15de70a"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:214"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:211"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:214"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:213"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b':215"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':216" class="idref" href="#b':216"><span class="id" title="binder">b'</span></a> : <a class="idref" href="clutch.prob.distribution.html#B':208"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:217" class="idref" href="#a:217"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:202"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#735a86cd0fdf7d8f8bedd1fed15de70a"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:217"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:211"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:217"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:213"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b':216"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:226" class="idref" href="#pat:226"><span class="id" title="binder">(</span></a><a id="pat:226" class="idref" href="#pat:226"><span class="id" title="binder">a</span></a><a id="pat:226" class="idref" href="#pat:226"><span class="id" title="binder">,</span></a> <a id="pat:226" class="idref" href="#pat:226"><span class="id" title="binder">b'</span></a><a id="pat:226" class="idref" href="#pat:226"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:219"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:219"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b':218"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); [<span class="id" title="var">done</span>| | |].<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> . <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_lmarg"><span class="id" title="lemma">ex_seriesC_lmarg</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [<span class="id" title="var">real_solver</span>|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0"><span class="id" title="lemma">SeriesC_ge_0</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_lmarg"><span class="id" title="lemma">ex_seriesC_lmarg</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -{2}(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (<span class="id" title="var">μ</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>))); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#seriesC_lmarg_le"><span class="id" title="lemma">seriesC_lmarg_le</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [<span class="id" title="var">real_solver</span>|<span class="id" title="var">done</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab2"></a><h1 class="section">Monadic return</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="dret_pmf" class="idref" href="#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> `{<a id="H:229" class="idref" href="#H:229"><span class="id" title="binder">Countable</span></a> <a id="H:229" class="idref" href="#H:229"><span class="id" title="binder">A</span></a>} (<a id="a:230" class="idref" href="#a:230"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:227"><span class="id" title="variable">A</span></a>) : <a class="idref" href="clutch.prob.distribution.html#A:227"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="a':231" class="idref" href="#a':231"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:227"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a':231"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#a:230"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="dret" class="idref" href="#dret"><span class="id" title="definition">dret</span></a> `{<a id="H:234" class="idref" href="#H:234"><span class="id" title="binder">Countable</span></a> <a id="H:234" class="idref" href="#H:234"><span class="id" title="binder">A</span></a>} (<a id="a:235" class="idref" href="#a:235"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:232"><span class="id" title="variable">A</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:232"><span class="id" title="variable">A</span></a> := <a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> <a class="idref" href="clutch.prob.distribution.html#a:235"><span class="id" title="variable">a</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">nra</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_singleton"><span class="id" title="lemma">ex_seriesC_singleton</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="dret" class="idref" href="#dret"><span class="id" title="section">dret</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:238" class="idref" href="#H:238"><span class="id" title="binder">Countable</span></a> <a id="H:238" class="idref" href="#H:238"><span class="id" title="binder">A</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_1" class="idref" href="#dret_1"><span class="id" title="lemma">dret_1</span></a> (<a id="a:239" class="idref" href="#a:239"><span class="id" title="binder">a</span></a> <a id="a':240" class="idref" href="#a':240"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#a:239"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#a':240"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:239"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a':240"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> -&gt;. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_true_2"><span class="id" title="lemma">bool_decide_eq_true_2</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>. <span class="id" title="var">case_bool_decide</span>; [<span class="id" title="var">done</span>|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_1_1" class="idref" href="#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> (<a id="a:241" class="idref" href="#a:241"><span class="id" title="binder">a</span></a> <a id="a':242" class="idref" href="#a':242"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#a:241"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#a':242"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:241"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a':242"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dret_1"><span class="id" title="lemma">dret_1</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_1_2" class="idref" href="#dret_1_2"><span class="id" title="lemma">dret_1_2</span></a> (<a id="a:243" class="idref" href="#a:243"><span class="id" title="binder">a</span></a> <a id="a':244" class="idref" href="#a':244"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:243"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a':244"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#a:243"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#a':244"><span class="id" title="variable">a'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dret_1"><span class="id" title="lemma">dret_1</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_0" class="idref" href="#dret_0"><span class="id" title="lemma">dret_0</span></a> (<a id="a:245" class="idref" href="#a:245"><span class="id" title="binder">a</span></a> <a id="a':246" class="idref" href="#a':246"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#a':246"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="clutch.prob.distribution.html#a:245"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:245"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a':246"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_false_2"><span class="id" title="lemma">bool_decide_eq_false_2</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_pos" class="idref" href="#dret_pos"><span class="id" title="lemma">dret_pos</span></a> (<a id="a:247" class="idref" href="#a:247"><span class="id" title="binder">a</span></a> <a id="a':248" class="idref" href="#a':248"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:247"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a':248"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#a':248"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#a:247"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>. <span class="id" title="tactic">intros</span> ?. <span class="id" title="var">case_bool_decide</span>; [<span class="id" title="var">done</span>|<span class="id" title="var">lra</span>]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_pmf_map" class="idref" href="#dret_pmf_map"><span class="id" title="lemma">dret_pmf_map</span></a> (<a id="f:249" class="idref" href="#f:249"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>)  `{<a id="H0:250" class="idref" href="#H0:250"><span class="id" title="binder">Inj</span></a> <a id="H0:250" class="idref" href="#H0:250"><span class="id" title="binder">A</span></a> <a id="H0:250" class="idref" href="#H0:250"><span class="id" title="binder">A</span></a> <a id="H0:250" class="idref" href="#H0:250"><span class="id" title="binder">(=)</span></a> <a id="H0:250" class="idref" href="#H0:250"><span class="id" title="binder">(=)</span></a> <a id="H0:250" class="idref" href="#H0:250"><span class="id" title="binder">f</span></a>} (<a id="a:251" class="idref" href="#a:251"><span class="id" title="binder">a</span></a> <a id="a':252" class="idref" href="#a':252"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:249"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:251"><span class="id" title="variable">a</span></a>) (<a class="idref" href="clutch.prob.distribution.html#f:249"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a':252"><span class="id" title="variable">a'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:251"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a':252"><span class="id" title="variable">a'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>. <span class="id" title="var">case_bool_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hcase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#inj"><span class="id" title="definition">inj</span></a> <span class="id" title="var">f</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hcase</span> <span class="id" title="keyword">as</span> -&gt;. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_true_2"><span class="id" title="lemma">bool_decide_eq_true_2</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">case_bool_decide</span>; [|<span class="id" title="var">done</span>]. <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_1_eq_dret" class="idref" href="#pmf_1_eq_dret"><span class="id" title="lemma">pmf_1_eq_dret</span></a> (<a id="616a5e1630b61b46bb65840584fe9544" class="idref" href="#616a5e1630b61b46bb65840584fe9544"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) (<a id="a:254" class="idref" href="#a:254"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#616a5e1630b61b46bb65840584fe9544"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:254"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#616a5e1630b61b46bb65840584fe9544"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:254"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a'</span>)) <span class="id" title="keyword">as</span> [&lt;- | <span class="id" title="var">Hneq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">μ</span> <span class="id" title="var">a'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha'</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_1_supp_eq"><span class="id" title="lemma">pmf_1_supp_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hμ</span> <span class="id" title="var">Ha'</span>) // <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_1_not_eq" class="idref" href="#pmf_1_not_eq"><span class="id" title="lemma">pmf_1_not_eq</span></a> (<a id="fb01bc2a39fb80877a4770fb320ce93c" class="idref" href="#fb01bc2a39fb80877a4770fb320ce93c"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) (<a id="a:256" class="idref" href="#a:256"><span class="id" title="binder">a</span></a> <a id="a':257" class="idref" href="#a':257"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#a:256"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="clutch.prob.distribution.html#a':257"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#fb01bc2a39fb80877a4770fb320ce93c"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:256"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#fb01bc2a39fb80877a4770fb320ce93c"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a':257"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span> -&gt;%<a class="idref" href="clutch.prob.distribution.html#pmf_1_eq_dret"><span class="id" title="lemma">pmf_1_eq_dret</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_mass" class="idref" href="#dret_mass"><span class="id" title="lemma">dret_mass</span></a> (<a id="a:258" class="idref" href="#a:258"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:258"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="section">dret</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab3"></a><h1 class="section">Monadic bind</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="dbind_pmf" class="idref" href="#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> `{<a id="H:261" class="idref" href="#H:261"><span class="id" title="binder">Countable</span></a> <a id="H:261" class="idref" href="#H:261"><span class="id" title="binder">A</span></a>, <a id="H0:264" class="idref" href="#H0:264"><span class="id" title="binder">Countable</span></a> <a id="H0:264" class="idref" href="#H0:264"><span class="id" title="binder">B</span></a>} (<a id="f:265" class="idref" href="#f:265"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:259"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:262"><span class="id" title="variable">B</span></a>) (<a id="5415efed2458e4e5b4cc3f51a68ab3b4" class="idref" href="#5415efed2458e4e5b4cc3f51a68ab3b4"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:259"><span class="id" title="variable">A</span></a>) : <a class="idref" href="clutch.prob.distribution.html#B:262"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="b:267" class="idref" href="#b:267"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:262"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="a:268" class="idref" href="#a:268"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:259"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <a class="idref" href="clutch.prob.distribution.html#5415efed2458e4e5b4cc3f51a68ab3b4"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:268"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:265"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:268"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:267"><span class="id" title="variable">b</span></a>).<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="dbind" class="idref" href="#dbind"><span class="id" title="definition">dbind</span></a> `{<a id="H:271" class="idref" href="#H:271"><span class="id" title="binder">Countable</span></a> <a id="H:271" class="idref" href="#H:271"><span class="id" title="binder">A</span></a>, <a id="H0:274" class="idref" href="#H0:274"><span class="id" title="binder">Countable</span></a> <a id="H0:274" class="idref" href="#H0:274"><span class="id" title="binder">B</span></a>} (<a id="f:275" class="idref" href="#f:275"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:269"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:272"><span class="id" title="variable">B</span></a>) (<a id="577780eac0367d8bd14f4603abe9a69e" class="idref" href="#577780eac0367d8bd14f4603abe9a69e"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:269"><span class="id" title="variable">A</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:272"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> <a class="idref" href="clutch.prob.distribution.html#f:275"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#577780eac0367d8bd14f4603abe9a69e"><span class="id" title="variable">μ</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?????? <span class="id" title="var">f</span> <span class="id" title="var">μ</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0"><span class="id" title="lemma">SeriesC_ge_0</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:278" class="idref" href="#a:278"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:277"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> 1)); [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?????? <span class="id" title="var">f</span> <span class="id" title="var">μ</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.distribution.html#distr_double_swap_ex"><span class="id" title="lemma">distr_double_swap_ex</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_ext"><span class="id" title="lemma">ex_seriesC_ext</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="j:281" class="idref" href="#j:281"><span class="id" title="binder">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#j:279"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="k:282" class="idref" href="#k:282"><span class="id" title="binder">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#j:279"><span class="id" title="variable">j</span></a> <a class="idref" href="clutch.prob.distribution.html#k:280"><span class="id" title="variable">k</span></a>))).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:284" class="idref" href="#a:284"><span class="id" title="binder">a</span></a> : <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:283"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> 1)); [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?????? <span class="id" title="var">f</span> <span class="id" title="var">μ</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#distr_double_swap"><span class="id" title="lemma">distr_double_swap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="k:289" class="idref" href="#k:289"><span class="id" title="binder">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#k:285"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="j:290" class="idref" href="#j:290"><span class="id" title="binder">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#k:285"><span class="id" title="variable">k</span></a> <a class="idref" href="clutch.prob.distribution.html#j:286"><span class="id" title="variable">j</span></a>))); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dbind_pmf_ext" class="idref" href="#dbind_pmf_ext"><span class="id" title="lemma">dbind_pmf_ext</span></a> `{<a id="H:293" class="idref" href="#H:293"><span class="id" title="binder">Countable</span></a> <a id="H:293" class="idref" href="#H:293"><span class="id" title="binder">A</span></a>, <a id="H0:296" class="idref" href="#H0:296"><span class="id" title="binder">Countable</span></a> <a id="H0:296" class="idref" href="#H0:296"><span class="id" title="binder">B</span></a>} (<a id="4caa8d351b68874172f604481c1cae11" class="idref" href="#4caa8d351b68874172f604481c1cae11"><span class="id" title="binder">μ1</span></a> <a id="e028a277d24761d63d1a7472485136dc" class="idref" href="#e028a277d24761d63d1a7472485136dc"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:291"><span class="id" title="variable">A</span></a>) (<a id="f:299" class="idref" href="#f:299"><span class="id" title="binder">f</span></a> <a id="g:300" class="idref" href="#g:300"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:291"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:294"><span class="id" title="variable">B</span></a>) (<a id="b1:301" class="idref" href="#b1:301"><span class="id" title="binder">b1</span></a> <a id="b2:302" class="idref" href="#b2:302"><span class="id" title="binder">b2</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:294"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:303" class="idref" href="#a:303"><span class="id" title="binder">a</span></a> <a id="b:304" class="idref" href="#b:304"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:299"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:303"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:304"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#g:300"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#a:303"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:304"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#4caa8d351b68874172f604481c1cae11"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#e028a277d24761d63d1a7472485136dc"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#b1:301"><span class="id" title="variable">b1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#b2:302"><span class="id" title="variable">b2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:299"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#4caa8d351b68874172f604481c1cae11"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#b1:301"><span class="id" title="variable">b1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#g:300"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#e028a277d24761d63d1a7472485136dc"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#b2:302"><span class="id" title="variable">b2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfg</span> -&gt; -&gt;=&gt;/=. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>=&gt;<span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfg</span> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dbind_ext_right" class="idref" href="#dbind_ext_right"><span class="id" title="lemma">dbind_ext_right</span></a> `{<a id="H:307" class="idref" href="#H:307"><span class="id" title="binder">Countable</span></a> <a id="H:307" class="idref" href="#H:307"><span class="id" title="binder">A</span></a>, <a id="H0:310" class="idref" href="#H0:310"><span class="id" title="binder">Countable</span></a> <a id="H0:310" class="idref" href="#H0:310"><span class="id" title="binder">B</span></a>} (<a id="bba90cb087f9cd36baadfe5df056f89c" class="idref" href="#bba90cb087f9cd36baadfe5df056f89c"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:305"><span class="id" title="variable">A</span></a>) (<a id="f:312" class="idref" href="#f:312"><span class="id" title="binder">f</span></a> <a id="g:313" class="idref" href="#g:313"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:305"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:308"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:314" class="idref" href="#a:314"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:312"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:314"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#g:313"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#a:314"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:312"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#bba90cb087f9cd36baadfe5df056f89c"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#g:313"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#bba90cb087f9cd36baadfe5df056f89c"><span class="id" title="variable">μ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dbind_pmf_ext"><span class="id" title="lemma">dbind_pmf_ext</span></a>; [|<span class="id" title="var">done</span>|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Proper_dbind" class="idref" href="#Proper_dbind"><span class="id" title="instance">Proper_dbind</span></a> `{<a id="H:317" class="idref" href="#H:317"><span class="id" title="binder">Countable</span></a> <a id="H:317" class="idref" href="#H:317"><span class="id" title="binder">A</span></a>, <a id="H0:320" class="idref" href="#H0:320"><span class="id" title="binder">Countable</span></a> <a id="H0:320" class="idref" href="#H0:320"><span class="id" title="binder">B</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <a class="idref" href="clutch.prob.distribution.html#A:315"><span class="id" title="variable">A</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a>) (@<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#A:315"><span class="id" title="variable">A</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="clutch.prob.distribution.html#B:318"><span class="id" title="variable">B</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?? <span class="id" title="var">Hp</span> ?? -&gt;. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">extensionality</span> <span class="id" title="var">a</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;generalize&nbsp;to&nbsp;distributions&nbsp;with&nbsp;countable&nbsp;support&nbsp;so&nbsp;that&nbsp;we&nbsp;can&nbsp;use<br/>
&nbsp;&nbsp;&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">stdpp</span></span>&nbsp;typeclasses&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a id="1ec27ecb4da8da3d3cbd85a2394dc835" class="idref" href="#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">&quot;</span></a>m ≫= f" := (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 60, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="27be3c25384be1368f69e51ebbeaa1ef" class="idref" href="#27be3c25384be1368f69e51ebbeaa1ef"><span class="id" title="notation">&quot;</span></a>( m ≫=.)" := (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="f:321" class="idref" href="#f:321"><span class="id" title="binder">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:321"><span class="id" title="variable">f</span></a> <span class="id" title="var">m</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="0dfffc14bf40552c0ccad26ec57bc9e1" class="idref" href="#0dfffc14bf40552c0ccad26ec57bc9e1"><span class="id" title="notation">&quot;</span></a>(.≫= f )" := (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">f</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="a6b19bc2fd6428fb3cd52bf7cb387362" class="idref" href="#a6b19bc2fd6428fb3cd52bf7cb387362"><span class="id" title="notation">&quot;</span></a>(≫=)" := (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="m:322" class="idref" href="#m:322"><span class="id" title="binder">m</span></a> <a id="f:323" class="idref" href="#f:323"><span class="id" title="binder">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:323"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#m:322"><span class="id" title="variable">m</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="9da4aba7941cc4e4d0a41a64124b61db" class="idref" href="#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">&quot;</span></a>x ← y ; z" := (<span class="id" title="var">y</span> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:324" class="idref" href="#x:324"><span class="id" title="binder">x</span></a> : <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">z</span><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="var">y</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 100, <span class="id" title="var">z</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="cae09eb95ff0bce4de0aa08b94690459" class="idref" href="#cae09eb95ff0bce4de0aa08b94690459"><span class="id" title="notation">&quot;</span></a>' x ← y ; z" := (<span class="id" title="var">y</span> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:325" class="idref" href="#x:325"><span class="id" title="binder">x</span></a> : <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">z</span><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="var">x</span> <span class="id" title="tactic">pattern</span>, <span class="id" title="var">y</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 100, <span class="id" title="var">z</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab4"></a><h1 class="section">Lemmas about the interplay of monadic bind and return</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="monadic" class="idref" href="#monadic"><span class="id" title="section">monadic</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:328" class="idref" href="#H:328"><span class="id" title="binder">Countable</span></a> <a id="H:328" class="idref" href="#H:328"><span class="id" title="binder">A</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_id_right_pmf" class="idref" href="#dret_id_right_pmf"><span class="id" title="lemma">dret_id_right_pmf</span></a> (<a id="8dcc03ea4c3a60e056676ea36fc2f8d5" class="idref" href="#8dcc03ea4c3a60e056676ea36fc2f8d5"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="a:330" class="idref" href="#a:330"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a:331" class="idref" href="#a:331"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#8dcc03ea4c3a60e056676ea36fc2f8d5"><span class="id" title="variable">μ</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:331"><span class="id" title="variable">a</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#8dcc03ea4c3a60e056676ea36fc2f8d5"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:330"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':334" class="idref" href="#a':334"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a':332"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_id_right" class="idref" href="#dret_id_right"><span class="id" title="lemma">dret_id_right</span></a> (<a id="3350f89335b8791d6e15c52a3c784fb5" class="idref" href="#3350f89335b8791d6e15c52a3c784fb5"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a:336" class="idref" href="#a:336"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#3350f89335b8791d6e15c52a3c784fb5"><span class="id" title="variable">μ</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:336"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#3350f89335b8791d6e15c52a3c784fb5"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="clutch.prob.distribution.html#dret_id_right_pmf"><span class="id" title="lemma">dret_id_right_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H0:339" class="idref" href="#H0:339"><span class="id" title="binder">Countable</span></a> <a id="H0:339" class="idref" href="#H0:339"><span class="id" title="binder">B</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_id_left_pmf" class="idref" href="#dret_id_left_pmf"><span class="id" title="lemma">dret_id_left_pmf</span></a> (<a id="f:340" class="idref" href="#f:340"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="a:341" class="idref" href="#a:341"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="b:342" class="idref" href="#b:342"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a':343" class="idref" href="#a':343"><span class="id" title="binder">a'</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:341"><span class="id" title="variable">a</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#f:340"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a':343"><span class="id" title="variable">a'</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:340"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:341"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:342"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':346" class="idref" href="#a':346"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a':344"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_id_left" class="idref" href="#dret_id_left"><span class="id" title="lemma">dret_id_left</span></a> (<a id="f:347" class="idref" href="#f:347"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="a:348" class="idref" href="#a:348"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a':349" class="idref" href="#a':349"><span class="id" title="binder">a'</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:348"><span class="id" title="variable">a</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#f:347"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a':349"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:347"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:348"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="clutch.prob.distribution.html#dret_id_left_pmf"><span class="id" title="lemma">dret_id_left_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_const" class="idref" href="#dret_const"><span class="id" title="lemma">dret_const</span></a> (<a id="98d1d960ee56eb94a780088911ed8ace" class="idref" href="#98d1d960ee56eb94a780088911ed8ace"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="b:351" class="idref" href="#b:351"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#98d1d960ee56eb94a780088911ed8ace"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a:352" class="idref" href="#a:352"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#98d1d960ee56eb94a780088911ed8ace"><span class="id" title="variable">μ</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#b:351"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#b:351"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HSeries</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a> <span class="id" title="var">HSeries</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dret_pmf_map" class="idref" href="#dbind_dret_pmf_map"><span class="id" title="lemma">dbind_dret_pmf_map</span></a> (<a id="cec64837058e41089dc0b325731d5497" class="idref" href="#cec64837058e41089dc0b325731d5497"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="a:354" class="idref" href="#a:354"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="f:355" class="idref" href="#f:355"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) `{<a id="H1:356" class="idref" href="#H1:356"><span class="id" title="binder">Inj</span></a> <a id="H1:356" class="idref" href="#H1:356"><span class="id" title="binder">A</span></a> <a id="H1:356" class="idref" href="#H1:356"><span class="id" title="binder">B</span></a> <a id="H1:356" class="idref" href="#H1:356"><span class="id" title="binder">(=)</span></a> <a id="H1:356" class="idref" href="#H1:356"><span class="id" title="binder">(=)</span></a> <a id="H1:356" class="idref" href="#H1:356"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#cec64837058e41089dc0b325731d5497"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':357" class="idref" href="#a':357"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:355"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a':357"><span class="id" title="variable">a'</span></a>)<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">))</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">f</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">a</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#cec64837058e41089dc0b325731d5497"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:354"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':360" class="idref" href="#a':360"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a':358"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dret_pmf_map_ne" class="idref" href="#dbind_dret_pmf_map_ne"><span class="id" title="lemma">dbind_dret_pmf_map_ne</span></a> (<a id="559707434b6346d61ca825a688cd0b6c" class="idref" href="#559707434b6346d61ca825a688cd0b6c"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="b:362" class="idref" href="#b:362"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="f:363" class="idref" href="#f:363"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) `{<a id="H1:364" class="idref" href="#H1:364"><span class="id" title="binder">Inj</span></a> <a id="H1:364" class="idref" href="#H1:364"><span class="id" title="binder">A</span></a> <a id="H1:364" class="idref" href="#H1:364"><span class="id" title="binder">B</span></a> <a id="H1:364" class="idref" href="#H1:364"><span class="id" title="binder">(=)</span></a> <a id="H1:364" class="idref" href="#H1:364"><span class="id" title="binder">(=)</span></a> <a id="H1:364" class="idref" href="#H1:364"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a:365" class="idref" href="#a:365"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#559707434b6346d61ca825a688cd0b6c"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:365"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.prob.distribution.html#f:363"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:365"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#b:362"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#559707434b6346d61ca825a688cd0b6c"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:366" class="idref" href="#a:366"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:363"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:366"><span class="id" title="variable">a</span></a>)<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">))</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hnex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; [|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">μ</span> <span class="id" title="var">a'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hn</span>]; [<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span> <span class="id" title="keyword">as</span> -&gt;; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_assoc_pmf" class="idref" href="#dbind_assoc_pmf"><span class="id" title="lemma">dbind_assoc_pmf</span></a> `{<a id="H1:369" class="idref" href="#H1:369"><span class="id" title="binder">Countable</span></a> <a id="H1:369" class="idref" href="#H1:369"><span class="id" title="binder">B'</span></a>} (<a id="f:370" class="idref" href="#f:370"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="g:371" class="idref" href="#g:371"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B':367"><span class="id" title="variable">B'</span></a>) (<a id="d02fca5eb226e94e5df99846316afb86" class="idref" href="#d02fca5eb226e94e5df99846316afb86"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) <a id="c:373" class="idref" href="#c:373"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a:374" class="idref" href="#a:374"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#d02fca5eb226e94e5df99846316afb86"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a id="b:375" class="idref" href="#b:375"><span class="id" title="binder">b</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#f:370"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:374"><span class="id" title="variable">a</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#g:371"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#b:375"><span class="id" title="variable">b</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="b:376" class="idref" href="#b:376"><span class="id" title="binder">b</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a:377" class="idref" href="#a:377"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#d02fca5eb226e94e5df99846316afb86"><span class="id" title="variable">μ</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#f:370"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:377"><span class="id" title="variable">a</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">);</span></a> <a class="idref" href="clutch.prob.distribution.html#g:371"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#b:376"><span class="id" title="variable">b</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">c</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:382" class="idref" href="#a:382"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:378"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:383" class="idref" href="#a0:383"><span class="id" title="binder">a0</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:378"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a0:379"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.distribution.html#a0:379"><span class="id" title="variable">a0</span></a> <span class="id" title="var">c</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:384" class="idref" href="#a:384"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:385" class="idref" href="#a0:385"><span class="id" title="binder">a0</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:380"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:380"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a0:381"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.distribution.html#a0:381"><span class="id" title="variable">a0</span></a> <span class="id" title="var">c</span>))) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:394" class="idref" href="#pat:394"><span class="id" title="binder">(</span></a><a id="pat:394" class="idref" href="#pat:394"><span class="id" title="binder">a</span></a> <a id="pat:394" class="idref" href="#pat:394"><span class="id" title="binder">,</span></a><a id="pat:394" class="idref" href="#pat:394"><span class="id" title="binder">a0</span></a><a id="pat:394" class="idref" href="#pat:394"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:387"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:387"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a0:386"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.distribution.html#a0:386"><span class="id" title="variable">a0</span></a> <span class="id" title="var">c</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>=&gt; <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {4}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>=&gt; <span class="id" title="var">b</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">transitivity</span> (<span class="id" title="var">μ</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">n</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>; [<span class="id" title="var">done</span>| |<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>=&gt;<span class="id" title="var">b</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>]. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_assoc" class="idref" href="#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a> `{<a id="H1:397" class="idref" href="#H1:397"><span class="id" title="binder">Countable</span></a> <a id="H1:397" class="idref" href="#H1:397"><span class="id" title="binder">B'</span></a>} (<a id="f:398" class="idref" href="#f:398"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="g:399" class="idref" href="#g:399"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B':395"><span class="id" title="variable">B'</span></a>) (<a id="3a3d7bd2672885fa22300ac189a1a5bf" class="idref" href="#3a3d7bd2672885fa22300ac189a1a5bf"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a:401" class="idref" href="#a:401"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#3a3d7bd2672885fa22300ac189a1a5bf"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a id="b:402" class="idref" href="#b:402"><span class="id" title="binder">b</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#f:398"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:401"><span class="id" title="variable">a</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#g:399"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#b:402"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="b:403" class="idref" href="#b:403"><span class="id" title="binder">b</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a:404" class="idref" href="#a:404"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#3a3d7bd2672885fa22300ac189a1a5bf"><span class="id" title="variable">μ</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#f:398"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:404"><span class="id" title="variable">a</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">);</span></a> <a class="idref" href="clutch.prob.distribution.html#g:399"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#b:403"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="clutch.prob.distribution.html#dbind_assoc_pmf"><span class="id" title="lemma">dbind_assoc_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_comm" class="idref" href="#dbind_comm"><span class="id" title="lemma">dbind_comm</span></a> `{<a id="H1:407" class="idref" href="#H1:407"><span class="id" title="binder">Countable</span></a> <a id="H1:407" class="idref" href="#H1:407"><span class="id" title="binder">B'</span></a>} (<a id="f:408" class="idref" href="#f:408"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B':405"><span class="id" title="variable">B'</span></a>) (<a id="d031661d8eee1879592977b6e397baba" class="idref" href="#d031661d8eee1879592977b6e397baba"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="b5c618f34235c18df37f69ab7d85a8c0" class="idref" href="#b5c618f34235c18df37f69ab7d85a8c0"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a:411" class="idref" href="#a:411"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#d031661d8eee1879592977b6e397baba"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a id="b:412" class="idref" href="#b:412"><span class="id" title="binder">b</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#b5c618f34235c18df37f69ab7d85a8c0"><span class="id" title="variable">μ2</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#f:408"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:411"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:412"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="b:413" class="idref" href="#b:413"><span class="id" title="binder">b</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#b5c618f34235c18df37f69ab7d85a8c0"><span class="id" title="variable">μ2</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a id="a:414" class="idref" href="#a:414"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#d031661d8eee1879592977b6e397baba"><span class="id" title="variable">μ1</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#f:408"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:414"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:413"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">b'</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;-<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a> (<span class="id" title="var">μ2</span> <span class="id" title="var">_</span>) (<span class="id" title="var">μ1</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:420" class="idref" href="#pat:420"><span class="id" title="binder">(</span></a><a id="pat:420" class="idref" href="#pat:420"><span class="id" title="binder">a</span></a><a id="pat:420" class="idref" href="#pat:420"><span class="id" title="binder">,</span></a> <a id="pat:420" class="idref" href="#pat:420"><span class="id" title="binder">b</span></a><a id="pat:420" class="idref" href="#pat:420"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.distribution.html#a:416"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.distribution.html#b:415"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:416"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:415"><span class="id" title="variable">b</span></a> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ2</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>=&gt; <span class="id" title="var">b</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (<span class="id" title="var">μ1</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>; [<span class="id" title="var">done</span>| |<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>=&gt; <span class="id" title="var">b</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ2</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_pos" class="idref" href="#dbind_pos"><span class="id" title="lemma">dbind_pos</span></a> (<a id="f:421" class="idref" href="#f:421"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="41f8317884be27bd28e965bec0145d88" class="idref" href="#41f8317884be27bd28e965bec0145d88"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="b:423" class="idref" href="#b:423"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:421"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#41f8317884be27bd28e965bec0145d88"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#b:423"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a:424" class="idref" href="#a:424"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:421"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:424"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:423"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.prob.distribution.html#41f8317884be27bd28e965bec0145d88"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:424"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prelude.classical.html#contrapositive"><span class="id" title="lemma">contrapositive</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hna</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:426" class="idref" href="#a:426"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:425"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:425"><span class="id" title="variable">a</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0) <span class="id" title="keyword">as</span> <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prelude.classical.html#not_exists_forall_not"><span class="id" title="lemma">not_exists_forall_not</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hna</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hne</span> | <span class="id" title="var">Hne</span>]%<a class="idref" href="clutch.prelude.classical.html#not_and_or_not"><span class="id" title="lemma">not_and_or_not</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span>). <span class="id" title="tactic">assert</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0) <span class="id" title="keyword">as</span> -&gt;; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">assert</span> (<span class="id" title="var">μ</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0) <span class="id" title="keyword">as</span> -&gt;; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rge_not_gt"><span class="id" title="lemma">Rge_not_gt</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">a</span> &amp; <span class="id" title="var">Hf</span> &amp; <span class="id" title="var">Hμ</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rlt_gt"><span class="id" title="lemma">Rlt_gt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rlt_le_trans"><span class="id" title="lemma">Rlt_le_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':428" class="idref" href="#a':428"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a':427"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>. <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:430" class="idref" href="#a:430"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:429"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> 1)); [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_eq" class="idref" href="#dbind_eq"><span class="id" title="lemma">dbind_eq</span></a> (<a id="f:431" class="idref" href="#f:431"><span class="id" title="binder">f</span></a> <a id="g:432" class="idref" href="#g:432"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="f02eb9a371a942e03290eae5030954d0" class="idref" href="#f02eb9a371a942e03290eae5030954d0"><span class="id" title="binder">μ1</span></a> <a id="70117d71f1180438c1b0c8a6dd7194aa" class="idref" href="#70117d71f1180438c1b0c8a6dd7194aa"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:435" class="idref" href="#a:435"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f02eb9a371a942e03290eae5030954d0"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:435"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#f:431"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:435"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#g:432"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#a:435"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:436" class="idref" href="#a:436"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f02eb9a371a942e03290eae5030954d0"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:436"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#70117d71f1180438c1b0c8a6dd7194aa"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#a:436"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:431"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#f02eb9a371a942e03290eae5030954d0"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#g:432"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#70117d71f1180438c1b0c8a6dd7194aa"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hngt</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hngt</span> <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_inhabited" class="idref" href="#dbind_inhabited"><span class="id" title="lemma">dbind_inhabited</span></a> (<a id="f:437" class="idref" href="#f:437"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="90e221bf7cd1adb83a88be1e926a4497" class="idref" href="#90e221bf7cd1adb83a88be1e926a4497"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#90e221bf7cd1adb83a88be1e926a4497"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:439" class="idref" href="#a:439"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:437"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:439"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:437"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#90e221bf7cd1adb83a88be1e926a4497"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hμ</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.distribution.html#distr_double_swap"><span class="id" title="lemma">distr_double_swap</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rlt_gt"><span class="id" title="lemma">Rlt_gt</span></a>. <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 0)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_lt"><span class="id" title="lemma">SeriesC_lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_gtz_ex"><span class="id" title="lemma">SeriesC_gtz_ex</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hμ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">Ha</span>]; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dret_pair_left" class="idref" href="#dbind_dret_pair_left"><span class="id" title="lemma">dbind_dret_pair_left</span></a> `{<a id="H1:442" class="idref" href="#H1:442"><span class="id" title="binder">Countable</span></a> <a id="H1:442" class="idref" href="#H1:442"><span class="id" title="binder">A'</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="48c42f3266ca08e02dafeff8a54b3af0" class="idref" href="#48c42f3266ca08e02dafeff8a54b3af0"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="a':444" class="idref" href="#a':444"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#A':440"><span class="id" title="variable">A'</span></a>) (<a id="b:445" class="idref" href="#b:445"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#48c42f3266ca08e02dafeff8a54b3af0"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:446" class="idref" href="#a:446"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:446"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#a':444"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">))</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">a'</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#48c42f3266ca08e02dafeff8a54b3af0"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#b:445"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dret_pair_right" class="idref" href="#dbind_dret_pair_right"><span class="id" title="lemma">dbind_dret_pair_right</span></a> `{<a id="H1:449" class="idref" href="#H1:449"><span class="id" title="binder">Countable</span></a> <a id="H1:449" class="idref" href="#H1:449"><span class="id" title="binder">A'</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="92706c8a67141ce130f3d1883f2bfa79" class="idref" href="#92706c8a67141ce130f3d1883f2bfa79"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A':447"><span class="id" title="variable">A'</span></a>) (<a id="a:451" class="idref" href="#a:451"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="b:452" class="idref" href="#b:452"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#A':447"><span class="id" title="variable">A'</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#92706c8a67141ce130f3d1883f2bfa79"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':453" class="idref" href="#a':453"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:451"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#a':453"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">))</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">a</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#92706c8a67141ce130f3d1883f2bfa79"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#b:452"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_det_inv_l" class="idref" href="#dbind_det_inv_l"><span class="id" title="lemma">dbind_det_inv_l</span></a> (<a id="4e92f702c082e3bde8736fdb047158dc" class="idref" href="#4e92f702c082e3bde8736fdb047158dc"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="f:455" class="idref" href="#f:455"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="b:456" class="idref" href="#b:456"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#4e92f702c082e3bde8736fdb047158dc"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:455"><span class="id" title="variable">f</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#4e92f702c082e3bde8736fdb047158dc"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hbind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rle_antisym"><span class="id" title="lemma">Rle_antisym</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hbind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_det_inv_r" class="idref" href="#dbind_det_inv_r"><span class="id" title="lemma">dbind_det_inv_r</span></a> (<a id="d1cb33e0d48526295ea4306c762230d4" class="idref" href="#d1cb33e0d48526295ea4306c762230d4"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="f:458" class="idref" href="#f:458"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="b:459" class="idref" href="#b:459"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#d1cb33e0d48526295ea4306c762230d4"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:458"><span class="id" title="variable">f</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:460" class="idref" href="#a:460"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#d1cb33e0d48526295ea4306c762230d4"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:460"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#f:458"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:460"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:459"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hbind</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':463" class="idref" href="#a':463"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.distribution.html#a':461"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a':461"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a':461"><span class="id" title="variable">a'</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':464" class="idref" href="#a':464"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.distribution.html#a':462"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a':462"><span class="id" title="variable">a'</span></a> <span class="id" title="var">b</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rle_antisym"><span class="id" title="lemma">Rle_antisym</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hbind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ1</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); [|<span class="id" title="var">done</span>]. <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_split_elem"><span class="id" title="lemma">SeriesC_split_elem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">last</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); [|<span class="id" title="var">done</span>]. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_split_elem"><span class="id" title="lemma">SeriesC_split_elem</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':467" class="idref" href="#a':467"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.distribution.html#a':465"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a':465"><span class="id" title="variable">a'</span></a> <span class="id" title="var">b</span>) <span class="id" title="var">a</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">last</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); [|<span class="id" title="var">done</span>]. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;We&nbsp;do&nbsp;this&nbsp;kind&nbsp;of&nbsp;rewrite&nbsp;often&nbsp;enough&nbsp;that&nbsp;it&nbsp;could&nbsp;be&nbsp;a&nbsp;lemma&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:470" class="idref" href="#a0:470"><span class="id" title="binder">a0</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a0:468"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.distribution.html#a0:468"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a0:468"><span class="id" title="variable">a0</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:471" class="idref" href="#a0:471"><span class="id" title="binder">a0</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a0:469"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrw1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>. <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrw1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:474" class="idref" href="#a0:474"><span class="id" title="binder">a0</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a0:472"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.distribution.html#a0:472"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a0:472"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a0:472"><span class="id" title="variable">a0</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:475" class="idref" href="#a0:475"><span class="id" title="binder">a0</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a0:473"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrw2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrw2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:478" class="idref" href="#a0:478"><span class="id" title="binder">a0</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a0:476"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.distribution.html#a0:476"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a0:476"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a0:476"><span class="id" title="variable">a0</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:479" class="idref" href="#a0:479"><span class="id" title="binder">a0</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a0:477"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.distribution.html#a0:477"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a0:477"><span class="id" title="variable">a0</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrw3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrw3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#monadic"><span class="id" title="section">monadic</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab5"></a><h1 class="section">Monadic map</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="dmap" class="idref" href="#dmap"><span class="id" title="definition">dmap</span></a> `{<a id="H:482" class="idref" href="#H:482"><span class="id" title="binder">Countable</span></a> <a id="H:482" class="idref" href="#H:482"><span class="id" title="binder">A</span></a>, <a id="H0:485" class="idref" href="#H0:485"><span class="id" title="binder">Countable</span></a> <a id="H0:485" class="idref" href="#H0:485"><span class="id" title="binder">B</span></a>} (<a id="f:486" class="idref" href="#f:486"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:480"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#B:483"><span class="id" title="variable">B</span></a>) (<a id="7867a7f6284df5db05624b7338cdfb5f" class="idref" href="#7867a7f6284df5db05624b7338cdfb5f"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:480"><span class="id" title="variable">A</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:483"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="a:488" class="idref" href="#a:488"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#7867a7f6284df5db05624b7338cdfb5f"><span class="id" title="variable">μ</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:486"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:488"><span class="id" title="variable">a</span></a>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="dmap" class="idref" href="#dmap"><span class="id" title="section">dmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:491" class="idref" href="#H:491"><span class="id" title="binder">Countable</span></a> <a id="H:491" class="idref" href="#H:491"><span class="id" title="binder">A</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_id" class="idref" href="#dmap_id"><span class="id" title="lemma">dmap_id</span></a> (<a id="bdf7b4e65a0dcefe7ea6c32d60ab3ad5" class="idref" href="#bdf7b4e65a0dcefe7ea6c32d60ab3ad5"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:493" class="idref" href="#x:493"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#x:493"><span class="id" title="variable">x</span></a>) <a class="idref" href="clutch.prob.distribution.html#bdf7b4e65a0dcefe7ea6c32d60ab3ad5"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#bdf7b4e65a0dcefe7ea6c32d60ab3ad5"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#dret_id_right"><span class="id" title="lemma">dret_id_right</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H0:496" class="idref" href="#H0:496"><span class="id" title="binder">Countable</span></a> <a id="H0:496" class="idref" href="#H0:496"><span class="id" title="binder">B</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_dret_pmf" class="idref" href="#dmap_dret_pmf"><span class="id" title="lemma">dmap_dret_pmf</span></a> (<a id="f:497" class="idref" href="#f:497"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="a:498" class="idref" href="#a:498"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="b:499" class="idref" href="#b:499"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:497"><span class="id" title="variable">f</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:498"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.distribution.html#b:499"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:497"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:498"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.distribution.html#b:499"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#dret_id_left_pmf"><span class="id" title="lemma">dret_id_left_pmf</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_dret" class="idref" href="#dmap_dret"><span class="id" title="lemma">dmap_dret</span></a> (<a id="f:500" class="idref" href="#f:500"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) <a id="a:501" class="idref" href="#a:501"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:500"><span class="id" title="variable">f</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:501"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:500"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:501"><span class="id" title="variable">a</span></a>) .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="clutch.prob.distribution.html#dmap_dret_pmf"><span class="id" title="lemma">dmap_dret_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_dbind_pmf" class="idref" href="#dmap_dbind_pmf"><span class="id" title="lemma">dmap_dbind_pmf</span></a> (<a id="f:502" class="idref" href="#f:502"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="g:503" class="idref" href="#g:503"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="d2156387237048420e34624d155ebd1c" class="idref" href="#d2156387237048420e34624d155ebd1c"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="b:505" class="idref" href="#b:505"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:502"><span class="id" title="variable">f</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#g:503"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#d2156387237048420e34624d155ebd1c"><span class="id" title="variable">μ</span></a>) <a class="idref" href="clutch.prob.distribution.html#b:505"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:506" class="idref" href="#a:506"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:502"><span class="id" title="variable">f</span></a> (<a class="idref" href="clutch.prob.distribution.html#g:503"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#a:506"><span class="id" title="variable">a</span></a>)) <a class="idref" href="clutch.prob.distribution.html#d2156387237048420e34624d155ebd1c"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#b:505"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#dbind_assoc_pmf"><span class="id" title="lemma">dbind_assoc_pmf</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_dbind" class="idref" href="#dmap_dbind"><span class="id" title="lemma">dmap_dbind</span></a> (<a id="f:507" class="idref" href="#f:507"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="g:508" class="idref" href="#g:508"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="d9f46381777daaefe06f43776ea5f055" class="idref" href="#d9f46381777daaefe06f43776ea5f055"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:507"><span class="id" title="variable">f</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#g:508"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#d9f46381777daaefe06f43776ea5f055"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:510" class="idref" href="#a:510"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:507"><span class="id" title="variable">f</span></a> (<a class="idref" href="clutch.prob.distribution.html#g:508"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#a:510"><span class="id" title="variable">a</span></a>)) <a class="idref" href="clutch.prob.distribution.html#d9f46381777daaefe06f43776ea5f055"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="clutch.prob.distribution.html#dmap_dbind_pmf"><span class="id" title="lemma">dmap_dbind_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_comp" class="idref" href="#dmap_comp"><span class="id" title="lemma">dmap_comp</span></a> `{<a id="H1:513" class="idref" href="#H1:513"><span class="id" title="binder">Countable</span></a> <a id="H1:513" class="idref" href="#H1:513"><span class="id" title="binder">D</span></a>} (<a id="f:514" class="idref" href="#f:514"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="g:515" class="idref" href="#g:515"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#D:511"><span class="id" title="variable">D</span></a>) (<a id="7e42e3036aa0e93599a99e83f051434f" class="idref" href="#7e42e3036aa0e93599a99e83f051434f"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#g:515"><span class="id" title="variable">g</span></a> (<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:514"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#7e42e3036aa0e93599a99e83f051434f"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> (<a class="idref" href="clutch.prob.distribution.html#g:515"><span class="id" title="variable">g</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="clutch.prob.distribution.html#f:514"><span class="id" title="variable">f</span></a>) <a class="idref" href="clutch.prob.distribution.html#7e42e3036aa0e93599a99e83f051434f"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.distribution.html#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dbind_eq"><span class="id" title="lemma">dbind_eq</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ??. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_id_left"><span class="id" title="lemma">dret_id_left</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_eq" class="idref" href="#dmap_eq"><span class="id" title="lemma">dmap_eq</span></a> (<a id="f:517" class="idref" href="#f:517"><span class="id" title="binder">f</span></a> <a id="g:518" class="idref" href="#g:518"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="b117ec00ddfbe92941968c13ee3ae1a1" class="idref" href="#b117ec00ddfbe92941968c13ee3ae1a1"><span class="id" title="binder">μ1</span></a> <a id="f66af67ca9ceaf51d09ab4132898f343" class="idref" href="#f66af67ca9ceaf51d09ab4132898f343"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:521" class="idref" href="#a:521"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b117ec00ddfbe92941968c13ee3ae1a1"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:521"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#f:517"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:521"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#g:518"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#a:521"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:522" class="idref" href="#a:522"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b117ec00ddfbe92941968c13ee3ae1a1"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:522"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#f66af67ca9ceaf51d09ab4132898f343"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#a:522"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:517"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#b117ec00ddfbe92941968c13ee3ae1a1"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#g:518"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#f66af67ca9ceaf51d09ab4132898f343"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dbind_eq"><span class="id" title="lemma">dbind_eq</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfg</span> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_mass" class="idref" href="#dmap_mass"><span class="id" title="lemma">dmap_mass</span></a> (<a id="1cdee7fe74d8f4de9a64b947e4dd0923" class="idref" href="#1cdee7fe74d8f4de9a64b947e4dd0923"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="f:524" class="idref" href="#f:524"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:524"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#1cdee7fe74d8f4de9a64b947e4dd0923"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#1cdee7fe74d8f4de9a64b947e4dd0923"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.distribution.html#distr_double_swap"><span class="id" title="lemma">distr_double_swap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:527" class="idref" href="#a:527"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:525"><span class="id" title="variable">a</span></a>)) <span class="id" title="var">μ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_pos" class="idref" href="#dmap_pos"><span class="id" title="lemma">dmap_pos</span></a> (<a id="245a6bf60673c78060a7d424f5e8715d" class="idref" href="#245a6bf60673c78060a7d424f5e8715d"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="f:529" class="idref" href="#f:529"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="b:530" class="idref" href="#b:530"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:529"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#245a6bf60673c78060a7d424f5e8715d"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#b:530"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a:531" class="idref" href="#a:531"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:530"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:529"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:531"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.prob.distribution.html#245a6bf60673c78060a7d424f5e8715d"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:531"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> [<span class="id" title="var">Hr</span>%<a class="idref" href="clutch.prob.distribution.html#dret_pos"><span class="id" title="lemma">dret_pos</span></a> ?]]%<a class="idref" href="clutch.prob.distribution.html#dbind_pos"><span class="id" title="lemma">dbind_pos</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> [-&gt; <span class="id" title="var">Ha</span>]]. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dbind_pos"><span class="id" title="lemma">dbind_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> //. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_elem_eq" class="idref" href="#dmap_elem_eq"><span class="id" title="lemma">dmap_elem_eq</span></a> (<a id="f6b06f837dd3d6ce5b07eeb5cfd1118c" class="idref" href="#f6b06f837dd3d6ce5b07eeb5cfd1118c"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="a:533" class="idref" href="#a:533"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="b:534" class="idref" href="#b:534"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="f:535" class="idref" href="#f:535"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) `{<a id="H1:536" class="idref" href="#H1:536"><span class="id" title="binder">Inj</span></a> <a id="H1:536" class="idref" href="#H1:536"><span class="id" title="binder">A</span></a> <a id="H1:536" class="idref" href="#H1:536"><span class="id" title="binder">B</span></a> <a id="H1:536" class="idref" href="#H1:536"><span class="id" title="binder">(=)</span></a> <a id="H1:536" class="idref" href="#H1:536"><span class="id" title="binder">(=)</span></a> <a id="H1:536" class="idref" href="#H1:536"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#b:534"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:535"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:533"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:535"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#f6b06f837dd3d6ce5b07eeb5cfd1118c"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#b:534"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#f6b06f837dd3d6ce5b07eeb5cfd1118c"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:533"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> -&gt;. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dbind_dret_pmf_map"><span class="id" title="lemma">dbind_dret_pmf_map</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_elem_ne" class="idref" href="#dmap_elem_ne"><span class="id" title="lemma">dmap_elem_ne</span></a> (<a id="dd465980ab196f6c405d1a2c1202ce3a" class="idref" href="#dd465980ab196f6c405d1a2c1202ce3a"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="b:538" class="idref" href="#b:538"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="f:539" class="idref" href="#f:539"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) `{<a id="H1:540" class="idref" href="#H1:540"><span class="id" title="binder">Inj</span></a> <a id="H1:540" class="idref" href="#H1:540"><span class="id" title="binder">A</span></a> <a id="H1:540" class="idref" href="#H1:540"><span class="id" title="binder">B</span></a> <a id="H1:540" class="idref" href="#H1:540"><span class="id" title="binder">(=)</span></a> <a id="H1:540" class="idref" href="#H1:540"><span class="id" title="binder">(=)</span></a> <a id="H1:540" class="idref" href="#H1:540"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a:541" class="idref" href="#a:541"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dd465980ab196f6c405d1a2c1202ce3a"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:541"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.prob.distribution.html#f:539"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:541"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#b:538"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:539"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#dd465980ab196f6c405d1a2c1202ce3a"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#b:538"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#dbind_dret_pmf_map_ne"><span class="id" title="lemma">dbind_dret_pmf_map_ne</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_rearrange" class="idref" href="#dmap_rearrange"><span class="id" title="lemma">dmap_rearrange</span></a> `{<a id="H1:543" class="idref" href="#H1:543"><span class="id" title="binder">Countable</span></a> <a id="H1:543" class="idref" href="#H1:543"><span class="id" title="binder">A</span></a>} (<a id="d733d85387224cca6e257574a8207e69" class="idref" href="#d733d85387224cca6e257574a8207e69"><span class="id" title="binder">μ1</span></a> <a id="84260f3e2495c0bf8df5defbe560aa70" class="idref" href="#84260f3e2495c0bf8df5defbe560aa70"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="f:546" class="idref" href="#f:546"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) `{<a id="H2:547" class="idref" href="#H2:547"><span class="id" title="binder">Inj</span></a> <a id="H2:547" class="idref" href="#H2:547"><span class="id" title="binder">A</span></a> <a id="H2:547" class="idref" href="#H2:547"><span class="id" title="binder">A</span></a> <a id="H2:547" class="idref" href="#H2:547"><span class="id" title="binder">(=)</span></a> <a id="H2:547" class="idref" href="#H2:547"><span class="id" title="binder">(=)</span></a> <a id="H2:547" class="idref" href="#H2:547"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:548" class="idref" href="#a:548"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#d733d85387224cca6e257574a8207e69"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:548"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a':549" class="idref" href="#a':549"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:546"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a':549"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#a:548"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:550" class="idref" href="#a:550"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#d733d85387224cca6e257574a8207e69"><span class="id" title="variable">μ1</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:546"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:550"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#84260f3e2495c0bf8df5defbe560aa70"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#a:550"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#d733d85387224cca6e257574a8207e69"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:546"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#84260f3e2495c0bf8df5defbe560aa70"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcov</span> <span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.prelude.classical.html#ExcludedMiddle"><span class="id" title="lemma">ExcludedMiddle</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a':552" class="idref" href="#a':552"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a':551"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> [[<span class="id" title="var">a'</span> &lt;-]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:555" class="idref" href="#a:555"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a:553"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a'</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ2</span> <span class="id" title="var">a'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> //; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a> //; [<span class="id" title="var">lra</span>|]. <span class="id" title="tactic">intros</span> [=]; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hz</span>|<span class="id" title="var">Hz</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hcov</span> <span class="id" title="var">a</span> <span class="id" title="var">Hz</span>)|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">a</span>). <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a>; [<span class="id" title="var">lra</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [=]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="section">dmap</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab6"></a><h1 class="section">Monadic strength</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="strength_l" class="idref" href="#strength_l"><span class="id" title="definition">strength_l</span></a> `{<a id="H:558" class="idref" href="#H:558"><span class="id" title="binder">Countable</span></a> <a id="H:558" class="idref" href="#H:558"><span class="id" title="binder">A</span></a>, <a id="H0:561" class="idref" href="#H0:561"><span class="id" title="binder">Countable</span></a> <a id="H0:561" class="idref" href="#H0:561"><span class="id" title="binder">B</span></a>} (<a id="a:562" class="idref" href="#a:562"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:556"><span class="id" title="variable">A</span></a>) (<a id="2ed8abbe5bfad1cb7594c84a4d43e130" class="idref" href="#2ed8abbe5bfad1cb7594c84a4d43e130"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:559"><span class="id" title="variable">B</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#A:556"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B:559"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:564" class="idref" href="#b:564"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:562"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:564"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="clutch.prob.distribution.html#2ed8abbe5bfad1cb7594c84a4d43e130"><span class="id" title="variable">μ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="strength_r" class="idref" href="#strength_r"><span class="id" title="definition">strength_r</span></a> `{<a id="H:567" class="idref" href="#H:567"><span class="id" title="binder">Countable</span></a> <a id="H:567" class="idref" href="#H:567"><span class="id" title="binder">A</span></a>, <a id="H0:570" class="idref" href="#H0:570"><span class="id" title="binder">Countable</span></a> <a id="H0:570" class="idref" href="#H0:570"><span class="id" title="binder">B</span></a>} (<a id="fd407d8e0ea52c9cf72894d1000458c1" class="idref" href="#fd407d8e0ea52c9cf72894d1000458c1"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:565"><span class="id" title="variable">A</span></a>) (<a id="b:572" class="idref" href="#b:572"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:568"><span class="id" title="variable">B</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#A:565"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B:568"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:573" class="idref" href="#a:573"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:573"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:572"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="clutch.prob.distribution.html#fd407d8e0ea52c9cf72894d1000458c1"><span class="id" title="variable">μ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dbind_strength_l" class="idref" href="#dbind_strength_l"><span class="id" title="lemma">dbind_strength_l</span></a> `{<a id="H:576" class="idref" href="#H:576"><span class="id" title="binder">Countable</span></a> <a id="H:576" class="idref" href="#H:576"><span class="id" title="binder">A</span></a>, <a id="H0:579" class="idref" href="#H0:579"><span class="id" title="binder">Countable</span></a> <a id="H0:579" class="idref" href="#H0:579"><span class="id" title="binder">B</span></a>, <a id="H1:582" class="idref" href="#H1:582"><span class="id" title="binder">Countable</span></a> <a id="H1:582" class="idref" href="#H1:582"><span class="id" title="binder">D</span></a>} (<a id="f:583" class="idref" href="#f:583"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:574"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="clutch.prob.distribution.html#B:577"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#D:580"><span class="id" title="variable">D</span></a>) (<a id="a:584" class="idref" href="#a:584"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:574"><span class="id" title="variable">A</span></a>) (<a id="9b51527db65dff5eb3eb0abaa7d69b0e" class="idref" href="#9b51527db65dff5eb3eb0abaa7d69b0e"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:577"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> <a class="idref" href="clutch.prob.distribution.html#a:584"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9b51527db65dff5eb3eb0abaa7d69b0e"><span class="id" title="variable">μ</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:583"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#9b51527db65dff5eb3eb0abaa7d69b0e"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:586" class="idref" href="#b:586"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:583"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:584"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:586"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.distribution.html#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="clutch.prob.distribution.html#dret_id_left"><span class="id" title="lemma">dret_id_left</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dbind_strength_r" class="idref" href="#dbind_strength_r"><span class="id" title="lemma">dbind_strength_r</span></a> `{<a id="H:589" class="idref" href="#H:589"><span class="id" title="binder">Countable</span></a> <a id="H:589" class="idref" href="#H:589"><span class="id" title="binder">A</span></a>, <a id="H0:592" class="idref" href="#H0:592"><span class="id" title="binder">Countable</span></a> <a id="H0:592" class="idref" href="#H0:592"><span class="id" title="binder">B</span></a>, <a id="H1:595" class="idref" href="#H1:595"><span class="id" title="binder">Countable</span></a> <a id="H1:595" class="idref" href="#H1:595"><span class="id" title="binder">D</span></a>} (<a id="f:596" class="idref" href="#f:596"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:587"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B:590"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#D:593"><span class="id" title="variable">D</span></a>)<br/>
&nbsp;&nbsp;(<a id="0a4c3f29f13bd809f43767bd58b92481" class="idref" href="#0a4c3f29f13bd809f43767bd58b92481"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:587"><span class="id" title="variable">A</span></a>) (<a id="b:598" class="idref" href="#b:598"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:590"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> <a class="idref" href="clutch.prob.distribution.html#0a4c3f29f13bd809f43767bd58b92481"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#b:598"><span class="id" title="variable">b</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:596"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#0a4c3f29f13bd809f43767bd58b92481"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:599" class="idref" href="#a:599"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:596"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:599"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:598"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.distribution.html#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="clutch.prob.distribution.html#dret_id_left"><span class="id" title="lemma">dret_id_left</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) .<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="strength_l_dbind" class="idref" href="#strength_l_dbind"><span class="id" title="lemma">strength_l_dbind</span></a> `{<a id="H:602" class="idref" href="#H:602"><span class="id" title="binder">Countable</span></a> <a id="H:602" class="idref" href="#H:602"><span class="id" title="binder">A</span></a>, <a id="H0:605" class="idref" href="#H0:605"><span class="id" title="binder">Countable</span></a> <a id="H0:605" class="idref" href="#H0:605"><span class="id" title="binder">B</span></a>, <a id="H1:608" class="idref" href="#H1:608"><span class="id" title="binder">Countable</span></a> <a id="H1:608" class="idref" href="#H1:608"><span class="id" title="binder">D</span></a>} (<a id="f:609" class="idref" href="#f:609"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:603"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#D:606"><span class="id" title="variable">D</span></a>) (<a id="a:610" class="idref" href="#a:610"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:600"><span class="id" title="variable">A</span></a>) (<a id="c61485cde84a6d0ee9ecce9d05f2e5fd" class="idref" href="#c61485cde84a6d0ee9ecce9d05f2e5fd"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:603"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> <a class="idref" href="clutch.prob.distribution.html#a:610"><span class="id" title="variable">a</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:609"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#c61485cde84a6d0ee9ecce9d05f2e5fd"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#c61485cde84a6d0ee9ecce9d05f2e5fd"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:612" class="idref" href="#b:612"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> <a class="idref" href="clutch.prob.distribution.html#a:610"><span class="id" title="variable">a</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:609"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#b:612"><span class="id" title="variable">b</span></a>)<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> -<a class="idref" href="clutch.prob.distribution.html#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="strength_r_dbind" class="idref" href="#strength_r_dbind"><span class="id" title="lemma">strength_r_dbind</span></a> `{<a id="H:615" class="idref" href="#H:615"><span class="id" title="binder">Countable</span></a> <a id="H:615" class="idref" href="#H:615"><span class="id" title="binder">A</span></a>, <a id="H0:618" class="idref" href="#H0:618"><span class="id" title="binder">Countable</span></a> <a id="H0:618" class="idref" href="#H0:618"><span class="id" title="binder">B</span></a>, <a id="H1:621" class="idref" href="#H1:621"><span class="id" title="binder">Countable</span></a> <a id="H1:621" class="idref" href="#H1:621"><span class="id" title="binder">D</span></a>} (<a id="f:622" class="idref" href="#f:622"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:613"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#D:619"><span class="id" title="variable">D</span></a>) (<a id="7509ea059daf62408c7b0acadce66cfb" class="idref" href="#7509ea059daf62408c7b0acadce66cfb"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:613"><span class="id" title="variable">A</span></a>) (<a id="b:624" class="idref" href="#b:624"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:616"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:622"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#7509ea059daf62408c7b0acadce66cfb"><span class="id" title="variable">μ</span></a>) <a class="idref" href="clutch.prob.distribution.html#b:624"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#7509ea059daf62408c7b0acadce66cfb"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:625" class="idref" href="#a:625"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:622"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:625"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.distribution.html#b:624"><span class="id" title="variable">b</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> -<a class="idref" href="clutch.prob.distribution.html#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="strength_comm" class="idref" href="#strength_comm"><span class="id" title="lemma">strength_comm</span></a> `{<a id="H:628" class="idref" href="#H:628"><span class="id" title="binder">Countable</span></a> <a id="H:628" class="idref" href="#H:628"><span class="id" title="binder">A</span></a>, <a id="H0:631" class="idref" href="#H0:631"><span class="id" title="binder">Countable</span></a> <a id="H0:631" class="idref" href="#H0:631"><span class="id" title="binder">B</span></a>} (<a id="f:632" class="idref" href="#f:632"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:626"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:626"><span class="id" title="variable">A</span></a>) (<a id="g:633" class="idref" href="#g:633"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:629"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:629"><span class="id" title="variable">B</span></a>) (<a id="a:634" class="idref" href="#a:634"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:626"><span class="id" title="variable">A</span></a>) (<a id="b:635" class="idref" href="#b:635"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:629"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> <a class="idref" href="clutch.prob.distribution.html#a:634"><span class="id" title="variable">a</span></a> (<a class="idref" href="clutch.prob.distribution.html#g:633"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#b:635"><span class="id" title="variable">b</span></a>) <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:638" class="idref" href="#pat:638"><span class="id" title="binder">(</span></a><a id="pat:638" class="idref" href="#pat:638"><span class="id" title="binder">a'</span></a><a id="pat:638" class="idref" href="#pat:638"><span class="id" title="binder">,</span></a><a id="pat:638" class="idref" href="#pat:638"><span class="id" title="binder">b'</span></a><a id="pat:638" class="idref" href="#pat:638"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:632"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a':637"><span class="id" title="variable">a'</span></a>) <a class="idref" href="clutch.prob.distribution.html#b':636"><span class="id" title="variable">b'</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:632"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:634"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.distribution.html#b:635"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:641" class="idref" href="#pat:641"><span class="id" title="binder">(</span></a><a id="pat:641" class="idref" href="#pat:641"><span class="id" title="binder">a'</span></a><a id="pat:641" class="idref" href="#pat:641"><span class="id" title="binder">,</span></a><a id="pat:641" class="idref" href="#pat:641"><span class="id" title="binder">b'</span></a><a id="pat:641" class="idref" href="#pat:641"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> <a class="idref" href="clutch.prob.distribution.html#a':640"><span class="id" title="variable">a'</span></a> (<a class="idref" href="clutch.prob.distribution.html#g:633"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#b':639"><span class="id" title="variable">b'</span></a>)<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dbind_strength_l"><span class="id" title="lemma">dbind_strength_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dbind_strength_r"><span class="id" title="lemma">dbind_strength_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> /<a class="idref" href="clutch.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">a'</span> &amp; <span class="id" title="var">b'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {2 4}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:650" class="idref" href="#pat:650"><span class="id" title="binder">(</span></a><a id="pat:650" class="idref" href="#pat:650"><span class="id" title="binder">x</span></a><a id="pat:650" class="idref" href="#pat:650"><span class="id" title="binder">,</span></a> <a id="pat:650" class="idref" href="#pat:650"><span class="id" title="binder">a0</span></a><a id="pat:650" class="idref" href="#pat:650"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <span class="id" title="var">b</span> <a class="idref" href="clutch.prob.distribution.html#a0:642"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span> <span class="id" title="var">a</span> <a class="idref" href="clutch.prob.distribution.html#x:643"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#x:643"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#a0:642"><span class="id" title="variable">a0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> =&gt; <span class="id" title="var">a''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> =&gt; <span class="id" title="var">b''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /=; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)); [|<span class="id" title="var">done</span>]. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:653" class="idref" href="#a0:653"><span class="id" title="binder">a0</span></a> : <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b0:654" class="idref" href="#b0:654"><span class="id" title="binder">b0</span></a> : <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <span class="id" title="var">b</span> <a class="idref" href="clutch.prob.distribution.html#b0:652"><span class="id" title="variable">b0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span> <span class="id" title="var">a</span> <a class="idref" href="clutch.prob.distribution.html#a0:651"><span class="id" title="variable">a0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0"><span class="id" title="lemma">SeriesC_ge_0</span></a>; [<span class="id" title="var">real_solver</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [<span class="id" title="var">real_solver</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab7"></a><h1 class="section">Monadic fold left</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="foldlM" class="idref" href="#foldlM"><span class="id" title="definition">foldlM</span></a> {<a id="A:655" class="idref" href="#A:655"><span class="id" title="binder">A</span></a> <a id="B:656" class="idref" href="#B:656"><span class="id" title="binder">B</span></a>} `{<a id="H:658" class="idref" href="#H:658"><span class="id" title="binder">Countable</span></a> <a id="H:658" class="idref" href="#H:658"><span class="id" title="binder">B</span></a>} (<a id="f:659" class="idref" href="#f:659"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:656"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#A:655"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:656"><span class="id" title="variable">B</span></a>) (<a id="b:660" class="idref" href="#b:660"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:656"><span class="id" title="variable">B</span></a>) (<a id="xs:661" class="idref" href="#xs:661"><span class="id" title="binder">xs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="clutch.prob.distribution.html#A:655"><span class="id" title="variable">A</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:656"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:662" class="idref" href="#a:662"><span class="id" title="binder">a</span></a> <a id="m:663" class="idref" href="#m:663"><span class="id" title="binder">m</span></a> <a id="b:664" class="idref" href="#b:664"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:659"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#b:664"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.distribution.html#a:662"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#m:663"><span class="id" title="variable">m</span></a>) <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#xs:661"><span class="id" title="variable">xs</span></a> <a class="idref" href="clutch.prob.distribution.html#b:660"><span class="id" title="variable">b</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab8"></a><h1 class="section">Monadic itereration</h1>

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="iterM" class="idref" href="#iterM"><span class="id" title="definition">iterM</span></a> {<a id="A:665" class="idref" href="#A:665"><span class="id" title="binder">A</span></a>} `{<a id="H:667" class="idref" href="#H:667"><span class="id" title="binder">Countable</span></a> <a id="H:667" class="idref" href="#H:667"><span class="id" title="binder">A</span></a>} (<a id="n:668" class="idref" href="#n:668"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="f:669" class="idref" href="#f:669"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:665"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:665"><span class="id" title="variable">A</span></a>) (<a id="a:670" class="idref" href="#a:670"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:665"><span class="id" title="variable">A</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:665"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="clutch.prob.distribution.html#n:668"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:670"><span class="id" title="variable">a</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="clutch.prob.distribution.html#f:669"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:670"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#iterM:671"><span class="id" title="definition">iterM</span></a> <a class="idref" href="clutch.prob.distribution.html#n:668"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.prob.distribution.html#f:669"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="iterM" class="idref" href="#iterM"><span class="id" title="section">iterM</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:675" class="idref" href="#H:675"><span class="id" title="binder">Countable</span></a> <a id="H:675" class="idref" href="#H:675"><span class="id" title="binder">A</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="iterM_O" class="idref" href="#iterM_O"><span class="id" title="lemma">iterM_O</span></a> (<a id="f:676" class="idref" href="#f:676"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a>) (<a id="a:677" class="idref" href="#a:677"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> 0 <a class="idref" href="clutch.prob.distribution.html#f:676"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:677"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:677"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="iterM_Sn" class="idref" href="#iterM_Sn"><span class="id" title="lemma">iterM_Sn</span></a> (<a id="f:678" class="idref" href="#f:678"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a>) (<a id="a:679" class="idref" href="#a:679"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a>) (<a id="n:680" class="idref" href="#n:680"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="clutch.prob.distribution.html#n:680"><span class="id" title="variable">n</span></a>) <a class="idref" href="clutch.prob.distribution.html#f:678"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:679"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:678"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:679"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> <a class="idref" href="clutch.prob.distribution.html#n:680"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.prob.distribution.html#f:678"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="iterM_plus" class="idref" href="#iterM_plus"><span class="id" title="lemma">iterM_plus</span></a> (<a id="f:681" class="idref" href="#f:681"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a>) (<a id="a:682" class="idref" href="#a:682"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a>) (<a id="n:683" class="idref" href="#n:683"><span class="id" title="binder">n</span></a> <a id="m:684" class="idref" href="#m:684"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> (<a class="idref" href="clutch.prob.distribution.html#n:683"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.distribution.html#m:684"><span class="id" title="variable">m</span></a>) <a class="idref" href="clutch.prob.distribution.html#f:681"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:682"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> <a class="idref" href="clutch.prob.distribution.html#n:683"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.prob.distribution.html#f:681"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:682"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> <a class="idref" href="clutch.prob.distribution.html#m:684"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.prob.distribution.html#f:681"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#plus_O_n"><span class="id" title="lemma">plus_O_n</span></a> <a class="idref" href="clutch.prob.distribution.html#iterM_O"><span class="id" title="lemma">iterM_O</span></a> <a class="idref" href="clutch.prob.distribution.html#dret_id_left"><span class="id" title="lemma">dret_id_left</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.distribution.html#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a> -/<a class="idref" href="clutch.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">extensionality</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#iterM"><span class="id" title="section">iterM</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;goes&nbsp;somewhere&nbsp;else?&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;The&nbsp;lemmas&nbsp;about&nbsp;<span class="inlinecode"><span class="id" title="var">Finite</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span>&nbsp;make&nbsp;use&nbsp;of&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">Countable</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span>&nbsp;instance<br/>
&nbsp;&nbsp;&nbsp;`<span class="inlinecode"><span class="id" title="var">finite_countable</span></span>&nbsp;from&nbsp;std++&nbsp;<span class="inlinecode"><span class="id" title="var">finite.v</span></span>.&nbsp;For&nbsp;<span class="inlinecode"><span class="id" title="var">fin</span></span> <span class="inlinecode"><span class="id" title="var">N</span></span>,&nbsp;for&nbsp;example,&nbsp;there<br/>
&nbsp;&nbsp;&nbsp;already&nbsp;exists&nbsp;another&nbsp;instance.&nbsp;We&nbsp;give&nbsp;the&nbsp;highest&nbsp;priority&nbsp;(<span class="inlinecode">0</span>)&nbsp;to<br/>
&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">finite_countable</span></span>&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;use&nbsp;the&nbsp;lemmas.&nbsp;*)</span><br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">finite_countable</span> | 0.<br/>

<br/>
</div>

<div class="doc">
<a id="lab9"></a><h1 class="section">Coins</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="fair_coin_pmf" class="idref" href="#fair_coin_pmf"><span class="id" title="definition">fair_coin_pmf</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 0.5.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="fair_coin" class="idref" href="#fair_coin"><span class="id" title="definition">fair_coin</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> := <a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="clutch.prob.distribution.html#fair_coin_pmf"><span class="id" title="definition">fair_coin_pmf</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#fair_coin_pmf"><span class="id" title="definition">fair_coin_pmf</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_finite_mass"><span class="id" title="lemma">SeriesC_finite_mass</span></a> /=. <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fair_coin_mass" class="idref" href="#fair_coin_mass"><span class="id" title="lemma">fair_coin_mass</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#fair_coin_pmf"><span class="id" title="definition">fair_coin_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_finite_mass"><span class="id" title="lemma">SeriesC_finite_mass</span></a> /=. <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;may&nbsp;need&nbsp;this&nbsp;generality&nbsp;later,&nbsp;but&nbsp;I&nbsp;think&nbsp;it&nbsp;is&nbsp;better&nbsp;to&nbsp;define&nbsp;the&nbsp;fair&nbsp;coin&nbsp;explicitly&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="biased_coin_pmf" class="idref" href="#biased_coin_pmf"><span class="id" title="definition">biased_coin_pmf</span></a> <a id="r:685" class="idref" href="#r:685"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:686" class="idref" href="#b:686"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="clutch.prob.distribution.html#b:686"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob.distribution.html#r:685"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="clutch.prob.distribution.html#r:685"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Program Definition</span> <a id="biased_coin" class="idref" href="#biased_coin"><span class="id" title="definition">biased_coin</span></a> <a id="r:687" class="idref" href="#r:687"><span class="id" title="binder">r</span></a> (<a id="P:688" class="idref" href="#P:688"><span class="id" title="binder">P</span></a> : 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#r:687"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> 1) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> := <a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="clutch.prob.distribution.html#biased_coin_pmf"><span class="id" title="definition">biased_coin_pmf</span></a> <a class="idref" href="clutch.prob.distribution.html#r:687"><span class="id" title="variable">r</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">P</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#biased_coin_pmf"><span class="id" title="definition">biased_coin_pmf</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_ext"><span class="id" title="lemma">ex_seriesC_ext</span></a>  (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:690" class="idref" href="#b:690"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#b:689"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#b:689"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#biased_coin_pmf"><span class="id" title="definition">biased_coin_pmf</span></a> /=; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_plus"><span class="id" title="lemma">ex_seriesC_plus</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_singleton"><span class="id" title="lemma">ex_seriesC_singleton</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:693" class="idref" href="#b:693"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#b:691"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#b:691"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;2 : { <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#biased_coin_pmf"><span class="id" title="definition">biased_coin_pmf</span></a> /= ; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>; [|<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_singleton"><span class="id" title="lemma">ex_seriesC_singleton</span></a>.. ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>. <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Convex&nbsp;combinations&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="fair_conv_comb" class="idref" href="#fair_conv_comb"><span class="id" title="definition">fair_conv_comb</span></a> `{<a id="H:696" class="idref" href="#H:696"><span class="id" title="binder">Countable</span></a> <a id="H:696" class="idref" href="#H:696"><span class="id" title="binder">A</span></a>} (<a id="b0721cec5b7bad045aad7eb1ce746497" class="idref" href="#b0721cec5b7bad045aad7eb1ce746497"><span class="id" title="binder">μ1</span></a> <a id="3ba1160bd5e4d123f2d399df98238b60" class="idref" href="#3ba1160bd5e4d123f2d399df98238b60"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:694"><span class="id" title="variable">A</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:694"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:699" class="idref" href="#b:699"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="clutch.prob.distribution.html#b:699"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob.distribution.html#b0721cec5b7bad045aad7eb1ce746497"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="clutch.prob.distribution.html#3ba1160bd5e4d123f2d399df98238b60"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="clutch.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="conv_prop" class="idref" href="#conv_prop"><span class="id" title="section">conv_prop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:702" class="idref" href="#H:702"><span class="id" title="binder">Countable</span></a> <a id="H:702" class="idref" href="#H:702"><span class="id" title="binder">A</span></a>, <a id="H0:705" class="idref" href="#H0:705"><span class="id" title="binder">Countable</span></a> <a id="H0:705" class="idref" href="#H0:705"><span class="id" title="binder">B</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fair_conv_comb_pmf" class="idref" href="#fair_conv_comb_pmf"><span class="id" title="lemma">fair_conv_comb_pmf</span></a> `{<a id="H1:708" class="idref" href="#H1:708"><span class="id" title="binder">Countable</span></a> <a id="H1:708" class="idref" href="#H1:708"><span class="id" title="binder">D</span></a>} (<a id="1d4aad93acdd48c8a8ebc386f072c737" class="idref" href="#1d4aad93acdd48c8a8ebc386f072c737"><span class="id" title="binder">μ1</span></a> <a id="17ad60e98eb13d55f5bd9e17fda3ead7" class="idref" href="#17ad60e98eb13d55f5bd9e17fda3ead7"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#D:706"><span class="id" title="variable">D</span></a>) (<a id="a:711" class="idref" href="#a:711"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#D:706"><span class="id" title="variable">D</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#fair_conv_comb"><span class="id" title="definition">fair_conv_comb</span></a> <a class="idref" href="clutch.prob.distribution.html#1d4aad93acdd48c8a8ebc386f072c737"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#17ad60e98eb13d55f5bd9e17fda3ead7"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#a:711"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#1d4aad93acdd48c8a8ebc386f072c737"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:711"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#17ad60e98eb13d55f5bd9e17fda3ead7"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#a:711"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /<a class="idref" href="clutch.prob.distribution.html#fair_coin_pmf"><span class="id" title="definition">fair_coin_pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:714" class="idref" href="#b:714"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#b:712"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#b:712"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">μ2</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">rewrite</span> /= /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /<a class="idref" href="clutch.prob.distribution.html#fair_coin_pmf"><span class="id" title="definition">fair_coin_pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#fair_coin_pmf"><span class="id" title="definition">fair_coin_pmf</span></a> /=; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>; [|<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_singleton"><span class="id" title="lemma">ex_seriesC_singleton</span></a>.. ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> /=. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="dbind_fair_conv_comb" class="idref" href="#dbind_fair_conv_comb"><span class="id" title="definition">dbind_fair_conv_comb</span></a> (<a id="f1:715" class="idref" href="#f1:715"><span class="id" title="binder">f1</span></a> <a id="f2:716" class="idref" href="#f2:716"><span class="id" title="binder">f2</span></a> : <a class="idref" href="clutch.prob.distribution.html#conv_prop.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#conv_prop.B"><span class="id" title="variable">B</span></a>) (<a id="a3f9c364498da27b524b259d0e7bcfe2" class="idref" href="#a3f9c364498da27b524b259d0e7bcfe2"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#conv_prop.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:718" class="idref" href="#a:718"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#fair_conv_comb"><span class="id" title="definition">fair_conv_comb</span></a> (<a class="idref" href="clutch.prob.distribution.html#f1:715"><span class="id" title="variable">f1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:718"><span class="id" title="variable">a</span></a>) (<a class="idref" href="clutch.prob.distribution.html#f2:716"><span class="id" title="variable">f2</span></a> <a class="idref" href="clutch.prob.distribution.html#a:718"><span class="id" title="variable">a</span></a>)) <a class="idref" href="clutch.prob.distribution.html#a3f9c364498da27b524b259d0e7bcfe2"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#fair_conv_comb"><span class="id" title="definition">fair_conv_comb</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f1:715"><span class="id" title="variable">f1</span></a> <a class="idref" href="clutch.prob.distribution.html#a3f9c364498da27b524b259d0e7bcfe2"><span class="id" title="variable">μ</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f2:716"><span class="id" title="variable">f2</span></a> <a class="idref" href="clutch.prob.distribution.html#a3f9c364498da27b524b259d0e7bcfe2"><span class="id" title="variable">μ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.distribution.html#fair_conv_comb_pmf"><span class="id" title="lemma">fair_conv_comb_pmf</span></a> (<span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <span class="id" title="var">f1</span>) (<span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <span class="id" title="var">f2</span>) <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:720" class="idref" href="#a:720"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:719"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#fair_conv_comb"><span class="id" title="definition">fair_conv_comb</span></a> (<span class="id" title="var">f1</span> <a class="idref" href="clutch.prob.distribution.html#a:719"><span class="id" title="variable">a</span></a>) (<span class="id" title="var">f2</span> <a class="idref" href="clutch.prob.distribution.html#a:719"><span class="id" title="variable">a</span></a>) <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:719"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> (<span class="id" title="var">f1</span> <a class="idref" href="clutch.prob.distribution.html#a:719"><span class="id" title="variable">a</span></a>) <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:719"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> (<span class="id" title="var">f2</span> <a class="idref" href="clutch.prob.distribution.html#a:719"><span class="id" title="variable">a</span></a>) <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#fair_conv_comb_pmf"><span class="id" title="lemma">fair_conv_comb_pmf</span></a>; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Raxioms.html#Rmult_plus_distr_l"><span class="id" title="lemma">Rmult_plus_distr_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {5 6}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [| <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [| <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Helpful&nbsp;lemma&nbsp;to&nbsp;eliminate&nbsp;trivial&nbsp;equalities&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dret_coin_zero" class="idref" href="#dbind_dret_coin_zero"><span class="id" title="lemma">dbind_dret_coin_zero</span></a> (<a id="f:721" class="idref" href="#f:721"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#conv_prop.A"><span class="id" title="variable">A</span></a>) (<a id="a:722" class="idref" href="#a:722"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#conv_prop.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:723" class="idref" href="#b:723"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:721"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#b:723"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="clutch.prob.distribution.html#a:722"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:724" class="idref" href="#b:724"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:721"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#b:724"><span class="id" title="variable">b</span></a>)<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">))</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_false_2"><span class="id" title="lemma">bool_decide_eq_false_2</span></a> //. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dret_coin_nonzero" class="idref" href="#dbind_dret_coin_nonzero"><span class="id" title="lemma">dbind_dret_coin_nonzero</span></a> (<a id="f:725" class="idref" href="#f:725"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#conv_prop.A"><span class="id" title="variable">A</span></a>) (<a id="a:726" class="idref" href="#a:726"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#conv_prop.A"><span class="id" title="variable">A</span></a>) `{<a id="H1:727" class="idref" href="#H1:727"><span class="id" title="binder">Inj</span></a> <a id="H1:727" class="idref" href="#H1:727"><span class="id" title="binder">bool</span></a> <a id="H1:727" class="idref" href="#H1:727"><span class="id" title="binder">A</span></a> <a id="H1:727" class="idref" href="#H1:727"><span class="id" title="binder">(=)</span></a> <a id="H1:727" class="idref" href="#H1:727"><span class="id" title="binder">(=)</span></a> <a id="H1:727" class="idref" href="#H1:727"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="b:728" class="idref" href="#b:728"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:725"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#b:728"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#a:726"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:729" class="idref" href="#b:729"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:725"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#b:729"><span class="id" title="variable">b</span></a>)<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">))</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.5 .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:732" class="idref" href="#b:732"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#b:730"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#fair_coin_pmf"><span class="id" title="definition">fair_coin_pmf</span></a>/<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton_inj"><span class="id" title="lemma">SeriesC_singleton_inj</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#conv_prop"><span class="id" title="section">conv_prop</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab10"></a><h1 class="section">The zero distribution</h1>

</div>
<div class="code">
<span class="id" title="keyword">Program Definition</span> <a id="dzero" class="idref" href="#dzero"><span class="id" title="definition">dzero</span></a> `{<a id="H:735" class="idref" href="#H:735"><span class="id" title="binder">Countable</span></a> <a id="H:735" class="idref" href="#H:735"><span class="id" title="binder">A</span></a>} : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:733"><span class="id" title="variable">A</span></a> := <a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 0) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_0"><span class="id" title="lemma">ex_seriesC_0</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> //. <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="dzero" class="idref" href="#dzero"><span class="id" title="section">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:738" class="idref" href="#H:738"><span class="id" title="binder">Countable</span></a> <a id="H:738" class="idref" href="#H:738"><span class="id" title="binder">A</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dzero_ext" class="idref" href="#dzero_ext"><span class="id" title="lemma">dzero_ext</span></a> (<a id="f9d9889e5e661d6a9c6b7f073627ece2" class="idref" href="#f9d9889e5e661d6a9c6b7f073627ece2"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:740" class="idref" href="#a:740"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f9d9889e5e661d6a9c6b7f073627ece2"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:740"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#f9d9889e5e661d6a9c6b7f073627ece2"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dzero_supp_empty" class="idref" href="#dzero_supp_empty"><span class="id" title="lemma">dzero_supp_empty</span></a> (<a id="a:741" class="idref" href="#a:741"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="clutch.prob.distribution.html#a:741"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /=. <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dzero_mass" class="idref" href="#dzero_mass"><span class="id" title="lemma">dzero_mass</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (@<a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SeriesC_zero_dzero" class="idref" href="#SeriesC_zero_dzero"><span class="id" title="lemma">SeriesC_zero_dzero</span></a> (<a id="e367d162a0e9cdc3929d7c74e377aba3" class="idref" href="#e367d162a0e9cdc3929d7c74e377aba3"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#e367d162a0e9cdc3929d7c74e377aba3"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#e367d162a0e9cdc3929d7c74e377aba3"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dzero_ext"><span class="id" title="lemma">dzero_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_const0"><span class="id" title="lemma">SeriesC_const0</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_correct'"><span class="id" title="lemma">SeriesC_correct'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="not_dzero_gt_0" class="idref" href="#not_dzero_gt_0"><span class="id" title="lemma">not_dzero_gt_0</span></a> (<a id="e21fb39a8f3029fc9500907f903f1cec" class="idref" href="#e21fb39a8f3029fc9500907f903f1cec"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#e21fb39a8f3029fc9500907f903f1cec"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#e21fb39a8f3029fc9500907f903f1cec"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Req_dec"><span class="id" title="lemma">Req_dec</span></a> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ</span>) 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hz</span>, <a class="idref" href="clutch.prob.distribution.html#SeriesC_zero_dzero"><span class="id" title="lemma">SeriesC_zero_dzero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_SeriesC_ge_0"><span class="id" title="lemma">pmf_SeriesC_ge_0</span></a> <span class="id" title="var">μ</span>). <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_not_dzero" class="idref" href="#dret_not_dzero"><span class="id" title="lemma">dret_not_dzero</span></a> (<a id="a:744" class="idref" href="#a:744"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:744"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Ha</span>: <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">a</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <span class="id" title="var">a</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> // /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /<a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dzero_pmf" class="idref" href="#dbind_dzero_pmf"><span class="id" title="lemma">dbind_dzero_pmf</span></a> `{<a id="H0:747" class="idref" href="#H0:747"><span class="id" title="binder">Countable</span></a> <a id="H0:747" class="idref" href="#H0:747"><span class="id" title="binder">B</span></a>} (<a id="f:748" class="idref" href="#f:748"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:745"><span class="id" title="variable">B</span></a>) (<a id="b:749" class="idref" href="#b:749"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:745"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a:750" class="idref" href="#a:750"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#f:748"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:750"><span class="id" title="variable">a</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a>=&gt;?. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dzero_dbind_pmf" class="idref" href="#dzero_dbind_pmf"><span class="id" title="lemma">dzero_dbind_pmf</span></a> `{<a id="H0:753" class="idref" href="#H0:753"><span class="id" title="binder">Countable</span></a> <a id="H0:753" class="idref" href="#H0:753"><span class="id" title="binder">B</span></a>} (<a id="716a3c23d50241a3e76f07e654946d65" class="idref" href="#716a3c23d50241a3e76f07e654946d65"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) (<a id="b:755" class="idref" href="#b:755"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:751"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a:756" class="idref" href="#a:756"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#716a3c23d50241a3e76f07e654946d65"><span class="id" title="variable">μ</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="clutch.prob.distribution.html#b:755"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a>=&gt;?. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dzero_dbind" class="idref" href="#dzero_dbind"><span class="id" title="lemma">dzero_dbind</span></a> `{<a id="H0:759" class="idref" href="#H0:759"><span class="id" title="binder">Countable</span></a> <a id="H0:759" class="idref" href="#H0:759"><span class="id" title="binder">A'</span></a>} (<a id="49ed2c0acc94cf07b077feb11e45d1d7" class="idref" href="#49ed2c0acc94cf07b077feb11e45d1d7"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a:761" class="idref" href="#a:761"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#49ed2c0acc94cf07b077feb11e45d1d7"><span class="id" title="variable">μ</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="clutch.prob.distribution.html#A':757"><span class="id" title="variable">A'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="clutch.prob.distribution.html#dzero_dbind_pmf"><span class="id" title="lemma">dzero_dbind_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dzero" class="idref" href="#dbind_dzero"><span class="id" title="lemma">dbind_dzero</span></a> `{<a id="H0:764" class="idref" href="#H0:764"><span class="id" title="binder">Countable</span></a> <a id="H0:764" class="idref" href="#H0:764"><span class="id" title="binder">B</span></a>} (<a id="f:765" class="idref" href="#f:765"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:762"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a:766" class="idref" href="#a:766"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#f:765"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:766"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="clutch.prob.distribution.html#dbind_dzero_pmf"><span class="id" title="lemma">dbind_dzero_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_dzero" class="idref" href="#dmap_dzero"><span class="id" title="lemma">dmap_dzero</span></a> `{<a id="H0:769" class="idref" href="#H0:769"><span class="id" title="binder">Countable</span></a> <a id="H0:769" class="idref" href="#H0:769"><span class="id" title="binder">B</span></a>} (<a id="f:770" class="idref" href="#f:770"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#B:767"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:770"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dbind_dzero"><span class="id" title="lemma">dbind_dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="section">dzero</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dmap_dzero_inv" class="idref" href="#dmap_dzero_inv"><span class="id" title="lemma">dmap_dzero_inv</span></a> `{<a id="H:773" class="idref" href="#H:773"><span class="id" title="binder">Countable</span></a> <a id="H:773" class="idref" href="#H:773"><span class="id" title="binder">A</span></a>, <a id="H0:776" class="idref" href="#H0:776"><span class="id" title="binder">Countable</span></a> <a id="H0:776" class="idref" href="#H0:776"><span class="id" title="binder">B</span></a>} (<a id="f:777" class="idref" href="#f:777"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:771"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#B:774"><span class="id" title="variable">B</span></a>) (<a id="ab5409164eca936a0eb48be9a2f5fdd1" class="idref" href="#ab5409164eca936a0eb48be9a2f5fdd1"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:771"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:777"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#ab5409164eca936a0eb48be9a2f5fdd1"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#ab5409164eca936a0eb48be9a2f5fdd1"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#SeriesC_zero_dzero"><span class="id" title="lemma">SeriesC_zero_dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="clutch.prob.distribution.html#dmap_mass"><span class="id" title="lemma">dmap_mass</span></a> <span class="id" title="var">_</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hf</span> <a class="idref" href="clutch.prob.distribution.html#dzero_mass"><span class="id" title="lemma">dzero_mass</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab11"></a><h1 class="section">Diagonal</h1>

</div>
<div class="code">
<span class="id" title="keyword">Program Definition</span> <a id="ddiag" class="idref" href="#ddiag"><span class="id" title="definition">ddiag</span></a> `{<a id="H:781" class="idref" href="#H:781"><span class="id" title="binder">Countable</span></a> <a id="H:781" class="idref" href="#H:781"><span class="id" title="binder">A</span></a>} (<a id="9b1778c3998e105f42b1b9eb94eb080d" class="idref" href="#9b1778c3998e105f42b1b9eb94eb080d"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:779"><span class="id" title="variable">A</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#A:779"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#A:779"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:785" class="idref" href="#pat:785"><span class="id" title="binder">(</span></a><a id="pat:785" class="idref" href="#pat:785"><span class="id" title="binder">a</span></a><a id="pat:785" class="idref" href="#pat:785"><span class="id" title="binder">,</span></a> <a id="pat:785" class="idref" href="#pat:785"><span class="id" title="binder">b</span></a><a id="pat:785" class="idref" href="#pat:785"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a:784"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#b:783"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob.distribution.html#9b1778c3998e105f42b1b9eb94eb080d"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:784"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span> ???? [<span class="id" title="var">a</span> <span class="id" title="var">b</span>]=&gt;/=. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span>?? <span class="id" title="var">μ</span> =&gt;/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_prod"><span class="id" title="lemma">ex_seriesC_prod</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_singleton'"><span class="id" title="lemma">ex_seriesC_singleton'</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_ext"><span class="id" title="lemma">ex_seriesC_ext</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span>?? <span class="id" title="var">μ</span> =&gt;/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC_prod_lr"><span class="id" title="lemma">fubini_pos_seriesC_prod_lr</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_prod"><span class="id" title="lemma">ex_seriesC_prod</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_singleton'"><span class="id" title="lemma">ex_seriesC_singleton'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ddiag_pmf" class="idref" href="#ddiag_pmf"><span class="id" title="lemma">ddiag_pmf</span></a> `{<a id="H:788" class="idref" href="#H:788"><span class="id" title="binder">Countable</span></a> <a id="H:788" class="idref" href="#H:788"><span class="id" title="binder">A</span></a>} (<a id="45f977125fd175ae96c7e12d57995331" class="idref" href="#45f977125fd175ae96c7e12d57995331"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:786"><span class="id" title="variable">A</span></a>) (<a id="p:790" class="idref" href="#p:790"><span class="id" title="binder">p</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:786"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#A:786"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ddiag"><span class="id" title="definition">ddiag</span></a> <a class="idref" href="clutch.prob.distribution.html#45f977125fd175ae96c7e12d57995331"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#p:790"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#p:790"><span class="id" title="variable">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#p:790"><span class="id" title="variable">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">.2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob.distribution.html#45f977125fd175ae96c7e12d57995331"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#p:790"><span class="id" title="variable">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">a1</span> &amp; <span class="id" title="var">a2</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">a1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a2</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab12"></a><h1 class="section">Products</h1>

</div>
<div class="code">
<span class="id" title="keyword">Program Definition</span> <a id="dprod" class="idref" href="#dprod"><span class="id" title="definition">dprod</span></a> `{<a id="H:793" class="idref" href="#H:793"><span class="id" title="binder">Countable</span></a> <a id="H:793" class="idref" href="#H:793"><span class="id" title="binder">A</span></a>, <a id="H0:796" class="idref" href="#H0:796"><span class="id" title="binder">Countable</span></a> <a id="H0:796" class="idref" href="#H0:796"><span class="id" title="binder">B</span></a>} (<a id="5d4455035b8ed5b7e2f3d88c951f1326" class="idref" href="#5d4455035b8ed5b7e2f3d88c951f1326"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:791"><span class="id" title="variable">A</span></a>) (<a id="5eee5803479afe5a39162d5b52c49b02" class="idref" href="#5eee5803479afe5a39162d5b52c49b02"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:794"><span class="id" title="variable">B</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#A:791"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B:794"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:801" class="idref" href="#pat:801"><span class="id" title="binder">(</span></a><a id="pat:801" class="idref" href="#pat:801"><span class="id" title="binder">a</span></a><a id="pat:801" class="idref" href="#pat:801"><span class="id" title="binder">,</span></a> <a id="pat:801" class="idref" href="#pat:801"><span class="id" title="binder">b</span></a><a id="pat:801" class="idref" href="#pat:801"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#5d4455035b8ed5b7e2f3d88c951f1326"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:800"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#5eee5803479afe5a39162d5b52c49b02"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#b:799"><span class="id" title="variable">b</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span> ???????? [<span class="id" title="var">a</span> <span class="id" title="var">b</span>] =&gt;/=. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> ?? <span class="id" title="var">B</span> ?? <span class="id" title="var">μ1</span> <span class="id" title="var">μ2</span>=&gt;/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_prod"><span class="id" title="lemma">ex_seriesC_prod</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_ext"><span class="id" title="lemma">ex_seriesC_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?????? <span class="id" title="var">μ1</span> <span class="id" title="var">μ2</span> =&gt;/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:810" class="idref" href="#pat:810"><span class="id" title="binder">(</span></a><a id="pat:810" class="idref" href="#pat:810"><span class="id" title="binder">a</span></a><a id="pat:810" class="idref" href="#pat:810"><span class="id" title="binder">,</span></a> <a id="pat:810" class="idref" href="#pat:810"><span class="id" title="binder">b</span></a><a id="pat:810" class="idref" href="#pat:810"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.distribution.html#a:803"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.distribution.html#b:802"><span class="id" title="variable">b</span></a>)); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> (<span class="id" title="var">a</span> &amp; <span class="id" title="var">b</span>). <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#distr_double_rl"><span class="id" title="lemma">distr_double_rl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.distribution.html#distr_double_swap"><span class="id" title="lemma">distr_double_swap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:813" class="idref" href="#a:813"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span>) <span class="id" title="var">μ1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:816" class="idref" href="#a:816"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.distribution.html#a:814"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ2</span>)); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ1</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="dprod" class="idref" href="#dprod"><span class="id" title="section">dprod</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:819" class="idref" href="#H:819"><span class="id" title="binder">Countable</span></a> <a id="H:819" class="idref" href="#H:819"><span class="id" title="binder">A</span></a>, <a id="H0:822" class="idref" href="#H0:822"><span class="id" title="binder">Countable</span></a> <a id="H0:822" class="idref" href="#H0:822"><span class="id" title="binder">B</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="05c5972dd4ae8836404b418679132f9b" class="idref" href="#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dprod.A"><span class="id" title="variable">A</span></a>) (<a id="7737f10f9e4a43afbb40ab71874aa7ba" class="idref" href="#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dprod.B"><span class="id" title="variable">B</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dprod_pos" class="idref" href="#dprod_pos"><span class="id" title="lemma">dprod_pos</span></a> (<a id="a:825" class="idref" href="#a:825"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#dprod.A"><span class="id" title="variable">A</span></a>) (<a id="b:826" class="idref" href="#b:826"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#dprod.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a> <a class="idref" href="clutch.prob.distribution.html#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:825"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:826"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="clutch.prob.distribution.html#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:825"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.prob.distribution.html#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#b:826"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="var">real_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span> [| -&gt;%<a class="idref" href="clutch.prob.distribution.html#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a>]; [|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span> [| -&gt;%<a class="idref" href="clutch.prob.distribution.html#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a>]; [|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dprod_mass" class="idref" href="#dprod_mass"><span class="id" title="lemma">dprod_mass</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a> <a class="idref" href="clutch.prob.distribution.html#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}(<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:835" class="idref" href="#pat:835"><span class="id" title="binder">(</span></a><a id="pat:835" class="idref" href="#pat:835"><span class="id" title="binder">a</span></a><a id="pat:835" class="idref" href="#pat:835"><span class="id" title="binder">,</span></a> <a id="pat:835" class="idref" href="#pat:835"><span class="id" title="binder">b</span></a><a id="pat:835" class="idref" href="#pat:835"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:828"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#b:827"><span class="id" title="variable">b</span></a>)); [ | <span class="id" title="tactic">intros</span> (<span class="id" title="var">a'</span> &amp; <span class="id" title="var">b'</span>) ; <span class="id" title="tactic">auto</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#distr_double_lr"><span class="id" title="lemma">distr_double_lr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [|<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#dprod"><span class="id" title="section">dprod</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab13"></a><h1 class="section">swap</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="dswap" class="idref" href="#dswap"><span class="id" title="definition">dswap</span></a> `{<a id="H:838" class="idref" href="#H:838"><span class="id" title="binder">Countable</span></a> <a id="H:838" class="idref" href="#H:838"><span class="id" title="binder">A</span></a>, <a id="H0:841" class="idref" href="#H0:841"><span class="id" title="binder">Countable</span></a> <a id="H0:841" class="idref" href="#H0:841"><span class="id" title="binder">B</span></a>} (<a id="b413c66f9b7c610a26510d0d370eaf06" class="idref" href="#b413c66f9b7c610a26510d0d370eaf06"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#A:836"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B:839"><span class="id" title="variable">B</span></a>)) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#B:839"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#A:836"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:845" class="idref" href="#pat:845"><span class="id" title="binder">(</span></a><a id="pat:845" class="idref" href="#pat:845"><span class="id" title="binder">a</span></a><a id="pat:845" class="idref" href="#pat:845"><span class="id" title="binder">,</span></a> <a id="pat:845" class="idref" href="#pat:845"><span class="id" title="binder">b</span></a><a id="pat:845" class="idref" href="#pat:845"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:843"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#a:844"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="clutch.prob.distribution.html#b413c66f9b7c610a26510d0d370eaf06"><span class="id" title="variable">μ</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab14"></a><h1 class="section">Marginals</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="lmarg" class="idref" href="#lmarg"><span class="id" title="definition">lmarg</span></a> `{<a id="H:848" class="idref" href="#H:848"><span class="id" title="binder">Countable</span></a> <a id="H:848" class="idref" href="#H:848"><span class="id" title="binder">A</span></a>, <a id="H0:851" class="idref" href="#H0:851"><span class="id" title="binder">Countable</span></a> <a id="H0:851" class="idref" href="#H0:851"><span class="id" title="binder">B</span></a>} (<a id="f56082ace97afbce8c918732e079ec4c" class="idref" href="#f56082ace97afbce8c918732e079ec4c"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#A:846"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B:849"><span class="id" title="variable">B</span></a>)) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:846"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="clutch.prob.distribution.html#f56082ace97afbce8c918732e079ec4c"><span class="id" title="variable">μ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="rmarg" class="idref" href="#rmarg"><span class="id" title="definition">rmarg</span></a> `{<a id="H:855" class="idref" href="#H:855"><span class="id" title="binder">Countable</span></a> <a id="H:855" class="idref" href="#H:855"><span class="id" title="binder">A</span></a>, <a id="H0:858" class="idref" href="#H0:858"><span class="id" title="binder">Countable</span></a> <a id="H0:858" class="idref" href="#H0:858"><span class="id" title="binder">B</span></a>} (<a id="f4414813d2bfa110c6b9b45c9d5c8d57" class="idref" href="#f4414813d2bfa110c6b9b45c9d5c8d57"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#A:853"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B:856"><span class="id" title="variable">B</span></a>)) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:856"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="clutch.prob.distribution.html#f4414813d2bfa110c6b9b45c9d5c8d57"><span class="id" title="variable">μ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="marginals" class="idref" href="#marginals"><span class="id" title="section">marginals</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:862" class="idref" href="#H:862"><span class="id" title="binder">Countable</span></a> <a id="H:862" class="idref" href="#H:862"><span class="id" title="binder">A</span></a>, <a id="H0:865" class="idref" href="#H0:865"><span class="id" title="binder">Countable</span></a> <a id="H0:865" class="idref" href="#H0:865"><span class="id" title="binder">B</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lmarg_pmf" class="idref" href="#lmarg_pmf"><span class="id" title="lemma">lmarg_pmf</span></a> (<a id="e56bb12ecfcaf48c87b39ce7ff94e98b" class="idref" href="#e56bb12ecfcaf48c87b39ce7ff94e98b"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>)) (<a id="a:867" class="idref" href="#a:867"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> <a class="idref" href="clutch.prob.distribution.html#e56bb12ecfcaf48c87b39ce7ff94e98b"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:867"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:868" class="idref" href="#b:868"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#e56bb12ecfcaf48c87b39ce7ff94e98b"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:867"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:868"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC_prod_rl"><span class="id" title="lemma">fubini_pos_seriesC_prod_rl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a> <span class="id" title="var">a</span>)|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="rmarg_pmf" class="idref" href="#rmarg_pmf"><span class="id" title="lemma">rmarg_pmf</span></a> (<a id="65ccbdc8fa7c13c874fb3eb2eb2dcce2" class="idref" href="#65ccbdc8fa7c13c874fb3eb2eb2dcce2"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>)) (<a id="b:870" class="idref" href="#b:870"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> <a class="idref" href="clutch.prob.distribution.html#65ccbdc8fa7c13c874fb3eb2eb2dcce2"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#b:870"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:871" class="idref" href="#a:871"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#65ccbdc8fa7c13c874fb3eb2eb2dcce2"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:871"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:870"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC_prod_lr"><span class="id" title="lemma">fubini_pos_seriesC_prod_lr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a> <span class="id" title="var">b</span>)|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>]. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ex_distr_lmarg" class="idref" href="#ex_distr_lmarg"><span class="id" title="lemma">ex_distr_lmarg</span></a> (<a id="93b0d969f615751e25220d6a7218be72" class="idref" href="#93b0d969f615751e25220d6a7218be72"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>)) (<a id="a:873" class="idref" href="#a:873"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:874" class="idref" href="#b:874"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#93b0d969f615751e25220d6a7218be72"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:873"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:874"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_lmarg"><span class="id" title="lemma">ex_seriesC_lmarg</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ex_distr_rmarg" class="idref" href="#ex_distr_rmarg"><span class="id" title="lemma">ex_distr_rmarg</span></a> (<a id="e058c9dc4ed76ec797a3388a1ca0a22a" class="idref" href="#e058c9dc4ed76ec797a3388a1ca0a22a"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>)) (<a id="b:876" class="idref" href="#b:876"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:877" class="idref" href="#a:877"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#e058c9dc4ed76ec797a3388a1ca0a22a"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:877"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:876"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_rmarg"><span class="id" title="lemma">ex_seriesC_rmarg</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lmarg_dprod_pmf" class="idref" href="#lmarg_dprod_pmf"><span class="id" title="lemma">lmarg_dprod_pmf</span></a> (<a id="dc1e343f9fb580a8c331306a9ee54306" class="idref" href="#dc1e343f9fb580a8c331306a9ee54306"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) (<a id="d1fcdca22eb47a311fb38a97951ef8a8" class="idref" href="#d1fcdca22eb47a311fb38a97951ef8a8"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>) (<a id="a:880" class="idref" href="#a:880"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> (<a class="idref" href="clutch.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a> <a class="idref" href="clutch.prob.distribution.html#dc1e343f9fb580a8c331306a9ee54306"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#d1fcdca22eb47a311fb38a97951ef8a8"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="clutch.prob.distribution.html#a:880"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dc1e343f9fb580a8c331306a9ee54306"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:880"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#d1fcdca22eb47a311fb38a97951ef8a8"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#lmarg_pmf"><span class="id" title="lemma">lmarg_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lmarg_dprod" class="idref" href="#lmarg_dprod"><span class="id" title="lemma">lmarg_dprod</span></a> (<a id="6447a0734c5520605e97a414f157bb53" class="idref" href="#6447a0734c5520605e97a414f157bb53"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) (<a id="5dc311b188d7db7b9f63dfe5480e8292" class="idref" href="#5dc311b188d7db7b9f63dfe5480e8292"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#5dc311b188d7db7b9f63dfe5480e8292"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> (<a class="idref" href="clutch.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a> <a class="idref" href="clutch.prob.distribution.html#6447a0734c5520605e97a414f157bb53"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#5dc311b188d7db7b9f63dfe5480e8292"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#6447a0734c5520605e97a414f157bb53"><span class="id" title="variable">μ1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hμ2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#lmarg_dprod_pmf"><span class="id" title="lemma">lmarg_dprod_pmf</span></a> <span class="id" title="var">Hμ2</span>. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lmarg_dswap" class="idref" href="#lmarg_dswap"><span class="id" title="lemma">lmarg_dswap</span></a> (<a id="f933a3aeb30cffc7d86520a32a1811c1" class="idref" href="#f933a3aeb30cffc7d86520a32a1811c1"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> (<a class="idref" href="clutch.prob.distribution.html#dswap"><span class="id" title="definition">dswap</span></a> <a class="idref" href="clutch.prob.distribution.html#f933a3aeb30cffc7d86520a32a1811c1"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> <a class="idref" href="clutch.prob.distribution.html#f933a3aeb30cffc7d86520a32a1811c1"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> /<a class="idref" href="clutch.prob.distribution.html#dswap"><span class="id" title="definition">dswap</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap_comp"><span class="id" title="lemma">dmap_comp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:889" class="idref" href="#pat:889"><span class="id" title="binder">(</span></a><a id="pat:889" class="idref" href="#pat:889"><span class="id" title="binder">a</span></a><a id="pat:889" class="idref" href="#pat:889"><span class="id" title="binder">,</span></a> <a id="pat:889" class="idref" href="#pat:889"><span class="id" title="binder">b</span></a><a id="pat:889" class="idref" href="#pat:889"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:884"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#a:885"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">extensionality</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="rmarg_dswap" class="idref" href="#rmarg_dswap"><span class="id" title="lemma">rmarg_dswap</span></a> (<a id="0602a9d7551b8f1b53f2a83b88c748b9" class="idref" href="#0602a9d7551b8f1b53f2a83b88c748b9"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> (<a class="idref" href="clutch.prob.distribution.html#dswap"><span class="id" title="definition">dswap</span></a> <a class="idref" href="clutch.prob.distribution.html#0602a9d7551b8f1b53f2a83b88c748b9"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> <a class="idref" href="clutch.prob.distribution.html#0602a9d7551b8f1b53f2a83b88c748b9"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> /<a class="idref" href="clutch.prob.distribution.html#dswap"><span class="id" title="definition">dswap</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap_comp"><span class="id" title="lemma">dmap_comp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:896" class="idref" href="#pat:896"><span class="id" title="binder">(</span></a><a id="pat:896" class="idref" href="#pat:896"><span class="id" title="binder">a</span></a><a id="pat:896" class="idref" href="#pat:896"><span class="id" title="binder">,</span></a> <a id="pat:896" class="idref" href="#pat:896"><span class="id" title="binder">b</span></a><a id="pat:896" class="idref" href="#pat:896"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:891"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#a:892"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">extensionality</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="rmarg_dprod_pmf" class="idref" href="#rmarg_dprod_pmf"><span class="id" title="lemma">rmarg_dprod_pmf</span></a> (<a id="4ed8fd51f11aa61d984b67794b2345b7" class="idref" href="#4ed8fd51f11aa61d984b67794b2345b7"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) (<a id="25f0f75e041a3e77ae6efcad00d9c547" class="idref" href="#25f0f75e041a3e77ae6efcad00d9c547"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>) (<a id="b:899" class="idref" href="#b:899"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> (<a class="idref" href="clutch.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a> <a class="idref" href="clutch.prob.distribution.html#4ed8fd51f11aa61d984b67794b2345b7"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#25f0f75e041a3e77ae6efcad00d9c547"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="clutch.prob.distribution.html#b:899"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#25f0f75e041a3e77ae6efcad00d9c547"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#b:899"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#4ed8fd51f11aa61d984b67794b2345b7"><span class="id" title="variable">μ1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#rmarg_pmf"><span class="id" title="lemma">rmarg_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="rmarg_dprod" class="idref" href="#rmarg_dprod"><span class="id" title="lemma">rmarg_dprod</span></a> (<a id="9379da0139f2e4cede8d34ac69f344b2" class="idref" href="#9379da0139f2e4cede8d34ac69f344b2"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) (<a id="82b2ef20210f5ab48ba73780416e8a47" class="idref" href="#82b2ef20210f5ab48ba73780416e8a47"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#9379da0139f2e4cede8d34ac69f344b2"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> (<a class="idref" href="clutch.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a> <a class="idref" href="clutch.prob.distribution.html#9379da0139f2e4cede8d34ac69f344b2"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#82b2ef20210f5ab48ba73780416e8a47"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#82b2ef20210f5ab48ba73780416e8a47"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hμ1</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#rmarg_dprod_pmf"><span class="id" title="lemma">rmarg_dprod_pmf</span></a> <span class="id" title="var">Hμ1</span>. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#marginals"><span class="id" title="section">marginals</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ddiag_lmarg" class="idref" href="#ddiag_lmarg"><span class="id" title="lemma">ddiag_lmarg</span></a> `{<a id="H:904" class="idref" href="#H:904"><span class="id" title="binder">Countable</span></a> <a id="H:904" class="idref" href="#H:904"><span class="id" title="binder">A</span></a>} (<a id="8bf735a92a45bbbd79382f40cd504049" class="idref" href="#8bf735a92a45bbbd79382f40cd504049"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:902"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> (<a class="idref" href="clutch.prob.distribution.html#ddiag"><span class="id" title="definition">ddiag</span></a> <a class="idref" href="clutch.prob.distribution.html#8bf735a92a45bbbd79382f40cd504049"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#8bf735a92a45bbbd79382f40cd504049"><span class="id" title="variable">μ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#lmarg_pmf"><span class="id" title="lemma">lmarg_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.distribution.html#ddiag_pmf"><span class="id" title="lemma">ddiag_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ddiag_rmarg" class="idref" href="#ddiag_rmarg"><span class="id" title="lemma">ddiag_rmarg</span></a> `{<a id="H:908" class="idref" href="#H:908"><span class="id" title="binder">Countable</span></a> <a id="H:908" class="idref" href="#H:908"><span class="id" title="binder">A</span></a>} (<a id="a54cab2f431c6600dfe28d260e1ada13" class="idref" href="#a54cab2f431c6600dfe28d260e1ada13"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:906"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> (<a class="idref" href="clutch.prob.distribution.html#ddiag"><span class="id" title="definition">ddiag</span></a> <a class="idref" href="clutch.prob.distribution.html#a54cab2f431c6600dfe28d260e1ada13"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#a54cab2f431c6600dfe28d260e1ada13"><span class="id" title="variable">μ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#rmarg_pmf"><span class="id" title="lemma">rmarg_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.distribution.html#ddiag_pmf"><span class="id" title="lemma">ddiag_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lmarg_dzero" class="idref" href="#lmarg_dzero"><span class="id" title="lemma">lmarg_dzero</span></a> `{<a id="H:912" class="idref" href="#H:912"><span class="id" title="binder">Countable</span></a> <a id="H:912" class="idref" href="#H:912"><span class="id" title="binder">A</span></a>, <a id="H0:915" class="idref" href="#H0:915"><span class="id" title="binder">Countable</span></a> <a id="H0:915" class="idref" href="#H0:915"><span class="id" title="binder">B</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> (<a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> (<span class="id" title="var">A</span> := (<a class="idref" href="clutch.prob.distribution.html#A:910"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B:913"><span class="id" title="variable">B</span></a>))) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap_dzero"><span class="id" title="lemma">dmap_dzero</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rmarg_dzero" class="idref" href="#rmarg_dzero"><span class="id" title="lemma">rmarg_dzero</span></a> `{<a id="H:918" class="idref" href="#H:918"><span class="id" title="binder">Countable</span></a> <a id="H:918" class="idref" href="#H:918"><span class="id" title="binder">A</span></a>, <a id="H0:921" class="idref" href="#H0:921"><span class="id" title="binder">Countable</span></a> <a id="H0:921" class="idref" href="#H0:921"><span class="id" title="binder">B</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> (<a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> (<span class="id" title="var">A</span> := (<a class="idref" href="clutch.prob.distribution.html#A:916"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B:919"><span class="id" title="variable">B</span></a>))) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap_dzero"><span class="id" title="lemma">dmap_dzero</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab15"></a><h1 class="section">Pointwise order</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="distr_le" class="idref" href="#distr_le"><span class="id" title="definition">distr_le</span></a> `{<a id="H:924" class="idref" href="#H:924"><span class="id" title="binder">Countable</span></a> <a id="H:924" class="idref" href="#H:924"><span class="id" title="binder">A</span></a>} (<a id="f56f9a7282c9b2d770b6afb4a1b50fa4" class="idref" href="#f56f9a7282c9b2d770b6afb4a1b50fa4"><span class="id" title="binder">μ1</span></a> <a id="5f9db8f1cc52108e9492278732aa3cb4" class="idref" href="#5f9db8f1cc52108e9492278732aa3cb4"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:922"><span class="id" title="variable">A</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:927" class="idref" href="#a:927"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> (<a class="idref" href="clutch.prob.distribution.html#f56f9a7282c9b2d770b6afb4a1b50fa4"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:927"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#5f9db8f1cc52108e9492278732aa3cb4"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#a:927"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="order" class="idref" href="#order"><span class="id" title="section">order</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:930" class="idref" href="#H:930"><span class="id" title="binder">Countable</span></a> <a id="H:930" class="idref" href="#H:930"><span class="id" title="binder">A</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_dzero" class="idref" href="#distr_le_dzero"><span class="id" title="lemma">distr_le_dzero</span></a> (<a id="696c6a2a9e049f3b1cdb237209b10534" class="idref" href="#696c6a2a9e049f3b1cdb237209b10534"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="clutch.prob.distribution.html#696c6a2a9e049f3b1cdb237209b10534"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_refl" class="idref" href="#distr_le_refl"><span class="id" title="lemma">distr_le_refl</span></a> (<a id="34a302d6fd5bf88d885c782a745e3f73" class="idref" href="#34a302d6fd5bf88d885c782a745e3f73"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="clutch.prob.distribution.html#34a302d6fd5bf88d885c782a745e3f73"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#34a302d6fd5bf88d885c782a745e3f73"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_trans" class="idref" href="#distr_le_trans"><span class="id" title="lemma">distr_le_trans</span></a> (<a id="212db2016a4fc7cf782b37874253449f" class="idref" href="#212db2016a4fc7cf782b37874253449f"><span class="id" title="binder">μ1</span></a> <a id="d9b71f2b89ea644a097dca5cce0945f1" class="idref" href="#d9b71f2b89ea644a097dca5cce0945f1"><span class="id" title="binder">μ2</span></a> <a id="786a539490e43dd6cacf9272c9d799fd" class="idref" href="#786a539490e43dd6cacf9272c9d799fd"><span class="id" title="binder">μ3</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="clutch.prob.distribution.html#212db2016a4fc7cf782b37874253449f"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#d9b71f2b89ea644a097dca5cce0945f1"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="clutch.prob.distribution.html#d9b71f2b89ea644a097dca5cce0945f1"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#786a539490e43dd6cacf9272c9d799fd"><span class="id" title="variable">μ3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="clutch.prob.distribution.html#212db2016a4fc7cf782b37874253449f"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#786a539490e43dd6cacf9272c9d799fd"><span class="id" title="variable">μ3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">transitivity</span> (<span class="id" title="var">μ2</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_antisym" class="idref" href="#distr_le_antisym"><span class="id" title="lemma">distr_le_antisym</span></a> (<a id="2f86b084b212a7fd85f7d5b2152e0873" class="idref" href="#2f86b084b212a7fd85f7d5b2152e0873"><span class="id" title="binder">μ1</span></a> <a id="47b9397630f4f5f3554a473d4f218fbf" class="idref" href="#47b9397630f4f5f3554a473d4f218fbf"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="clutch.prob.distribution.html#2f86b084b212a7fd85f7d5b2152e0873"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#47b9397630f4f5f3554a473d4f218fbf"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="clutch.prob.distribution.html#47b9397630f4f5f3554a473d4f218fbf"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#2f86b084b212a7fd85f7d5b2152e0873"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#2f86b084b212a7fd85f7d5b2152e0873"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#47b9397630f4f5f3554a473d4f218fbf"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rle_antisym"><span class="id" title="lemma">Rle_antisym</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_dbind" class="idref" href="#distr_le_dbind"><span class="id" title="lemma">distr_le_dbind</span></a> `{<a id="H0:940" class="idref" href="#H0:940"><span class="id" title="binder">Countable</span></a> <a id="H0:940" class="idref" href="#H0:940"><span class="id" title="binder">B</span></a>} (<a id="c8faa47c3d97a14eed66fcf4ba0a9391" class="idref" href="#c8faa47c3d97a14eed66fcf4ba0a9391"><span class="id" title="binder">μ1</span></a> <a id="fe5ac847b49751ed995cf36826024d51" class="idref" href="#fe5ac847b49751ed995cf36826024d51"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>) (<a id="f1:943" class="idref" href="#f1:943"><span class="id" title="binder">f1</span></a> <a id="f2:944" class="idref" href="#f2:944"><span class="id" title="binder">f2</span></a> : <a class="idref" href="clutch.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:938"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="clutch.prob.distribution.html#c8faa47c3d97a14eed66fcf4ba0a9391"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#fe5ac847b49751ed995cf36826024d51"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:945" class="idref" href="#a:945"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> (<a class="idref" href="clutch.prob.distribution.html#f1:943"><span class="id" title="variable">f1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:945"><span class="id" title="variable">a</span></a>) (<a class="idref" href="clutch.prob.distribution.html#f2:944"><span class="id" title="variable">f2</span></a> <a class="idref" href="clutch.prob.distribution.html#a:945"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f1:943"><span class="id" title="variable">f1</span></a> <a class="idref" href="clutch.prob.distribution.html#c8faa47c3d97a14eed66fcf4ba0a9391"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f2:944"><span class="id" title="variable">f2</span></a> <a class="idref" href="clutch.prob.distribution.html#fe5ac847b49751ed995cf36826024d51"><span class="id" title="variable">μ2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hle</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> (<span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <span class="id" title="var">f2</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>, <span class="id" title="var">Hf</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_dmap_1" class="idref" href="#distr_le_dmap_1"><span class="id" title="lemma">distr_le_dmap_1</span></a> `{<a id="H0:948" class="idref" href="#H0:948"><span class="id" title="binder">Countable</span></a> <a id="H0:948" class="idref" href="#H0:948"><span class="id" title="binder">B</span></a>} (<a id="01813b219b8024500d5474b734cf4821" class="idref" href="#01813b219b8024500d5474b734cf4821"><span class="id" title="binder">μ1</span></a> <a id="1844dd302b48cd1f2b71fd7cafe05ab4" class="idref" href="#1844dd302b48cd1f2b71fd7cafe05ab4"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>) (<a id="f:951" class="idref" href="#f:951"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#B:946"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="clutch.prob.distribution.html#01813b219b8024500d5474b734cf4821"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#1844dd302b48cd1f2b71fd7cafe05ab4"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> (<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:951"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#01813b219b8024500d5474b734cf4821"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:951"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#1844dd302b48cd1f2b71fd7cafe05ab4"><span class="id" title="variable">μ2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hμ</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_le_dbind"><span class="id" title="lemma">distr_le_dbind</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_dmap_2" class="idref" href="#distr_le_dmap_2"><span class="id" title="lemma">distr_le_dmap_2</span></a> `{<a id="H0:954" class="idref" href="#H0:954"><span class="id" title="binder">Countable</span></a> <a id="H0:954" class="idref" href="#H0:954"><span class="id" title="binder">B</span></a>} (<a id="f32d82cbc55abdb6cb8d0c98bc2eaee4" class="idref" href="#f32d82cbc55abdb6cb8d0c98bc2eaee4"><span class="id" title="binder">μ1</span></a> <a id="c9912141ae73853b1242af34a366c502" class="idref" href="#c9912141ae73853b1242af34a366c502"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>) (<a id="f:957" class="idref" href="#f:957"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#B:952"><span class="id" title="variable">B</span></a>) `{<a id="H1:958" class="idref" href="#H1:958"><span class="id" title="binder">Inj</span></a> <a id="H1:958" class="idref" href="#H1:958"><span class="id" title="binder">A</span></a> <a id="H1:958" class="idref" href="#H1:958"><span class="id" title="binder">B</span></a> <a id="H1:958" class="idref" href="#H1:958"><span class="id" title="binder">(=)</span></a> <a id="H1:958" class="idref" href="#H1:958"><span class="id" title="binder">(=)</span></a> <a id="H1:958" class="idref" href="#H1:958"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> (<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:957"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#f32d82cbc55abdb6cb8d0c98bc2eaee4"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:957"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#c9912141ae73853b1242af34a366c502"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="clutch.prob.distribution.html#f32d82cbc55abdb6cb8d0c98bc2eaee4"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#c9912141ae73853b1242af34a366c502"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> 2!<a class="idref" href="clutch.prob.distribution.html#dmap_elem_eq"><span class="id" title="lemma">dmap_elem_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#order"><span class="id" title="section">order</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab16"></a><h1 class="section">Scaled distribution</h1>

</div>
<div class="code">
<span class="id" title="keyword">Program Definition</span> <a id="distr_scal" class="idref" href="#distr_scal"><span class="id" title="definition">distr_scal</span></a> `{<a id="H:961" class="idref" href="#H:961"><span class="id" title="binder">Countable</span></a> <a id="H:961" class="idref" href="#H:961"><span class="id" title="binder">A</span></a>} (<a id="r:962" class="idref" href="#r:962"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="3ad53e4d0cf5556d09427cb127bd5995" class="idref" href="#3ad53e4d0cf5556d09427cb127bd5995"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:959"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hr:964" class="idref" href="#Hr:964"><span class="id" title="binder">Hr</span></a> : 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#r:962"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.prob.distribution.html#r:962"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#3ad53e4d0cf5556d09427cb127bd5995"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1) := <a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:965" class="idref" href="#a:965"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#r:962"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#3ad53e4d0cf5556d09427cb127bd5995"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:965"><span class="id" title="variable">a</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ????? [] <span class="id" title="var">a</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span>). <span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span> ????? []. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab17"></a><h1 class="section">Limit distribution</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="convergence" class="idref" href="#convergence"><span class="id" title="section">convergence</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:968" class="idref" href="#H:968"><span class="id" title="binder">Countable</span></a> <a id="H:968" class="idref" href="#H:968"><span class="id" title="binder">A</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="lim_distr" class="idref" href="#lim_distr"><span class="id" title="definition">lim_distr</span></a> (<a id="h:969" class="idref" href="#h:969"><span class="id" title="binder">h</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#convergence.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:970" class="idref" href="#n:970"><span class="id" title="binder">n</span></a> <a id="a:971" class="idref" href="#a:971"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#h:969"><span class="id" title="variable">h</span></a> <a class="idref" href="clutch.prob.distribution.html#n:970"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.prob.distribution.html#a:971"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#h:969"><span class="id" title="variable">h</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="clutch.prob.distribution.html#n:970"><span class="id" title="variable">n</span></a>) <a class="idref" href="clutch.prob.distribution.html#a:971"><span class="id" title="variable">a</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:972" class="idref" href="#a:972"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq"><span class="id" title="definition">Sup_seq</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:973" class="idref" href="#n:973"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#h:969"><span class="id" title="variable">h</span></a> <a class="idref" href="clutch.prob.distribution.html#n:973"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.prob.distribution.html#a:972"><span class="id" title="variable">a</span></a>)) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">Hmon</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<span class="id" title="var">h</span> 0%<span class="id" title="var">nat</span> <span class="id" title="var">a</span>); [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Coquelicot_ext.html#rbar_le_finite"><span class="id" title="lemma">rbar_le_finite</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prelude.Coquelicot_ext.html#Rbar_le_sandwich"><span class="id" title="lemma">Rbar_le_sandwich</span></a> 0 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq_minor_le"><span class="id" title="lemma">Sup_seq_minor_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> 0%<span class="id" title="var">nat</span>)=&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Series_ext.html#upper_bound_ge_sup"><span class="id" title="lemma">upper_bound_ge_sup</span></a>=&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prelude.Series_ext.html#sup_is_upper_bound"><span class="id" title="lemma">sup_is_upper_bound</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:975" class="idref" href="#n:975"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">h</span> <a class="idref" href="clutch.prob.distribution.html#n:974"><span class="id" title="variable">n</span></a> <span class="id" title="var">a</span>) 0%<span class="id" title="var">nat</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">Hmon</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rbar.html#is_finite"><span class="id" title="definition">is_finite</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq"><span class="id" title="definition">Sup_seq</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:977" class="idref" href="#x:977"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="clutch.prob.distribution.html#x:976"><span class="id" title="variable">x</span></a>)))) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prelude.Coquelicot_ext.html#Rbar_le_sandwich"><span class="id" title="lemma">Rbar_le_sandwich</span></a> 0 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq_minor_le"><span class="id" title="lemma">Sup_seq_minor_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> 0%<span class="id" title="var">nat</span>)=&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Series_ext.html#upper_bound_ge_sup"><span class="id" title="lemma">upper_bound_ge_sup</span></a>=&gt;/=. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#MCT_ex_seriesC"><span class="id" title="lemma">MCT_ex_seriesC</span></a> <span class="id" title="var">h</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:980" class="idref" href="#n:980"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="clutch.prob.distribution.html#n:978"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq"><span class="id" title="definition">Sup_seq</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:981" class="idref" href="#x:981"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="clutch.prob.distribution.html#x:979"><span class="id" title="variable">x</span></a>)))); [<span class="id" title="var">done</span>|<span class="id" title="var">done</span>|<span class="id" title="tactic">eauto</span>| |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_correct"><span class="id" title="lemma">SeriesC_correct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prelude.Coquelicot_ext.html#rbar_finite_real_eq"><span class="id" title="lemma">rbar_finite_real_eq</span></a> //. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq_correct"><span class="id" title="lemma">Sup_seq_correct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">Hmon</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rbar.html#is_finite"><span class="id" title="definition">is_finite</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq"><span class="id" title="definition">Sup_seq</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:983" class="idref" href="#x:983"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="clutch.prob.distribution.html#x:982"><span class="id" title="variable">x</span></a>)))) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prelude.Coquelicot_ext.html#Rbar_le_sandwich"><span class="id" title="lemma">Rbar_le_sandwich</span></a> 0 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq_minor_le"><span class="id" title="lemma">Sup_seq_minor_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> 0%<span class="id" title="var">nat</span>)=&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Series_ext.html#upper_bound_ge_sup"><span class="id" title="lemma">upper_bound_ge_sup</span></a>=&gt;/=. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#MCT_seriesC"><span class="id" title="lemma">MCT_seriesC</span></a> <span class="id" title="var">h</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:988" class="idref" href="#n:988"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="clutch.prob.distribution.html#n:984"><span class="id" title="variable">n</span></a>)) (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq"><span class="id" title="definition">Sup_seq</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:989" class="idref" href="#x:989"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="clutch.prob.distribution.html#x:985"><span class="id" title="variable">x</span></a>))));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[|<span class="id" title="var">done</span>|<span class="id" title="tactic">eauto</span>|<span class="id" title="tactic">eauto</span>|<span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Coquelicot_ext.html#finite_rbar_le"><span class="id" title="lemma">finite_rbar_le</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prelude.Series_ext.html#upper_bound_ge_sup"><span class="id" title="lemma">upper_bound_ge_sup</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:991" class="idref" href="#x:991"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="clutch.prob.distribution.html#x:990"><span class="id" title="variable">x</span></a>)) 1)=&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_correct"><span class="id" title="lemma">SeriesC_correct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prelude.Coquelicot_ext.html#rbar_finite_real_eq"><span class="id" title="lemma">rbar_finite_real_eq</span></a> //. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq_correct"><span class="id" title="lemma">Sup_seq_correct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lim_distr_pmf" class="idref" href="#lim_distr_pmf"><span class="id" title="lemma">lim_distr_pmf</span></a> (<a id="h:992" class="idref" href="#h:992"><span class="id" title="binder">h</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#convergence.A"><span class="id" title="variable">A</span></a>) <a id="Hmon:993" class="idref" href="#Hmon:993"><span class="id" title="binder">Hmon</span></a> (<a id="a:994" class="idref" href="#a:994"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#convergence.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#lim_distr"><span class="id" title="definition">lim_distr</span></a> <a class="idref" href="clutch.prob.distribution.html#h:992"><span class="id" title="variable">h</span></a> <a class="idref" href="clutch.prob.distribution.html#Hmon:993"><span class="id" title="variable">Hmon</span></a> <a class="idref" href="clutch.prob.distribution.html#a:994"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq"><span class="id" title="definition">Sup_seq</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:995" class="idref" href="#n:995"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#h:992"><span class="id" title="variable">h</span></a> <a class="idref" href="clutch.prob.distribution.html#n:995"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.prob.distribution.html#a:994"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;extract&nbsp;some&nbsp;general&nbsp;lemmas&nbsp;from&nbsp;<span class="inlinecode"><span class="id" title="var">exec.v</span></span>&nbsp;*)</span><br/>

<br/>
&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#convergence"><span class="id" title="section">convergence</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab18"></a><h1 class="section">Uniform sampling</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="uniform" class="idref" href="#uniform"><span class="id" title="section">uniform</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="dunif" class="idref" href="#dunif"><span class="id" title="definition">dunif</span></a> (<a id="N:996" class="idref" href="#N:996"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="clutch.prob.distribution.html#N:996"><span class="id" title="variable">N</span></a>) := <a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a><a class="idref" href="clutch.prob.distribution.html#N:996"><span class="id" title="variable">N</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> =&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">N</span>; [<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rinv_0"><span class="id" title="lemma">Rinv_0</span></a> //|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Raxioms.html#INR"><span class="id" title="definition">INR</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">N</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Raxioms.html#INR"><span class="id" title="definition">INR</span></a> (<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1)); [|<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#plus_INR"><span class="id" title="lemma">plus_INR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RiemannInt.html#RinvN_pos"><span class="id" title="lemma">RinvN_pos</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rinv_0"><span class="id" title="lemma">Rinv_0</span></a> //. <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_finite_mass"><span class="id" title="lemma">SeriesC_finite_mass</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_card"><span class="id" title="lemma">fin_card</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rinv_r"><span class="id" title="lemma">Rinv_r</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#not_0_INR"><span class="id" title="lemma">not_0_INR</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunif_pmf" class="idref" href="#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a> <a id="N:997" class="idref" href="#N:997"><span class="id" title="binder">N</span></a> (<a id="n:998" class="idref" href="#n:998"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="clutch.prob.distribution.html#N:997"><span class="id" title="variable">N</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.distribution.html#N:997"><span class="id" title="variable">N</span></a> <a class="idref" href="clutch.prob.distribution.html#n:998"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <a class="idref" href="clutch.prob.distribution.html#N:997"><span class="id" title="variable">N</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunif_mass" class="idref" href="#dunif_mass"><span class="id" title="lemma">dunif_mass</span></a> (<a id="N:999" class="idref" href="#N:999"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.prob.distribution.html#N:999"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> 0)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.distribution.html#N:999"><span class="id" title="variable">N</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_finite_mass"><span class="id" title="lemma">SeriesC_finite_mass</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_card"><span class="id" title="lemma">fin_card</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rinv_r"><span class="id" title="lemma">Rinv_r</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#not_0_INR"><span class="id" title="lemma">not_0_INR</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_unif_zero" class="idref" href="#dmap_unif_zero"><span class="id" title="lemma">dmap_unif_zero</span></a> `{<a id="H:1002" class="idref" href="#H:1002"><span class="id" title="binder">Countable</span></a> <a id="H:1002" class="idref" href="#H:1002"><span class="id" title="binder">A</span></a>} (<a id="N:1003" class="idref" href="#N:1003"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="f:1004" class="idref" href="#f:1004"><span class="id" title="binder">f</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1003"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1000"><span class="id" title="variable">A</span></a>) (<a id="a:1005" class="idref" href="#a:1005"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:1000"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:1006" class="idref" href="#n:1006"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1004"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#n:1006"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1005"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1004"><span class="id" title="variable">f</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1003"><span class="id" title="variable">N</span></a>) <a class="idref" href="clutch.prob.distribution.html#a:1005"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_false_2"><span class="id" title="lemma">bool_decide_eq_false_2</span></a>; [<span class="id" title="var">lra</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_unif_nonzero" class="idref" href="#dmap_unif_nonzero"><span class="id" title="lemma">dmap_unif_nonzero</span></a> `{<a id="H:1009" class="idref" href="#H:1009"><span class="id" title="binder">Countable</span></a> <a id="H:1009" class="idref" href="#H:1009"><span class="id" title="binder">A</span></a>} (<a id="N:1010" class="idref" href="#N:1010"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="n:1011" class="idref" href="#n:1011"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1010"><span class="id" title="variable">N</span></a>) (<a id="f:1012" class="idref" href="#f:1012"><span class="id" title="binder">f</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1010"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1007"><span class="id" title="variable">A</span></a>) (<a id="a:1013" class="idref" href="#a:1013"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:1007"><span class="id" title="variable">A</span></a>) `{<a id="H0:1014" class="idref" href="#H0:1014"><span class="id" title="binder">Inj</span></a> <a id="H0:1014" class="idref" href="#H0:1014"><span class="id" title="binder">(</span></a><a id="H0:1014" class="idref" href="#H0:1014"><span class="id" title="binder">fin</span></a> <a id="H0:1014" class="idref" href="#H0:1014"><span class="id" title="binder">N</span></a><a id="H0:1014" class="idref" href="#H0:1014"><span class="id" title="binder">)</span></a> <a id="H0:1014" class="idref" href="#H0:1014"><span class="id" title="binder">A</span></a> <a id="H0:1014" class="idref" href="#H0:1014"><span class="id" title="binder">(=)</span></a> <a id="H0:1014" class="idref" href="#H0:1014"><span class="id" title="binder">(=)</span></a> <a id="H0:1014" class="idref" href="#H0:1014"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#f:1012"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#n:1011"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1013"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1012"><span class="id" title="variable">f</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1010"><span class="id" title="variable">N</span></a>) <a class="idref" href="clutch.prob.distribution.html#a:1013"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a><a class="idref" href="clutch.prob.distribution.html#N:1010"><span class="id" title="variable">N</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:1017" class="idref" href="#n:1017"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#n:1015"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a><span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> // <a class="idref" href="clutch.prob.distribution.html#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a>. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a> //. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton_inj"><span class="id" title="lemma">SeriesC_singleton_inj</span></a> //. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunif_fair_conv_comb" class="idref" href="#dunif_fair_conv_comb"><span class="id" title="lemma">dunif_fair_conv_comb</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#fair_conv_comb"><span class="id" title="definition">fair_conv_comb</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> 1%<span class="id" title="var">fin</span>) (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> 0%<span class="id" title="var">fin</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a> <a class="idref" href="clutch.prob.distribution.html#fair_conv_comb_pmf"><span class="id" title="lemma">fair_conv_comb_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_fin</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a> // <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> //=. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>. <span class="id" title="var">inv_fin</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> // <a class="idref" href="clutch.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a> //=. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="var">inv_fin</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;To&nbsp;avoid&nbsp;the&nbsp;case&nbsp;<span class="inlinecode"><span class="id" title="var">N</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0</span>&nbsp;where&nbsp;<span class="inlinecode"><span class="id" title="var">dunif</span></span> <span class="inlinecode">0</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">dzero</span></span>&nbsp;it&nbsp;is&nbsp;convenient<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sometimes&nbsp;convenient&nbsp;to&nbsp;use&nbsp;<span class="inlinecode"><span class="id" title="var">N</span></span> <span class="inlinecode">+</span> <span class="inlinecode">1</span>&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="dunifP" class="idref" href="#dunifP"><span class="id" title="definition">dunifP</span></a> (<a id="N:1018" class="idref" href="#N:1018"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1018"><span class="id" title="variable">N</span></a>)) := <a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1018"><span class="id" title="variable">N</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunifP_pos" class="idref" href="#dunifP_pos"><span class="id" title="lemma">dunifP_pos</span></a> <a id="N:1019" class="idref" href="#N:1019"><span class="id" title="binder">N</span></a> <a id="n:1020" class="idref" href="#n:1020"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1019"><span class="id" title="variable">N</span></a> <a class="idref" href="clutch.prob.distribution.html#n:1020"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a> /=. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Reals_ext.html#RinvN_pos'"><span class="id" title="lemma">RinvN_pos'</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunifP_mass" class="idref" href="#dunifP_mass"><span class="id" title="lemma">dunifP_mass</span></a> <a id="N:1021" class="idref" href="#N:1021"><span class="id" title="binder">N</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1021"><span class="id" title="variable">N</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dunif_mass"><span class="id" title="lemma">dunif_mass</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunifP_not_dzero" class="idref" href="#dunifP_not_dzero"><span class="id" title="lemma">dunifP_not_dzero</span></a> <a id="N:1022" class="idref" href="#N:1022"><span class="id" title="binder">N</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1022"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hunif</span> : <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <span class="id" title="var">N</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hf</span> <a class="idref" href="clutch.prob.distribution.html#dzero_mass"><span class="id" title="lemma">dzero_mass</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dunifP_mass"><span class="id" title="lemma">dunifP_mass</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunif</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#uniform"><span class="id" title="section">uniform</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_distr</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.distribution.html#dzero_supp_empty"><span class="id" title="lemma">dzero_supp_empty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dret_pos"><span class="id" title="lemma">dret_pos</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">simplify_eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dbind_pos"><span class="id" title="lemma">dbind_pos</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : (<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dmap_pos"><span class="id" title="lemma">dmap_pos</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?); <span class="id" title="var">simplify_eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_distr</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> //; <span class="id" title="var">lra</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> ?<span class="id" title="var">x</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) ?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 =&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dbind_pos"><span class="id" title="lemma">dbind_pos</span></a>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- (<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dmap_pos"><span class="id" title="lemma">dmap_pos</span></a>; <span class="id" title="tactic">eexists</span>; (<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span>|]); <span class="id" title="tactic">try</span> <span class="id" title="var">done</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- (<a class="idref" href="clutch.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dunifP_pos"><span class="id" title="lemma">dunifP_pos</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_distr_mass</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //<br/>
&nbsp;&nbsp;| |- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dmap_mass"><span class="id" title="lemma">dmap_mass</span></a> //<br/>
&nbsp;&nbsp;| |- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dunif_mass"><span class="id" title="lemma">dunif_mass</span></a> //<br/>
&nbsp;&nbsp;| |- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dunifP_mass"><span class="id" title="lemma">dunifP_mass</span></a> //<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> .<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_dzero</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dret_not_dzero"><span class="id" title="lemma">dret_not_dzero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dmap_dzero_inv"><span class="id" title="lemma">dmap_dzero_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="clutch.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dunifP_not_dzero"><span class="id" title="lemma">dunifP_not_dzero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
