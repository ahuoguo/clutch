<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">discprob.basic.bigop_ext</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">discprob.basic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="discprob.basic.base.html#"><span class="id" title="library">base</span></a> <a class="idref" href="discprob.basic.nify.html#"><span class="id" title="library">nify</span></a> <a class="idref" href="discprob.basic.order.html#"><span class="id" title="library">order</span></a> <a class="idref" href="discprob.basic.seq_ext.html#"><span class="id" title="library">seq_ext</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">ssreflect</span> <span class="id" title="library">ssrbool</span> <span class="id" title="library">ssrfun</span> <span class="id" title="library">eqtype</span> <span class="id" title="library">choice</span> <span class="id" title="library">fintype</span> <span class="id" title="library">bigop</span> <span class="id" title="library">seq</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coquelicot</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#"><span class="id" title="library">Rcomplements</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rbar.html#"><span class="id" title="library">Rbar</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#"><span class="id" title="library">Series</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#"><span class="id" title="library">Lim_seq</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#"><span class="id" title="library">Hierarchy</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Markov.html#"><span class="id" title="library">Markov</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Reals.html#"><span class="id" title="library">Reals</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.micromega.Psatz.html#"><span class="id" title="library">Psatz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Coquelicot&nbsp;defines&nbsp;some&nbsp;of&nbsp;its&nbsp;own&nbsp;algebraic&nbsp;hierarchy&nbsp;and<br/>
&nbsp;&nbsp;&nbsp;functions&nbsp;for&nbsp;indexed&nbsp;sums:&nbsp;sum_n_m.&nbsp;But,&nbsp;ssreflect&nbsp;has&nbsp;its&nbsp;own<br/>
&nbsp;&nbsp;&nbsp;rather&nbsp;developed&nbsp;library&nbsp;for&nbsp;so-called&nbsp;"big-ops",&nbsp;which&nbsp;uses&nbsp;a<br/>
&nbsp;&nbsp;&nbsp;different&nbsp;algebraic&nbsp;hierarchy.&nbsp;We&nbsp;now&nbsp;define&nbsp;a&nbsp;compatibility&nbsp;layer<br/>
&nbsp;&nbsp;&nbsp;to&nbsp;connect&nbsp;the&nbsp;Coquelicot&nbsp;hierarchy&nbsp;for&nbsp;R&nbsp;to&nbsp;the&nbsp;one&nbsp;assumed&nbsp;by<br/>
&nbsp;&nbsp;&nbsp;ssreflect.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="RAddLaw" class="idref" href="#RAddLaw"><span class="id" title="section">RAddLaw</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="module">Monoid</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Rplus_associative" class="idref" href="#Rplus_associative"><span class="id" title="lemma">Rplus_associative</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrfun.html#associative"><span class="id" title="definition">associative</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ???; <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#plus_assoc"><span class="id" title="lemma">Hierarchy.plus_assoc</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="Rplus_left_id" class="idref" href="#Rplus_left_id"><span class="id" title="lemma">Rplus_left_id</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrfun.html#left_id"><span class="id" title="definition">left_id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R0"><span class="id" title="axiom">R0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#plus_zero_l"><span class="id" title="lemma">Hierarchy.plus_zero_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="Rplus_right_id" class="idref" href="#Rplus_right_id"><span class="id" title="lemma">Rplus_right_id</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrfun.html#right_id"><span class="id" title="definition">right_id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R0"><span class="id" title="axiom">R0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#plus_zero_r"><span class="id" title="lemma">Hierarchy.plus_zero_r</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="Rplus_commutative" class="idref" href="#Rplus_commutative"><span class="id" title="lemma">Rplus_commutative</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrfun.html#commutative"><span class="id" title="definition">commutative</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#plus_comm"><span class="id" title="lemma">Hierarchy.plus_comm</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Rplus_left_distributive" class="idref" href="#Rplus_left_distributive"><span class="id" title="lemma">Rplus_left_distributive</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrfun.html#left_distributive"><span class="id" title="definition">left_distributive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rmult"><span class="id" title="axiom">Rmult</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ???. <span class="id" title="var">nra</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="Rplus_right_distributive" class="idref" href="#Rplus_right_distributive"><span class="id" title="lemma">Rplus_right_distributive</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrfun.html#right_distributive"><span class="id" title="definition">right_distributive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rmult"><span class="id" title="axiom">Rmult</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ???. <span class="id" title="var">nra</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="Rmult_left_zero" class="idref" href="#Rmult_left_zero"><span class="id" title="lemma">Rmult_left_zero</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrfun.html#left_zero"><span class="id" title="definition">left_zero</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rmult"><span class="id" title="axiom">Rmult</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?. <span class="id" title="var">nra</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="Rmult_right_zero" class="idref" href="#Rmult_right_zero"><span class="id" title="lemma">Rmult_right_zero</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrfun.html#right_zero"><span class="id" title="definition">right_zero</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rmult"><span class="id" title="axiom">Rmult</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?. <span class="id" title="var">nra</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Canonical</span> <a id="Rplus_monoid" class="idref" href="#Rplus_monoid"><span class="id" title="definition">Rplus_monoid</span></a> := <span class="id" title="constructor">Law</span> <a class="idref" href="discprob.basic.bigop_ext.html#Rplus_associative"><span class="id" title="lemma">Rplus_associative</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#Rplus_left_id"><span class="id" title="lemma">Rplus_left_id</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#Rplus_right_id"><span class="id" title="lemma">Rplus_right_id</span></a>.<br/>
<span class="id" title="keyword">Canonical</span> <a id="Rplus_comoid" class="idref" href="#Rplus_comoid"><span class="id" title="definition">Rplus_comoid</span></a> := <span class="id" title="constructor">ComLaw</span> <a class="idref" href="discprob.basic.bigop_ext.html#Rplus_commutative"><span class="id" title="lemma">Rplus_commutative</span></a>.<br/>
<span class="id" title="keyword">Canonical</span> <a id="Rplus_addoid" class="idref" href="#Rplus_addoid"><span class="id" title="definition">Rplus_addoid</span></a> := <span class="id" title="constructor">AddLaw</span> <a class="idref" href="discprob.basic.bigop_ext.html#Rplus_left_distributive"><span class="id" title="lemma">Rplus_left_distributive</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#Rplus_right_distributive"><span class="id" title="lemma">Rplus_right_distributive</span></a>.<br/>
<span class="id" title="keyword">Canonical</span> <a id="Rmult_muloid" class="idref" href="#Rmult_muloid"><span class="id" title="definition">Rmult_muloid</span></a> := <span class="id" title="constructor">MulLaw</span> <a class="idref" href="discprob.basic.bigop_ext.html#Rmult_left_zero"><span class="id" title="lemma">Rmult_left_zero</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#Rmult_right_zero"><span class="id" title="lemma">Rmult_right_zero</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="discprob.basic.bigop_ext.html#RAddLaw"><span class="id" title="section">RAddLaw</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sum_reidx" class="idref" href="#sum_reidx"><span class="id" title="section">sum_reidx</span></a>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">R_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inj_neq" class="idref" href="#inj_neq"><span class="id" title="lemma">inj_neq</span></a> {<a id="X:1" class="idref" href="#X:1"><span class="id" title="binder">X</span></a> <a id="Y:2" class="idref" href="#Y:2"><span class="id" title="binder">Y</span></a>: <span class="id" title="abbreviation">eqType</span>} (<a id="h:3" class="idref" href="#h:3"><span class="id" title="binder">h</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#X:1"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#Y:2"><span class="id" title="variable">Y</span></a>) <a id="a:4" class="idref" href="#a:4"><span class="id" title="binder">a</span></a> <a id="b:5" class="idref" href="#b:5"><span class="id" title="binder">b</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrfun.html#injective"><span class="id" title="definition">injective</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#h:3"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:4"><span class="id" title="variable">a</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="discprob.basic.bigop_ext.html#b:5"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#h:3"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:4"><span class="id" title="variable">a</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="discprob.basic.bigop_ext.html#h:3"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#b:5"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hinj</span> <span class="id" title="var">Hab</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>. <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>%<span class="id" title="var">Hinj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>:<span class="id" title="var">Hab</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="lemma">eq_refl</span>. <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_reidx_map" class="idref" href="#sum_reidx_map"><span class="id" title="lemma">sum_reidx_map</span></a> {<a id="A:6" class="idref" href="#A:6"><span class="id" title="binder">A</span></a> <a id="B:7" class="idref" href="#B:7"><span class="id" title="binder">B</span></a>: <span class="id" title="abbreviation">eqType</span>} (<a id="p:8" class="idref" href="#p:8"><span class="id" title="binder">p</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#A:6"><span class="id" title="variable">A</span></a>) (<a id="q:9" class="idref" href="#q:9"><span class="id" title="binder">q</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#B:7"><span class="id" title="variable">B</span></a>) <a id="P:10" class="idref" href="#P:10"><span class="id" title="binder">P</span></a> <a id="Q:11" class="idref" href="#Q:11"><span class="id" title="binder">Q</span></a> (<a id="h:12" class="idref" href="#h:12"><span class="id" title="binder">h</span></a> : <a class="idref" href="discprob.basic.bigop_ext.html#A:6"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#B:7"><span class="id" title="variable">B</span></a>) (<a id="F:13" class="idref" href="#F:13"><span class="id" title="binder">F</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#A:6"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="F':14" class="idref" href="#F':14"><span class="id" title="binder">F'</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#B:7"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="a:15" class="idref" href="#a:15"><span class="id" title="binder">a</span></a>,  <a class="idref" href="discprob.basic.bigop_ext.html#a:15"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#p:8"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#F:13"><span class="id" title="variable">F</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:15"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#F':14"><span class="id" title="variable">F'</span></a> (<a class="idref" href="discprob.basic.bigop_ext.html#h:12"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:15"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="a:16" class="idref" href="#a:16"><span class="id" title="binder">a</span></a>,  <a class="idref" href="discprob.basic.bigop_ext.html#a:16"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#p:8"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:10"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:16"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">(</span></a><a class="idref" href="discprob.basic.bigop_ext.html#h:12"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:16"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#q:9"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#Q:11"><span class="id" title="variable">Q</span></a> (<a class="idref" href="discprob.basic.bigop_ext.html#h:12"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:16"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="b:17" class="idref" href="#b:17"><span class="id" title="binder">b</span></a>,  <a class="idref" href="discprob.basic.bigop_ext.html#b:17"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#q:9"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#Q:11"><span class="id" title="variable">Q</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#b:17"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a:18" class="idref" href="#a:18"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:18"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#p:8"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:10"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:18"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#h:12"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:18"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#b:17"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#F':14"><span class="id" title="variable">F'</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#b:17"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">uniq</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:8"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">uniq</span> <a class="idref" href="discprob.basic.bigop_ext.html#q:9"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:19" class="idref" href="#x:19"><span class="id" title="binder">x</span></a> <a id="x':20" class="idref" href="#x':20"><span class="id" title="binder">x'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:10"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#x:19"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#h:12"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#x:19"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#h:12"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#x':20"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#x:19"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#x':20"><span class="id" title="variable">x'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:23" class="idref" href="#i:23"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:8"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:10"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:21"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#F:13"><span class="id" title="variable">F</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:21"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:26" class="idref" href="#i:26"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#q:9"><span class="id" title="variable">q</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#Q:11"><span class="id" title="variable">Q</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:24"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#F':14"><span class="id" title="variable">F'</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:24"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">q</span> <span class="id" title="var">HFF'</span> <span class="id" title="var">HPQ</span> <span class="id" title="var">Hnin0</span> <span class="id" title="var">Huniq</span> <span class="id" title="var">Huniq'</span> <span class="id" title="var">Hinj</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_nil</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Huniq</span> <span class="id" title="var">Huniq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">q</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">b</span> <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_nil</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a> =&gt; [?|?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">a</span> <span class="id" title="tactic">in</span> <a class="idref" href="discprob.basic.bigop_ext.html#a:27"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>]<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hnin0</span> //; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">mem_head</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">a'</span>&amp;?&amp;?&amp;?). <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHq</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_nil</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">intros</span> ?? <span class="id" title="var">HQ</span> <span class="id" title="var">Hbad</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hnin0</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHq</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_nil</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">intros</span> ?? <span class="id" title="var">HQ</span> <span class="id" title="var">Hbad</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hnin0</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a> =&gt; [<span class="id" title="var">HP</span> | <span class="id" title="var">HnP</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">HPQ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HP</span> <span class="id" title="keyword">as</span> (?&amp;<span class="id" title="var">Hin</span>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">mem_head</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">big_rem</span> (<span class="id" title="var">h</span> <span class="id" title="var">a</span>)) //= <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HFF'</span>, <span class="id" title="lemma">mem_head</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">rem_uniq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">HFF'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">Hin'</span> <span class="id" title="var">HP'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">rem_filter</span> //; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_filter</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;***** <span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">predC1</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<span class="id" title="lemma">eqP</span> =&gt; <span class="id" title="var">Heq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hinj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>:<span class="id" title="var">Huniq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">cons_uniq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>. <span class="id" title="tactic">intros</span> (<span class="id" title="var">Hnin'</span>&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">Hnin'</span>. <span class="id" title="tactic">move</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;***** <span class="id" title="tactic">eapply</span> <span class="id" title="var">HPQ</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">eapply</span> <span class="id" title="var">HPQ</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">rem_filter</span> // <span class="id" title="lemma">mem_filter</span> /<span class="id" title="definition">predC1</span> //=. <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>=&gt;[<span class="id" title="var">Hneq'</span> ?] <span class="id" title="var">HQ</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hnin0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">a'</span>&amp;<span class="id" title="var">Hin'</span>&amp;<span class="id" title="var">HP'</span>&amp;<span class="id" title="var">Ha'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hneq</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">a'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>:<span class="id" title="var">Hin'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>=&gt;[<span class="id" title="var">Heq</span>|?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Ha'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>:<span class="id" title="var">Hneq'</span>. <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>. <span class="id" title="tactic">move</span>:<span class="id" title="var">Heq</span>. <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>. <span class="id" title="tactic">intros</span> -&gt;. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">move</span>:<span class="id" title="var">Huniq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">cons_uniq</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>. <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">HFF'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">Hin'</span> <span class="id" title="var">HP'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">HPQ</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> ?? <span class="id" title="var">HQ</span> <span class="id" title="var">Hnin'</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hnin0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">a'</span>&amp;<span class="id" title="var">Hin'</span>&amp;<span class="id" title="var">HP'</span>&amp;<span class="id" title="var">Ha'</span>). <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hnin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">a'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>:<span class="id" title="var">Hin'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>=&gt;[<span class="id" title="var">Heq</span>|?]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">move</span>:<span class="id" title="var">Heq</span>. <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HP'</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">move</span>:<span class="id" title="var">Huniq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">cons_uniq</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>. <span class="id" title="tactic">firstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;this&nbsp;is&nbsp;obviously&nbsp;rather&nbsp;redundant&nbsp;with&nbsp;above&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_reidx_map_le" class="idref" href="#sum_reidx_map_le"><span class="id" title="lemma">sum_reidx_map_le</span></a> {<a id="A:28" class="idref" href="#A:28"><span class="id" title="binder">A</span></a> <a id="B:29" class="idref" href="#B:29"><span class="id" title="binder">B</span></a>: <span class="id" title="abbreviation">eqType</span>} (<a id="p:30" class="idref" href="#p:30"><span class="id" title="binder">p</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#A:28"><span class="id" title="variable">A</span></a>) (<a id="q:31" class="idref" href="#q:31"><span class="id" title="binder">q</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#B:29"><span class="id" title="variable">B</span></a>) <a id="P:32" class="idref" href="#P:32"><span class="id" title="binder">P</span></a> <a id="Q:33" class="idref" href="#Q:33"><span class="id" title="binder">Q</span></a> (<a id="h:34" class="idref" href="#h:34"><span class="id" title="binder">h</span></a> : <a class="idref" href="discprob.basic.bigop_ext.html#A:28"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#B:29"><span class="id" title="variable">B</span></a>) (<a id="F:35" class="idref" href="#F:35"><span class="id" title="binder">F</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#A:28"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="F':36" class="idref" href="#F':36"><span class="id" title="binder">F'</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#B:29"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="a:37" class="idref" href="#a:37"><span class="id" title="binder">a</span></a>,  <a class="idref" href="discprob.basic.bigop_ext.html#a:37"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#p:30"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#F:35"><span class="id" title="variable">F</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:37"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#F':36"><span class="id" title="variable">F'</span></a> (<a class="idref" href="discprob.basic.bigop_ext.html#h:34"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:37"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="a:38" class="idref" href="#a:38"><span class="id" title="binder">a</span></a>,  <a class="idref" href="discprob.basic.bigop_ext.html#a:38"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#p:30"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:32"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:38"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">(</span></a><a class="idref" href="discprob.basic.bigop_ext.html#h:34"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:38"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#q:31"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#Q:33"><span class="id" title="variable">Q</span></a> (<a class="idref" href="discprob.basic.bigop_ext.html#h:34"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:38"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="b:39" class="idref" href="#b:39"><span class="id" title="binder">b</span></a>,  <a class="idref" href="discprob.basic.bigop_ext.html#b:39"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#q:31"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#Q:33"><span class="id" title="variable">Q</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#b:39"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a:40" class="idref" href="#a:40"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:40"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#p:30"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:32"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:40"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#h:34"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:40"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#b:39"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#F':36"><span class="id" title="variable">F'</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#b:39"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#7822f196a19e8673dbc60a529f728eb7"><span class="id" title="notation">&gt;=</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">uniq</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:30"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">uniq</span> <a class="idref" href="discprob.basic.bigop_ext.html#q:31"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:41" class="idref" href="#x:41"><span class="id" title="binder">x</span></a> <a id="x':42" class="idref" href="#x':42"><span class="id" title="binder">x'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:32"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#x:41"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#h:34"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#x:41"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#h:34"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#x':42"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#x:41"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#x':42"><span class="id" title="variable">x'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:45" class="idref" href="#i:45"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:30"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:32"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:43"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#F:35"><span class="id" title="variable">F</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:43"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:48" class="idref" href="#i:48"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#q:31"><span class="id" title="variable">q</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#Q:33"><span class="id" title="variable">Q</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:46"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#F':36"><span class="id" title="variable">F'</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:46"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">q</span> <span class="id" title="var">HFF'</span> <span class="id" title="var">HPQ</span> <span class="id" title="var">Hnin0</span> <span class="id" title="var">Huniq</span> <span class="id" title="var">Huniq'</span> <span class="id" title="var">Hinj</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_nil</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Huniq</span> <span class="id" title="var">Huniq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">q</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">b</span> <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_nil</span>. <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a> =&gt; [?|?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">a</span> <span class="id" title="tactic">in</span> <a class="idref" href="discprob.basic.bigop_ext.html#a:49"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">_</span>]<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rge_le"><span class="id" title="lemma">Rge_le</span></a>, <span class="id" title="var">Hnin0</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">mem_head</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">a'</span>&amp;?&amp;?&amp;?). <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHq</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_nil</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">intros</span> ?? <span class="id" title="var">HQ</span> <span class="id" title="var">Hbad</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hnin0</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHq</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_nil</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">intros</span> ?? <span class="id" title="var">HQ</span> <span class="id" title="var">Hbad</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hnin0</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a> =&gt; [<span class="id" title="var">HP</span> | <span class="id" title="var">HnP</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">HPQ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HP</span> <span class="id" title="keyword">as</span> (?&amp;<span class="id" title="var">Hin</span>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">mem_head</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">big_rem</span> (<span class="id" title="var">h</span> <span class="id" title="var">a</span>)) //= <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HFF'</span>, <span class="id" title="lemma">mem_head</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">rem_uniq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">HFF'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">Hin'</span> <span class="id" title="var">HP'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">rem_filter</span> //; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_filter</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;***** <span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">predC1</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<span class="id" title="lemma">eqP</span> =&gt; <span class="id" title="var">Heq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hinj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>:<span class="id" title="var">Huniq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">cons_uniq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>. <span class="id" title="tactic">intros</span> (<span class="id" title="var">Hnin'</span>&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">Hnin'</span>. <span class="id" title="tactic">move</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;***** <span class="id" title="tactic">eapply</span> <span class="id" title="var">HPQ</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">eapply</span> <span class="id" title="var">HPQ</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">rem_filter</span> // <span class="id" title="lemma">mem_filter</span> /<span class="id" title="definition">predC1</span> //=. <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>=&gt;[<span class="id" title="var">Hneq'</span> ?] <span class="id" title="var">HQ</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hnin0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">a'</span>&amp;<span class="id" title="var">Hin'</span>&amp;<span class="id" title="var">HP'</span>&amp;<span class="id" title="var">Ha'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hneq</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">a'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>:<span class="id" title="var">Hin'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>=&gt;[<span class="id" title="var">Heq</span>|?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Ha'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>:<span class="id" title="var">Hneq'</span>. <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>. <span class="id" title="tactic">move</span>:<span class="id" title="var">Heq</span>. <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>. <span class="id" title="tactic">intros</span> -&gt;. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">move</span>:<span class="id" title="var">Huniq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">cons_uniq</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>. <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">HFF'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">Hin'</span> <span class="id" title="var">HP'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">HPQ</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> ?? <span class="id" title="var">HQ</span> <span class="id" title="var">Hnin'</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hnin0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">a'</span>&amp;<span class="id" title="var">Hin'</span>&amp;<span class="id" title="var">HP'</span>&amp;<span class="id" title="var">Ha'</span>). <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hnin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">a'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>:<span class="id" title="var">Hin'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>=&gt;[<span class="id" title="var">Heq</span>|?]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">move</span>:<span class="id" title="var">Heq</span>. <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HP'</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">move</span>:<span class="id" title="var">Huniq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">cons_uniq</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>. <span class="id" title="tactic">firstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a id="sum_reidx.A" class="idref" href="#sum_reidx.A"><span class="id" title="variable">A</span></a> <a id="sum_reidx.B" class="idref" href="#sum_reidx.B"><span class="id" title="variable">B</span></a> : <span class="id" title="abbreviation">eqType</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_reidx_map_sym" class="idref" href="#sum_reidx_map_sym"><span class="id" title="lemma">sum_reidx_map_sym</span></a> (<a id="p:52" class="idref" href="#p:52"><span class="id" title="binder">p</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx.A"><span class="id" title="variable">A</span></a>) (<a id="q:53" class="idref" href="#q:53"><span class="id" title="binder">q</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx.B"><span class="id" title="variable">B</span></a>) (<a id="P:54" class="idref" href="#P:54"><span class="id" title="binder">P</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="Q:55" class="idref" href="#Q:55"><span class="id" title="binder">Q</span></a> (<a id="h:56" class="idref" href="#h:56"><span class="id" title="binder">h</span></a> : <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx.B"><span class="id" title="variable">B</span></a>) (<a id="F:57" class="idref" href="#F:57"><span class="id" title="binder">F</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="F':58" class="idref" href="#F':58"><span class="id" title="binder">F'</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="a:59" class="idref" href="#a:59"><span class="id" title="binder">a</span></a>,  <a class="idref" href="discprob.basic.bigop_ext.html#a:59"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#p:52"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#F:57"><span class="id" title="variable">F</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:59"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#F':58"><span class="id" title="variable">F'</span></a> (<a class="idref" href="discprob.basic.bigop_ext.html#h:56"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:59"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="a:60" class="idref" href="#a:60"><span class="id" title="binder">a</span></a>,  <a class="idref" href="discprob.basic.bigop_ext.html#a:60"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#p:52"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:60"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="discprob.basic.bigop_ext.html#h:56"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:60"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#q:53"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#Q:55"><span class="id" title="variable">Q</span></a> (<a class="idref" href="discprob.basic.bigop_ext.html#h:56"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:60"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#F:57"><span class="id" title="variable">F</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:60"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="b:61" class="idref" href="#b:61"><span class="id" title="binder">b</span></a>,  <a class="idref" href="discprob.basic.bigop_ext.html#b:61"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#q:53"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#Q:55"><span class="id" title="variable">Q</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#b:61"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a:62" class="idref" href="#a:62"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:62"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#p:52"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:62"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#h:56"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:62"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#b:61"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#F':58"><span class="id" title="variable">F'</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#b:61"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">uniq</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:52"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">uniq</span> <a class="idref" href="discprob.basic.bigop_ext.html#q:53"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrfun.html#injective"><span class="id" title="definition">injective</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#h:56"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:65" class="idref" href="#i:65"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:52"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:63"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#F:57"><span class="id" title="variable">F</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:63"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:68" class="idref" href="#i:68"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#q:53"><span class="id" title="variable">q</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#Q:55"><span class="id" title="variable">Q</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:66"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#F':58"><span class="id" title="variable">F'</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:66"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HFF'</span> <span class="id" title="var">Hnin0a</span> <span class="id" title="var">Hnin0b</span> <span class="id" title="var">Huniq</span> <span class="id" title="var">Huniq'</span> <span class="id" title="var">Hinj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:74" class="idref" href="#i:74"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="var">p</span> <span class="id" title="notation">|</span> <span class="id" title="var">P</span> <a class="idref" href="discprob.basic.bigop_ext.html#i:69"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">h</span> <a class="idref" href="discprob.basic.bigop_ext.html#i:69"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">q</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">Q</span> (<span class="id" title="var">h</span> <a class="idref" href="discprob.basic.bigop_ext.html#i:69"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><span class="id" title="var">F</span> <a class="idref" href="discprob.basic.bigop_ext.html#i:69"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx_map"><span class="id" title="lemma">sum_reidx_map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="a:78" class="idref" href="#a:78"><span class="id" title="binder">a</span></a> =&gt; <span class="id" title="var">P</span> <a class="idref" href="discprob.basic.bigop_ext.html#a:76"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">h</span> <a class="idref" href="discprob.basic.bigop_ext.html#a:76"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">q</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="var">Q</span> (<span class="id" title="var">h</span> <a class="idref" href="discprob.basic.bigop_ext.html#a:76"><span class="id" title="variable">a</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">P</span> (<span class="id" title="keyword">fun</span> <a id="x:77" class="idref" href="#x:77"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="discprob.basic.bigop_ext.html#x:75"><span class="id" title="variable">x</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">move</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">Hin</span> <span class="id" title="var">HP</span> <span class="id" title="var">Hfalse</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hnin0a</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">intros</span> (?&amp;?). <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx_map"><span class="id" title="lemma">sum_reidx_map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">move</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; []. <span class="id" title="tactic">move</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; []. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">Hin</span> <span class="id" title="var">HQ</span> <span class="id" title="var">Hfalse</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hnin0b</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">a</span>&amp;?&amp;?&amp;<span class="id" title="var">Heq</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfalse</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_reidx_surj1" class="idref" href="#sum_reidx_surj1"><span class="id" title="lemma">sum_reidx_surj1</span></a> (<a id="p:79" class="idref" href="#p:79"><span class="id" title="binder">p</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx.A"><span class="id" title="variable">A</span></a>) (<a id="q:80" class="idref" href="#q:80"><span class="id" title="binder">q</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx.B"><span class="id" title="variable">B</span></a>) <a id="P:81" class="idref" href="#P:81"><span class="id" title="binder">P</span></a> <a id="Q:82" class="idref" href="#Q:82"><span class="id" title="binder">Q</span></a> (<a id="h:83" class="idref" href="#h:83"><span class="id" title="binder">h</span></a> : <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx.B"><span class="id" title="variable">B</span></a>) (<a id="F:84" class="idref" href="#F:84"><span class="id" title="binder">F</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="F':85" class="idref" href="#F':85"><span class="id" title="binder">F'</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="a:86" class="idref" href="#a:86"><span class="id" title="binder">a</span></a>,  <a class="idref" href="discprob.basic.bigop_ext.html#a:86"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#p:79"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#F:84"><span class="id" title="variable">F</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:86"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#F':85"><span class="id" title="variable">F'</span></a> (<a class="idref" href="discprob.basic.bigop_ext.html#h:83"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:86"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="a:87" class="idref" href="#a:87"><span class="id" title="binder">a</span></a>,  <a class="idref" href="discprob.basic.bigop_ext.html#a:87"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#p:79"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:81"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:87"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">(</span></a><a class="idref" href="discprob.basic.bigop_ext.html#h:83"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:87"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#q:80"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#Q:82"><span class="id" title="variable">Q</span></a> (<a class="idref" href="discprob.basic.bigop_ext.html#h:83"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:87"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="b:88" class="idref" href="#b:88"><span class="id" title="binder">b</span></a>,  <a class="idref" href="discprob.basic.bigop_ext.html#b:88"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#q:80"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#Q:82"><span class="id" title="variable">Q</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#b:88"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a:89" class="idref" href="#a:89"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:89"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#p:79"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:81"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:89"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#h:83"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:89"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#b:88"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">uniq</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:79"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">uniq</span> <a class="idref" href="discprob.basic.bigop_ext.html#q:80"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrfun.html#injective"><span class="id" title="definition">injective</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#h:83"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:92" class="idref" href="#i:92"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:79"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:81"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:90"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#F:84"><span class="id" title="variable">F</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:90"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:95" class="idref" href="#i:95"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#q:80"><span class="id" title="variable">q</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#Q:82"><span class="id" title="variable">Q</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:93"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#F':85"><span class="id" title="variable">F'</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:93"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?? <span class="id" title="var">Hsurj</span> ???. <span class="id" title="tactic">eapply</span> <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx_map"><span class="id" title="lemma">sum_reidx_map</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ??? <span class="id" title="var">Hfalse</span>. <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfalse</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsurj</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_reidx_surj2" class="idref" href="#sum_reidx_surj2"><span class="id" title="lemma">sum_reidx_surj2</span></a> (<a id="p:96" class="idref" href="#p:96"><span class="id" title="binder">p</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx.A"><span class="id" title="variable">A</span></a>) (<a id="q:97" class="idref" href="#q:97"><span class="id" title="binder">q</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx.B"><span class="id" title="variable">B</span></a>) <a id="P:98" class="idref" href="#P:98"><span class="id" title="binder">P</span></a> <a id="Q:99" class="idref" href="#Q:99"><span class="id" title="binder">Q</span></a> (<a id="h:100" class="idref" href="#h:100"><span class="id" title="binder">h</span></a> : <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx.B"><span class="id" title="variable">B</span></a>) (<a id="F:101" class="idref" href="#F:101"><span class="id" title="binder">F</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="F':102" class="idref" href="#F':102"><span class="id" title="binder">F'</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="a:103" class="idref" href="#a:103"><span class="id" title="binder">a</span></a>,  <a class="idref" href="discprob.basic.bigop_ext.html#a:103"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#p:96"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#F:101"><span class="id" title="variable">F</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:103"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#F':102"><span class="id" title="variable">F'</span></a> (<a class="idref" href="discprob.basic.bigop_ext.html#h:100"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:103"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="a:104" class="idref" href="#a:104"><span class="id" title="binder">a</span></a>,  <a class="idref" href="discprob.basic.bigop_ext.html#a:104"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#p:96"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:98"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:104"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">(</span></a><a class="idref" href="discprob.basic.bigop_ext.html#h:100"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:104"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#q:97"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#Q:99"><span class="id" title="variable">Q</span></a> (<a class="idref" href="discprob.basic.bigop_ext.html#h:100"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:104"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="b:105" class="idref" href="#b:105"><span class="id" title="binder">b</span></a>,  <a class="idref" href="discprob.basic.bigop_ext.html#b:105"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#q:97"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#Q:99"><span class="id" title="variable">Q</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#b:105"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">has</span> (<span class="id" title="keyword">fun</span> <a id="a:106" class="idref" href="#a:106"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="discprob.basic.bigop_ext.html#P:98"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:106"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="discprob.basic.bigop_ext.html#h:100"><span class="id" title="variable">h</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:106"><span class="id" title="variable">a</span></a> <span class="id" title="notation">==</span> <a class="idref" href="discprob.basic.bigop_ext.html#b:105"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>) <a class="idref" href="discprob.basic.bigop_ext.html#p:96"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">uniq</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:96"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">uniq</span> <a class="idref" href="discprob.basic.bigop_ext.html#q:97"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrfun.html#injective"><span class="id" title="definition">injective</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#h:100"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:109" class="idref" href="#i:109"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:96"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:98"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:107"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#F:101"><span class="id" title="variable">F</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:107"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:112" class="idref" href="#i:112"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#q:97"><span class="id" title="variable">q</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#Q:99"><span class="id" title="variable">Q</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:110"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#F':102"><span class="id" title="variable">F'</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:110"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?? <span class="id" title="var">Hsurj</span> ???. <span class="id" title="tactic">eapply</span> <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx_surj1"><span class="id" title="lemma">sum_reidx_surj1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">Hinb</span> <span class="id" title="var">HQ</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsurj</span> <span class="id" title="var">b</span> <span class="id" title="var">Hinb</span> <span class="id" title="var">HQ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hsurj</span>. <span class="id" title="tactic">move</span> /<span class="id" title="lemma">hasP</span> =&gt; [<span class="id" title="var">x</span> ?]. <span class="id" title="tactic">move</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; [<span class="id" title="var">HP</span> <span class="id" title="var">Heq</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> /<span class="id" title="lemma">eqP</span>. <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx"><span class="id" title="section">sum_reidx</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Rabs_bigop_triang" class="idref" href="#Rabs_bigop_triang"><span class="id" title="lemma">Rabs_bigop_triang</span></a> {<a id="A:113" class="idref" href="#A:113"><span class="id" title="binder">A</span></a>} (<a id="f:114" class="idref" href="#f:114"><span class="id" title="binder">f</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#A:113"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="p:115" class="idref" href="#p:115"><span class="id" title="binder">p</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#A:113"><span class="id" title="variable">A</span></a>) (<a id="P:116" class="idref" href="#P:116"><span class="id" title="binder">P</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#A:113"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:119" class="idref" href="#i:119"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:115"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:116"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:117"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#f:114"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:117"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:122" class="idref" href="#i:122"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:115"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:116"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:120"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="discprob.basic.bigop_ext.html#f:114"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:120"><span class="id" title="variable">i</span></a>)<span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_nil</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_R0"><span class="id" title="lemma">Rabs_R0</span></a> //. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_triang"><span class="id" title="lemma">Rabs_triang</span></a>. <span class="id" title="var">nra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bigop_cond_non0" class="idref" href="#bigop_cond_non0"><span class="id" title="lemma">bigop_cond_non0</span></a> {<a id="A:123" class="idref" href="#A:123"><span class="id" title="binder">A</span></a>} (<a id="f:124" class="idref" href="#f:124"><span class="id" title="binder">f</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#A:123"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="p:125" class="idref" href="#p:125"><span class="id" title="binder">p</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#A:123"><span class="id" title="variable">A</span></a>) <a id="P:126" class="idref" href="#P:126"><span class="id" title="binder">P</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:129" class="idref" href="#i:129"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:125"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:126"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:127"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#f:124"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:127"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:132" class="idref" href="#i:132"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:125"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:126"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:130"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="discprob.basic.bigop_ext.html#f:124"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:130"><span class="id" title="variable">i</span></a> <span class="id" title="notation">!=</span> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#f:124"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:130"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_nil</span> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<span class="id" title="var">P</span> <span class="id" title="var">a</span>) =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">move</span> /<span class="id" title="lemma">eqP</span> =&gt; -&gt;. <span class="id" title="var">nra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Rabs_bigop_filter" class="idref" href="#Rabs_bigop_filter"><span class="id" title="lemma">Rabs_bigop_filter</span></a> {<a id="A:133" class="idref" href="#A:133"><span class="id" title="binder">A</span></a>} (<a id="f:134" class="idref" href="#f:134"><span class="id" title="binder">f</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#A:133"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="p:135" class="idref" href="#p:135"><span class="id" title="binder">p</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#A:133"><span class="id" title="variable">A</span></a>) (<a id="P:136" class="idref" href="#P:136"><span class="id" title="binder">P</span></a> <a id="Q:137" class="idref" href="#Q:137"><span class="id" title="binder">Q</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#A:133"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:138" class="idref" href="#a:138"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:136"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:138"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#Q:137"><span class="id" title="variable">Q</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:138"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:141" class="idref" href="#i:141"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:135"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:136"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:139"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="discprob.basic.bigop_ext.html#f:134"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:139"><span class="id" title="variable">i</span></a>)<span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:144" class="idref" href="#i:144"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:135"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#Q:137"><span class="id" title="variable">Q</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:142"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="discprob.basic.bigop_ext.html#f:134"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:142"><span class="id" title="variable">i</span></a>)<span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcond</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_nil</span> //. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_cons</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hcond</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hcond</span>. <span class="id" title="tactic">case</span>: (<span class="id" title="var">P</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> -&gt;; <span class="id" title="tactic">auto</span>. <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">case</span>: (<span class="id" title="var">Q</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_pos"><span class="id" title="lemma">Rabs_pos</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)). <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_n_bigop" class="idref" href="#sum_n_bigop"><span class="id" title="lemma">sum_n_bigop</span></a> (<a id="f:145" class="idref" href="#f:145"><span class="id" title="binder">f</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) <a id="n:146" class="idref" href="#n:146"><span class="id" title="binder">n</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#f:145"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#n:146"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:149" class="idref" href="#i:149"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#n:146"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#f:145"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:147"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_O"><span class="id" title="lemma">sum_O</span></a> <span class="id" title="lemma">big_ord_recl</span> <span class="id" title="lemma">big_ord0</span> /=. <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_Sn"><span class="id" title="lemma">sum_Sn</span></a> <span class="id" title="lemma">big_ord_recr</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#plus"><span class="id" title="definition">plus</span></a>//=.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_n_m_bigop" class="idref" href="#sum_n_m_bigop"><span class="id" title="lemma">sum_n_m_bigop</span></a> (<a id="f:150" class="idref" href="#f:150"><span class="id" title="binder">f</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) <a id="n:151" class="idref" href="#n:151"><span class="id" title="binder">n</span></a> <a id="m:152" class="idref" href="#m:152"><span class="id" title="binder">m</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n_m"><span class="id" title="definition">sum_n_m</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#f:150"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#n:151"><span class="id" title="variable">n</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#m:152"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#n:151"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&lt;=</span> <a id="i:155" class="idref" href="#i:155"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#m:152"><span class="id" title="variable">m</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#f:150"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:153"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> =&gt; <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">specialize</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_O"><span class="id" title="lemma">sum_O</span></a> <span class="id" title="var">f</span>). <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> =&gt; -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_mkord</span> <span class="id" title="lemma">big_ord_recl</span> <span class="id" title="lemma">big_ord0</span> //=. <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n_m_zero"><span class="id" title="lemma">sum_n_m_zero</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_geq</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">nify</span>; <span class="id" title="var">lia</span>). <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.Compare_dec.html#le_dec"><span class="id" title="lemma">le_dec</span></a> <span class="id" title="var">n</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hle</span>|<span class="id" title="var">Hgt</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n_Sm"><span class="id" title="lemma">sum_n_Sm</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="definition">ssrnat.leq</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m</span>))) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrange</span> <span class="id" title="tactic">by</span> (<span class="id" title="var">nify</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">big_cat_nat</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hrange</span>); <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> (<span class="id" title="var">nify</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHm</span> <span class="id" title="lemma">big_nat1</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#plus"><span class="id" title="definition">plus</span></a>//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n_m_zero"><span class="id" title="lemma">sum_n_m_zero</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_geq</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">nify</span>; <span class="id" title="var">lia</span>). <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Rle_bigr" class="idref" href="#Rle_bigr"><span class="id" title="lemma">Rle_bigr</span></a> {<a id="A:156" class="idref" href="#A:156"><span class="id" title="binder">A</span></a>} (<a id="f1:157" class="idref" href="#f1:157"><span class="id" title="binder">f1</span></a> <a id="f2:158" class="idref" href="#f2:158"><span class="id" title="binder">f2</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#A:156"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="p:159" class="idref" href="#p:159"><span class="id" title="binder">p</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#A:156"><span class="id" title="variable">A</span></a>) (<a id="P:160" class="idref" href="#P:160"><span class="id" title="binder">P</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#A:156"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="i:161" class="idref" href="#i:161"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:160"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:161"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#f1:157"><span class="id" title="variable">f1</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:161"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#f2:158"><span class="id" title="variable">f2</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:161"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">(</span></a><span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:164" class="idref" href="#i:164"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:159"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:160"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:162"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#f1:157"><span class="id" title="variable">f1</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:162"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:167" class="idref" href="#i:167"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:159"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:160"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:165"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <a class="idref" href="discprob.basic.bigop_ext.html#f2:158"><span class="id" title="variable">f2</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:165"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_nil</span> //=. <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a>; <span class="id" title="tactic">eauto</span> =&gt; <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hle</span> <span class="id" title="var">a</span> <span class="id" title="var">HP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Rle_bigr'" class="idref" href="#Rle_bigr'"><span class="id" title="lemma">Rle_bigr'</span></a> {<a id="A:168" class="idref" href="#A:168"><span class="id" title="binder">A</span></a>} (<a id="f1:169" class="idref" href="#f1:169"><span class="id" title="binder">f1</span></a> <a id="f2:170" class="idref" href="#f2:170"><span class="id" title="binder">f2</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#A:168"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="p:171" class="idref" href="#p:171"><span class="id" title="binder">p</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#A:168"><span class="id" title="variable">A</span></a>) (<a id="P:172" class="idref" href="#P:172"><span class="id" title="binder">P</span></a> <a id="Q:173" class="idref" href="#Q:173"><span class="id" title="binder">Q</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#A:168"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="i:174" class="idref" href="#i:174"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:172"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:174"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="discprob.basic.bigop_ext.html#Q:173"><span class="id" title="variable">Q</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:174"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#f1:169"><span class="id" title="variable">f1</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:174"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#f2:170"><span class="id" title="variable">f2</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:174"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="i:175" class="idref" href="#i:175"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:172"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:175"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a>  <a class="idref" href="discprob.basic.bigop_ext.html#Q:173"><span class="id" title="variable">Q</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:175"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#f2:170"><span class="id" title="variable">f2</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:175"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">(</span></a><span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:178" class="idref" href="#i:178"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:171"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:172"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:176"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#f1:169"><span class="id" title="variable">f1</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:176"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:181" class="idref" href="#i:181"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:171"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#Q:173"><span class="id" title="variable">Q</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:179"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <a class="idref" href="discprob.basic.bigop_ext.html#f2:170"><span class="id" title="variable">f2</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:179"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hle</span> <span class="id" title="var">Hpos</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_nil</span> //=. <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a>; <span class="id" title="tactic">eauto</span> =&gt; <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hle</span> <span class="id" title="var">a</span> <span class="id" title="var">HP</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hle</span> <span class="id" title="keyword">as</span> (-&gt;&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a>; <span class="id" title="tactic">eauto</span> =&gt; <span class="id" title="var">HQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HP</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hpos</span> <span class="id" title="var">a</span> <span class="id" title="var">HP</span> <span class="id" title="var">HQ</span>). <span class="id" title="var">nra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Rle_big0" class="idref" href="#Rle_big0"><span class="id" title="lemma">Rle_big0</span></a> {<a id="A:182" class="idref" href="#A:182"><span class="id" title="binder">A</span></a>} (<a id="f:183" class="idref" href="#f:183"><span class="id" title="binder">f</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#A:182"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="p:184" class="idref" href="#p:184"><span class="id" title="binder">p</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#A:182"><span class="id" title="variable">A</span></a>) (<a id="P:185" class="idref" href="#P:185"><span class="id" title="binder">P</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#A:182"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="i:186" class="idref" href="#i:186"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:185"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:186"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#f:183"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:186"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:189" class="idref" href="#i:189"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:184"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:185"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:187"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <a class="idref" href="discprob.basic.bigop_ext.html#f:183"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:187"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_nil</span> //=. <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a>; <span class="id" title="tactic">eauto</span> =&gt; <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hle</span> <span class="id" title="var">a</span> <span class="id" title="var">HP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Rle_big0_In" class="idref" href="#Rle_big0_In"><span class="id" title="lemma">Rle_big0_In</span></a> {<a id="A:190" class="idref" href="#A:190"><span class="id" title="binder">A</span></a>} (<a id="f:191" class="idref" href="#f:191"><span class="id" title="binder">f</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#A:190"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="p:192" class="idref" href="#p:192"><span class="id" title="binder">p</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#A:190"><span class="id" title="variable">A</span></a>) (<a id="P:193" class="idref" href="#P:193"><span class="id" title="binder">P</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#A:190"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="i:194" class="idref" href="#i:194"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:193"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:194"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:194"><span class="id" title="variable">i</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#p:192"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#f:191"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:194"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:197" class="idref" href="#i:197"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:192"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:193"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:195"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <a class="idref" href="discprob.basic.bigop_ext.html#f:191"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:195"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_nil</span> //=. <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a>; <span class="id" title="tactic">eauto</span> =&gt; <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">replace</span> 0 <span class="id" title="keyword">with</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 0) <span class="id" title="tactic">at</span> 1 <span class="id" title="tactic">by</span> <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> <span class="id" title="var">Hle</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hle</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hle</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Rlt_big_inv" class="idref" href="#Rlt_big_inv"><span class="id" title="lemma">Rlt_big_inv</span></a> {<a id="A:198" class="idref" href="#A:198"><span class="id" title="binder">A</span></a>: <span class="id" title="abbreviation">eqType</span>} (<a id="f:199" class="idref" href="#f:199"><span class="id" title="binder">f</span></a> <a id="g:200" class="idref" href="#g:200"><span class="id" title="binder">g</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#A:198"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="p:201" class="idref" href="#p:201"><span class="id" title="binder">p</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#A:198"><span class="id" title="variable">A</span></a>) (<a id="P:202" class="idref" href="#P:202"><span class="id" title="binder">P</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#A:198"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:205" class="idref" href="#i:205"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:201"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:202"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:203"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <a class="idref" href="discprob.basic.bigop_ext.html#f:199"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:203"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:208" class="idref" href="#i:208"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:201"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:202"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:206"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <a class="idref" href="discprob.basic.bigop_ext.html#g:200"><span class="id" title="variable">g</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:206"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="i:209" class="idref" href="#i:209"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="discprob.basic.bigop_ext.html#i:209"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#p:201"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:202"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:209"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#f:199"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:209"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#g:200"><span class="id" title="variable">g</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:209"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_nil</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>. <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a>; <span class="id" title="tactic">eauto</span> =&gt; <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rlt_dec"><span class="id" title="lemma">Rlt_dec</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) (<span class="id" title="var">g</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span> <span class="id" title="lemma">eq_refl</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">edestruct</span> <span class="id" title="var">IHp</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?); <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span>; <span class="id" title="var">edestruct</span> <span class="id" title="var">IHp</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?); <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Rlt_bigr" class="idref" href="#Rlt_bigr"><span class="id" title="lemma">Rlt_bigr</span></a> {<a id="A:210" class="idref" href="#A:210"><span class="id" title="binder">A</span></a>: <span class="id" title="abbreviation">eqType</span>} (<a id="f1:211" class="idref" href="#f1:211"><span class="id" title="binder">f1</span></a> <a id="f2:212" class="idref" href="#f2:212"><span class="id" title="binder">f2</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#A:210"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="p:213" class="idref" href="#p:213"><span class="id" title="binder">p</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#A:210"><span class="id" title="variable">A</span></a>) (<a id="P:214" class="idref" href="#P:214"><span class="id" title="binder">P</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#A:210"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="i:215" class="idref" href="#i:215"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:214"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:215"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#f1:211"><span class="id" title="variable">f1</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:215"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#f2:212"><span class="id" title="variable">f2</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:215"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="i:216" class="idref" href="#i:216"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="discprob.basic.bigop_ext.html#i:216"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#p:213"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:214"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:216"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#f1:211"><span class="id" title="variable">f1</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:216"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#f2:212"><span class="id" title="variable">f2</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:216"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:219" class="idref" href="#i:219"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:213"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:214"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:217"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#f1:211"><span class="id" title="variable">f1</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:217"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:222" class="idref" href="#i:222"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:213"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:214"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:220"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <a class="idref" href="discprob.basic.bigop_ext.html#f2:212"><span class="id" title="variable">f2</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:220"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hle</span> (<span class="id" title="var">i</span>&amp;<span class="id" title="var">Hin</span>&amp;<span class="id" title="var">HP</span>&amp;<span class="id" title="var">Hlt</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_nil</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">move</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span>|<span class="id" title="var">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">move</span> /<span class="id" title="lemma">eqP</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_cons</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rplus_lt_le_compat"><span class="id" title="lemma">Rplus_lt_le_compat</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="discprob.basic.bigop_ext.html#Rle_bigr"><span class="id" title="lemma">Rle_bigr</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_cons</span>. <span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a> =&gt;?; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_lt_compat"><span class="id" title="lemma">Rplus_le_lt_compat</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Rlt_0_bigr" class="idref" href="#Rlt_0_bigr"><span class="id" title="lemma">Rlt_0_bigr</span></a> {<a id="A:223" class="idref" href="#A:223"><span class="id" title="binder">A</span></a>: <span class="id" title="abbreviation">eqType</span>} (<a id="f:224" class="idref" href="#f:224"><span class="id" title="binder">f</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#A:223"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="p:225" class="idref" href="#p:225"><span class="id" title="binder">p</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#A:223"><span class="id" title="variable">A</span></a>) (<a id="P:226" class="idref" href="#P:226"><span class="id" title="binder">P</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#A:223"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="i:227" class="idref" href="#i:227"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:226"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:227"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#f:224"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:227"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="i:228" class="idref" href="#i:228"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="discprob.basic.bigop_ext.html#i:228"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#p:225"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:226"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:228"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#f:224"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:228"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:231" class="idref" href="#i:231"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:225"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:226"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:229"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <a class="idref" href="discprob.basic.bigop_ext.html#f:224"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:229"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hle</span> (<span class="id" title="var">i</span>&amp;<span class="id" title="var">Hin</span>&amp;<span class="id" title="var">HP</span>&amp;<span class="id" title="var">Hlt</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#Rle_lt_trans"><span class="id" title="lemma">Rle_lt_trans</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="discprob.basic.bigop_ext.html#Rlt_bigr"><span class="id" title="lemma">Rlt_bigr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:233" class="idref" href="#x:233"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 0)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big1</span> =&gt; //=. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Rlt_0_big_inv" class="idref" href="#Rlt_0_big_inv"><span class="id" title="lemma">Rlt_0_big_inv</span></a> {<a id="A:234" class="idref" href="#A:234"><span class="id" title="binder">A</span></a>: <span class="id" title="abbreviation">eqType</span>} (<a id="f:235" class="idref" href="#f:235"><span class="id" title="binder">f</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#A:234"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="p:236" class="idref" href="#p:236"><span class="id" title="binder">p</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#A:234"><span class="id" title="variable">A</span></a>) (<a id="P:237" class="idref" href="#P:237"><span class="id" title="binder">P</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#A:234"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:240" class="idref" href="#i:240"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#p:236"><span class="id" title="variable">p</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:237"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:238"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <a class="idref" href="discprob.basic.bigop_ext.html#f:235"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:238"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="i:241" class="idref" href="#i:241"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="discprob.basic.bigop_ext.html#i:241"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#p:236"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:237"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:241"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#f:235"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:241"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="discprob.basic.bigop_ext.html#Rlt_big_inv"><span class="id" title="lemma">Rlt_big_inv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big1</span> =&gt; //=.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="big_INR" class="idref" href="#big_INR"><span class="id" title="lemma">big_INR</span></a> {<a id="A:242" class="idref" href="#A:242"><span class="id" title="binder">A</span></a>: <span class="id" title="abbreviation">finType</span>} <a id="F:243" class="idref" href="#F:243"><span class="id" title="binder">F</span></a>:<br/>
&nbsp;&nbsp;(<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:246" class="idref" href="#i:246"><span class="id" title="binder">i</span></a> <span class="id" title="notation">:</span> <a class="idref" href="discprob.basic.bigop_ext.html#A:242"><span class="id" title="variable">A</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Raxioms.html#INR"><span class="id" title="definition">INR</span></a> (<a class="idref" href="discprob.basic.bigop_ext.html#F:243"><span class="id" title="variable">F</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:244"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Raxioms.html#INR"><span class="id" title="definition">INR</span></a> (<span class="id" title="notation">\</span><span class="id" title="notation">sum_</span><span class="id" title="notation">(</span><a id="i:249" class="idref" href="#i:249"><span class="id" title="binder">i</span></a> <span class="id" title="notation">:</span> <a class="idref" href="discprob.basic.bigop_ext.html#A:242"><span class="id" title="variable">A</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#F:243"><span class="id" title="variable">F</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:247"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: (<span class="id" title="definition">index_enum</span> <span class="id" title="var">_</span>) =&gt; [| <span class="id" title="var">hd</span> <span class="id" title="var">tl</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> 2!<span class="id" title="lemma">big_nil</span> =&gt; //=.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> 2!<span class="id" title="lemma">big_cons</span> <span class="id" title="var">IH</span> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#plus_INR"><span class="id" title="lemma">plus_INR</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Rmax_INR" class="idref" href="#Rmax_INR"><span class="id" title="lemma">Rmax_INR</span></a> <a id="a:250" class="idref" href="#a:250"><span class="id" title="binder">a</span></a> <a id="b:251" class="idref" href="#b:251"><span class="id" title="binder">b</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax"><span class="id" title="definition">Rmax</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Raxioms.html#INR"><span class="id" title="definition">INR</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:250"><span class="id" title="variable">a</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Raxioms.html#INR"><span class="id" title="definition">INR</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#b:251"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Raxioms.html#INR"><span class="id" title="definition">INR</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:250"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#b:251"><span class="id" title="variable">b</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_case_strong"><span class="id" title="lemma">Rmax_case_strong</span></a>; <span class="id" title="tactic">intros</span> ?%<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.RIneq.html#INR_le"><span class="id" title="lemma">INR_le</span></a>; <span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.max_l"><span class="id" title="lemma">Nat.max_l</span></a> // | <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.max_r"><span class="id" title="lemma">Nat.max_r</span></a> //].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">ssrnat</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_index_ordinal_P_aux" class="idref" href="#sum_index_ordinal_P_aux"><span class="id" title="lemma">sum_index_ordinal_P_aux</span></a> {<a id="A:252" class="idref" href="#A:252"><span class="id" title="binder">A</span></a>} (<a id="f:253" class="idref" href="#f:253"><span class="id" title="binder">f</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#A:252"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="l:254" class="idref" href="#l:254"><span class="id" title="binder">l</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#A:252"><span class="id" title="variable">A</span></a>) <a id="r:255" class="idref" href="#r:255"><span class="id" title="binder">r</span></a> <a id="P:256" class="idref" href="#P:256"><span class="id" title="binder">P</span></a> <a id="P':257" class="idref" href="#P':257"><span class="id" title="binder">P'</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="i:258" class="idref" href="#i:258"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> (<a class="idref" href="discprob.basic.bigop_ext.html#i:258"><span class="id" title="variable">i</span></a> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">size</span> <a class="idref" href="discprob.basic.bigop_ext.html#l:254"><span class="id" title="variable">l</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:256"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:258"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P':257"><span class="id" title="variable">P'</span></a> (<span class="id" title="definition">nth</span> <a class="idref" href="discprob.basic.bigop_ext.html#r:255"><span class="id" title="variable">r</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#l:254"><span class="id" title="variable">l</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:258"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0%<span class="id" title="var">R</span><span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="a:263" class="idref" href="#a:263"><span class="id" title="binder">a</span></a> <span class="id" title="notation">in</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_</span><span class="id" title="notation">(</span><span class="id" title="definition">size</span> <a class="idref" href="discprob.basic.bigop_ext.html#l:254"><span class="id" title="variable">l</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:256"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:259"><span class="id" title="variable">a</span></a><span class="id" title="notation">)</span> <span class="id" title="definition">nth</span> 0 <span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#f:253"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:264"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <a id="i:265" class="idref" href="#i:265"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#l:254"><span class="id" title="variable">l</span></a><span class="id" title="notation">]</span> <a class="idref" href="discprob.basic.bigop_ext.html#a:259"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0%<span class="id" title="var">R</span><span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="a:268" class="idref" href="#a:268"><span class="id" title="binder">a</span></a><span class="id" title="notation">&lt;-</span><a class="idref" href="discprob.basic.bigop_ext.html#l:254"><span class="id" title="variable">l</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P':257"><span class="id" title="variable">P'</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:266"><span class="id" title="variable">a</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#f:253"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:266"><span class="id" title="variable">a</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">r</span> <span class="id" title="var">P</span> <span class="id" title="var">P'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">l</span>] =&gt; <span class="id" title="var">r</span> <span class="id" title="var">P</span> <span class="id" title="var">P'</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> //= <span class="id" title="lemma">big_nil</span> <span class="id" title="lemma">big_ord0</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">transitivity</span> (<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0%<span class="id" title="var">R</span><span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span>0<span class="id" title="notation">&lt;=</span> <a id="a':276" class="idref" href="#a':276"><span class="id" title="binder">a'</span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="definition">size</span> <span class="id" title="var">l</span>) <span class="id" title="notation">|</span> <span class="id" title="var">P</span> <a class="idref" href="discprob.basic.bigop_ext.html#a':269"><span class="id" title="variable">a'</span></a><span class="id" title="notation">)</span> <span class="id" title="definition">nth</span> 0 (<span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="notation">(</span><span class="id" title="var">f</span> <a class="idref" href="discprob.basic.bigop_ext.html#i:272"><span class="id" title="variable">i</span></a><span class="id" title="notation">)|</span> <a id="i:278" class="idref" href="#i:278"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="var">a</span> <span class="id" title="notation">::</span> <span class="id" title="var">l</span><span class="id" title="notation">]</span>) <a class="idref" href="discprob.basic.bigop_ext.html#a':269"><span class="id" title="variable">a'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_mkord</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_mkcond</span> [<span class="id" title="var">a</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:279"><span class="id" title="variable">a</span></a>]<span class="id" title="lemma">big_mkcond</span> //= <span class="id" title="lemma">big_cons</span> <span class="id" title="lemma">big_mkcond</span> <span class="id" title="lemma">big_ltn</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">specialize</span> (<span class="id" title="var">HP</span> 0%<span class="id" title="var">nat</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HP</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_add1</span> //=. <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">big_mkcond</span> -<span class="id" title="lemma">big_mkcond</span> -(<span class="id" title="var">IHl</span> <span class="id" title="var">r</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="i:282" class="idref" href="#i:282"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">P</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:280"><span class="id" title="variable">i</span></a>)) <span class="id" title="var">P'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_mkord</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">HP</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">i</span>)) //=.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_index_ordinal_P" class="idref" href="#sum_index_ordinal_P"><span class="id" title="lemma">sum_index_ordinal_P</span></a> {<a id="A:283" class="idref" href="#A:283"><span class="id" title="binder">A</span></a>} (<a id="f:284" class="idref" href="#f:284"><span class="id" title="binder">f</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#A:283"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="l:285" class="idref" href="#l:285"><span class="id" title="binder">l</span></a>: <span class="id" title="abbreviation">seq</span> (<a class="idref" href="discprob.basic.bigop_ext.html#A:283"><span class="id" title="variable">A</span></a>)) <a id="r:286" class="idref" href="#r:286"><span class="id" title="binder">r</span></a> (<a id="P:287" class="idref" href="#P:287"><span class="id" title="binder">P</span></a>: <span class="id" title="notation">'</span><span class="id" title="notation">I_</span><span class="id" title="notation">(</span><span class="id" title="definition">size</span> <a class="idref" href="discprob.basic.bigop_ext.html#l:285"><span class="id" title="variable">l</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="P':288" class="idref" href="#P':288"><span class="id" title="binder">P'</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="i:289" class="idref" href="#i:289"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:287"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:289"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P':288"><span class="id" title="variable">P'</span></a> (<span class="id" title="definition">nth</span> <a class="idref" href="discprob.basic.bigop_ext.html#r:286"><span class="id" title="variable">r</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#l:285"><span class="id" title="variable">l</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:289"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0%<span class="id" title="var">R</span><span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="a:294" class="idref" href="#a:294"><span class="id" title="binder">a</span></a> <span class="id" title="notation">in</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_</span><span class="id" title="notation">(</span><span class="id" title="definition">size</span> <a class="idref" href="discprob.basic.bigop_ext.html#l:285"><span class="id" title="variable">l</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:287"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:290"><span class="id" title="variable">a</span></a><span class="id" title="notation">)</span> <span class="id" title="definition">nth</span> 0 <span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#f:284"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:295"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <a id="i:296" class="idref" href="#i:296"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#l:285"><span class="id" title="variable">l</span></a><span class="id" title="notation">]</span> <a class="idref" href="discprob.basic.bigop_ext.html#a:290"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0%<span class="id" title="var">R</span><span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="a:299" class="idref" href="#a:299"><span class="id" title="binder">a</span></a><span class="id" title="notation">&lt;-</span><a class="idref" href="discprob.basic.bigop_ext.html#l:285"><span class="id" title="variable">l</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P':288"><span class="id" title="variable">P'</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:297"><span class="id" title="variable">a</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#f:284"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:297"><span class="id" title="variable">a</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">P''</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="n:301" class="idref" href="#n:301"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.Compare_dec.html#lt_dec"><span class="id" title="lemma">lt_dec</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#n:300"><span class="id" title="variable">n</span></a> (<span class="id" title="definition">size</span> <span class="id" title="var">l</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">Pf</span> =&gt; <span class="id" title="var">P</span> (<span class="id" title="constructor">Ordinal</span> ((<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#introT"><span class="id" title="lemma">introT</span></a> <span class="id" title="lemma">ltP</span> <span class="id" title="var">Pf</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="discprob.basic.bigop_ext.html#sum_index_ordinal_P_aux"><span class="id" title="lemma">sum_index_ordinal_P_aux</span></a> <span class="id" title="var">f</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">P''</span>); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hlt</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">P''</span> //=. <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.Compare_dec.html#lt_dec"><span class="id" title="lemma">lt_dec</span></a> <span class="id" title="keyword">as</span> [?|<span class="id" title="var">n</span>] =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">apply</span> /<span class="id" title="lemma">ltP</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">P''</span> //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_mkcond</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_mkcond</span> [<span class="id" title="var">a</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:302"><span class="id" title="variable">a</span></a>]<span class="id" title="lemma">big_mkcond</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">eq_bigr</span> =&gt; <span class="id" title="var">i</span> ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.Compare_dec.html#lt_dec"><span class="id" title="lemma">lt_dec</span></a> <span class="id" title="var">i</span> (<span class="id" title="definition">size</span> <span class="id" title="var">l</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlt</span>|<span class="id" title="var">Hn</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">Ordinal</span> (<span class="id" title="var">m</span> := <span class="id" title="var">i</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#introT"><span class="id" title="lemma">introT</span></a> <span class="id" title="lemma">ltP</span> <span class="id" title="var">Hlt</span>)) <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">ord_inj</span> =&gt; //=. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">apply</span> /<span class="id" title="lemma">ltP</span>/<span class="id" title="lemma">ltn_ord</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_index_ordinal" class="idref" href="#sum_index_ordinal"><span class="id" title="lemma">sum_index_ordinal</span></a> {<a id="A:303" class="idref" href="#A:303"><span class="id" title="binder">A</span></a>: <span class="id" title="abbreviation">eqType</span>} <a id="f:304" class="idref" href="#f:304"><span class="id" title="binder">f</span></a> (<a id="l:305" class="idref" href="#l:305"><span class="id" title="binder">l</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#A:303"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="a:310" class="idref" href="#a:310"><span class="id" title="binder">a</span></a> <span class="id" title="notation">in</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_</span><span class="id" title="notation">(</span><span class="id" title="definition">size</span> <a class="idref" href="discprob.basic.bigop_ext.html#l:305"><span class="id" title="variable">l</span></a><span class="id" title="notation">)</span><span class="id" title="notation">)</span> <span class="id" title="definition">nth</span> 0 <span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#f:304"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:311"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <a id="i:312" class="idref" href="#i:312"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#l:305"><span class="id" title="variable">l</span></a><span class="id" title="notation">]</span> <a class="idref" href="discprob.basic.bigop_ext.html#a:306"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="a:317" class="idref" href="#a:317"><span class="id" title="binder">a</span></a><span class="id" title="notation">&lt;-</span><span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.basic.bigop_ext.html#f:304"><span class="id" title="variable">f</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:313"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <a id="i:314" class="idref" href="#i:314"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#l:305"><span class="id" title="variable">l</span></a><span class="id" title="notation">]</span><span class="id" title="notation">)</span> <a class="idref" href="discprob.basic.bigop_ext.html#a:315"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">l</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> //= <span class="id" title="lemma">big_nil</span> <span class="id" title="lemma">big_ord0</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">transitivity</span> (<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0%<span class="id" title="var">R</span><span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span>0<span class="id" title="notation">&lt;=</span> <a id="a':325" class="idref" href="#a':325"><span class="id" title="binder">a'</span></a> <span class="id" title="notation">&lt;</span> <span class="id" title="notation">(</span><span class="id" title="definition">size</span> <span class="id" title="var">l</span><span class="id" title="notation">).+1</span><span class="id" title="notation">)</span> <span class="id" title="definition">nth</span> 0 (<span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="notation">(</span><span class="id" title="var">f</span> <a class="idref" href="discprob.basic.bigop_ext.html#i:321"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <a id="i:327" class="idref" href="#i:327"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="var">a</span> <span class="id" title="notation">::</span> <span class="id" title="var">l</span><span class="id" title="notation">]</span>) <a class="idref" href="discprob.basic.bigop_ext.html#a':318"><span class="id" title="variable">a'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_mkord</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> //= <span class="id" title="lemma">big_cons</span> <span class="id" title="lemma">big_ltn</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_add1</span> //=. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">IHl</span> <span class="id" title="lemma">big_mkord</span>. <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_index_ordinal_F" class="idref" href="#sum_index_ordinal_F"><span class="id" title="lemma">sum_index_ordinal_F</span></a> {<a id="A:328" class="idref" href="#A:328"><span class="id" title="binder">A</span></a>: <span class="id" title="abbreviation">eqType</span>} (<a id="l:329" class="idref" href="#l:329"><span class="id" title="binder">l</span></a>: <span class="id" title="abbreviation">seq</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#A:328"><span class="id" title="variable">A</span></a>)) <a id="F:330" class="idref" href="#F:330"><span class="id" title="binder">F</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="a:335" class="idref" href="#a:335"><span class="id" title="binder">a</span></a> <span class="id" title="notation">in</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_</span><span class="id" title="notation">(</span><span class="id" title="definition">size</span> <a class="idref" href="discprob.basic.bigop_ext.html#l:329"><span class="id" title="variable">l</span></a><span class="id" title="notation">)</span><span class="id" title="notation">)</span> <a class="idref" href="discprob.basic.bigop_ext.html#F:330"><span class="id" title="variable">F</span></a> (<span class="id" title="definition">nth</span> 0 <span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#i:336"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrfun.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <span class="id" title="notation">|</span> <a id="i:337" class="idref" href="#i:337"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#l:329"><span class="id" title="variable">l</span></a><span class="id" title="notation">]</span> <a class="idref" href="discprob.basic.bigop_ext.html#a:331"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="a:342" class="idref" href="#a:342"><span class="id" title="binder">a</span></a><span class="id" title="notation">&lt;-</span><span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#i:338"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrfun.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <span class="id" title="notation">|</span> <a id="i:339" class="idref" href="#i:339"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#l:329"><span class="id" title="variable">l</span></a><span class="id" title="notation">]</span><span class="id" title="notation">)</span> <a class="idref" href="discprob.basic.bigop_ext.html#F:330"><span class="id" title="variable">F</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:340"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">l</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> //= <span class="id" title="lemma">big_nil</span> <span class="id" title="lemma">big_ord0</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">transitivity</span> (<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0%<span class="id" title="var">R</span><span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span>0<span class="id" title="notation">&lt;=</span> <a id="a':350" class="idref" href="#a':350"><span class="id" title="binder">a'</span></a> <span class="id" title="notation">&lt;</span> <span class="id" title="notation">(</span><span class="id" title="definition">size</span> <span class="id" title="var">l</span><span class="id" title="notation">).+1</span><span class="id" title="notation">)</span> <span class="id" title="var">F</span> (<span class="id" title="definition">nth</span> 0 (<span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#i:346"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrfun.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <span class="id" title="notation">|</span> <a id="i:352" class="idref" href="#i:352"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="var">a</span> <span class="id" title="notation">::</span> <span class="id" title="var">l</span><span class="id" title="notation">]</span>) <a class="idref" href="discprob.basic.bigop_ext.html#a':343"><span class="id" title="variable">a'</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_mkord</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> //= <span class="id" title="lemma">big_cons</span> <span class="id" title="lemma">big_ltn</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_add1</span> //=. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">IHl</span> <span class="id" title="lemma">big_mkord</span>. <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="big_Rplus_allpair" class="idref" href="#big_Rplus_allpair"><span class="id" title="lemma">big_Rplus_allpair</span></a> {<a id="A:353" class="idref" href="#A:353"><span class="id" title="binder">A</span></a> <a id="B:354" class="idref" href="#B:354"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>} (<a id="l1:355" class="idref" href="#l1:355"><span class="id" title="binder">l1</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#A:353"><span class="id" title="variable">A</span></a>) (<a id="l2:356" class="idref" href="#l2:356"><span class="id" title="binder">l2</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="discprob.basic.bigop_ext.html#B:354"><span class="id" title="variable">B</span></a>) <a id="F:357" class="idref" href="#F:357"><span class="id" title="binder">F</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:364" class="idref" href="#i:364"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="discprob.basic.bigop_ext.html#x1:358"><span class="id" title="variable">x1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#x2:360"><span class="id" title="variable">x2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">|</span> <a id="x1:359" class="idref" href="#x1:359"><span class="id" title="binder">x1</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#l1:355"><span class="id" title="variable">l1</span></a><span class="id" title="notation">,</span> <a id="x2:361" class="idref" href="#x2:361"><span class="id" title="binder">x2</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#l2:356"><span class="id" title="variable">l2</span></a><span class="id" title="notation">]</span><span class="id" title="notation">)</span> <a class="idref" href="discprob.basic.bigop_ext.html#F:357"><span class="id" title="variable">F</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:362"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i1:367" class="idref" href="#i1:367"><span class="id" title="binder">i1</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#l1:355"><span class="id" title="variable">l1</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i2:370" class="idref" href="#i2:370"><span class="id" title="binder">i2</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#l2:356"><span class="id" title="variable">l2</span></a><span class="id" title="notation">)</span> <a class="idref" href="discprob.basic.bigop_ext.html#F:357"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="discprob.basic.bigop_ext.html#i1:365"><span class="id" title="variable">i1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i2:368"><span class="id" title="variable">i2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l2</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span> =&gt; //=.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">l2</span>. <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_nil</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">l2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_cat</span> <span class="id" title="lemma">big_cons</span> <span class="id" title="var">IHl1</span> <span class="id" title="lemma">big_map</span> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="big_Rplus_allpair'" class="idref" href="#big_Rplus_allpair'"><span class="id" title="lemma">big_Rplus_allpair'</span></a> {<a id="A:371" class="idref" href="#A:371"><span class="id" title="binder">A</span></a> <a id="B:372" class="idref" href="#B:372"><span class="id" title="binder">B</span></a>: <span class="id" title="abbreviation">eqType</span>} <a id="P:373" class="idref" href="#P:373"><span class="id" title="binder">P</span></a> <a id="Q:374" class="idref" href="#Q:374"><span class="id" title="binder">Q</span></a> (<a id="l1:376" class="idref" href="#l1:376"><span class="id" title="binder">l1</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="x:375" class="idref" href="#x:375"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#A:371"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:373"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#x:375"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>) (<a id="l2:378" class="idref" href="#l2:378"><span class="id" title="binder">l2</span></a>: <span class="id" title="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="x:377" class="idref" href="#x:377"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#B:372"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#Q:374"><span class="id" title="variable">Q</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#x:377"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>) <a id="F:379" class="idref" href="#F:379"><span class="id" title="binder">F</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:386" class="idref" href="#i:386"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="abbreviation">sval</span> <a class="idref" href="discprob.basic.bigop_ext.html#x1:380"><span class="id" title="variable">x1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="abbreviation">sval</span> <a class="idref" href="discprob.basic.bigop_ext.html#x2:382"><span class="id" title="variable">x2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">|</span> <a id="x1:381" class="idref" href="#x1:381"><span class="id" title="binder">x1</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#l1:376"><span class="id" title="variable">l1</span></a><span class="id" title="notation">,</span> <a id="x2:383" class="idref" href="#x2:383"><span class="id" title="binder">x2</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#l2:378"><span class="id" title="variable">l2</span></a><span class="id" title="notation">]</span><span class="id" title="notation">)</span> <a class="idref" href="discprob.basic.bigop_ext.html#F:379"><span class="id" title="variable">F</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:384"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i1:389" class="idref" href="#i1:389"><span class="id" title="binder">i1</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#l1:376"><span class="id" title="variable">l1</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i2:392" class="idref" href="#i2:392"><span class="id" title="binder">i2</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#l2:378"><span class="id" title="variable">l2</span></a><span class="id" title="notation">)</span> <a class="idref" href="discprob.basic.bigop_ext.html#F:379"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="abbreviation">sval</span> <a class="idref" href="discprob.basic.bigop_ext.html#i1:387"><span class="id" title="variable">i1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="abbreviation">sval</span> <a class="idref" href="discprob.basic.bigop_ext.html#i2:390"><span class="id" title="variable">i2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">eq_bigr</span> =&gt; <span class="id" title="var">i</span> ?. <span class="id" title="tactic">rewrite</span> -(<span class="id" title="lemma">big_map</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:398" class="idref" href="#x:398"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:397" class="idref" href="#x:397"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">F</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="abbreviation">sval</span> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#x:393"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)). <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<span class="id" title="lemma">big_map</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:413" class="idref" href="#x:413"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:409" class="idref" href="#x:409"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:412" class="idref" href="#i:412"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="var">_</span> <span class="id" title="notation">)</span> <span class="id" title="var">F</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="discprob.basic.bigop_ext.html#x:399"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:400"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="discprob.basic.bigop_ext.html#big_Rplus_allpair"><span class="id" title="lemma">big_Rplus_allpair</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="discprob.basic.seq_ext.html#allpairs_comp"><span class="id" title="lemma">allpairs_comp</span></a> <span class="id" title="abbreviation">sval</span> <span class="id" title="abbreviation">sval</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="big1_In" class="idref" href="#big1_In"><span class="id" title="lemma">big1_In</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="R:414" class="idref" href="#R:414"><span class="id" title="binder">R</span></a> : <span class="id" title="keyword">Type</span>) (<a id="idx:415" class="idref" href="#idx:415"><span class="id" title="binder">idx</span></a> : <a class="idref" href="discprob.basic.bigop_ext.html#R:414"><span class="id" title="variable">R</span></a>) (<a id="op:416" class="idref" href="#op:416"><span class="id" title="binder">op</span></a> : <span class="id" title="record">Monoid.law</span> <a class="idref" href="discprob.basic.bigop_ext.html#idx:415"><span class="id" title="variable">idx</span></a>) (<a id="I:417" class="idref" href="#I:417"><span class="id" title="binder">I</span></a> : <span class="id" title="keyword">Type</span>) (<a id="l:418" class="idref" href="#l:418"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#I:417"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:419" class="idref" href="#P:419"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#I:417"><span class="id" title="variable">I</span></a>) (<a id="F:420" class="idref" href="#F:420"><span class="id" title="binder">F</span></a> : <a class="idref" href="discprob.basic.bigop_ext.html#I:417"><span class="id" title="variable">I</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#R:414"><span class="id" title="variable">R</span></a>) (<a id="Heq0:422" class="idref" href="#Heq0:422"><span class="id" title="binder">Heq0</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="i:421" class="idref" href="#i:421"><span class="id" title="binder">i</span></a> : <a class="idref" href="discprob.basic.bigop_ext.html#I:417"><span class="id" title="variable">I</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:419"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:421"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:421"><span class="id" title="variable">i</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#l:418"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#F:420"><span class="id" title="variable">F</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:421"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#idx:415"><span class="id" title="variable">idx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="discprob.basic.bigop_ext.html#op:416"><span class="id" title="variable">op</span></a><span class="id" title="notation">/</span><a class="idref" href="discprob.basic.bigop_ext.html#idx:415"><span class="id" title="variable">idx</span></a><span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:425" class="idref" href="#i:425"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#l:418"><span class="id" title="variable">l</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:419"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:423"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <a class="idref" href="discprob.basic.bigop_ext.html#F:420"><span class="id" title="variable">F</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:423"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#idx:415"><span class="id" title="variable">idx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">l</span>] =&gt; //=.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_nil</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_cons</span> <span class="id" title="var">IHl</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Heq0</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">a</span>); <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq0</span> //=; <span class="id" title="tactic">destruct</span> <span class="id" title="var">op</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Heq0</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_bigr_In" class="idref" href="#eq_bigr_In"><span class="id" title="lemma">eq_bigr_In</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="R:426" class="idref" href="#R:426"><span class="id" title="binder">R</span></a> : <span class="id" title="keyword">Type</span>) (<a id="idx:427" class="idref" href="#idx:427"><span class="id" title="binder">idx</span></a> : <a class="idref" href="discprob.basic.bigop_ext.html#R:426"><span class="id" title="variable">R</span></a>) (<a id="op:428" class="idref" href="#op:428"><span class="id" title="binder">op</span></a> : <span class="id" title="record">Monoid.law</span> <a class="idref" href="discprob.basic.bigop_ext.html#idx:427"><span class="id" title="variable">idx</span></a>) (<a id="I:429" class="idref" href="#I:429"><span class="id" title="binder">I</span></a> : <span class="id" title="keyword">Type</span>) (<a id="l:430" class="idref" href="#l:430"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#I:429"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:431" class="idref" href="#P:431"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#I:429"><span class="id" title="variable">I</span></a>) (<a id="F:432" class="idref" href="#F:432"><span class="id" title="binder">F</span></a> <a id="F':433" class="idref" href="#F':433"><span class="id" title="binder">F'</span></a>: <a class="idref" href="discprob.basic.bigop_ext.html#I:429"><span class="id" title="variable">I</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#R:426"><span class="id" title="variable">R</span></a>) (<a id="Heq:435" class="idref" href="#Heq:435"><span class="id" title="binder">Heq</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="i:434" class="idref" href="#i:434"><span class="id" title="binder">i</span></a> : <a class="idref" href="discprob.basic.bigop_ext.html#I:429"><span class="id" title="variable">I</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#P:431"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:434"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:434"><span class="id" title="variable">i</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#l:430"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#F:432"><span class="id" title="variable">F</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:434"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#F':433"><span class="id" title="variable">F'</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:434"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="discprob.basic.bigop_ext.html#op:428"><span class="id" title="variable">op</span></a><span class="id" title="notation">/</span><a class="idref" href="discprob.basic.bigop_ext.html#idx:427"><span class="id" title="variable">idx</span></a><span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:438" class="idref" href="#i:438"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#l:430"><span class="id" title="variable">l</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:431"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:436"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <a class="idref" href="discprob.basic.bigop_ext.html#F:432"><span class="id" title="variable">F</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:436"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="discprob.basic.bigop_ext.html#op:428"><span class="id" title="variable">op</span></a><span class="id" title="notation">/</span><a class="idref" href="discprob.basic.bigop_ext.html#idx:427"><span class="id" title="variable">idx</span></a><span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:441" class="idref" href="#i:441"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="discprob.basic.bigop_ext.html#l:430"><span class="id" title="variable">l</span></a> <span class="id" title="notation">|</span> <a class="idref" href="discprob.basic.bigop_ext.html#P:431"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:439"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <a class="idref" href="discprob.basic.bigop_ext.html#F':433"><span class="id" title="variable">F'</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#i:439"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">l</span>] =&gt; //=.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_nil</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">big_cons</span> <span class="id" title="var">IHl</span> =&gt; //=; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Heq</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">a</span>); <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> //=. <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_nS" class="idref" href="#sum_nS"><span class="id" title="lemma">sum_nS</span></a> {<a id="G:442" class="idref" href="#G:442"><span class="id" title="binder">G</span></a>: <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#AbelianGroup.Exports.AbelianGroup"><span class="id" title="abbreviation">AbelianGroup</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="a:443" class="idref" href="#a:443"><span class="id" title="binder">a</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#G:442"><span class="id" title="variable">G</span></a>) (<a id="n:444" class="idref" href="#n:444"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:443"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#n:444"><span class="id" title="variable">n</span></a><span class="id" title="notation">.+1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#plus"><span class="id" title="definition">plus</span></a> (<a class="idref" href="discprob.basic.bigop_ext.html#a:443"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>) (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:445" class="idref" href="#n:445"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#a:443"><span class="id" title="variable">a</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#n:445"><span class="id" title="variable">n</span></a>)) <a class="idref" href="discprob.basic.bigop_ext.html#n:444"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_Sn_m"><span class="id" title="lemma">sum_Sn_m</span></a> //=; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n_m_S"><span class="id" title="lemma">sum_n_m_S</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
