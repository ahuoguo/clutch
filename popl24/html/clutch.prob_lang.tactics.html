<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">clutch.prob_lang.tactics</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Reals.html#"><span class="id" title="library">Reals</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.micromega.Psatz.html#"><span class="id" title="library">Psatz</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">fin_maps</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.prob</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="clutch.prob.distribution.html#"><span class="id" title="library">distribution</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.program_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="clutch.program_logic.ectx_language.html#"><span class="id" title="library">ectx_language</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.prob_lang</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="clutch.prob_lang.lang.html#"><span class="id" title="library">lang</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.prelude</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">options</span>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="clutch.prob_lang.lang.html#prob_lang"><span class="id" title="module">prob_lang</span></a>.<br/>

<br/>
</div>

<div class="doc">
The tactic <span class="inlinecode"><span class="id" title="var">reshape_expr</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span> <span class="inlinecode"><span class="id" title="var">tac</span></span> decomposes the expression <span class="inlinecode"><span class="id" title="var">e</span></span> into an
evaluation context <span class="inlinecode"><a class="idref" href="clutch.examples.env_bisim.html#K"><span class="id" title="definition">K</span></a></span> and a subexpression <span class="inlinecode"><span class="id" title="var">e'</span></span>. It calls the tactic <span class="inlinecode"><span class="id" title="var">tac</span></span> <span class="inlinecode"><a class="idref" href="clutch.examples.env_bisim.html#K"><span class="id" title="definition">K</span></a></span> <span class="inlinecode"><span class="id" title="var">e'</span></span>
for each possible decomposition until <span class="inlinecode"><span class="id" title="var">tac</span></span> succeeds. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="var">tac</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">go</span> <span class="id" title="var">K</span> <span class="id" title="var">e</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">e</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="var">tac</span> <span class="id" title="var">K</span> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;| <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.App"><span class="id" title="constructor">App</span></a> ?<span class="id" title="var">e</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> ?<span class="id" title="var">v</span>) =&gt; <span class="id" title="var">go</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.AppLCtx"><span class="id" title="constructor">AppLCtx</span></a> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;| <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.App"><span class="id" title="constructor">App</span></a> ?<span class="id" title="var">e1</span> ?<span class="id" title="var">e2</span> =&gt; <span class="id" title="var">go</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.AppRCtx"><span class="id" title="constructor">AppRCtx</span></a> <span class="id" title="var">e1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e2</span><br/>
&nbsp;&nbsp;| <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.UnOp"><span class="id" title="constructor">UnOp</span></a> ?<span class="id" title="var">op</span> ?<span class="id" title="var">e</span> =&gt; <span class="id" title="var">go</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.UnOpCtx"><span class="id" title="constructor">UnOpCtx</span></a> <span class="id" title="var">op</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;| <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.BinOp"><span class="id" title="constructor">BinOp</span></a> ?<span class="id" title="var">op</span> ?<span class="id" title="var">e</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> ?<span class="id" title="var">v</span>) =&gt; <span class="id" title="var">go</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.BinOpLCtx"><span class="id" title="constructor">BinOpLCtx</span></a> <span class="id" title="var">op</span> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;| <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.BinOp"><span class="id" title="constructor">BinOp</span></a> ?<span class="id" title="var">op</span> ?<span class="id" title="var">e1</span> ?<span class="id" title="var">e2</span> =&gt; <span class="id" title="var">go</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.BinOpRCtx"><span class="id" title="constructor">BinOpRCtx</span></a> <span class="id" title="var">op</span> <span class="id" title="var">e1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e2</span><br/>
&nbsp;&nbsp;| <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.If"><span class="id" title="constructor">If</span></a> ?<span class="id" title="var">e0</span> ?<span class="id" title="var">e1</span> ?<span class="id" title="var">e2</span> =&gt; <span class="id" title="var">go</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.IfCtx"><span class="id" title="constructor">IfCtx</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e0</span><br/>
&nbsp;&nbsp;| <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Pair"><span class="id" title="constructor">Pair</span></a> ?<span class="id" title="var">e</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> ?<span class="id" title="var">v</span>) =&gt; <span class="id" title="var">go</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.PairLCtx"><span class="id" title="constructor">PairLCtx</span></a> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;| <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Pair"><span class="id" title="constructor">Pair</span></a> ?<span class="id" title="var">e1</span> ?<span class="id" title="var">e2</span> =&gt; <span class="id" title="var">go</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.PairRCtx"><span class="id" title="constructor">PairRCtx</span></a> <span class="id" title="var">e1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e2</span><br/>
&nbsp;&nbsp;| <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Fst"><span class="id" title="constructor">Fst</span></a> ?<span class="id" title="var">e</span> =&gt; <span class="id" title="var">go</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.FstCtx"><span class="id" title="constructor">FstCtx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;| <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Snd"><span class="id" title="constructor">Snd</span></a> ?<span class="id" title="var">e</span> =&gt; <span class="id" title="var">go</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.SndCtx"><span class="id" title="constructor">SndCtx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;| <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.InjL"><span class="id" title="constructor">InjL</span></a> ?<span class="id" title="var">e</span> =&gt; <span class="id" title="var">go</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.InjLCtx"><span class="id" title="constructor">InjLCtx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;| <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.InjR"><span class="id" title="constructor">InjR</span></a> ?<span class="id" title="var">e</span> =&gt; <span class="id" title="var">go</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.InjRCtx"><span class="id" title="constructor">InjRCtx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;| <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Case"><span class="id" title="constructor">Case</span></a> ?<span class="id" title="var">e0</span> ?<span class="id" title="var">e1</span> ?<span class="id" title="var">e2</span> =&gt; <span class="id" title="var">go</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.CaseCtx"><span class="id" title="constructor">CaseCtx</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e0</span><br/>
&nbsp;&nbsp;| <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Alloc"><span class="id" title="constructor">Alloc</span></a> ?<span class="id" title="var">e</span> =&gt; <span class="id" title="var">go</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.AllocCtx"><span class="id" title="constructor">AllocCtx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;| <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Load"><span class="id" title="constructor">Load</span></a> ?<span class="id" title="var">e</span> =&gt; <span class="id" title="var">go</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.LoadCtx"><span class="id" title="constructor">LoadCtx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;| <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Store"><span class="id" title="constructor">Store</span></a> ?<span class="id" title="var">e</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> ?<span class="id" title="var">v</span>) =&gt; <span class="id" title="var">go</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.StoreLCtx"><span class="id" title="constructor">StoreLCtx</span></a> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;| <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Store"><span class="id" title="constructor">Store</span></a> ?<span class="id" title="var">e1</span> ?<span class="id" title="var">e2</span> =&gt; <span class="id" title="var">go</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.StoreRCtx"><span class="id" title="constructor">StoreRCtx</span></a> <span class="id" title="var">e1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e2</span><br/>
&nbsp;&nbsp;| <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.AllocTape"><span class="id" title="constructor">AllocTape</span></a> ?<span class="id" title="var">e</span> =&gt; <span class="id" title="var">go</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.AllocTapeCtx"><span class="id" title="constructor">AllocTapeCtx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;| <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Rand"><span class="id" title="constructor">Rand</span></a> ?<span class="id" title="var">e</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> ?<span class="id" title="var">v</span>) =&gt; <span class="id" title="var">go</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.RandLCtx"><span class="id" title="constructor">RandLCtx</span></a> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;| <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Rand"><span class="id" title="constructor">Rand</span></a> ?<span class="id" title="var">e1</span> ?<span class="id" title="var">e2</span> =&gt; <span class="id" title="var">go</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.RandRCtx"><span class="id" title="constructor">RandRCtx</span></a> <span class="id" title="var">e1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">K</span>) <span class="id" title="var">e2</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span> <span class="id" title="var">go</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.ectx_item"><span class="id" title="inductive">ectx_item</span></a>) <span class="id" title="var">e</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="head_step_support_eq" class="idref" href="#head_step_support_eq"><span class="id" title="lemma">head_step_support_eq</span></a> <a id="e1:1" class="idref" href="#e1:1"><span class="id" title="binder">e1</span></a> <a id="e2:2" class="idref" href="#e2:2"><span class="id" title="binder">e2</span></a> <a id="d9fc2e86675058e8837bdbd5ef077a4c" class="idref" href="#d9fc2e86675058e8837bdbd5ef077a4c"><span class="id" title="binder">σ1</span></a> <a id="1fb6dff8c04708ee5beecba45b6bf416" class="idref" href="#1fb6dff8c04708ee5beecba45b6bf416"><span class="id" title="binder">σ2</span></a> <a id="r:5" class="idref" href="#r:5"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.tactics.html#r:5"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.head_step"><span class="id" title="definition">head_step</span></a> <a class="idref" href="clutch.prob_lang.tactics.html#e1:1"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.prob_lang.tactics.html#d9fc2e86675058e8837bdbd5ef077a4c"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob_lang.tactics.html#e2:2"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob_lang.tactics.html#1fb6dff8c04708ee5beecba45b6bf416"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.tactics.html#r:5"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.head_step_rel"><span class="id" title="inductive">head_step_rel</span></a> <a class="idref" href="clutch.prob_lang.tactics.html#e1:1"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.prob_lang.tactics.html#d9fc2e86675058e8837bdbd5ef077a4c"><span class="id" title="variable">σ1</span></a> <a class="idref" href="clutch.prob_lang.tactics.html#e2:2"><span class="id" title="variable">e2</span></a> <a class="idref" href="clutch.prob_lang.tactics.html#1fb6dff8c04708ee5beecba45b6bf416"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ? &lt;-. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.head_step_support_equiv_rel"><span class="id" title="lemma">head_step_support_equiv_rel</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="head_step_support_eq_1" class="idref" href="#head_step_support_eq_1"><span class="id" title="lemma">head_step_support_eq_1</span></a> <a id="e1:6" class="idref" href="#e1:6"><span class="id" title="binder">e1</span></a> <a id="e2:7" class="idref" href="#e2:7"><span class="id" title="binder">e2</span></a> <a id="8d2e507f5896a758e8d55b62169bee6c" class="idref" href="#8d2e507f5896a758e8d55b62169bee6c"><span class="id" title="binder">σ1</span></a> <a id="c7a9dbebfb6d53b93ba0bb89e194c205" class="idref" href="#c7a9dbebfb6d53b93ba0bb89e194c205"><span class="id" title="binder">σ2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.head_step"><span class="id" title="definition">head_step</span></a> <a class="idref" href="clutch.prob_lang.tactics.html#e1:6"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.prob_lang.tactics.html#8d2e507f5896a758e8d55b62169bee6c"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob_lang.tactics.html#e2:7"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob_lang.tactics.html#c7a9dbebfb6d53b93ba0bb89e194c205"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.head_step_rel"><span class="id" title="inductive">head_step_rel</span></a> <a class="idref" href="clutch.prob_lang.tactics.html#e1:6"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.prob_lang.tactics.html#8d2e507f5896a758e8d55b62169bee6c"><span class="id" title="variable">σ1</span></a> <a class="idref" href="clutch.prob_lang.tactics.html#e2:7"><span class="id" title="variable">e2</span></a> <a class="idref" href="clutch.prob_lang.tactics.html#c7a9dbebfb6d53b93ba0bb89e194c205"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob_lang.tactics.html#head_step_support_eq"><span class="id" title="lemma">head_step_support_eq</span></a>; <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The tactic <span class="inlinecode"><span class="id" title="var">inv_head_step</span></span> performs inversion on hypotheses of the shape
    <span class="inlinecode"><a class="idref" href="clutch.program_logic.ectxi_language.html#head_step"><span class="id" title="projection">head_step</span></a></span>. The tactic will discharge head-reductions starting from values,
    and simplifies hypothesis related to conversions from and to values, and
    finite map operations. This tactic is slightly ad-hoc and tuned for proving
    our lifting lemmas. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Global Hint Extern</span> 0 (<a class="idref" href="clutch.program_logic.ectx_language.html#head_reducible"><span class="id" title="definition">head_reducible</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.head_step_support_equiv_rel"><span class="id" title="lemma">head_step_support_equiv_rel</span></a> : <span class="id" title="var">head_step</span>.<br/>
<span class="id" title="keyword">Global Hint Extern</span> 1 (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.head_step"><span class="id" title="definition">head_step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.head_step_support_equiv_rel"><span class="id" title="lemma">head_step_support_equiv_rel</span></a>; <span class="id" title="tactic">econstructor</span> : <span class="id" title="var">head_step</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_step</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- (<a class="idref" href="clutch.program_logic.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1%<span class="id" title="var">R</span>  =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.program_logic.ectx_language.html#head_prim_step_eq"><span class="id" title="lemma">head_prim_step_eq</span></a> /=;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">simplify_map_eq</span>; <span class="id" title="var">solve_distr</span>|<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">head_step</span>]<br/>
&nbsp;&nbsp;| |- (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.head_step"><span class="id" title="definition">head_step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1%<span class="id" title="var">R</span>  =&gt; <span class="id" title="var">simplify_map_eq</span>; <span class="id" title="var">solve_distr</span><br/>
&nbsp;&nbsp;| |- (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.head_step"><span class="id" title="definition">head_step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0%<span class="id" title="var">R</span>  =&gt; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">head_step</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
