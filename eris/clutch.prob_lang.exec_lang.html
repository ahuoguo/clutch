<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/logsem/clutch">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">clutch.prob_lang.exec_lang</h1>

<div class="code">
<span class="comment">(*&nbsp;TODO&nbsp;move&nbsp;into&nbsp;metatheory.v&nbsp;?&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Reals.html#"><span class="id" title="library">Reals</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.micromega.Psatz.html#"><span class="id" title="library">Psatz</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.prob_lang</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="clutch.prob_lang.lang.html#"><span class="id" title="library">lang</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="exec_det_step_ctx" class="idref" href="#exec_det_step_ctx"><span class="id" title="lemma">exec_det_step_ctx</span></a> <a id="K:1" class="idref" href="#K:1"><span class="id" title="binder">K</span></a> `{<a id="LanguageCtx0:2" class="idref" href="#LanguageCtx0:2"><span class="id" title="binder">!</span></a><a id="LanguageCtx0:2" class="idref" href="#LanguageCtx0:2"><span class="id" title="binder">LanguageCtx</span></a> <a id="LanguageCtx0:2" class="idref" href="#LanguageCtx0:2"><span class="id" title="binder">K</span></a>} <a id="n:3" class="idref" href="#n:3"><span class="id" title="binder">n</span></a> <a id="5eb0cedb320508b138db5ee7657f6278" class="idref" href="#5eb0cedb320508b138db5ee7657f6278"><span class="id" title="binder">ρ</span></a> (<a id="e1:5" class="idref" href="#e1:5"><span class="id" title="binder">e1</span></a> <a id="e2:6" class="idref" href="#e2:6"><span class="id" title="binder">e2</span></a> : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.expr"><span class="id" title="inductive">expr</span></a>) <a id="e25ea4ae6eee399a48ec209a26465196" class="idref" href="#e25ea4ae6eee399a48ec209a26465196"><span class="id" title="binder">σ1</span></a> <a id="25d2ce89a2d2244ba62c3f6b99f9f0a4" class="idref" href="#25d2ce89a2d2244ba62c3f6b99f9f0a4"><span class="id" title="binder">σ2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.common.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#e1:5"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#e25ea4ae6eee399a48ec209a26465196"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob_lang.exec_lang.html#e2:6"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#25d2ce89a2d2244ba62c3f6b99f9f0a4"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.markov.html#pexec"><span class="id" title="definition">pexec</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#n:3"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#5eb0cedb320508b138db5ee7657f6278"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob_lang.exec_lang.html#K:1"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#e1:5"><span class="id" title="variable">e1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#e25ea4ae6eee399a48ec209a26465196"><span class="id" title="variable">σ1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.markov.html#pexec"><span class="id" title="definition">pexec</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#n:3"><span class="id" title="variable">n</span></a>) <a class="idref" href="clutch.prob_lang.exec_lang.html#5eb0cedb320508b138db5ee7657f6278"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob_lang.exec_lang.html#K:1"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#e2:6"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#25d2ce89a2d2244ba62c3f6b99f9f0a4"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1%<span class="id" title="var">R</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.markov.html#pexec_det_step"><span class="id" title="lemma">pexec_det_step</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.common.language.html#fill_step_prob"><span class="id" title="lemma">fill_step_prob</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.common.language.html#val_stuck"><span class="id" title="lemma">val_stuck</span></a> <span class="id" title="var">_</span> σ1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e2</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> σ2<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="exec_PureExec_ctx" class="idref" href="#exec_PureExec_ctx"><span class="id" title="lemma">exec_PureExec_ctx</span></a> <a id="K:9" class="idref" href="#K:9"><span class="id" title="binder">K</span></a> `{<a id="LanguageCtx0:10" class="idref" href="#LanguageCtx0:10"><span class="id" title="binder">!</span></a><a id="LanguageCtx0:10" class="idref" href="#LanguageCtx0:10"><span class="id" title="binder">LanguageCtx</span></a> <a id="LanguageCtx0:10" class="idref" href="#LanguageCtx0:10"><span class="id" title="binder">K</span></a>} (<a id="P:11" class="idref" href="#P:11"><span class="id" title="binder">P</span></a> : <span class="id" title="keyword">Prop</span>) <a id="m:12" class="idref" href="#m:12"><span class="id" title="binder">m</span></a> <a id="n:13" class="idref" href="#n:13"><span class="id" title="binder">n</span></a> <a id="438d9d966041835e9a2cdda7e9d0af67" class="idref" href="#438d9d966041835e9a2cdda7e9d0af67"><span class="id" title="binder">ρ</span></a> (<a id="e:15" class="idref" href="#e:15"><span class="id" title="binder">e</span></a> <a id="e':16" class="idref" href="#e':16"><span class="id" title="binder">e'</span></a> : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.expr"><span class="id" title="inductive">expr</span></a>) <a id="0b62e00a8cabb8092988a5646f06f6ac" class="idref" href="#0b62e00a8cabb8092988a5646f06f6ac"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.exec_lang.html#P:11"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.common.language.html#PureExec"><span class="id" title="class">PureExec</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#P:11"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#n:13"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#e:15"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#e':16"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.markov.html#pexec"><span class="id" title="definition">pexec</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#m:12"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#438d9d966041835e9a2cdda7e9d0af67"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob_lang.exec_lang.html#K:9"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#e:15"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#0b62e00a8cabb8092988a5646f06f6ac"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.markov.html#pexec"><span class="id" title="definition">pexec</span></a> (<a class="idref" href="clutch.prob_lang.exec_lang.html#m:12"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#n:13"><span class="id" title="variable">n</span></a>) <a class="idref" href="clutch.prob_lang.exec_lang.html#438d9d966041835e9a2cdda7e9d0af67"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob_lang.exec_lang.html#K:9"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#e':16"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#0b62e00a8cabb8092988a5646f06f6ac"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">HP</span> /(<span class="id" title="var">_</span> <span class="id" title="var">HP</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ρ <span class="id" title="keyword">as</span> [<span class="id" title="var">e0</span> σ0].<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>=&gt; <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#plus_n_O"><span class="id" title="lemma">plus_n_O</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">e''</span> &amp; <span class="id" title="var">Hsteps</span> &amp; <span class="id" title="var">Hpstep</span>)%<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#nsteps_inv_r"><span class="id" title="lemma">nsteps_inv_r</span></a> <span class="id" title="var">Hdet</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHn</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">m</span> <span class="id" title="var">Hsteps</span> <span class="id" title="var">Hdet</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#plus_n_Sm"><span class="id" title="lemma">plus_n_Sm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob_lang.exec_lang.html#exec_det_step_ctx"><span class="id" title="lemma">exec_det_step_ctx</span></a>; [<span class="id" title="var">done</span>| |<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hpstep</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="stepN_det_step_ctx" class="idref" href="#stepN_det_step_ctx"><span class="id" title="lemma">stepN_det_step_ctx</span></a> <a id="K:18" class="idref" href="#K:18"><span class="id" title="binder">K</span></a> `{<a id="LanguageCtx0:19" class="idref" href="#LanguageCtx0:19"><span class="id" title="binder">!</span></a><a id="LanguageCtx0:19" class="idref" href="#LanguageCtx0:19"><span class="id" title="binder">LanguageCtx</span></a> <a id="LanguageCtx0:19" class="idref" href="#LanguageCtx0:19"><span class="id" title="binder">K</span></a>} <a id="n:20" class="idref" href="#n:20"><span class="id" title="binder">n</span></a> <a id="4ba9d1b9cf03bd18832444880c72beb1" class="idref" href="#4ba9d1b9cf03bd18832444880c72beb1"><span class="id" title="binder">ρ</span></a> (<a id="e1:22" class="idref" href="#e1:22"><span class="id" title="binder">e1</span></a> <a id="e2:23" class="idref" href="#e2:23"><span class="id" title="binder">e2</span></a> : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.expr"><span class="id" title="inductive">expr</span></a>) <a id="d3a991015667f671ce656fbb1127f722" class="idref" href="#d3a991015667f671ce656fbb1127f722"><span class="id" title="binder">σ1</span></a> <a id="ebbf7495934a318230180b6a03ff635b" class="idref" href="#ebbf7495934a318230180b6a03ff635b"><span class="id" title="binder">σ2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.common.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#e1:22"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#d3a991015667f671ce656fbb1127f722"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob_lang.exec_lang.html#e2:23"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#ebbf7495934a318230180b6a03ff635b"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.markov.html#stepN"><span class="id" title="definition">stepN</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#n:20"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#4ba9d1b9cf03bd18832444880c72beb1"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob_lang.exec_lang.html#K:18"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#e1:22"><span class="id" title="variable">e1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#d3a991015667f671ce656fbb1127f722"><span class="id" title="variable">σ1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.markov.html#stepN"><span class="id" title="definition">stepN</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#n:20"><span class="id" title="variable">n</span></a>) <a class="idref" href="clutch.prob_lang.exec_lang.html#4ba9d1b9cf03bd18832444880c72beb1"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob_lang.exec_lang.html#K:18"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#e2:23"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#ebbf7495934a318230180b6a03ff635b"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1%<span class="id" title="var">R</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="clutch.prob.markov.html#stepN_det_trans"><span class="id" title="lemma">stepN_det_trans</span></a> <span class="id" title="var">n</span> 1); [<span class="id" title="var">done</span>|<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.markov.html#stepN_Sn"><span class="id" title="lemma">stepN_Sn</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_id_right"><span class="id" title="lemma">dret_id_right</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.common.language.html#fill_step_prob"><span class="id" title="lemma">fill_step_prob</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.common.language.html#val_stuck"><span class="id" title="lemma">val_stuck</span></a> <span class="id" title="var">_</span> σ1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e2</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> σ2<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="stepN_PureExec_ctx" class="idref" href="#stepN_PureExec_ctx"><span class="id" title="lemma">stepN_PureExec_ctx</span></a> <a id="K:26" class="idref" href="#K:26"><span class="id" title="binder">K</span></a> `{<a id="LanguageCtx0:27" class="idref" href="#LanguageCtx0:27"><span class="id" title="binder">!</span></a><a id="LanguageCtx0:27" class="idref" href="#LanguageCtx0:27"><span class="id" title="binder">LanguageCtx</span></a> <a id="LanguageCtx0:27" class="idref" href="#LanguageCtx0:27"><span class="id" title="binder">K</span></a>} (<a id="P:28" class="idref" href="#P:28"><span class="id" title="binder">P</span></a> : <span class="id" title="keyword">Prop</span>) <a id="m:29" class="idref" href="#m:29"><span class="id" title="binder">m</span></a> <a id="n:30" class="idref" href="#n:30"><span class="id" title="binder">n</span></a> <a id="21a5a9d1bb42088c35cd2f336d25ba3b" class="idref" href="#21a5a9d1bb42088c35cd2f336d25ba3b"><span class="id" title="binder">ρ</span></a> (<a id="e:32" class="idref" href="#e:32"><span class="id" title="binder">e</span></a> <a id="e':33" class="idref" href="#e':33"><span class="id" title="binder">e'</span></a> : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.expr"><span class="id" title="inductive">expr</span></a>) <a id="e05d27d7d3ee8f8203c6aec5c67d6b2f" class="idref" href="#e05d27d7d3ee8f8203c6aec5c67d6b2f"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.exec_lang.html#P:28"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.common.language.html#PureExec"><span class="id" title="class">PureExec</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#P:28"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#n:30"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#e:32"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#e':33"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.markov.html#stepN"><span class="id" title="definition">stepN</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#m:29"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#21a5a9d1bb42088c35cd2f336d25ba3b"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob_lang.exec_lang.html#K:26"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#e:32"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#e05d27d7d3ee8f8203c6aec5c67d6b2f"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.markov.html#stepN"><span class="id" title="definition">stepN</span></a> (<a class="idref" href="clutch.prob_lang.exec_lang.html#m:29"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#n:30"><span class="id" title="variable">n</span></a>) <a class="idref" href="clutch.prob_lang.exec_lang.html#21a5a9d1bb42088c35cd2f336d25ba3b"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob_lang.exec_lang.html#K:26"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#e':33"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob_lang.exec_lang.html#e05d27d7d3ee8f8203c6aec5c67d6b2f"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">HP</span> /(<span class="id" title="var">_</span> <span class="id" title="var">HP</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ρ <span class="id" title="keyword">as</span> [<span class="id" title="var">e0</span> σ0].<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>=&gt; <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#plus_n_O"><span class="id" title="lemma">plus_n_O</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">e''</span> &amp; <span class="id" title="var">Hsteps</span> &amp; <span class="id" title="var">Hpstep</span>)%<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#nsteps_inv_r"><span class="id" title="lemma">nsteps_inv_r</span></a> <span class="id" title="var">Hdet</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHn</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">m</span> <span class="id" title="var">Hsteps</span> <span class="id" title="var">Hdet</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#plus_n_Sm"><span class="id" title="lemma">plus_n_Sm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob_lang.exec_lang.html#stepN_det_step_ctx"><span class="id" title="lemma">stepN_det_step_ctx</span></a>; [<span class="id" title="var">done</span>| |<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hpstep</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
