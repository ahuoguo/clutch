<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/logsem/clutch">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">clutch.prob.distribution</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Reals.html#"><span class="id" title="library">Reals</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.micromega.Psatz.html#"><span class="id" title="library">Psatz</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq.ssr</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coquelicot</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#"><span class="id" title="library">Rcomplements</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rbar.html#"><span class="id" title="library">Rbar</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#"><span class="id" title="library">Series</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#"><span class="id" title="library">Lim_seq</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#"><span class="id" title="library">Hierarchy</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#"><span class="id" title="library">countable</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#"><span class="id" title="library">finite</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.prelude</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="clutch.prelude.base.html#"><span class="id" title="library">base</span></a> <a class="idref" href="clutch.prelude.stdpp_ext.html#"><span class="id" title="library">stdpp_ext</span></a> <a class="idref" href="clutch.prelude.Reals_ext.html#"><span class="id" title="library">Reals_ext</span></a> <a class="idref" href="clutch.prelude.Coquelicot_ext.html#"><span class="id" title="library">Coquelicot_ext</span></a> <a class="idref" href="clutch.prelude.Series_ext.html#"><span class="id" title="library">Series_ext</span></a> <a class="idref" href="clutch.prelude.classical.html#"><span class="id" title="library">classical</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.prob</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="clutch.prob.countable_sum.html#"><span class="id" title="library">countable_sum</span></a>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="distr" class="idref" href="#distr"><span class="id" title="record">distr</span></a> (<a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) `{<a id="H:3" class="idref" href="#H:3"><span class="id" title="binder">Countable</span></a> <a id="H:3" class="idref" href="#H:3"><span class="id" title="binder">A</span></a>} := <span class="id" title="var">MkDistr</span> {<br/>
&nbsp;&nbsp;<a id="pmf" class="idref" href="#pmf"><span class="id" title="projection">pmf</span></a> :&gt; <a class="idref" href="clutch.prob.distribution.html#A:1"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>;<br/>
&nbsp;&nbsp;<a id="pmf_pos" class="idref" href="#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:6" class="idref" href="#a:6"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#pmf:5"><span class="id" title="method">pmf</span></a> <a class="idref" href="clutch.prob.distribution.html#a:6"><span class="id" title="variable">a</span></a>;<br/>
&nbsp;&nbsp;<a id="pmf_ex_seriesC" class="idref" href="#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> : <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#pmf:5"><span class="id" title="method">pmf</span></a>;<br/>
&nbsp;&nbsp;<a id="pmf_SeriesC" class="idref" href="#pmf_SeriesC"><span class="id" title="projection">pmf_SeriesC</span></a> : <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#pmf:5"><span class="id" title="method">pmf</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="clutch.prob.distribution.html#pmf_SeriesC"><span class="id" title="projection">pmf_SeriesC</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">pmf_pos</span> <span class="id" title="var">pmf_ex_seriesC</span> <span class="id" title="var">pmf_SeriesC</span> : <span class="id" title="var">core</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="distributions" class="idref" href="#distributions"><span class="id" title="section">distributions</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:12" class="idref" href="#H:12"><span class="id" title="binder">Countable</span></a> <a id="A:10" class="idref" href="#A:10"><span class="id" title="binder"><span id="H:12" class="id">A</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">μ</span> <span class="id" title="var">d</span> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="distr_dec" class="idref" href="#distr_dec"><span class="id" title="instance">distr_dec</span></a> <a id="46e20c87cf076939d880dd5152987a0e" class="idref" href="#46e20c87cf076939d880dd5152987a0e"><span class="id" title="binder">μ1</span></a> <a id="6816787de3d81e12652728d0efce690d" class="idref" href="#6816787de3d81e12652728d0efce690d"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Decision"><span class="id" title="class">Decision</span></a> (<a class="idref" href="clutch.prob.distribution.html#46e20c87cf076939d880dd5152987a0e"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#6816787de3d81e12652728d0efce690d"><span class="id" title="variable">μ2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.classical.html#make_decision"><span class="id" title="lemma">make_decision</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_le_1" class="idref" href="#pmf_le_1"><span class="id" title="lemma">pmf_le_1</span></a> <a id="b00ab9843263666e5fa0e80e7f537612" class="idref" href="#b00ab9843263666e5fa0e80e7f537612"><span class="id" title="binder">μ</span></a> <a id="a:16" class="idref" href="#a:16"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#b00ab9843263666e5fa0e80e7f537612"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:16"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':17" class="idref" href="#a':17"><span class="id" title="binder"><span id="a':18" class="id">a'</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a':17"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; [|<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_SeriesC"><span class="id" title="projection">pmf_SeriesC</span></a> <span class="id" title="var">μ</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_SeriesC_ge_0" class="idref" href="#pmf_SeriesC_ge_0"><span class="id" title="lemma">pmf_SeriesC_ge_0</span></a> <a id="40be0ccef18ee2ad161184284316daf3" class="idref" href="#40be0ccef18ee2ad161184284316daf3"><span class="id" title="binder">μ</span></a> : 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#40be0ccef18ee2ad161184284316daf3"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> : <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0"><span class="id" title="lemma">SeriesC_ge_0</span></a>; [<span class="id" title="var">done</span>|]. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_0"><span class="id" title="lemma">ex_seriesC_0</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le'"><span class="id" title="lemma">SeriesC_le'</span></a>; [<span class="id" title="var">done</span>| |<span class="id" title="var">done</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_0"><span class="id" title="lemma">ex_seriesC_0</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">pmf_le_1</span> : <span class="id" title="var">core</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">pmf_SeriesC_ge_0</span> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_ex_seriesC_mult_fn" class="idref" href="#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a> <a id="9a5f82bf14e2d9fa7ef57f7e19185de2" class="idref" href="#9a5f82bf14e2d9fa7ef57f7e19185de2"><span class="id" title="binder">μ</span></a> (<a id="f:21" class="idref" href="#f:21"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="n:22" class="idref" href="#n:22"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:23" class="idref" href="#a:23"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:21"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:23"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#n:22"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:24" class="idref" href="#a:24"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#9a5f82bf14e2d9fa7ef57f7e19185de2"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:24"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:21"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:24"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">n</span> <span class="id" title="var">Hf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:25" class="idref" href="#a:25"><span class="id" title="binder"><span id="a:26" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:25"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">n</span>)); [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_ex_seriesC_mult" class="idref" href="#pmf_ex_seriesC_mult"><span class="id" title="lemma">pmf_ex_seriesC_mult</span></a> (<a id="5c26eec22e6f9f21e49df9b0e7197da4" class="idref" href="#5c26eec22e6f9f21e49df9b0e7197da4"><span class="id" title="binder">μ1</span></a> <a id="179f0da0159eb860ffce1f34a1ccce0c" class="idref" href="#179f0da0159eb860ffce1f34a1ccce0c"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:29" class="idref" href="#a:29"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#5c26eec22e6f9f21e49df9b0e7197da4"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:29"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#179f0da0159eb860ffce1f34a1ccce0c"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#a:29"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> 1. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_le_SeriesC" class="idref" href="#pmf_le_SeriesC"><span class="id" title="lemma">pmf_le_SeriesC</span></a> `{<a id="H0:31" class="idref" href="#H0:31"><span class="id" title="binder">Countable</span></a> <a id="H0:31" class="idref" href="#H0:31"><span class="id" title="binder">A</span></a>} (<a id="ef4ae7934778aeed4bf39382b8b5f724" class="idref" href="#ef4ae7934778aeed4bf39382b8b5f724"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) (<a id="a:33" class="idref" href="#a:33"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ef4ae7934778aeed4bf39382b8b5f724"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:33"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#ef4ae7934778aeed4bf39382b8b5f724"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_elem"><span class="id" title="lemma">SeriesC_ge_elem</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_1_eq_SeriesC" class="idref" href="#pmf_1_eq_SeriesC"><span class="id" title="lemma">pmf_1_eq_SeriesC</span></a> (<a id="bcccfa00454396b394dc5b13cbd521a8" class="idref" href="#bcccfa00454396b394dc5b13cbd521a8"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) (<a id="a:35" class="idref" href="#a:35"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#bcccfa00454396b394dc5b13cbd521a8"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:35"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#bcccfa00454396b394dc5b13cbd521a8"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:35"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#bcccfa00454396b394dc5b13cbd521a8"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hμ</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_le_SeriesC"><span class="id" title="lemma">pmf_le_SeriesC</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_SeriesC"><span class="id" title="projection">pmf_SeriesC</span></a> <span class="id" title="var">μ</span>). <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_plus_neq_SeriesC" class="idref" href="#pmf_plus_neq_SeriesC"><span class="id" title="lemma">pmf_plus_neq_SeriesC</span></a> `{<a id="H0:37" class="idref" href="#H0:37"><span class="id" title="binder">Countable</span></a> <a id="H0:37" class="idref" href="#H0:37"><span class="id" title="binder">A</span></a>} (<a id="857527bcfb5911404b587ad2f1e079e7" class="idref" href="#857527bcfb5911404b587ad2f1e079e7"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) (<a id="a:39" class="idref" href="#a:39"><span class="id" title="binder">a</span></a> <a id="a':40" class="idref" href="#a':40"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#a:39"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="clutch.prob.distribution.html#a':40"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#857527bcfb5911404b587ad2f1e079e7"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:39"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.distribution.html#857527bcfb5911404b587ad2f1e079e7"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a':40"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#857527bcfb5911404b587ad2f1e079e7"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_split_elem"><span class="id" title="lemma">SeriesC_split_elem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a</span>); [|<span class="id" title="var">done</span>|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prelude.Reals_ext.html#Rle_plus_plus"><span class="id" title="lemma">Rle_plus_plus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="var">a</span> (<span class="id" title="var">μ</span> <span class="id" title="var">a</span>))|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_split_elem"><span class="id" title="lemma">SeriesC_split_elem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a'</span>); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a>; [|<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> <span class="id" title="var">μ</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Reals_ext.html#Rle_plus_l"><span class="id" title="lemma">Rle_plus_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="var">a'</span> (<span class="id" title="var">μ</span> <span class="id" title="var">a'</span>))|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0"><span class="id" title="lemma">SeriesC_ge_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a>; [|<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> <span class="id" title="var">μ</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_1_supp_eq" class="idref" href="#pmf_1_supp_eq"><span class="id" title="lemma">pmf_1_supp_eq</span></a> (<a id="097b8060c48d1509e2273bce6bb2e7d6" class="idref" href="#097b8060c48d1509e2273bce6bb2e7d6"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) (<a id="a:42" class="idref" href="#a:42"><span class="id" title="binder">a</span></a> <a id="a':43" class="idref" href="#a':43"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#097b8060c48d1509e2273bce6bb2e7d6"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:42"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#097b8060c48d1509e2273bce6bb2e7d6"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a':43"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#a:42"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#a':43"><span class="id" title="variable">a'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ha</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a'</span>)) <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hneq</span>]; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_le_SeriesC"><span class="id" title="lemma">pmf_le_SeriesC</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_1_eq_SeriesC"><span class="id" title="lemma">pmf_1_eq_SeriesC</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ha</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_plus_neq_SeriesC"><span class="id" title="lemma">pmf_plus_neq_SeriesC</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span> <span class="id" title="var">Hneq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;N.B.&nbsp;uses&nbsp;<span class="inlinecode"><span class="id" title="var">functional_extensionality</span></span>&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">proof_irrelevance</span></span>&nbsp;axioms&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_ext" class="idref" href="#distr_ext"><span class="id" title="lemma">distr_ext</span></a> (<a id="d1:44" class="idref" href="#d1:44"><span class="id" title="binder">d1</span></a> <a id="d2:45" class="idref" href="#d2:45"><span class="id" title="binder">d2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:46" class="idref" href="#a:46"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#d1:44"><span class="id" title="variable">d1</span></a>.(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="clutch.prob.distribution.html#a:46"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#d2:45"><span class="id" title="variable">d2</span></a>.(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="clutch.prob.distribution.html#a:46"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#d1:44"><span class="id" title="variable">d1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#d2:45"><span class="id" title="variable">d2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pmf1</span> ?], <span class="id" title="var">d2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pmf2</span> ?] =&gt;/=. <span class="id" title="tactic">intros</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">pmf1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">pmf2</span>) <span class="id" title="keyword">as</span> -&gt;; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">extensionality</span> <span class="id" title="var">b</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Logic.PropExtensionality.html#proof_irrelevance"><span class="id" title="lemma">proof_irrelevance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_ext_pmf" class="idref" href="#distr_ext_pmf"><span class="id" title="lemma">distr_ext_pmf</span></a> (<a id="d1:47" class="idref" href="#d1:47"><span class="id" title="binder">d1</span></a> <a id="d2:48" class="idref" href="#d2:48"><span class="id" title="binder">d2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#d1:47"><span class="id" title="variable">d1</span></a>.(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>)  <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#d2:48"><span class="id" title="variable">d2</span></a>.(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#d1:47"><span class="id" title="variable">d1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#d2:48"><span class="id" title="variable">d2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pmf1</span> ?], <span class="id" title="var">d2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pmf2</span> ?] =&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>. <span class="id" title="tactic">intros</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Logic.PropExtensionality.html#proof_irrelevance"><span class="id" title="lemma">proof_irrelevance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_eq_0_le" class="idref" href="#pmf_eq_0_le"><span class="id" title="lemma">pmf_eq_0_le</span></a> (<a id="b6654d0c1bd9ffdd8b574f57429b81b9" class="idref" href="#b6654d0c1bd9ffdd8b574f57429b81b9"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) (<a id="a:50" class="idref" href="#a:50"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#b6654d0c1bd9ffdd8b574f57429b81b9"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:50"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#b6654d0c1bd9ffdd8b574f57429b81b9"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:50"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hlt</span>%(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_not_gt"><span class="id" title="lemma">Rle_not_gt</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span>)) |]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_eq_0_not_gt_0" class="idref" href="#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a> (<a id="acaa67bc50c55f9c6b8f076fb21cb4a0" class="idref" href="#acaa67bc50c55f9c6b8f076fb21cb4a0"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) (<a id="a:52" class="idref" href="#a:52"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#acaa67bc50c55f9c6b8f076fb21cb4a0"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:52"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#acaa67bc50c55f9c6b8f076fb21cb4a0"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:52"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?%<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rnot_gt_ge"><span class="id" title="lemma">Rnot_gt_ge</span></a>%<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rge_le"><span class="id" title="lemma">Rge_le</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_eq_0_le"><span class="id" title="lemma">pmf_eq_0_le</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#distributions"><span class="id" title="section">distributions</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">pmf_le_1</span> : <span class="id" title="var">core</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">pmf_SeriesC_ge_0</span> : <span class="id" title="var">core</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1"></a><h1 class="section">Sum-swapping equalities for distributions</h1>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="distr_double_swap_ex" class="idref" href="#distr_double_swap_ex"><span class="id" title="lemma">distr_double_swap_ex</span></a> `{<a id="H:55" class="idref" href="#H:55"><span class="id" title="binder">Countable</span></a> <a id="A:53" class="idref" href="#A:53"><span class="id" title="binder"><span id="H:55" class="id">A</span></span></a>, <a id="H0:58" class="idref" href="#H0:58"><span class="id" title="binder">Countable</span></a> <a id="B:56" class="idref" href="#B:56"><span class="id" title="binder"><span id="H0:58" class="id">B</span></span></a>} (<a id="f:59" class="idref" href="#f:59"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:53"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:56"><span class="id" title="variable">B</span></a>) (<a id="066337ab41c121e2134e09daaf3da79d" class="idref" href="#066337ab41c121e2134e09daaf3da79d"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:53"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:61" class="idref" href="#a:61"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:53"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:62" class="idref" href="#b:62"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:56"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#066337ab41c121e2134e09daaf3da79d"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:61"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:59"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:61"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:62"><span class="id" title="variable">b</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:63" class="idref" href="#b:63"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:56"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:64" class="idref" href="#a:64"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:53"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#066337ab41c121e2134e09daaf3da79d"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:64"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:59"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:64"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:63"><span class="id" title="variable">b</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC_ex_double"><span class="id" title="lemma">fubini_pos_seriesC_ex_double</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:67" class="idref" href="#pat:67"><span class="id" title="binder"><span id="pat:70" class="id">(</span></span></a><a id="a:66" class="idref" href="#a:66"><span class="id" title="binder"><span id="pat:67" class="id"><span id="a:69" class="id"><span id="pat:70" class="id">a</span></span></span></span></a><a id="pat:67" class="idref" href="#pat:67"><span class="id" title="binder"><span id="pat:70" class="id">,</span></span></a> <a id="b:65" class="idref" href="#b:65"><span class="id" title="binder"><span id="pat:67" class="id"><span id="b:68" class="id"><span id="pat:70" class="id">b</span></span></span></span></a><a id="pat:67" class="idref" href="#pat:67"><span class="id" title="binder"><span id="pat:70" class="id">)</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:66"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:66"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:65"><span class="id" title="variable">b</span></a>)); [| |<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_swap" class="idref" href="#distr_double_swap"><span class="id" title="lemma">distr_double_swap</span></a> `{<a id="H:73" class="idref" href="#H:73"><span class="id" title="binder">Countable</span></a> <a id="A:71" class="idref" href="#A:71"><span class="id" title="binder"><span id="H:73" class="id">A</span></span></a>, <a id="H0:76" class="idref" href="#H0:76"><span class="id" title="binder">Countable</span></a> <a id="B:74" class="idref" href="#B:74"><span class="id" title="binder"><span id="H0:76" class="id">B</span></span></a>} (<a id="f:77" class="idref" href="#f:77"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:71"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:74"><span class="id" title="variable">B</span></a>) (<a id="ac6cfe8e089a1ca26383433e291b4d25" class="idref" href="#ac6cfe8e089a1ca26383433e291b4d25"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:71"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:79" class="idref" href="#b:79"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:74"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:80" class="idref" href="#a:80"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:71"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#ac6cfe8e089a1ca26383433e291b4d25"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:80"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:77"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:80"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:79"><span class="id" title="variable">b</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:81" class="idref" href="#a:81"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:71"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:82" class="idref" href="#b:82"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:74"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#ac6cfe8e089a1ca26383433e291b4d25"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:81"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:77"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:81"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:82"><span class="id" title="variable">b</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:85" class="idref" href="#pat:85"><span class="id" title="binder"><span id="pat:88" class="id">(</span></span></a><a id="a:84" class="idref" href="#a:84"><span class="id" title="binder"><span id="pat:85" class="id"><span id="a:87" class="id"><span id="pat:88" class="id">a</span></span></span></span></a><a id="pat:85" class="idref" href="#pat:85"><span class="id" title="binder"><span id="pat:88" class="id">,</span></span></a> <a id="b:83" class="idref" href="#b:83"><span class="id" title="binder"><span id="pat:85" class="id"><span id="b:86" class="id"><span id="pat:88" class="id">b</span></span></span></span></a><a id="pat:85" class="idref" href="#pat:85"><span class="id" title="binder"><span id="pat:88" class="id">)</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:84"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:84"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:83"><span class="id" title="variable">b</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_ext"><span class="id" title="lemma">ex_seriesC_ext</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="j:89" class="idref" href="#j:89"><span class="id" title="binder"><span id="j:91" class="id">j</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#j:89"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="k:90" class="idref" href="#k:90"><span class="id" title="binder"><span id="k:92" class="id">k</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#j:89"><span class="id" title="variable">j</span></a> <a class="idref" href="clutch.prob.distribution.html#k:90"><span class="id" title="variable">k</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:93" class="idref" href="#a:93"><span class="id" title="binder"><span id="a:94" class="id">a</span></span></a> : <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:93"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> 1)); [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_lr" class="idref" href="#distr_double_lr"><span class="id" title="lemma">distr_double_lr</span></a> `{<a id="H:97" class="idref" href="#H:97"><span class="id" title="binder">Countable</span></a> <a id="A:95" class="idref" href="#A:95"><span class="id" title="binder"><span id="H:97" class="id">A</span></span></a>, <a id="H0:100" class="idref" href="#H0:100"><span class="id" title="binder">Countable</span></a> <a id="B:98" class="idref" href="#B:98"><span class="id" title="binder"><span id="H0:100" class="id">B</span></span></a>} (<a id="f:101" class="idref" href="#f:101"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:95"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:98"><span class="id" title="variable">B</span></a>) (<a id="3e2f7d798f846264ceb3a701650f3bd2" class="idref" href="#3e2f7d798f846264ceb3a701650f3bd2"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:95"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:105" class="idref" href="#pat:105"><span class="id" title="binder">(</span></a><a id="a:104" class="idref" href="#a:104"><span class="id" title="binder"><span id="pat:105" class="id">a</span></span></a><a id="pat:105" class="idref" href="#pat:105"><span class="id" title="binder">,</span></a> <a id="b:103" class="idref" href="#b:103"><span class="id" title="binder"><span id="pat:105" class="id">b</span></span></a><a id="pat:105" class="idref" href="#pat:105"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#3e2f7d798f846264ceb3a701650f3bd2"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:104"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:101"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:104"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:103"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:106" class="idref" href="#a:106"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:95"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:107" class="idref" href="#b:107"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:98"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#3e2f7d798f846264ceb3a701650f3bd2"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:106"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:101"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:106"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:107"><span class="id" title="variable">b</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC_prod_lr"><span class="id" title="lemma">fubini_pos_seriesC_prod_lr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:110" class="idref" href="#pat:110"><span class="id" title="binder"><span id="pat:113" class="id">(</span></span></a><a id="a:109" class="idref" href="#a:109"><span class="id" title="binder"><span id="pat:110" class="id"><span id="a:112" class="id"><span id="pat:113" class="id">a</span></span></span></span></a><a id="pat:110" class="idref" href="#pat:110"><span class="id" title="binder"><span id="pat:113" class="id">,</span></span></a> <a id="b:108" class="idref" href="#b:108"><span class="id" title="binder"><span id="pat:110" class="id"><span id="b:111" class="id"><span id="pat:113" class="id">b</span></span></span></span></a><a id="pat:110" class="idref" href="#pat:110"><span class="id" title="binder"><span id="pat:113" class="id">)</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:109"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:109"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:108"><span class="id" title="variable">b</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_prod"><span class="id" title="lemma">ex_seriesC_prod</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_rl" class="idref" href="#distr_double_rl"><span class="id" title="lemma">distr_double_rl</span></a> `{<a id="H:116" class="idref" href="#H:116"><span class="id" title="binder">Countable</span></a> <a id="A:114" class="idref" href="#A:114"><span class="id" title="binder"><span id="H:116" class="id">A</span></span></a>, <a id="H0:119" class="idref" href="#H0:119"><span class="id" title="binder">Countable</span></a> <a id="B:117" class="idref" href="#B:117"><span class="id" title="binder"><span id="H0:119" class="id">B</span></span></a>} (<a id="f:120" class="idref" href="#f:120"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:114"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:117"><span class="id" title="variable">B</span></a>) (<a id="da87514debb40ff8be292808732d208e" class="idref" href="#da87514debb40ff8be292808732d208e"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:114"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:124" class="idref" href="#pat:124"><span class="id" title="binder">(</span></a><a id="a:123" class="idref" href="#a:123"><span class="id" title="binder"><span id="pat:124" class="id">a</span></span></a><a id="pat:124" class="idref" href="#pat:124"><span class="id" title="binder">,</span></a> <a id="b:122" class="idref" href="#b:122"><span class="id" title="binder"><span id="pat:124" class="id">b</span></span></a><a id="pat:124" class="idref" href="#pat:124"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#da87514debb40ff8be292808732d208e"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:123"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:120"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:123"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:122"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:125" class="idref" href="#b:125"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:117"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:126" class="idref" href="#a:126"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:114"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#da87514debb40ff8be292808732d208e"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:126"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:120"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:126"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:125"><span class="id" title="variable">b</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC_prod_rl"><span class="id" title="lemma">fubini_pos_seriesC_prod_rl</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:129" class="idref" href="#pat:129"><span class="id" title="binder"><span id="pat:132" class="id">(</span></span></a><a id="a:128" class="idref" href="#a:128"><span class="id" title="binder"><span id="pat:129" class="id"><span id="a:131" class="id"><span id="pat:132" class="id">a</span></span></span></span></a><a id="pat:129" class="idref" href="#pat:129"><span class="id" title="binder"><span id="pat:132" class="id">,</span></span></a> <a id="b:127" class="idref" href="#b:127"><span class="id" title="binder"><span id="pat:129" class="id"><span id="b:130" class="id"><span id="pat:132" class="id">b</span></span></span></span></a><a id="pat:129" class="idref" href="#pat:129"><span class="id" title="binder"><span id="pat:132" class="id">)</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:128"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:128"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:127"><span class="id" title="variable">b</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_prod"><span class="id" title="lemma">ex_seriesC_prod</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_swap_rmarg_ex" class="idref" href="#distr_double_swap_rmarg_ex"><span class="id" title="lemma">distr_double_swap_rmarg_ex</span></a> `{<a id="H:135" class="idref" href="#H:135"><span class="id" title="binder">Countable</span></a> <a id="A:133" class="idref" href="#A:133"><span class="id" title="binder"><span id="H:135" class="id">A</span></span></a>, <a id="H0:138" class="idref" href="#H0:138"><span class="id" title="binder">Countable</span></a> <a id="B:136" class="idref" href="#B:136"><span class="id" title="binder"><span id="H0:138" class="id">B</span></span></a>, <a id="H1:141" class="idref" href="#H1:141"><span class="id" title="binder">Countable</span></a> <a id="B':139" class="idref" href="#B':139"><span class="id" title="binder"><span id="H1:141" class="id">B'</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="f:142" class="idref" href="#f:142"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:133"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#B:136"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B':139"><span class="id" title="variable">B'</span></a>)) (<a id="c9f20476bf704c70b518d4f918fbc8a3" class="idref" href="#c9f20476bf704c70b518d4f918fbc8a3"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:133"><span class="id" title="variable">A</span></a>) <a id="b':144" class="idref" href="#b':144"><span class="id" title="binder">b'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:145" class="idref" href="#a:145"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:133"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:146" class="idref" href="#b:146"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:136"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#c9f20476bf704c70b518d4f918fbc8a3"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:145"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:142"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:145"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:146"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b':144"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:147" class="idref" href="#b:147"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:136"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:148" class="idref" href="#a:148"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:133"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#c9f20476bf704c70b518d4f918fbc8a3"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:148"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:142"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:148"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:147"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b':144"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC_ex_double"><span class="id" title="lemma">fubini_pos_seriesC_ex_double</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:151" class="idref" href="#pat:151"><span class="id" title="binder"><span id="pat:154" class="id">(</span></span></a><a id="a:150" class="idref" href="#a:150"><span class="id" title="binder"><span id="pat:151" class="id"><span id="a:153" class="id"><span id="pat:154" class="id">a</span></span></span></span></a><a id="pat:151" class="idref" href="#pat:151"><span class="id" title="binder"><span id="pat:154" class="id">,</span></span></a> <a id="b:149" class="idref" href="#b:149"><span class="id" title="binder"><span id="pat:151" class="id"><span id="b:152" class="id"><span id="pat:154" class="id">b</span></span></span></span></a><a id="pat:151" class="idref" href="#pat:151"><span class="id" title="binder"><span id="pat:154" class="id">)</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:150"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:150"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:149"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); [| |<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_rmarg"><span class="id" title="lemma">ex_seriesC_rmarg</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_swap_rmarg" class="idref" href="#distr_double_swap_rmarg"><span class="id" title="lemma">distr_double_swap_rmarg</span></a> `{<a id="H:157" class="idref" href="#H:157"><span class="id" title="binder">Countable</span></a> <a id="A:155" class="idref" href="#A:155"><span class="id" title="binder"><span id="H:157" class="id">A</span></span></a>, <a id="H0:160" class="idref" href="#H0:160"><span class="id" title="binder">Countable</span></a> <a id="B:158" class="idref" href="#B:158"><span class="id" title="binder"><span id="H0:160" class="id">B</span></span></a>, <a id="H1:163" class="idref" href="#H1:163"><span class="id" title="binder">Countable</span></a> <a id="B':161" class="idref" href="#B':161"><span class="id" title="binder"><span id="H1:163" class="id">B'</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="f:164" class="idref" href="#f:164"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:155"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#B:158"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B':161"><span class="id" title="variable">B'</span></a>)) (<a id="1e3099c1c57b0baccb352c40201950dc" class="idref" href="#1e3099c1c57b0baccb352c40201950dc"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:155"><span class="id" title="variable">A</span></a>) <a id="b':166" class="idref" href="#b':166"><span class="id" title="binder">b'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:167" class="idref" href="#a:167"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:155"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:168" class="idref" href="#b:168"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:158"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#1e3099c1c57b0baccb352c40201950dc"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:167"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:164"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:167"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:168"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b':166"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:169" class="idref" href="#b:169"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:158"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:170" class="idref" href="#a:170"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:155"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#1e3099c1c57b0baccb352c40201950dc"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:170"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:164"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:170"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:169"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b':166"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:173" class="idref" href="#pat:173"><span class="id" title="binder"><span id="pat:176" class="id"><span id="pat:179" class="id">(</span></span></span></a><a id="a:172" class="idref" href="#a:172"><span class="id" title="binder"><span id="pat:173" class="id"><span id="a:175" class="id"><span id="pat:176" class="id"><span id="a:178" class="id"><span id="pat:179" class="id">a</span></span></span></span></span></span></a><a id="pat:173" class="idref" href="#pat:173"><span class="id" title="binder"><span id="pat:176" class="id"><span id="pat:179" class="id">,</span></span></span></a> <a id="b:171" class="idref" href="#b:171"><span class="id" title="binder"><span id="pat:173" class="id"><span id="b:174" class="id"><span id="pat:176" class="id"><span id="b:177" class="id"><span id="pat:179" class="id">b</span></span></span></span></span></span></a><a id="pat:173" class="idref" href="#pat:173"><span class="id" title="binder"><span id="pat:176" class="id"><span id="pat:179" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:172"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:172"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:171"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); [<span class="id" title="var">done</span>| | |].<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_rmarg"><span class="id" title="lemma">ex_seriesC_rmarg</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [<span class="id" title="var">real_solver</span>|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0"><span class="id" title="lemma">SeriesC_ge_0</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_rmarg"><span class="id" title="lemma">ex_seriesC_rmarg</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -{2}(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (<span class="id" title="var">μ</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>))); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#seriesC_rmarg_le"><span class="id" title="lemma">seriesC_rmarg_le</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [<span class="id" title="var">real_solver</span>|<span class="id" title="var">done</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_swap_lmarg_ex" class="idref" href="#distr_double_swap_lmarg_ex"><span class="id" title="lemma">distr_double_swap_lmarg_ex</span></a> `{<a id="H:182" class="idref" href="#H:182"><span class="id" title="binder">Countable</span></a> <a id="A:180" class="idref" href="#A:180"><span class="id" title="binder"><span id="H:182" class="id">A</span></span></a>, <a id="H0:185" class="idref" href="#H0:185"><span class="id" title="binder">Countable</span></a> <a id="B:183" class="idref" href="#B:183"><span class="id" title="binder"><span id="H0:185" class="id">B</span></span></a>, <a id="H1:188" class="idref" href="#H1:188"><span class="id" title="binder">Countable</span></a> <a id="B':186" class="idref" href="#B':186"><span class="id" title="binder"><span id="H1:188" class="id">B'</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="f:189" class="idref" href="#f:189"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:180"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#B:183"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B':186"><span class="id" title="variable">B'</span></a>)) (<a id="d6292f7c8173b89be0815f24d8c6c12f" class="idref" href="#d6292f7c8173b89be0815f24d8c6c12f"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:180"><span class="id" title="variable">A</span></a>) (<a id="b:191" class="idref" href="#b:191"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:183"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:192" class="idref" href="#a:192"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:180"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':193" class="idref" href="#b':193"><span class="id" title="binder">b'</span></a> : <a class="idref" href="clutch.prob.distribution.html#B':186"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#d6292f7c8173b89be0815f24d8c6c12f"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:192"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:189"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:192"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:191"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b':193"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':194" class="idref" href="#b':194"><span class="id" title="binder">b'</span></a> : <a class="idref" href="clutch.prob.distribution.html#B':186"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:195" class="idref" href="#a:195"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:180"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#d6292f7c8173b89be0815f24d8c6c12f"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:195"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:189"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:195"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:191"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b':194"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC_ex_double"><span class="id" title="lemma">fubini_pos_seriesC_ex_double</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:198" class="idref" href="#pat:198"><span class="id" title="binder"><span id="pat:201" class="id">(</span></span></a><a id="a:197" class="idref" href="#a:197"><span class="id" title="binder"><span id="pat:198" class="id"><span id="a:200" class="id"><span id="pat:201" class="id">a</span></span></span></span></a><a id="pat:198" class="idref" href="#pat:198"><span class="id" title="binder"><span id="pat:201" class="id">,</span></span></a> <a id="b':196" class="idref" href="#b':196"><span class="id" title="binder"><span id="pat:198" class="id"><span id="b':199" class="id"><span id="pat:201" class="id">b'</span></span></span></span></a><a id="pat:198" class="idref" href="#pat:198"><span class="id" title="binder"><span id="pat:201" class="id">)</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:197"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:197"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b':196"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_lmarg"><span class="id" title="lemma">ex_seriesC_lmarg</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [<span class="id" title="var">real_solver</span>|<span class="id" title="var">done</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_swap_lmarg" class="idref" href="#distr_double_swap_lmarg"><span class="id" title="lemma">distr_double_swap_lmarg</span></a> `{<a id="H:204" class="idref" href="#H:204"><span class="id" title="binder">Countable</span></a> <a id="A:202" class="idref" href="#A:202"><span class="id" title="binder"><span id="H:204" class="id">A</span></span></a>, <a id="H0:207" class="idref" href="#H0:207"><span class="id" title="binder">Countable</span></a> <a id="B:205" class="idref" href="#B:205"><span class="id" title="binder"><span id="H0:207" class="id">B</span></span></a>, <a id="H1:210" class="idref" href="#H1:210"><span class="id" title="binder">Countable</span></a> <a id="B':208" class="idref" href="#B':208"><span class="id" title="binder"><span id="H1:210" class="id">B'</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="f:211" class="idref" href="#f:211"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:202"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#B:205"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B':208"><span class="id" title="variable">B'</span></a>)) (<a id="735a86cd0fdf7d8f8bedd1fed15de70a" class="idref" href="#735a86cd0fdf7d8f8bedd1fed15de70a"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:202"><span class="id" title="variable">A</span></a>) (<a id="b:213" class="idref" href="#b:213"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:205"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:214" class="idref" href="#a:214"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:202"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':215" class="idref" href="#b':215"><span class="id" title="binder">b'</span></a> : <a class="idref" href="clutch.prob.distribution.html#B':208"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#735a86cd0fdf7d8f8bedd1fed15de70a"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:214"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:211"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:214"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:213"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b':215"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':216" class="idref" href="#b':216"><span class="id" title="binder">b'</span></a> : <a class="idref" href="clutch.prob.distribution.html#B':208"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:217" class="idref" href="#a:217"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:202"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#735a86cd0fdf7d8f8bedd1fed15de70a"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:217"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:211"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:217"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:213"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b':216"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:220" class="idref" href="#pat:220"><span class="id" title="binder"><span id="pat:223" class="id"><span id="pat:226" class="id">(</span></span></span></a><a id="a:219" class="idref" href="#a:219"><span class="id" title="binder"><span id="pat:220" class="id"><span id="a:222" class="id"><span id="pat:223" class="id"><span id="a:225" class="id"><span id="pat:226" class="id">a</span></span></span></span></span></span></a><a id="pat:220" class="idref" href="#pat:220"><span class="id" title="binder"><span id="pat:223" class="id"><span id="pat:226" class="id">,</span></span></span></a> <a id="b':218" class="idref" href="#b':218"><span class="id" title="binder"><span id="pat:220" class="id"><span id="b':221" class="id"><span id="pat:223" class="id"><span id="b':224" class="id"><span id="pat:226" class="id">b'</span></span></span></span></span></span></a><a id="pat:220" class="idref" href="#pat:220"><span class="id" title="binder"><span id="pat:223" class="id"><span id="pat:226" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:219"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:219"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b':218"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); [<span class="id" title="var">done</span>| | |].<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> . <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_lmarg"><span class="id" title="lemma">ex_seriesC_lmarg</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [<span class="id" title="var">real_solver</span>|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0"><span class="id" title="lemma">SeriesC_ge_0</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_lmarg"><span class="id" title="lemma">ex_seriesC_lmarg</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -{2}(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (<span class="id" title="var">μ</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>))); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#seriesC_lmarg_le"><span class="id" title="lemma">seriesC_lmarg_le</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [<span class="id" title="var">real_solver</span>|<span class="id" title="var">done</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab2"></a><h1 class="section">Monadic return</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="dret_pmf" class="idref" href="#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> `{<a id="H:229" class="idref" href="#H:229"><span class="id" title="binder">Countable</span></a> <a id="A:227" class="idref" href="#A:227"><span class="id" title="binder"><span id="H:229" class="id">A</span></span></a>} (<a id="a:230" class="idref" href="#a:230"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:227"><span class="id" title="variable">A</span></a>) : <a class="idref" href="clutch.prob.distribution.html#A:227"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="a':231" class="idref" href="#a':231"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:227"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a':231"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#a:230"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="dret" class="idref" href="#dret"><span class="id" title="definition">dret</span></a> `{<a id="H:234" class="idref" href="#H:234"><span class="id" title="binder">Countable</span></a> <a id="A:232" class="idref" href="#A:232"><span class="id" title="binder"><span id="H:234" class="id">A</span></span></a>} (<a id="a:235" class="idref" href="#a:235"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:232"><span class="id" title="variable">A</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:232"><span class="id" title="variable">A</span></a> := <a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> <a class="idref" href="clutch.prob.distribution.html#a:235"><span class="id" title="variable">a</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">nra</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_singleton"><span class="id" title="lemma">ex_seriesC_singleton</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="dret" class="idref" href="#dret"><span class="id" title="section">dret</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:238" class="idref" href="#H:238"><span class="id" title="binder">Countable</span></a> <a id="A:236" class="idref" href="#A:236"><span class="id" title="binder"><span id="H:238" class="id">A</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_1" class="idref" href="#dret_1"><span class="id" title="lemma">dret_1</span></a> (<a id="a:239" class="idref" href="#a:239"><span class="id" title="binder">a</span></a> <a id="a':240" class="idref" href="#a':240"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#a:239"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#a':240"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:239"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a':240"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> -&gt;. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_true_2"><span class="id" title="lemma">bool_decide_eq_true_2</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>. <span class="id" title="var">case_bool_decide</span>; [<span class="id" title="var">done</span>|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_1_1" class="idref" href="#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> (<a id="a:241" class="idref" href="#a:241"><span class="id" title="binder">a</span></a> <a id="a':242" class="idref" href="#a':242"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#a:241"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#a':242"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:241"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a':242"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dret_1"><span class="id" title="lemma">dret_1</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_1_2" class="idref" href="#dret_1_2"><span class="id" title="lemma">dret_1_2</span></a> (<a id="a:243" class="idref" href="#a:243"><span class="id" title="binder">a</span></a> <a id="a':244" class="idref" href="#a':244"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:243"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a':244"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#a:243"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#a':244"><span class="id" title="variable">a'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dret_1"><span class="id" title="lemma">dret_1</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_0" class="idref" href="#dret_0"><span class="id" title="lemma">dret_0</span></a> (<a id="a:245" class="idref" href="#a:245"><span class="id" title="binder">a</span></a> <a id="a':246" class="idref" href="#a':246"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#a':246"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="clutch.prob.distribution.html#a:245"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:245"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a':246"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_false_2"><span class="id" title="lemma">bool_decide_eq_false_2</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_pos" class="idref" href="#dret_pos"><span class="id" title="lemma">dret_pos</span></a> (<a id="a:247" class="idref" href="#a:247"><span class="id" title="binder">a</span></a> <a id="a':248" class="idref" href="#a':248"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:247"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a':248"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#a':248"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#a:247"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>. <span class="id" title="tactic">intros</span> ?. <span class="id" title="var">case_bool_decide</span>; [<span class="id" title="var">done</span>|<span class="id" title="var">lra</span>]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_pmf_map" class="idref" href="#dret_pmf_map"><span class="id" title="lemma">dret_pmf_map</span></a> (<a id="f:249" class="idref" href="#f:249"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>)  `{<a id="H0:250" class="idref" href="#H0:250"><span class="id" title="binder">Inj</span></a> <a id="H0:250" class="idref" href="#H0:250"><span class="id" title="binder">A</span></a> <a id="H0:250" class="idref" href="#H0:250"><span class="id" title="binder">A</span></a> <a id="H0:250" class="idref" href="#H0:250"><span class="id" title="binder">(=)</span></a> <a id="H0:250" class="idref" href="#H0:250"><span class="id" title="binder">(=)</span></a> <a id="H0:250" class="idref" href="#H0:250"><span class="id" title="binder">f</span></a>} (<a id="a:251" class="idref" href="#a:251"><span class="id" title="binder">a</span></a> <a id="a':252" class="idref" href="#a':252"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:249"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:251"><span class="id" title="variable">a</span></a>) (<a class="idref" href="clutch.prob.distribution.html#f:249"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a':252"><span class="id" title="variable">a'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:251"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a':252"><span class="id" title="variable">a'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>. <span class="id" title="var">case_bool_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hcase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#inj"><span class="id" title="definition">inj</span></a> <span class="id" title="var">f</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hcase</span> <span class="id" title="keyword">as</span> -&gt;. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_true_2"><span class="id" title="lemma">bool_decide_eq_true_2</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">case_bool_decide</span>; [|<span class="id" title="var">done</span>]. <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_1_eq_dret" class="idref" href="#pmf_1_eq_dret"><span class="id" title="lemma">pmf_1_eq_dret</span></a> (<a id="616a5e1630b61b46bb65840584fe9544" class="idref" href="#616a5e1630b61b46bb65840584fe9544"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) (<a id="a:254" class="idref" href="#a:254"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#616a5e1630b61b46bb65840584fe9544"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:254"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#616a5e1630b61b46bb65840584fe9544"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:254"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a'</span>)) <span class="id" title="keyword">as</span> [&lt;- | <span class="id" title="var">Hneq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">μ</span> <span class="id" title="var">a'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha'</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_1_supp_eq"><span class="id" title="lemma">pmf_1_supp_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hμ</span> <span class="id" title="var">Ha'</span>) // <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_1_not_eq" class="idref" href="#pmf_1_not_eq"><span class="id" title="lemma">pmf_1_not_eq</span></a> (<a id="fb01bc2a39fb80877a4770fb320ce93c" class="idref" href="#fb01bc2a39fb80877a4770fb320ce93c"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) (<a id="a:256" class="idref" href="#a:256"><span class="id" title="binder">a</span></a> <a id="a':257" class="idref" href="#a':257"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#a:256"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="clutch.prob.distribution.html#a':257"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#fb01bc2a39fb80877a4770fb320ce93c"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:256"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#fb01bc2a39fb80877a4770fb320ce93c"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a':257"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span> -&gt;%<a class="idref" href="clutch.prob.distribution.html#pmf_1_eq_dret"><span class="id" title="lemma">pmf_1_eq_dret</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_mass" class="idref" href="#dret_mass"><span class="id" title="lemma">dret_mass</span></a> (<a id="a:258" class="idref" href="#a:258"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:258"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="section">dret</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab3"></a><h1 class="section">Monadic bind</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="dbind_pmf" class="idref" href="#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> `{<a id="H:261" class="idref" href="#H:261"><span class="id" title="binder">Countable</span></a> <a id="A:259" class="idref" href="#A:259"><span class="id" title="binder"><span id="H:261" class="id">A</span></span></a>, <a id="H0:264" class="idref" href="#H0:264"><span class="id" title="binder">Countable</span></a> <a id="B:262" class="idref" href="#B:262"><span class="id" title="binder"><span id="H0:264" class="id">B</span></span></a>} (<a id="f:265" class="idref" href="#f:265"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:259"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:262"><span class="id" title="variable">B</span></a>) (<a id="5415efed2458e4e5b4cc3f51a68ab3b4" class="idref" href="#5415efed2458e4e5b4cc3f51a68ab3b4"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:259"><span class="id" title="variable">A</span></a>) : <a class="idref" href="clutch.prob.distribution.html#B:262"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="b:267" class="idref" href="#b:267"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:262"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="a:268" class="idref" href="#a:268"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:259"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <a class="idref" href="clutch.prob.distribution.html#5415efed2458e4e5b4cc3f51a68ab3b4"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:268"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:265"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:268"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:267"><span class="id" title="variable">b</span></a>).<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="dbind" class="idref" href="#dbind"><span class="id" title="definition">dbind</span></a> `{<a id="H:271" class="idref" href="#H:271"><span class="id" title="binder">Countable</span></a> <a id="A:269" class="idref" href="#A:269"><span class="id" title="binder"><span id="H:271" class="id">A</span></span></a>, <a id="H0:274" class="idref" href="#H0:274"><span class="id" title="binder">Countable</span></a> <a id="B:272" class="idref" href="#B:272"><span class="id" title="binder"><span id="H0:274" class="id">B</span></span></a>} (<a id="f:275" class="idref" href="#f:275"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:269"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:272"><span class="id" title="variable">B</span></a>) (<a id="577780eac0367d8bd14f4603abe9a69e" class="idref" href="#577780eac0367d8bd14f4603abe9a69e"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:269"><span class="id" title="variable">A</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:272"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> <a class="idref" href="clutch.prob.distribution.html#f:275"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#577780eac0367d8bd14f4603abe9a69e"><span class="id" title="variable">μ</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?????? <span class="id" title="var">f</span> <span class="id" title="var">μ</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0"><span class="id" title="lemma">SeriesC_ge_0</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:277" class="idref" href="#a:277"><span class="id" title="binder"><span id="a:278" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:277"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> 1)); [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?????? <span class="id" title="var">f</span> <span class="id" title="var">μ</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.distribution.html#distr_double_swap_ex"><span class="id" title="lemma">distr_double_swap_ex</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_ext"><span class="id" title="lemma">ex_seriesC_ext</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="j:279" class="idref" href="#j:279"><span class="id" title="binder"><span id="j:281" class="id">j</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#j:279"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="k:280" class="idref" href="#k:280"><span class="id" title="binder"><span id="k:282" class="id">k</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#j:279"><span class="id" title="variable">j</span></a> <a class="idref" href="clutch.prob.distribution.html#k:280"><span class="id" title="variable">k</span></a>))).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:283" class="idref" href="#a:283"><span class="id" title="binder"><span id="a:284" class="id">a</span></span></a> : <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:283"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> 1)); [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?????? <span class="id" title="var">f</span> <span class="id" title="var">μ</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#distr_double_swap"><span class="id" title="lemma">distr_double_swap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="k:285" class="idref" href="#k:285"><span class="id" title="binder"><span id="k:287" class="id"><span id="k:289" class="id">k</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#k:285"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="j:286" class="idref" href="#j:286"><span class="id" title="binder"><span id="j:288" class="id"><span id="j:290" class="id">j</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#k:285"><span class="id" title="variable">k</span></a> <a class="idref" href="clutch.prob.distribution.html#j:286"><span class="id" title="variable">j</span></a>))); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dbind_pmf_ext" class="idref" href="#dbind_pmf_ext"><span class="id" title="lemma">dbind_pmf_ext</span></a> `{<a id="H:293" class="idref" href="#H:293"><span class="id" title="binder">Countable</span></a> <a id="A:291" class="idref" href="#A:291"><span class="id" title="binder"><span id="H:293" class="id">A</span></span></a>, <a id="H0:296" class="idref" href="#H0:296"><span class="id" title="binder">Countable</span></a> <a id="B:294" class="idref" href="#B:294"><span class="id" title="binder"><span id="H0:296" class="id">B</span></span></a>} (<a id="4caa8d351b68874172f604481c1cae11" class="idref" href="#4caa8d351b68874172f604481c1cae11"><span class="id" title="binder">μ1</span></a> <a id="e028a277d24761d63d1a7472485136dc" class="idref" href="#e028a277d24761d63d1a7472485136dc"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:291"><span class="id" title="variable">A</span></a>) (<a id="f:299" class="idref" href="#f:299"><span class="id" title="binder">f</span></a> <a id="g:300" class="idref" href="#g:300"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:291"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:294"><span class="id" title="variable">B</span></a>) (<a id="b1:301" class="idref" href="#b1:301"><span class="id" title="binder">b1</span></a> <a id="b2:302" class="idref" href="#b2:302"><span class="id" title="binder">b2</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:294"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:303" class="idref" href="#a:303"><span class="id" title="binder">a</span></a> <a id="b:304" class="idref" href="#b:304"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:299"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:303"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:304"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#g:300"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#a:303"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:304"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#4caa8d351b68874172f604481c1cae11"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#e028a277d24761d63d1a7472485136dc"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#b1:301"><span class="id" title="variable">b1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#b2:302"><span class="id" title="variable">b2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:299"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#4caa8d351b68874172f604481c1cae11"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#b1:301"><span class="id" title="variable">b1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#g:300"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#e028a277d24761d63d1a7472485136dc"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#b2:302"><span class="id" title="variable">b2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfg</span> -&gt; -&gt;=&gt;/=. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>=&gt;<span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfg</span> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dbind_ext_right" class="idref" href="#dbind_ext_right"><span class="id" title="lemma">dbind_ext_right</span></a> `{<a id="H:307" class="idref" href="#H:307"><span class="id" title="binder">Countable</span></a> <a id="A:305" class="idref" href="#A:305"><span class="id" title="binder"><span id="H:307" class="id">A</span></span></a>, <a id="H0:310" class="idref" href="#H0:310"><span class="id" title="binder">Countable</span></a> <a id="B:308" class="idref" href="#B:308"><span class="id" title="binder"><span id="H0:310" class="id">B</span></span></a>} (<a id="bba90cb087f9cd36baadfe5df056f89c" class="idref" href="#bba90cb087f9cd36baadfe5df056f89c"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:305"><span class="id" title="variable">A</span></a>) (<a id="f:312" class="idref" href="#f:312"><span class="id" title="binder">f</span></a> <a id="g:313" class="idref" href="#g:313"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:305"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:308"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:314" class="idref" href="#a:314"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:312"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:314"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#g:313"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#a:314"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:312"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#bba90cb087f9cd36baadfe5df056f89c"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#g:313"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#bba90cb087f9cd36baadfe5df056f89c"><span class="id" title="variable">μ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dbind_pmf_ext"><span class="id" title="lemma">dbind_pmf_ext</span></a>; [|<span class="id" title="var">done</span>|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Proper_dbind" class="idref" href="#Proper_dbind"><span class="id" title="instance">Proper_dbind</span></a> `{<a id="H:317" class="idref" href="#H:317"><span class="id" title="binder">Countable</span></a> <a id="A:315" class="idref" href="#A:315"><span class="id" title="binder"><span id="H:317" class="id">A</span></span></a>, <a id="H0:320" class="idref" href="#H0:320"><span class="id" title="binder">Countable</span></a> <a id="B:318" class="idref" href="#B:318"><span class="id" title="binder"><span id="H0:320" class="id">B</span></span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <a class="idref" href="clutch.prob.distribution.html#A:315"><span class="id" title="variable">A</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a>) (@<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#A:315"><span class="id" title="variable">A</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="clutch.prob.distribution.html#B:318"><span class="id" title="variable">B</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?? <span class="id" title="var">Hp</span> ?? -&gt;. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">extensionality</span> <span class="id" title="var">a</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;generalize&nbsp;to&nbsp;distributions&nbsp;with&nbsp;countable&nbsp;support&nbsp;so&nbsp;that&nbsp;we&nbsp;can&nbsp;use<br/>
&nbsp;&nbsp;&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">stdpp</span></span>&nbsp;typeclasses&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a id="1ec27ecb4da8da3d3cbd85a2394dc835" class="idref" href="#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">&quot;</span></a>m ≫= f" := (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 60, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="27be3c25384be1368f69e51ebbeaa1ef" class="idref" href="#27be3c25384be1368f69e51ebbeaa1ef"><span class="id" title="notation">&quot;</span></a>( m ≫=.)" := (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="f:321" class="idref" href="#f:321"><span class="id" title="binder">f</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:321"><span class="id" title="variable">f</span></a> <span class="id" title="var">m</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="0dfffc14bf40552c0ccad26ec57bc9e1" class="idref" href="#0dfffc14bf40552c0ccad26ec57bc9e1"><span class="id" title="notation">&quot;</span></a>(.≫= f )" := (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">f</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="a6b19bc2fd6428fb3cd52bf7cb387362" class="idref" href="#a6b19bc2fd6428fb3cd52bf7cb387362"><span class="id" title="notation">&quot;</span></a>(≫=)" := (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="m:322" class="idref" href="#m:322"><span class="id" title="binder">m</span></a> <a id="f:323" class="idref" href="#f:323"><span class="id" title="binder">f</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:323"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#m:322"><span class="id" title="variable">m</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="9da4aba7941cc4e4d0a41a64124b61db" class="idref" href="#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">&quot;</span></a>x ← y ; z" := (<span class="id" title="var">y</span> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:324" class="idref" href="#x:324"><span class="id" title="binder">x</span></a> : <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">z</span><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="var">y</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 100, <span class="id" title="var">z</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="cae09eb95ff0bce4de0aa08b94690459" class="idref" href="#cae09eb95ff0bce4de0aa08b94690459"><span class="id" title="notation">&quot;</span></a>' x ← y ; z" := (<span class="id" title="var">y</span> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:325" class="idref" href="#x:325"><span class="id" title="binder">x</span></a> : <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">z</span><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="var">x</span> <span class="id" title="tactic">pattern</span>, <span class="id" title="var">y</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 100, <span class="id" title="var">z</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab4"></a><h1 class="section">Lemmas about the interplay of monadic bind and return</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="monadic" class="idref" href="#monadic"><span class="id" title="section">monadic</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:328" class="idref" href="#H:328"><span class="id" title="binder">Countable</span></a> <a id="A:326" class="idref" href="#A:326"><span class="id" title="binder"><span id="H:328" class="id">A</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_id_right_pmf" class="idref" href="#dret_id_right_pmf"><span class="id" title="lemma">dret_id_right_pmf</span></a> (<a id="8dcc03ea4c3a60e056676ea36fc2f8d5" class="idref" href="#8dcc03ea4c3a60e056676ea36fc2f8d5"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="a:330" class="idref" href="#a:330"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a:331" class="idref" href="#a:331"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#8dcc03ea4c3a60e056676ea36fc2f8d5"><span class="id" title="variable">μ</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:331"><span class="id" title="variable">a</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#8dcc03ea4c3a60e056676ea36fc2f8d5"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:330"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':332" class="idref" href="#a':332"><span class="id" title="binder"><span id="a':333" class="id"><span id="a':334" class="id">a'</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a':332"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_id_right" class="idref" href="#dret_id_right"><span class="id" title="lemma">dret_id_right</span></a> (<a id="3350f89335b8791d6e15c52a3c784fb5" class="idref" href="#3350f89335b8791d6e15c52a3c784fb5"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a:336" class="idref" href="#a:336"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#3350f89335b8791d6e15c52a3c784fb5"><span class="id" title="variable">μ</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:336"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#3350f89335b8791d6e15c52a3c784fb5"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="clutch.prob.distribution.html#dret_id_right_pmf"><span class="id" title="lemma">dret_id_right_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H0:339" class="idref" href="#H0:339"><span class="id" title="binder">Countable</span></a> <a id="B:337" class="idref" href="#B:337"><span class="id" title="binder"><span id="H0:339" class="id">B</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_id_left_pmf" class="idref" href="#dret_id_left_pmf"><span class="id" title="lemma">dret_id_left_pmf</span></a> (<a id="f:340" class="idref" href="#f:340"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="a:341" class="idref" href="#a:341"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="b:342" class="idref" href="#b:342"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a':343" class="idref" href="#a':343"><span class="id" title="binder">a'</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:341"><span class="id" title="variable">a</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#f:340"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a':343"><span class="id" title="variable">a'</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:340"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:341"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:342"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':344" class="idref" href="#a':344"><span class="id" title="binder"><span id="a':345" class="id"><span id="a':346" class="id">a'</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a':344"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_id_left" class="idref" href="#dret_id_left"><span class="id" title="lemma">dret_id_left</span></a> (<a id="f:347" class="idref" href="#f:347"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="a:348" class="idref" href="#a:348"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a':349" class="idref" href="#a':349"><span class="id" title="binder">a'</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:348"><span class="id" title="variable">a</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#f:347"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a':349"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:347"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:348"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="clutch.prob.distribution.html#dret_id_left_pmf"><span class="id" title="lemma">dret_id_left_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_id_left'" class="idref" href="#dret_id_left'"><span class="id" title="lemma">dret_id_left'</span></a> (<a id="f:350" class="idref" href="#f:350"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="a:351" class="idref" href="#a:351"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:351"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:350"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:350"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:351"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="clutch.prob.distribution.html#dret_id_left_pmf"><span class="id" title="lemma">dret_id_left_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_const" class="idref" href="#dret_const"><span class="id" title="lemma">dret_const</span></a> (<a id="c65d1dd4383b3ec3694d4c9b23656324" class="idref" href="#c65d1dd4383b3ec3694d4c9b23656324"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="b:353" class="idref" href="#b:353"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#c65d1dd4383b3ec3694d4c9b23656324"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a:354" class="idref" href="#a:354"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#c65d1dd4383b3ec3694d4c9b23656324"><span class="id" title="variable">μ</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#b:353"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#b:353"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HSeries</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a> <span class="id" title="var">HSeries</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dret_pmf_map" class="idref" href="#dbind_dret_pmf_map"><span class="id" title="lemma">dbind_dret_pmf_map</span></a> (<a id="f7267683f6495f08e736bd2292535a0f" class="idref" href="#f7267683f6495f08e736bd2292535a0f"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="a:356" class="idref" href="#a:356"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="f:357" class="idref" href="#f:357"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) `{<a id="H1:358" class="idref" href="#H1:358"><span class="id" title="binder">Inj</span></a> <a id="H1:358" class="idref" href="#H1:358"><span class="id" title="binder">A</span></a> <a id="H1:358" class="idref" href="#H1:358"><span class="id" title="binder">B</span></a> <a id="H1:358" class="idref" href="#H1:358"><span class="id" title="binder">(=)</span></a> <a id="H1:358" class="idref" href="#H1:358"><span class="id" title="binder">(=)</span></a> <a id="H1:358" class="idref" href="#H1:358"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#f7267683f6495f08e736bd2292535a0f"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':359" class="idref" href="#a':359"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:357"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a':359"><span class="id" title="variable">a'</span></a>)<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">))</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">f</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">a</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#f7267683f6495f08e736bd2292535a0f"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:356"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':360" class="idref" href="#a':360"><span class="id" title="binder"><span id="a':361" class="id"><span id="a':362" class="id">a'</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a':360"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dret_pmf_map_ne" class="idref" href="#dbind_dret_pmf_map_ne"><span class="id" title="lemma">dbind_dret_pmf_map_ne</span></a> (<a id="1bfcb5cab83473650937379e8b0aa8da" class="idref" href="#1bfcb5cab83473650937379e8b0aa8da"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="b:364" class="idref" href="#b:364"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="f:365" class="idref" href="#f:365"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) `{<a id="H1:366" class="idref" href="#H1:366"><span class="id" title="binder">Inj</span></a> <a id="H1:366" class="idref" href="#H1:366"><span class="id" title="binder">A</span></a> <a id="H1:366" class="idref" href="#H1:366"><span class="id" title="binder">B</span></a> <a id="H1:366" class="idref" href="#H1:366"><span class="id" title="binder">(=)</span></a> <a id="H1:366" class="idref" href="#H1:366"><span class="id" title="binder">(=)</span></a> <a id="H1:366" class="idref" href="#H1:366"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a:367" class="idref" href="#a:367"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#1bfcb5cab83473650937379e8b0aa8da"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:367"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.prob.distribution.html#f:365"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:367"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#b:364"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#1bfcb5cab83473650937379e8b0aa8da"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:368" class="idref" href="#a:368"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:365"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:368"><span class="id" title="variable">a</span></a>)<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">))</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hnex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; [|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">μ</span> <span class="id" title="var">a'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hn</span>]; [<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span> <span class="id" title="keyword">as</span> -&gt;; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_assoc_pmf" class="idref" href="#dbind_assoc_pmf"><span class="id" title="lemma">dbind_assoc_pmf</span></a> `{<a id="H1:371" class="idref" href="#H1:371"><span class="id" title="binder">Countable</span></a> <a id="B':369" class="idref" href="#B':369"><span class="id" title="binder"><span id="H1:371" class="id">B'</span></span></a>} (<a id="f:372" class="idref" href="#f:372"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="g:373" class="idref" href="#g:373"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B':369"><span class="id" title="variable">B'</span></a>) (<a id="0e5b72441fd58b1664027f103734524d" class="idref" href="#0e5b72441fd58b1664027f103734524d"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) <a id="c:375" class="idref" href="#c:375"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a:376" class="idref" href="#a:376"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#0e5b72441fd58b1664027f103734524d"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a id="b:377" class="idref" href="#b:377"><span class="id" title="binder">b</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#f:372"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:376"><span class="id" title="variable">a</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#g:373"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#b:377"><span class="id" title="variable">b</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="b:378" class="idref" href="#b:378"><span class="id" title="binder">b</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a:379" class="idref" href="#a:379"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#0e5b72441fd58b1664027f103734524d"><span class="id" title="variable">μ</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#f:372"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:379"><span class="id" title="variable">a</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">);</span></a> <a class="idref" href="clutch.prob.distribution.html#g:373"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#b:378"><span class="id" title="variable">b</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">c</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:380" class="idref" href="#a:380"><span class="id" title="binder"><span id="a:384" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:380"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:381" class="idref" href="#a0:381"><span class="id" title="binder"><span id="a0:385" class="id">a0</span></span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:380"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a0:381"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.distribution.html#a0:381"><span class="id" title="variable">a0</span></a> <span class="id" title="var">c</span>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:382" class="idref" href="#a:382"><span class="id" title="binder"><span id="a:386" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:383" class="idref" href="#a0:383"><span class="id" title="binder"><span id="a0:387" class="id">a0</span></span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:382"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:382"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a0:383"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.distribution.html#a0:383"><span class="id" title="variable">a0</span></a> <span class="id" title="var">c</span>))) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:390" class="idref" href="#pat:390"><span class="id" title="binder"><span id="pat:393" class="id"><span id="pat:396" class="id">(</span></span></span></a><a id="a:389" class="idref" href="#a:389"><span class="id" title="binder"><span id="pat:390" class="id"><span id="a:392" class="id"><span id="pat:393" class="id"><span id="a:395" class="id"><span id="pat:396" class="id">a</span></span></span></span></span></span></a> <a id="pat:390" class="idref" href="#pat:390"><span class="id" title="binder"><span id="pat:393" class="id"><span id="pat:396" class="id">,</span></span></span></a><a id="a0:388" class="idref" href="#a0:388"><span class="id" title="binder"><span id="pat:390" class="id"><span id="a0:391" class="id"><span id="pat:393" class="id"><span id="a0:394" class="id"><span id="pat:396" class="id">a0</span></span></span></span></span></span></a><a id="pat:390" class="idref" href="#pat:390"><span class="id" title="binder"><span id="pat:393" class="id"><span id="pat:396" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:389"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:389"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a0:388"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.distribution.html#a0:388"><span class="id" title="variable">a0</span></a> <span class="id" title="var">c</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>=&gt; <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {4}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>=&gt; <span class="id" title="var">b</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">transitivity</span> (<span class="id" title="var">μ</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">n</span>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>; [<span class="id" title="var">done</span>| |<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>=&gt;<span class="id" title="var">b</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>]. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_assoc" class="idref" href="#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a> `{<a id="H1:399" class="idref" href="#H1:399"><span class="id" title="binder">Countable</span></a> <a id="B':397" class="idref" href="#B':397"><span class="id" title="binder"><span id="H1:399" class="id">B'</span></span></a>} (<a id="f:400" class="idref" href="#f:400"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="g:401" class="idref" href="#g:401"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B':397"><span class="id" title="variable">B'</span></a>) (<a id="69524ed217f6ba59736427facea343b4" class="idref" href="#69524ed217f6ba59736427facea343b4"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a:403" class="idref" href="#a:403"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#69524ed217f6ba59736427facea343b4"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a id="b:404" class="idref" href="#b:404"><span class="id" title="binder">b</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#f:400"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:403"><span class="id" title="variable">a</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#g:401"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#b:404"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="b:405" class="idref" href="#b:405"><span class="id" title="binder">b</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a:406" class="idref" href="#a:406"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#69524ed217f6ba59736427facea343b4"><span class="id" title="variable">μ</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#f:400"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:406"><span class="id" title="variable">a</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">);</span></a> <a class="idref" href="clutch.prob.distribution.html#g:401"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#b:405"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="clutch.prob.distribution.html#dbind_assoc_pmf"><span class="id" title="lemma">dbind_assoc_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_assoc'" class="idref" href="#dbind_assoc'"><span class="id" title="lemma">dbind_assoc'</span></a> `{<a id="H1:409" class="idref" href="#H1:409"><span class="id" title="binder">Countable</span></a> <a id="B':407" class="idref" href="#B':407"><span class="id" title="binder"><span id="H1:409" class="id">B'</span></span></a>} (<a id="f:410" class="idref" href="#f:410"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="g:411" class="idref" href="#g:411"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B':407"><span class="id" title="variable">B'</span></a>) (<a id="e67b3f40f8792b8623f5f41648dec254" class="idref" href="#e67b3f40f8792b8623f5f41648dec254"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#e67b3f40f8792b8623f5f41648dec254"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:413" class="idref" href="#a:413"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:410"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:413"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#g:411"><span class="id" title="variable">g</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#e67b3f40f8792b8623f5f41648dec254"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:410"><span class="id" title="variable">f</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#g:411"><span class="id" title="variable">g</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_comm" class="idref" href="#dbind_comm"><span class="id" title="lemma">dbind_comm</span></a> `{<a id="H1:416" class="idref" href="#H1:416"><span class="id" title="binder">Countable</span></a> <a id="B':414" class="idref" href="#B':414"><span class="id" title="binder"><span id="H1:416" class="id">B'</span></span></a>} (<a id="f:417" class="idref" href="#f:417"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B':414"><span class="id" title="variable">B'</span></a>) (<a id="bf73f138e00f6854d4e47437a3c7061c" class="idref" href="#bf73f138e00f6854d4e47437a3c7061c"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="b2c09c84587668b7671d1c0a0bd518aa" class="idref" href="#b2c09c84587668b7671d1c0a0bd518aa"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a:420" class="idref" href="#a:420"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#bf73f138e00f6854d4e47437a3c7061c"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a id="b:421" class="idref" href="#b:421"><span class="id" title="binder">b</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#b2c09c84587668b7671d1c0a0bd518aa"><span class="id" title="variable">μ2</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#f:417"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:420"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:421"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="b:422" class="idref" href="#b:422"><span class="id" title="binder">b</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#b2c09c84587668b7671d1c0a0bd518aa"><span class="id" title="variable">μ2</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a id="a:423" class="idref" href="#a:423"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#bf73f138e00f6854d4e47437a3c7061c"><span class="id" title="variable">μ1</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#f:417"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:423"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:422"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">b'</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;-<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a> (<span class="id" title="var">μ2</span> <span class="id" title="var">_</span>) (<span class="id" title="var">μ1</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:426" class="idref" href="#pat:426"><span class="id" title="binder"><span id="pat:429" class="id">(</span></span></a><a id="a:425" class="idref" href="#a:425"><span class="id" title="binder"><span id="pat:426" class="id"><span id="a:428" class="id"><span id="pat:429" class="id">a</span></span></span></span></a><a id="pat:426" class="idref" href="#pat:426"><span class="id" title="binder"><span id="pat:429" class="id">,</span></span></a> <a id="b:424" class="idref" href="#b:424"><span class="id" title="binder"><span id="pat:426" class="id"><span id="b:427" class="id"><span id="pat:429" class="id">b</span></span></span></span></a><a id="pat:426" class="idref" href="#pat:426"><span class="id" title="binder"><span id="pat:429" class="id">)</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.distribution.html#a:425"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.distribution.html#b:424"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:425"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:424"><span class="id" title="variable">b</span></a> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ2</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>=&gt; <span class="id" title="var">b</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (<span class="id" title="var">μ1</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>; [<span class="id" title="var">done</span>| |<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>=&gt; <span class="id" title="var">b</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ2</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_pos" class="idref" href="#dbind_pos"><span class="id" title="lemma">dbind_pos</span></a> (<a id="f:430" class="idref" href="#f:430"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="d2fd4b1f043dfe7eb0a5f7c155ccb281" class="idref" href="#d2fd4b1f043dfe7eb0a5f7c155ccb281"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="b:432" class="idref" href="#b:432"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:430"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#d2fd4b1f043dfe7eb0a5f7c155ccb281"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#b:432"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a:433" class="idref" href="#a:433"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:430"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:433"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:432"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.prob.distribution.html#d2fd4b1f043dfe7eb0a5f7c155ccb281"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:433"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prelude.classical.html#contrapositive"><span class="id" title="lemma">contrapositive</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hna</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:434" class="idref" href="#a:434"><span class="id" title="binder"><span id="a:435" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:434"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:434"><span class="id" title="variable">a</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0) <span class="id" title="keyword">as</span> <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prelude.classical.html#not_exists_forall_not"><span class="id" title="lemma">not_exists_forall_not</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hna</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hne</span> | <span class="id" title="var">Hne</span>]%<a class="idref" href="clutch.prelude.classical.html#not_and_or_not"><span class="id" title="lemma">not_and_or_not</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span>). <span class="id" title="tactic">assert</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0) <span class="id" title="keyword">as</span> -&gt;; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">assert</span> (<span class="id" title="var">μ</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0) <span class="id" title="keyword">as</span> -&gt;; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rge_not_gt"><span class="id" title="lemma">Rge_not_gt</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">a</span> &amp; <span class="id" title="var">Hf</span> &amp; <span class="id" title="var">Hμ</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_gt"><span class="id" title="lemma">Rlt_gt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_le_trans"><span class="id" title="lemma">Rlt_le_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':436" class="idref" href="#a':436"><span class="id" title="binder"><span id="a':437" class="id">a'</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a':436"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>. <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:438" class="idref" href="#a:438"><span class="id" title="binder"><span id="a:439" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:438"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> 1)); [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_eq" class="idref" href="#dbind_eq"><span class="id" title="lemma">dbind_eq</span></a> (<a id="f:440" class="idref" href="#f:440"><span class="id" title="binder">f</span></a> <a id="g:441" class="idref" href="#g:441"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="c9904e44bd90f14c82ea5b2fad99e236" class="idref" href="#c9904e44bd90f14c82ea5b2fad99e236"><span class="id" title="binder">μ1</span></a> <a id="44e54fdfeb99975ee85a8dfa14b7b9c4" class="idref" href="#44e54fdfeb99975ee85a8dfa14b7b9c4"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:444" class="idref" href="#a:444"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#c9904e44bd90f14c82ea5b2fad99e236"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:444"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#f:440"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:444"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#g:441"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#a:444"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:445" class="idref" href="#a:445"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#c9904e44bd90f14c82ea5b2fad99e236"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:445"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#44e54fdfeb99975ee85a8dfa14b7b9c4"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#a:445"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:440"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#c9904e44bd90f14c82ea5b2fad99e236"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#g:441"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#44e54fdfeb99975ee85a8dfa14b7b9c4"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hngt</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hngt</span> <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_inhabited" class="idref" href="#dbind_inhabited"><span class="id" title="lemma">dbind_inhabited</span></a> (<a id="f:446" class="idref" href="#f:446"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="72e453cf4da1c0d3854f49c9610b42d4" class="idref" href="#72e453cf4da1c0d3854f49c9610b42d4"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#72e453cf4da1c0d3854f49c9610b42d4"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:448" class="idref" href="#a:448"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:446"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:448"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:446"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#72e453cf4da1c0d3854f49c9610b42d4"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hμ</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.distribution.html#distr_double_swap"><span class="id" title="lemma">distr_double_swap</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_gt"><span class="id" title="lemma">Rlt_gt</span></a>. <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 0)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_lt"><span class="id" title="lemma">SeriesC_lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_gtz_ex"><span class="id" title="lemma">SeriesC_gtz_ex</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hμ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">Ha</span>]; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_inhabited_ex" class="idref" href="#dbind_inhabited_ex"><span class="id" title="lemma">dbind_inhabited_ex</span></a> (<a id="f:449" class="idref" href="#f:449"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="92706c8a67141ce130f3d1883f2bfa79" class="idref" href="#92706c8a67141ce130f3d1883f2bfa79"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a:451" class="idref" href="#a:451"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#92706c8a67141ce130f3d1883f2bfa79"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:451"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:449"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:451"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:449"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#92706c8a67141ce130f3d1883f2bfa79"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> [<span class="id" title="var">Ha1</span> <span class="id" title="var">Ha2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.distribution.html#distr_double_swap"><span class="id" title="lemma">distr_double_swap</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_gt"><span class="id" title="lemma">Rlt_gt</span></a>. <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 0)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_lt"><span class="id" title="lemma">SeriesC_lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dret_pair_left" class="idref" href="#dbind_dret_pair_left"><span class="id" title="lemma">dbind_dret_pair_left</span></a> `{<a id="H1:454" class="idref" href="#H1:454"><span class="id" title="binder">Countable</span></a> <a id="A':452" class="idref" href="#A':452"><span class="id" title="binder"><span id="H1:454" class="id">A'</span></span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="6fc18dd7c41e78ebc3a792b83eb4141b" class="idref" href="#6fc18dd7c41e78ebc3a792b83eb4141b"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="a':456" class="idref" href="#a':456"><span class="id" title="binder">a'</span></a> : <a class="idref" href="clutch.prob.distribution.html#A':452"><span class="id" title="variable">A'</span></a>) (<a id="b:457" class="idref" href="#b:457"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#6fc18dd7c41e78ebc3a792b83eb4141b"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:458" class="idref" href="#a:458"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:458"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#a':456"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">))</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">a'</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#6fc18dd7c41e78ebc3a792b83eb4141b"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#b:457"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dret_pair_right" class="idref" href="#dbind_dret_pair_right"><span class="id" title="lemma">dbind_dret_pair_right</span></a> `{<a id="H1:461" class="idref" href="#H1:461"><span class="id" title="binder">Countable</span></a> <a id="A':459" class="idref" href="#A':459"><span class="id" title="binder"><span id="H1:461" class="id">A'</span></span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f5492991896eaca05db01a26309f32eb" class="idref" href="#f5492991896eaca05db01a26309f32eb"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A':459"><span class="id" title="variable">A'</span></a>) (<a id="a:463" class="idref" href="#a:463"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="b:464" class="idref" href="#b:464"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#A':459"><span class="id" title="variable">A'</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#f5492991896eaca05db01a26309f32eb"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':465" class="idref" href="#a':465"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:463"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#a':465"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">))</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">a</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#f5492991896eaca05db01a26309f32eb"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#b:464"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_mass" class="idref" href="#dbind_mass"><span class="id" title="lemma">dbind_mass</span></a> (<a id="a1c37144a2aa2dba69c8e3d4c7bcef72" class="idref" href="#a1c37144a2aa2dba69c8e3d4c7bcef72"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="f:467" class="idref" href="#f:467"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#a1c37144a2aa2dba69c8e3d4c7bcef72"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:467"><span class="id" title="variable">f</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:468" class="idref" href="#a:468"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#a1c37144a2aa2dba69c8e3d4c7bcef72"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:468"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:467"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:468"><span class="id" title="variable">a</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#distr_double_swap"><span class="id" title="lemma">distr_double_swap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_det" class="idref" href="#dbind_det"><span class="id" title="lemma">dbind_det</span></a> (<a id="c5c52b8168877d8120e13ab2afb0205d" class="idref" href="#c5c52b8168877d8120e13ab2afb0205d"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="f:470" class="idref" href="#f:470"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#c5c52b8168877d8120e13ab2afb0205d"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:471" class="idref" href="#a:471"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#c5c52b8168877d8120e13ab2afb0205d"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:471"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:470"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:471"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#c5c52b8168877d8120e13ab2afb0205d"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:470"><span class="id" title="variable">f</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hμ</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dbind_mass"><span class="id" title="lemma">dbind_mass</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> =&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">μ</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hgt</span> | -&gt;%<a class="idref" href="clutch.prob.distribution.html#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a>]; [|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hf</span> //. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_det_inv_l" class="idref" href="#dbind_det_inv_l"><span class="id" title="lemma">dbind_det_inv_l</span></a> (<a id="7487276fcecffcc70ecb2fd0af8eb28c" class="idref" href="#7487276fcecffcc70ecb2fd0af8eb28c"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="f:473" class="idref" href="#f:473"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="b:474" class="idref" href="#b:474"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#7487276fcecffcc70ecb2fd0af8eb28c"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:473"><span class="id" title="variable">f</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#7487276fcecffcc70ecb2fd0af8eb28c"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hbind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_antisym"><span class="id" title="lemma">Rle_antisym</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hbind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_det_inv_r" class="idref" href="#dbind_det_inv_r"><span class="id" title="lemma">dbind_det_inv_r</span></a> (<a id="af0f76f3b24584ed3fb066d58dda6405" class="idref" href="#af0f76f3b24584ed3fb066d58dda6405"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="f:476" class="idref" href="#f:476"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="b:477" class="idref" href="#b:477"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#af0f76f3b24584ed3fb066d58dda6405"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:476"><span class="id" title="variable">f</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:478" class="idref" href="#a:478"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#af0f76f3b24584ed3fb066d58dda6405"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:478"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#f:476"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:478"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:477"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hbind</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':479" class="idref" href="#a':479"><span class="id" title="binder"><span id="a':481" class="id">a'</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.distribution.html#a':479"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a':479"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a':479"><span class="id" title="variable">a'</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':480" class="idref" href="#a':480"><span class="id" title="binder"><span id="a':482" class="id">a'</span></span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.distribution.html#a':480"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a':480"><span class="id" title="variable">a'</span></a> <span class="id" title="var">b</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_antisym"><span class="id" title="lemma">Rle_antisym</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hbind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ1</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); [|<span class="id" title="var">done</span>]. <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_split_elem"><span class="id" title="lemma">SeriesC_split_elem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">last</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); [|<span class="id" title="var">done</span>]. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_split_elem"><span class="id" title="lemma">SeriesC_split_elem</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':483" class="idref" href="#a':483"><span class="id" title="binder"><span id="a':484" class="id"><span id="a':485" class="id">a'</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.distribution.html#a':483"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a':483"><span class="id" title="variable">a'</span></a> <span class="id" title="var">b</span>) <span class="id" title="var">a</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">last</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); [|<span class="id" title="var">done</span>]. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;We&nbsp;do&nbsp;this&nbsp;kind&nbsp;of&nbsp;rewrite&nbsp;often&nbsp;enough&nbsp;that&nbsp;it&nbsp;could&nbsp;be&nbsp;a&nbsp;lemma&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:486" class="idref" href="#a0:486"><span class="id" title="binder"><span id="a0:488" class="id">a0</span></span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a0:486"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.distribution.html#a0:486"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a0:486"><span class="id" title="variable">a0</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:487" class="idref" href="#a0:487"><span class="id" title="binder"><span id="a0:489" class="id">a0</span></span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a0:487"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrw1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>. <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrw1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:490" class="idref" href="#a0:490"><span class="id" title="binder"><span id="a0:492" class="id">a0</span></span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a0:490"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.distribution.html#a0:490"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a0:490"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a0:490"><span class="id" title="variable">a0</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:491" class="idref" href="#a0:491"><span class="id" title="binder"><span id="a0:493" class="id">a0</span></span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a0:491"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrw2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrw2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:494" class="idref" href="#a0:494"><span class="id" title="binder"><span id="a0:496" class="id">a0</span></span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a0:494"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.distribution.html#a0:494"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a0:494"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a0:494"><span class="id" title="variable">a0</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:495" class="idref" href="#a0:495"><span class="id" title="binder"><span id="a0:497" class="id">a0</span></span></a> : <a class="idref" href="clutch.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a0:495"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.distribution.html#a0:495"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a0:495"><span class="id" title="variable">a0</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrw3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrw3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#monadic"><span class="id" title="section">monadic</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="probabilities" class="idref" href="#probabilities"><span class="id" title="section">probabilities</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:500" class="idref" href="#H:500"><span class="id" title="binder">Countable</span></a> <a id="A:498" class="idref" href="#A:498"><span class="id" title="binder"><span id="H:500" class="id">A</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">μ</span> <span class="id" title="var">d</span> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#probabilities.A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="prob" class="idref" href="#prob"><span class="id" title="definition">prob</span></a> (<a id="b18367b8fbff72bce32645663a104e78" class="idref" href="#b18367b8fbff72bce32645663a104e78"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#probabilities.A"><span class="id" title="variable">A</span></a>) (<a id="P:502" class="idref" href="#P:502"><span class="id" title="binder">P</span></a> : <a class="idref" href="clutch.prob.distribution.html#probabilities.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:503" class="idref" href="#a:503"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#probabilities.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#P:502"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.distribution.html#a:503"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob.distribution.html#b18367b8fbff72bce32645663a104e78"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:503"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="prob_le_1" class="idref" href="#prob_le_1"><span class="id" title="lemma">prob_le_1</span></a> (<a id="d2156387237048420e34624d155ebd1c" class="idref" href="#d2156387237048420e34624d155ebd1c"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#probabilities.A"><span class="id" title="variable">A</span></a>) (<a id="P:505" class="idref" href="#P:505"><span class="id" title="binder">P</span></a> : <a class="idref" href="clutch.prob.distribution.html#probabilities.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a> <a class="idref" href="clutch.prob.distribution.html#d2156387237048420e34624d155ebd1c"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#P:505"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="prob_ge_0" class="idref" href="#prob_ge_0"><span class="id" title="lemma">prob_ge_0</span></a> (<a id="05b749b1188815ecd1915a0f2ab87f08" class="idref" href="#05b749b1188815ecd1915a0f2ab87f08"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#probabilities.A"><span class="id" title="variable">A</span></a>) (<a id="P:507" class="idref" href="#P:507"><span class="id" title="binder">P</span></a> : <a class="idref" href="clutch.prob.distribution.html#probabilities.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a> <a class="idref" href="clutch.prob.distribution.html#05b749b1188815ecd1915a0f2ab87f08"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#P:507"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>=&gt; <span class="id" title="var">a</span>. <span class="id" title="var">real_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#probabilities"><span class="id" title="section">probabilities</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="probability_lemmas" class="idref" href="#probability_lemmas"><span class="id" title="section">probability_lemmas</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:510" class="idref" href="#H:510"><span class="id" title="binder">Countable</span></a> <a id="A:508" class="idref" href="#A:508"><span class="id" title="binder"><span id="H:510" class="id">A</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="prob_dret_true" class="idref" href="#prob_dret_true"><span class="id" title="lemma">prob_dret_true</span></a> (<a id="a:511" class="idref" href="#a:511"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a>) (<a id="P:512" class="idref" href="#P:512"><span class="id" title="binder">P</span></a> : <a class="idref" href="clutch.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#P:512"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.distribution.html#a:511"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:511"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.distribution.html#P:512"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a>/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="prob_dret_false" class="idref" href="#prob_dret_false"><span class="id" title="lemma">prob_dret_false</span></a> (<a id="a:513" class="idref" href="#a:513"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a>) (<a id="P:514" class="idref" href="#P:514"><span class="id" title="binder">P</span></a> : <a class="idref" href="clutch.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#P:514"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.distribution.html#a:513"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:513"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.distribution.html#P:514"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a>/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="prob_dbind" class="idref" href="#prob_dbind"><span class="id" title="lemma">prob_dbind</span></a> `{<a id="H0:517" class="idref" href="#H0:517"><span class="id" title="binder">Countable</span></a> <a id="B:515" class="idref" href="#B:515"><span class="id" title="binder"><span id="H0:517" class="id">B</span></span></a>} (<a id="a6214025d60d42dbac3fe5be05991f42" class="idref" href="#a6214025d60d42dbac3fe5be05991f42"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a>) (<a id="f:519" class="idref" href="#f:519"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:515"><span class="id" title="variable">B</span></a>) (<a id="P:520" class="idref" href="#P:520"><span class="id" title="binder">P</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:515"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:519"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a6214025d60d42dbac3fe5be05991f42"><span class="id" title="variable">μ</span></a>) <a class="idref" href="clutch.prob.distribution.html#P:520"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:521" class="idref" href="#a:521"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#a6214025d60d42dbac3fe5be05991f42"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:521"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:519"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:521"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.distribution.html#P:520"><span class="id" title="variable">P</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a>{1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:522" class="idref" href="#a:522"><span class="id" title="binder"><span id="a:525" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="var">P</span> <a class="idref" href="clutch.prob.distribution.html#a:522"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:523" class="idref" href="#a0:523"><span class="id" title="binder"><span id="a0:526" class="id">a0</span></span></a> : <a class="idref" href="clutch.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a0:523"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a0:523"><span class="id" title="variable">a0</span></a> <a class="idref" href="clutch.prob.distribution.html#a:522"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:524" class="idref" href="#a0:524"><span class="id" title="binder"><span id="a0:527" class="id">a0</span></span></a> : <a class="idref" href="clutch.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="var">P</span> <a class="idref" href="clutch.prob.distribution.html#a:522"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a0:524"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a0:524"><span class="id" title="variable">a0</span></a> <a class="idref" href="clutch.prob.distribution.html#a:522"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">a</span>); [<span class="id" title="var">done</span>|]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:530" class="idref" href="#pat:530"><span class="id" title="binder"><span id="pat:533" class="id"><span id="pat:536" class="id">(</span></span></span></a><a id="a:529" class="idref" href="#a:529"><span class="id" title="binder"><span id="pat:530" class="id"><span id="a:532" class="id"><span id="pat:533" class="id"><span id="a:535" class="id"><span id="pat:536" class="id">a</span></span></span></span></span></span></a><a id="pat:530" class="idref" href="#pat:530"><span class="id" title="binder"><span id="pat:533" class="id"><span id="pat:536" class="id">,</span></span></span></a> <a id="a0:528" class="idref" href="#a0:528"><span class="id" title="binder"><span id="pat:530" class="id"><span id="a0:531" class="id"><span id="pat:533" class="id"><span id="a0:534" class="id"><span id="pat:536" class="id">a0</span></span></span></span></span></span></a><a id="pat:530" class="idref" href="#pat:530"><span class="id" title="binder"><span id="pat:533" class="id"><span id="pat:536" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="var">P</span> <a class="idref" href="clutch.prob.distribution.html#a:529"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a0:528"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a0:528"><span class="id" title="variable">a0</span></a> <a class="idref" href="clutch.prob.distribution.html#a:529"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:537" class="idref" href="#a:537"><span class="id" title="binder"><span id="a:539" class="id">a</span></span></a> : <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:538" class="idref" href="#b:538"><span class="id" title="binder"><span id="b:540" class="id">b</span></span></a> : <a class="idref" href="clutch.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#b:538"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#b:538"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.distribution.html#a:537"><span class="id" title="variable">a</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [<span class="id" title="var">real_solver</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> 1. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="union_bound" class="idref" href="#union_bound"><span class="id" title="lemma">union_bound</span></a> (<a id="c4d366826a236e87c8b2f47bc34c9464" class="idref" href="#c4d366826a236e87c8b2f47bc34c9464"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a>) (<a id="P:542" class="idref" href="#P:542"><span class="id" title="binder">P</span></a> <a id="Q:543" class="idref" href="#Q:543"><span class="id" title="binder">Q</span></a> : <a class="idref" href="clutch.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a> <a class="idref" href="clutch.prob.distribution.html#c4d366826a236e87c8b2f47bc34c9464"><span class="id" title="variable">μ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:544" class="idref" href="#a:544"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#orb"><span class="id" title="definition">orb</span></a> (<a class="idref" href="clutch.prob.distribution.html#P:542"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.distribution.html#a:544"><span class="id" title="variable">a</span></a>) (<a class="idref" href="clutch.prob.distribution.html#Q:543"><span class="id" title="variable">Q</span></a> <a class="idref" href="clutch.prob.distribution.html#a:544"><span class="id" title="variable">a</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a> <a class="idref" href="clutch.prob.distribution.html#c4d366826a236e87c8b2f47bc34c9464"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#P:542"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a> <a class="idref" href="clutch.prob.distribution.html#c4d366826a236e87c8b2f47bc34c9464"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#Q:543"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">n</span>); <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Q</span> <span class="id" title="var">n</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:545" class="idref" href="#x:545"><span class="id" title="binder"><span id="x:546" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#x:545"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">n</span>); <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Q</span> <span class="id" title="var">n</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_filter_bool_pos"><span class="id" title="lemma">ex_seriesC_filter_bool_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_filter_bool_pos"><span class="id" title="lemma">ex_seriesC_filter_bool_pos</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#probability_lemmas"><span class="id" title="section">probability_lemmas</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="probabilities_prop" class="idref" href="#probabilities_prop"><span class="id" title="section">probabilities_prop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:549" class="idref" href="#H:549"><span class="id" title="binder">Countable</span></a> <a id="A:547" class="idref" href="#A:547"><span class="id" title="binder"><span id="H:549" class="id">A</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="1fdaeb7fa800d0399a8366bc4b921130" class="idref" href="#1fdaeb7fa800d0399a8366bc4b921130"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#probabilities_prop.A"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="P:551" class="idref" href="#P:551"><span class="id" title="binder">P</span></a> : <a class="idref" href="clutch.prob.distribution.html#probabilities_prop.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H0:553" class="idref" href="#H0:553"><span class="id" title="binder">forall</span></a> <a id="a:552" class="idref" href="#a:552"><span class="id" title="binder"><span id="H0:553" class="id">a</span></span></a><a id="H0:553" class="idref" href="#H0:553"><span class="id" title="binder">,</span></a> <a id="H0:553" class="idref" href="#H0:553"><span class="id" title="binder">Decision</span></a> <a id="H0:553" class="idref" href="#H0:553"><span class="id" title="binder">(</span></a><a id="H0:553" class="idref" href="#H0:553"><span class="id" title="binder">P</span></a> <a id="H0:553" class="idref" href="#H0:553"><span class="id" title="binder">a</span></a><a id="H0:553" class="idref" href="#H0:553"><span class="id" title="binder">)</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="probp" class="idref" href="#probp"><span class="id" title="definition">probp</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:554" class="idref" href="#a:554"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#probabilities_prop.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#probabilities_prop.P"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.distribution.html#a:554"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob.distribution.html#0f8db302a640429907c497940d8012f6"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:554"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="probp_le_1" class="idref" href="#probp_le_1"><span class="id" title="lemma">probp_le_1</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#0f8db302a640429907c497940d8012f6"><span class="id" title="variable">μ</span></a>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="probp_ge_0" class="idref" href="#probp_ge_0"><span class="id" title="lemma">probp_ge_0</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>=&gt; <span class="id" title="var">a</span>. <span class="id" title="var">real_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#probabilities_prop"><span class="id" title="section">probabilities_prop</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="probability_prop_lemmas" class="idref" href="#probability_prop_lemmas"><span class="id" title="section">probability_prop_lemmas</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:557" class="idref" href="#H:557"><span class="id" title="binder">Countable</span></a> <a id="A:555" class="idref" href="#A:555"><span class="id" title="binder"><span id="H:557" class="id">A</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="probp_dret_true" class="idref" href="#probp_dret_true"><span class="id" title="lemma">probp_dret_true</span></a> (<a id="a:558" class="idref" href="#a:558"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a>) (<a id="P:559" class="idref" href="#P:559"><span class="id" title="binder">P</span></a> : <a class="idref" href="clutch.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) `{<a id="H0:561" class="idref" href="#H0:561"><span class="id" title="binder">forall</span></a> <a id="a:560" class="idref" href="#a:560"><span class="id" title="binder"><span id="H0:561" class="id">a</span></span></a><a id="H0:561" class="idref" href="#H0:561"><span class="id" title="binder">,</span></a> <a id="H0:561" class="idref" href="#H0:561"><span class="id" title="binder">Decision</span></a> <a id="H0:561" class="idref" href="#H0:561"><span class="id" title="binder">(</span></a><a id="H0:561" class="idref" href="#H0:561"><span class="id" title="binder">P</span></a> <a id="H0:561" class="idref" href="#H0:561"><span class="id" title="binder">a</span></a><a id="H0:561" class="idref" href="#H0:561"><span class="id" title="binder">)</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#P:559"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.distribution.html#a:558"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:558"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.distribution.html#P:559"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a>/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="probp_dret_false" class="idref" href="#probp_dret_false"><span class="id" title="lemma">probp_dret_false</span></a> (<a id="a:562" class="idref" href="#a:562"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a>) (<a id="P:563" class="idref" href="#P:563"><span class="id" title="binder">P</span></a> : <a class="idref" href="clutch.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) `{<a id="H0:565" class="idref" href="#H0:565"><span class="id" title="binder">forall</span></a> <a id="a:564" class="idref" href="#a:564"><span class="id" title="binder"><span id="H0:565" class="id">a</span></span></a><a id="H0:565" class="idref" href="#H0:565"><span class="id" title="binder">,</span></a> <a id="H0:565" class="idref" href="#H0:565"><span class="id" title="binder">Decision</span></a> <a id="H0:565" class="idref" href="#H0:565"><span class="id" title="binder">(</span></a><a id="H0:565" class="idref" href="#H0:565"><span class="id" title="binder">P</span></a> <a id="H0:565" class="idref" href="#H0:565"><span class="id" title="binder">a</span></a><a id="H0:565" class="idref" href="#H0:565"><span class="id" title="binder">)</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#P:563"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.distribution.html#a:562"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:562"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.distribution.html#P:563"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a>/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="probp_dbind" class="idref" href="#probp_dbind"><span class="id" title="lemma">probp_dbind</span></a> `{<a id="H0:568" class="idref" href="#H0:568"><span class="id" title="binder">Countable</span></a> <a id="B:566" class="idref" href="#B:566"><span class="id" title="binder"><span id="H0:568" class="id">B</span></span></a>} (<a id="3655df7a42b12a793d8ae7826a07d0e6" class="idref" href="#3655df7a42b12a793d8ae7826a07d0e6"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a>) (<a id="f:570" class="idref" href="#f:570"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:566"><span class="id" title="variable">B</span></a>) (<a id="P:571" class="idref" href="#P:571"><span class="id" title="binder">P</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:566"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) `{<a id="H1:573" class="idref" href="#H1:573"><span class="id" title="binder">forall</span></a> <a id="a:572" class="idref" href="#a:572"><span class="id" title="binder"><span id="H1:573" class="id">a</span></span></a><a id="H1:573" class="idref" href="#H1:573"><span class="id" title="binder">,</span></a> <a id="H1:573" class="idref" href="#H1:573"><span class="id" title="binder">Decision</span></a> <a id="H1:573" class="idref" href="#H1:573"><span class="id" title="binder">(</span></a><a id="H1:573" class="idref" href="#H1:573"><span class="id" title="binder">P</span></a> <a id="H1:573" class="idref" href="#H1:573"><span class="id" title="binder">a</span></a><a id="H1:573" class="idref" href="#H1:573"><span class="id" title="binder">)</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:570"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#3655df7a42b12a793d8ae7826a07d0e6"><span class="id" title="variable">μ</span></a>) <a class="idref" href="clutch.prob.distribution.html#P:571"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:574" class="idref" href="#a:574"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#3655df7a42b12a793d8ae7826a07d0e6"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:574"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:570"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:574"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.distribution.html#P:571"><span class="id" title="variable">P</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a>{1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:575" class="idref" href="#a:575"><span class="id" title="binder"><span id="a:578" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="clutch.prob.distribution.html#a:575"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:576" class="idref" href="#a0:576"><span class="id" title="binder"><span id="a0:579" class="id">a0</span></span></a> : <a class="idref" href="clutch.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a0:576"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a0:576"><span class="id" title="variable">a0</span></a> <a class="idref" href="clutch.prob.distribution.html#a:575"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:577" class="idref" href="#a0:577"><span class="id" title="binder"><span id="a0:580" class="id">a0</span></span></a> : <a class="idref" href="clutch.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="clutch.prob.distribution.html#a:575"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a0:577"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a0:577"><span class="id" title="variable">a0</span></a> <a class="idref" href="clutch.prob.distribution.html#a:575"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="var">case_bool_decide</span>; [<span class="id" title="var">done</span>|]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:583" class="idref" href="#pat:583"><span class="id" title="binder"><span id="pat:586" class="id"><span id="pat:589" class="id">(</span></span></span></a><a id="a:582" class="idref" href="#a:582"><span class="id" title="binder"><span id="pat:583" class="id"><span id="a:585" class="id"><span id="pat:586" class="id"><span id="a:588" class="id"><span id="pat:589" class="id">a</span></span></span></span></span></span></a><a id="pat:583" class="idref" href="#pat:583"><span class="id" title="binder"><span id="pat:586" class="id"><span id="pat:589" class="id">,</span></span></span></a> <a id="a0:581" class="idref" href="#a0:581"><span class="id" title="binder"><span id="pat:583" class="id"><span id="a0:584" class="id"><span id="pat:586" class="id"><span id="a0:587" class="id"><span id="pat:589" class="id">a0</span></span></span></span></span></span></a><a id="pat:583" class="idref" href="#pat:583"><span class="id" title="binder"><span id="pat:586" class="id"><span id="pat:589" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="clutch.prob.distribution.html#a:582"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a0:581"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a0:581"><span class="id" title="variable">a0</span></a> <a class="idref" href="clutch.prob.distribution.html#a:582"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:590" class="idref" href="#a:590"><span class="id" title="binder"><span id="a:592" class="id">a</span></span></a> : <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:591" class="idref" href="#b:591"><span class="id" title="binder"><span id="b:593" class="id">b</span></span></a> : <a class="idref" href="clutch.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#b:591"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#b:591"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.distribution.html#a:590"><span class="id" title="variable">a</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [<span class="id" title="var">real_solver</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> 1. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="union_bound_prop" class="idref" href="#union_bound_prop"><span class="id" title="lemma">union_bound_prop</span></a> (<a id="57538d8d8405517204f4adb9500ac5fe" class="idref" href="#57538d8d8405517204f4adb9500ac5fe"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a>) (<a id="P:595" class="idref" href="#P:595"><span class="id" title="binder">P</span></a> <a id="Q:596" class="idref" href="#Q:596"><span class="id" title="binder">Q</span></a> : <a class="idref" href="clutch.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) `{<a id="H0:598" class="idref" href="#H0:598"><span class="id" title="binder">forall</span></a> <a id="a:597" class="idref" href="#a:597"><span class="id" title="binder"><span id="H0:598" class="id">a</span></span></a><a id="H0:598" class="idref" href="#H0:598"><span class="id" title="binder">,</span></a> <a id="H0:598" class="idref" href="#H0:598"><span class="id" title="binder">Decision</span></a> <a id="H0:598" class="idref" href="#H0:598"><span class="id" title="binder">(</span></a><a id="H0:598" class="idref" href="#H0:598"><span class="id" title="binder">P</span></a> <a id="H0:598" class="idref" href="#H0:598"><span class="id" title="binder">a</span></a><a id="H0:598" class="idref" href="#H0:598"><span class="id" title="binder">)</span></a>} `{<a id="H1:600" class="idref" href="#H1:600"><span class="id" title="binder">forall</span></a> <a id="a:599" class="idref" href="#a:599"><span class="id" title="binder"><span id="H1:600" class="id">a</span></span></a><a id="H1:600" class="idref" href="#H1:600"><span class="id" title="binder">,</span></a> <a id="H1:600" class="idref" href="#H1:600"><span class="id" title="binder">Decision</span></a> <a id="H1:600" class="idref" href="#H1:600"><span class="id" title="binder">(</span></a><a id="H1:600" class="idref" href="#H1:600"><span class="id" title="binder">Q</span></a> <a id="H1:600" class="idref" href="#H1:600"><span class="id" title="binder">a</span></a><a id="H1:600" class="idref" href="#H1:600"><span class="id" title="binder">)</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a> <a class="idref" href="clutch.prob.distribution.html#57538d8d8405517204f4adb9500ac5fe"><span class="id" title="variable">μ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:601" class="idref" href="#a:601"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#P:595"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.distribution.html#a:601"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#Q:596"><span class="id" title="variable">Q</span></a> <a class="idref" href="clutch.prob.distribution.html#a:601"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a> <a class="idref" href="clutch.prob.distribution.html#57538d8d8405517204f4adb9500ac5fe"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#P:595"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a> <a class="idref" href="clutch.prob.distribution.html#57538d8d8405517204f4adb9500ac5fe"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#Q:596"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_or</span>?; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:602" class="idref" href="#x:602"><span class="id" title="binder"><span id="x:603" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#x:602"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_filter_bool_pos"><span class="id" title="lemma">ex_seriesC_filter_bool_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_filter_bool_pos"><span class="id" title="lemma">ex_seriesC_filter_bool_pos</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#probability_prop_lemmas"><span class="id" title="section">probability_prop_lemmas</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="subset_distribution" class="idref" href="#subset_distribution"><span class="id" title="section">subset_distribution</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:606" class="idref" href="#H:606"><span class="id" title="binder">Countable</span></a> <a id="A:604" class="idref" href="#A:604"><span class="id" title="binder"><span id="H:606" class="id">A</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="P:607" class="idref" href="#P:607"><span class="id" title="binder">P</span></a> : <a class="idref" href="clutch.prob.distribution.html#subset_distribution.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">μ</span> <span class="id" title="var">d</span> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#subset_distribution.A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="ssd_pmf" class="idref" href="#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a> (<a id="9bbdfe47751593bd95168e28f6fa0a6a" class="idref" href="#9bbdfe47751593bd95168e28f6fa0a6a"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#subset_distribution.A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:609" class="idref" href="#a:609"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#subset_distribution.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="clutch.prob.distribution.html#subset_distribution.P"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.distribution.html#a:609"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob.distribution.html#9bbdfe47751593bd95168e28f6fa0a6a"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:609"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="ssd" class="idref" href="#ssd"><span class="id" title="definition">ssd</span></a> (<a id="74bcd68d4495cf5a36a504fb5d6c1ec0" class="idref" href="#74bcd68d4495cf5a36a504fb5d6c1ec0"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#subset_distribution.A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="clutch.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a> <a class="idref" href="clutch.prob.distribution.html#74bcd68d4495cf5a36a504fb5d6c1ec0"><span class="id" title="variable">μ</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">μ</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a>. <span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.prob.distribution.html#subset_distribution.P"><span class="id" title="variable">P</span></a> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">μ</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">n</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.prob.distribution.html#subset_distribution.P"><span class="id" title="variable">P</span></a> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">μ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.prob.distribution.html#subset_distribution.P"><span class="id" title="variable">P</span></a> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#subset_distribution"><span class="id" title="section">subset_distribution</span></a>.<br/>

<br/>
<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">predicate_scope</span>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">predicate_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">P</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="53797020b35359960f059fea5400d198" class="idref" href="#53797020b35359960f059fea5400d198"><span class="id" title="notation">&quot;</span></a>∽ K " := (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:611" class="idref" href="#a:611"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<span class="id" title="var">K</span> <a class="idref" href="clutch.prob.distribution.html#a:611"><span class="id" title="variable">a</span></a>)) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">predicate_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="subset_distribution_lemmas" class="idref" href="#subset_distribution_lemmas"><span class="id" title="section">subset_distribution_lemmas</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:614" class="idref" href="#H:614"><span class="id" title="binder">Countable</span></a> <a id="A:612" class="idref" href="#A:612"><span class="id" title="binder"><span id="H:614" class="id">A</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">P</span> : <a class="idref" href="clutch.prob.distribution.html#subset_distribution_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">μ</span> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#subset_distribution_lemmas.A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ssd_ret_pos" class="idref" href="#ssd_ret_pos"><span class="id" title="lemma">ssd_ret_pos</span></a> <a id="P:615" class="idref" href="#P:615"><span class="id" title="binder">P</span></a> <a id="8c5b365c6d467bb5c057b3ef489e8d7d" class="idref" href="#8c5b365c6d467bb5c057b3ef489e8d7d"><span class="id" title="binder">μ</span></a> (<a id="a:617" class="idref" href="#a:617"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#subset_distribution_lemmas.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="clutch.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> <a class="idref" href="clutch.prob.distribution.html#P:615"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.distribution.html#8c5b365c6d467bb5c057b3ef489e8d7d"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:617"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.distribution.html#P:615"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.distribution.html#a:617"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> /<a class="idref" href="clutch.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>. <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">a</span>); [<span class="id" title="var">done</span>|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ssd_sum" class="idref" href="#ssd_sum"><span class="id" title="lemma">ssd_sum</span></a> <a id="P:618" class="idref" href="#P:618"><span class="id" title="binder">P</span></a> <a id="04ad3f68c9a48f91d0f1d6715273fd4b" class="idref" href="#04ad3f68c9a48f91d0f1d6715273fd4b"><span class="id" title="binder">μ</span></a> (<a id="a:620" class="idref" href="#a:620"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#subset_distribution_lemmas.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="clutch.prob.distribution.html#04ad3f68c9a48f91d0f1d6715273fd4b"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:620"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> <a class="idref" href="clutch.prob.distribution.html#P:618"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.distribution.html#04ad3f68c9a48f91d0f1d6715273fd4b"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:620"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> (<a class="idref" href="clutch.prob.distribution.html#53797020b35359960f059fea5400d198"><span class="id" title="notation">∽</span></a> <a class="idref" href="clutch.prob.distribution.html#P:618"><span class="id" title="variable">P</span></a>)%<span class="id" title="var">P</span> <a class="idref" href="clutch.prob.distribution.html#04ad3f68c9a48f91d0f1d6715273fd4b"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:620"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> /<a class="idref" href="clutch.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">a</span>) =&gt; /=; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ssd_remove" class="idref" href="#ssd_remove"><span class="id" title="lemma">ssd_remove</span></a> <a id="P:621" class="idref" href="#P:621"><span class="id" title="binder">P</span></a> <a id="b39ba524272411579c2966319f772239" class="idref" href="#b39ba524272411579c2966319f772239"><span class="id" title="binder">μ</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:623" class="idref" href="#a:623"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="clutch.prob.distribution.html#P:621"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.distribution.html#a:623"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.distribution.html#b39ba524272411579c2966319f772239"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:623"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> <a class="idref" href="clutch.prob.distribution.html#P:621"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.distribution.html#b39ba524272411579c2966319f772239"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#b39ba524272411579c2966319f772239"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>. <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">a</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a>{1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/<a class="idref" href="clutch.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a>{1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/<a class="idref" href="clutch.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a> <span class="id" title="var">H'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>; [<span class="id" title="var">done</span>|<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#subset_distribution_lemmas"><span class="id" title="section">subset_distribution_lemmas</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="bind_lemmas" class="idref" href="#bind_lemmas"><span class="id" title="section">bind_lemmas</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:626" class="idref" href="#H:626"><span class="id" title="binder">Countable</span></a> <a id="A:624" class="idref" href="#A:624"><span class="id" title="binder"><span id="H:626" class="id">A</span></span></a>, <a id="H0:629" class="idref" href="#H0:629"><span class="id" title="binder">Countable</span></a> <a id="B:627" class="idref" href="#B:627"><span class="id" title="binder"><span id="H0:629" class="id">B</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">μ</span>: <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#bind_lemmas.A"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">ν</span>: <a class="idref" href="clutch.prob.distribution.html#bind_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#bind_lemmas.B"><span class="id" title="variable">B</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="bind_split_sum" class="idref" href="#bind_split_sum"><span class="id" title="lemma">bind_split_sum</span></a> (<a id="aee761eba247ae77fe9aeb5509b832f4" class="idref" href="#aee761eba247ae77fe9aeb5509b832f4"><span class="id" title="binder">μ</span></a> <a id="6d6f4e11c0f6c42a2c279cac8e0109aa" class="idref" href="#6d6f4e11c0f6c42a2c279cac8e0109aa"><span class="id" title="binder">μ1</span></a> <a id="30ff1a8ce5bc409b2d21327eb961c4cd" class="idref" href="#30ff1a8ce5bc409b2d21327eb961c4cd"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#bind_lemmas.A"><span class="id" title="variable">A</span></a>) <a id="fbf51122cad9ce21516f28842628c09f" class="idref" href="#fbf51122cad9ce21516f28842628c09f"><span class="id" title="binder">ν</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:634" class="idref" href="#a:634"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#aee761eba247ae77fe9aeb5509b832f4"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:634"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#6d6f4e11c0f6c42a2c279cac8e0109aa"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:634"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.distribution.html#30ff1a8ce5bc409b2d21327eb961c4cd"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#a:634"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:635" class="idref" href="#b:635"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#aee761eba247ae77fe9aeb5509b832f4"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':636" class="idref" href="#a':636"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#fbf51122cad9ce21516f28842628c09f"><span class="id" title="variable">ν</span></a> <a class="idref" href="clutch.prob.distribution.html#a':636"><span class="id" title="variable">a'</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#6d6f4e11c0f6c42a2c279cac8e0109aa"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':637" class="idref" href="#a':637"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#fbf51122cad9ce21516f28842628c09f"><span class="id" title="variable">ν</span></a> <a class="idref" href="clutch.prob.distribution.html#a':637"><span class="id" title="variable">a'</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#30ff1a8ce5bc409b2d21327eb961c4cd"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':638" class="idref" href="#a':638"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#fbf51122cad9ce21516f28842628c09f"><span class="id" title="variable">ν</span></a> <a class="idref" href="clutch.prob.distribution.html#a':638"><span class="id" title="variable">a'</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">H1</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:639" class="idref" href="#a:639"><span class="id" title="binder"><span id="a:640" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.distribution.html#a:639"><span class="id" title="variable">a</span></a>)); [<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">split</span>|<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:641" class="idref" href="#a:641"><span class="id" title="binder"><span id="a:642" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.distribution.html#a:641"><span class="id" title="variable">a</span></a>)); [<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">split</span>|<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep"><span class="id" title="axiom">functional_extensionality_dep</span></a> =&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a><span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">μ2</span> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">ν</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>); <span class="id" title="var">last</span> <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ssd_bind_split_sum" class="idref" href="#ssd_bind_split_sum"><span class="id" title="lemma">ssd_bind_split_sum</span></a> <a id="b4a8fe16350e7d500f68fd5143a2eb82" class="idref" href="#b4a8fe16350e7d500f68fd5143a2eb82"><span class="id" title="binder">μ</span></a> <a id="10e42b70b1bf52fca31b6ee038b457ff" class="idref" href="#10e42b70b1bf52fca31b6ee038b457ff"><span class="id" title="binder">ν</span></a> <a id="P:645" class="idref" href="#P:645"><span class="id" title="binder">P</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:646" class="idref" href="#b:646"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b4a8fe16350e7d500f68fd5143a2eb82"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':647" class="idref" href="#a':647"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#10e42b70b1bf52fca31b6ee038b457ff"><span class="id" title="variable">ν</span></a> <a class="idref" href="clutch.prob.distribution.html#a':647"><span class="id" title="variable">a'</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> <a class="idref" href="clutch.prob.distribution.html#P:645"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.distribution.html#b4a8fe16350e7d500f68fd5143a2eb82"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':648" class="idref" href="#a':648"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#10e42b70b1bf52fca31b6ee038b457ff"><span class="id" title="variable">ν</span></a> <a class="idref" href="clutch.prob.distribution.html#a':648"><span class="id" title="variable">a'</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> (<a class="idref" href="clutch.prob.distribution.html#53797020b35359960f059fea5400d198"><span class="id" title="notation">∽</span></a> <a class="idref" href="clutch.prob.distribution.html#P:645"><span class="id" title="variable">P</span></a>)%<span class="id" title="var">P</span> <a class="idref" href="clutch.prob.distribution.html#b4a8fe16350e7d500f68fd5143a2eb82"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':649" class="idref" href="#a':649"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#10e42b70b1bf52fca31b6ee038b457ff"><span class="id" title="variable">ν</span></a> <a class="idref" href="clutch.prob.distribution.html#a':649"><span class="id" title="variable">a'</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;-<a class="idref" href="clutch.prob.distribution.html#bind_split_sum"><span class="id" title="lemma">bind_split_sum</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#ssd_sum"><span class="id" title="lemma">ssd_sum</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
*strengthen following lemma? 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ssd_bind_constant" class="idref" href="#ssd_bind_constant"><span class="id" title="lemma">ssd_bind_constant</span></a> <a id="P:650" class="idref" href="#P:650"><span class="id" title="binder">P</span></a> <a id="d703b93095c851078ca6a175459e0d40" class="idref" href="#d703b93095c851078ca6a175459e0d40"><span class="id" title="binder">μ</span></a> <a id="0134ecca232021278aea1db694e215d5" class="idref" href="#0134ecca232021278aea1db694e215d5"><span class="id" title="binder">ν</span></a> (<a id="b:653" class="idref" href="#b:653"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#bind_lemmas.B"><span class="id" title="variable">B</span></a>) <a id="k:654" class="idref" href="#k:654"><span class="id" title="binder">k</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:655" class="idref" href="#a:655"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#P:650"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.distribution.html#a:655"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.distribution.html#0134ecca232021278aea1db694e215d5"><span class="id" title="variable">ν</span></a> <a class="idref" href="clutch.prob.distribution.html#a:655"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:653"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#k:654"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> <a class="idref" href="clutch.prob.distribution.html#P:650"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.distribution.html#d703b93095c851078ca6a175459e0d40"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':656" class="idref" href="#a':656"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#0134ecca232021278aea1db694e215d5"><span class="id" title="variable">ν</span></a> <a class="idref" href="clutch.prob.distribution.html#a':656"><span class="id" title="variable">a'</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#k:654"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> <a class="idref" href="clutch.prob.distribution.html#P:650"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.distribution.html#d703b93095c851078ca6a175459e0d40"><span class="id" title="variable">μ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep"><span class="id" title="axiom">functional_extensionality_dep</span></a> =&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H'</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /<a class="idref" href="clutch.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a> <span class="id" title="var">H'</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ssd_fix_value" class="idref" href="#ssd_fix_value"><span class="id" title="lemma">ssd_fix_value</span></a> <a id="9db9cc59078b6ad4a89fdceb0dbf6319" class="idref" href="#9db9cc59078b6ad4a89fdceb0dbf6319"><span class="id" title="binder">μ</span></a> (<a id="v:658" class="idref" href="#v:658"><span class="id" title="binder">v</span></a> : <a class="idref" href="clutch.prob.distribution.html#bind_lemmas.A"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:659" class="idref" href="#a:659"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a:659"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#v:658"><span class="id" title="variable">v</span></a>)) <a class="idref" href="clutch.prob.distribution.html#9db9cc59078b6ad4a89fdceb0dbf6319"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#9db9cc59078b6ad4a89fdceb0dbf6319"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#v:658"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;-(<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep"><span class="id" title="axiom">functional_extensionality_dep</span></a> =&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a>/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/<a class="idref" href="clutch.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a>/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ssd_chain" class="idref" href="#ssd_chain"><span class="id" title="lemma">ssd_chain</span></a> <a id="3d06c21c34839289c8ad0cabaa6a4d5e" class="idref" href="#3d06c21c34839289c8ad0cabaa6a4d5e"><span class="id" title="binder">μ</span></a> (<a id="P:661" class="idref" href="#P:661"><span class="id" title="binder">P</span></a> <a id="Q:662" class="idref" href="#Q:662"><span class="id" title="binder">Q</span></a>: <a class="idref" href="clutch.prob.distribution.html#bind_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> <a class="idref" href="clutch.prob.distribution.html#P:661"><span class="id" title="variable">P</span></a> (<a class="idref" href="clutch.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> <a class="idref" href="clutch.prob.distribution.html#Q:662"><span class="id" title="variable">Q</span></a> <a class="idref" href="clutch.prob.distribution.html#3d06c21c34839289c8ad0cabaa6a4d5e"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:663" class="idref" href="#a:663"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#P:661"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.distribution.html#a:663"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="clutch.prob.distribution.html#Q:662"><span class="id" title="variable">Q</span></a> <a class="idref" href="clutch.prob.distribution.html#a:663"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.distribution.html#3d06c21c34839289c8ad0cabaa6a4d5e"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a> =&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a>/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/<a class="idref" href="clutch.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a>/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">H1</span>; <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Q</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#bind_lemmas"><span class="id" title="section">bind_lemmas</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="exp_val" class="idref" href="#exp_val"><span class="id" title="section">exp_val</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:666" class="idref" href="#H:666"><span class="id" title="binder">Countable</span></a> <a id="A:664" class="idref" href="#A:664"><span class="id" title="binder"><span id="H:666" class="id">A</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">μ</span> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#exp_val.A"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">f</span> : <a class="idref" href="clutch.prob.distribution.html#exp_val.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="ex_expval" class="idref" href="#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a id="11976c1f7ac8888bafb153930b1ed9e7" class="idref" href="#11976c1f7ac8888bafb153930b1ed9e7"><span class="id" title="binder">μ</span></a> <a id="f:668" class="idref" href="#f:668"><span class="id" title="binder">f</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:669" class="idref" href="#a:669"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#11976c1f7ac8888bafb153930b1ed9e7"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:669"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:668"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:669"><span class="id" title="variable">a</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Expval" class="idref" href="#Expval"><span class="id" title="definition">Expval</span></a> <a id="a07f172ed9e29f85e4b98095aa9fcb2f" class="idref" href="#a07f172ed9e29f85e4b98095aa9fcb2f"><span class="id" title="binder">μ</span></a> <a id="f:671" class="idref" href="#f:671"><span class="id" title="binder">f</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:672" class="idref" href="#a:672"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#a07f172ed9e29f85e4b98095aa9fcb2f"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:672"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:671"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:672"><span class="id" title="variable">a</span></a>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#exp_val"><span class="id" title="section">exp_val</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="exp_val_prop" class="idref" href="#exp_val_prop"><span class="id" title="section">exp_val_prop</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:675" class="idref" href="#H:675"><span class="id" title="binder">Countable</span></a> <a id="A:673" class="idref" href="#A:673"><span class="id" title="binder"><span id="H:675" class="id">A</span></span></a>, <a id="H0:678" class="idref" href="#H0:678"><span class="id" title="binder">Countable</span></a> <a id="B:676" class="idref" href="#B:676"><span class="id" title="binder"><span id="H0:678" class="id">B</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">μ</span> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#exp_val_prop.A"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">f</span> : <a class="idref" href="clutch.prob.distribution.html#exp_val_prop.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ex_expval_dret" class="idref" href="#ex_expval_dret"><span class="id" title="lemma">ex_expval_dret</span></a> <a id="f:679" class="idref" href="#f:679"><span class="id" title="binder">f</span></a> <a id="a:680" class="idref" href="#a:680"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:680"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.distribution.html#f:679"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a>/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a0:681" class="idref" href="#a0:681"><span class="id" title="binder"><span id="a0:682" class="id">a0</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a0:681"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a0:681"><span class="id" title="variable">a0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a0:681"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_singleton"><span class="id" title="lemma">ex_seriesC_singleton</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_dret" class="idref" href="#Expval_dret"><span class="id" title="lemma">Expval_dret</span></a> <a id="f:683" class="idref" href="#f:683"><span class="id" title="binder">f</span></a> <a id="a:684" class="idref" href="#a:684"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:684"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.distribution.html#f:683"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:683"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:684"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a>/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a0:685" class="idref" href="#a0:685"><span class="id" title="binder"><span id="a0:686" class="id">a0</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a0:685"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a0:685"><span class="id" title="variable">a0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a0:685"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ex_expval_const" class="idref" href="#ex_expval_const"><span class="id" title="lemma">ex_expval_const</span></a> <a id="2d319dff4fd2d7886be32bb93d212dab" class="idref" href="#2d319dff4fd2d7886be32bb93d212dab"><span class="id" title="binder">μ</span></a> <a id="c:688" class="idref" href="#c:688"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="clutch.prob.distribution.html#2d319dff4fd2d7886be32bb93d212dab"><span class="id" title="variable">μ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:689" class="idref" href="#x:689"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#c:688"><span class="id" title="variable">c</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_const" class="idref" href="#Expval_const"><span class="id" title="lemma">Expval_const</span></a> <a id="e3c86eee3a637627d8d5254baa175b0b" class="idref" href="#e3c86eee3a637627d8d5254baa175b0b"><span class="id" title="binder">μ</span></a> <a id="c:691" class="idref" href="#c:691"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#c:691"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#e3c86eee3a637627d8d5254baa175b0b"><span class="id" title="variable">μ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:692" class="idref" href="#x:692"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#c:691"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#c:691"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#e3c86eee3a637627d8d5254baa175b0b"><span class="id" title="variable">μ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hpos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ex_expval_le" class="idref" href="#ex_expval_le"><span class="id" title="lemma">ex_expval_le</span></a> <a id="8448de38a68efb1cf8689fdb8c38d3b6" class="idref" href="#8448de38a68efb1cf8689fdb8c38d3b6"><span class="id" title="binder">μ</span></a> <a id="f:694" class="idref" href="#f:694"><span class="id" title="binder">f</span></a> <a id="g:695" class="idref" href="#g:695"><span class="id" title="binder">g</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="x:696" class="idref" href="#x:696"><span class="id" title="binder">x</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:694"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#x:696"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#g:695"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#x:696"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="clutch.prob.distribution.html#8448de38a68efb1cf8689fdb8c38d3b6"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#g:695"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="clutch.prob.distribution.html#8448de38a68efb1cf8689fdb8c38d3b6"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#f:694"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:697" class="idref" href="#x:697"><span class="id" title="binder"><span id="x:698" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#x:697"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.distribution.html#x:697"><span class="id" title="variable">x</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hleq</span> <span class="id" title="var">x</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_le" class="idref" href="#Expval_le"><span class="id" title="lemma">Expval_le</span></a> <a id="839c8b2388441587994f5cdeda82404a" class="idref" href="#839c8b2388441587994f5cdeda82404a"><span class="id" title="binder">μ</span></a> <a id="f:700" class="idref" href="#f:700"><span class="id" title="binder">f</span></a> <a id="g:701" class="idref" href="#g:701"><span class="id" title="binder">g</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="x:702" class="idref" href="#x:702"><span class="id" title="binder">x</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:700"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#x:702"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#g:701"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#x:702"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="clutch.prob.distribution.html#839c8b2388441587994f5cdeda82404a"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#g:701"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#839c8b2388441587994f5cdeda82404a"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#f:700"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#839c8b2388441587994f5cdeda82404a"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#g:701"><span class="id" title="variable">g</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hleq</span> <span class="id" title="var">x</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ex_expval_bounded" class="idref" href="#ex_expval_bounded"><span class="id" title="lemma">ex_expval_bounded</span></a> <a id="a76d268eeafd1483378861cf4513925f" class="idref" href="#a76d268eeafd1483378861cf4513925f"><span class="id" title="binder">μ</span></a> <a id="f:704" class="idref" href="#f:704"><span class="id" title="binder">f</span></a> <a id="c:705" class="idref" href="#c:705"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="x:706" class="idref" href="#x:706"><span class="id" title="binder">x</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:704"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#x:706"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#c:705"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="clutch.prob.distribution.html#a76d268eeafd1483378861cf4513925f"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#f:704"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.distribution.html#ex_expval_le"><span class="id" title="lemma">ex_expval_le</span></a>; [ | <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.distribution.html#ex_expval_const"><span class="id" title="lemma">ex_expval_const</span></a> <span class="id" title="var">_</span> <span class="id" title="var">c</span>) ]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_bounded" class="idref" href="#Expval_bounded"><span class="id" title="lemma">Expval_bounded</span></a> <a id="5a22f68524e1fbf9bc75c67c75153c51" class="idref" href="#5a22f68524e1fbf9bc75c67c75153c51"><span class="id" title="binder">μ</span></a> <a id="f:708" class="idref" href="#f:708"><span class="id" title="binder">f</span></a> <a id="c:709" class="idref" href="#c:709"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#c:709"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="x:710" class="idref" href="#x:710"><span class="id" title="binder">x</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:708"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#x:710"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#c:709"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#5a22f68524e1fbf9bc75c67c75153c51"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#f:708"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#c:709"><span class="id" title="variable">c</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hpos</span> <span class="id" title="var">Hleq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#Expval_le"><span class="id" title="lemma">Expval_le</span></a>; [ | <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.distribution.html#ex_expval_const"><span class="id" title="lemma">ex_expval_const</span></a> <span class="id" title="var">_</span> <span class="id" title="var">c</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#Expval_const"><span class="id" title="lemma">Expval_const</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ex_expval_dbind" class="idref" href="#ex_expval_dbind"><span class="id" title="lemma">ex_expval_dbind</span></a> (<a id="d89625e8f265c5aa97068e6acfb5a4d6" class="idref" href="#d89625e8f265c5aa97068e6acfb5a4d6"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#exp_val_prop.A"><span class="id" title="variable">A</span></a>) (<a id="f:712" class="idref" href="#f:712"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#exp_val_prop.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#exp_val_prop.B"><span class="id" title="variable">B</span></a>) <a id="h:713" class="idref" href="#h:713"><span class="id" title="binder">h</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:714" class="idref" href="#a:714"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#h:713"><span class="id" title="variable">h</span></a> <a class="idref" href="clutch.prob.distribution.html#a:714"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="clutch.prob.distribution.html#d89625e8f265c5aa97068e6acfb5a4d6"><span class="id" title="variable">μ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:715" class="idref" href="#a:715"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:712"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:715"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.distribution.html#h:713"><span class="id" title="variable">h</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:716" class="idref" href="#a:716"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:712"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:716"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.distribution.html#h:713"><span class="id" title="variable">h</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> (<a class="idref" href="clutch.prob.distribution.html#d89625e8f265c5aa97068e6acfb5a4d6"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:712"><span class="id" title="variable">f</span></a>) <a class="idref" href="clutch.prob.distribution.html#h:713"><span class="id" title="variable">h</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hh</span> <span class="id" title="var">Hμ</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC_ex_double"><span class="id" title="lemma">fubini_pos_seriesC_ex_double</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:719" class="idref" href="#pat:719"><span class="id" title="binder"><span id="pat:722" class="id">(</span></span></a><a id="x:718" class="idref" href="#x:718"><span class="id" title="binder"><span id="pat:719" class="id"><span id="x:721" class="id"><span id="pat:722" class="id">x</span></span></span></span></a><a id="pat:719" class="idref" href="#pat:719"><span class="id" title="binder"><span id="pat:722" class="id">,</span></span></a> <a id="a:717" class="idref" href="#a:717"><span class="id" title="binder"><span id="pat:719" class="id"><span id="a:720" class="id"><span id="pat:722" class="id">a</span></span></span></span></a><a id="pat:719" class="idref" href="#pat:719"><span class="id" title="binder"><span id="pat:722" class="id">)</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#x:718"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#x:718"><span class="id" title="variable">x</span></a> <a class="idref" href="clutch.prob.distribution.html#a:717"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h</span> <a class="idref" href="clutch.prob.distribution.html#a:717"><span class="id" title="variable">a</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hf</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Should&nbsp;hold&nbsp;without&nbsp;the&nbsp;positivity&nbsp;assumption,&nbsp;but&nbsp;then<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;don't&nbsp;get&nbsp;Fubini<br/>
&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_dbind" class="idref" href="#Expval_dbind"><span class="id" title="lemma">Expval_dbind</span></a> <a id="6376dc8534f3c8d21736297421290db2" class="idref" href="#6376dc8534f3c8d21736297421290db2"><span class="id" title="binder">μ</span></a> (<a id="k:724" class="idref" href="#k:724"><span class="id" title="binder">k</span></a> : <a class="idref" href="clutch.prob.distribution.html#exp_val_prop.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#exp_val_prop.B"><span class="id" title="variable">B</span></a>) (<a id="f:725" class="idref" href="#f:725"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#exp_val_prop.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="b:726" class="idref" href="#b:726"><span class="id" title="binder">b</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:725"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#b:726"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> (<a class="idref" href="clutch.prob.distribution.html#6376dc8534f3c8d21736297421290db2"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#k:724"><span class="id" title="variable">k</span></a>) <a class="idref" href="clutch.prob.distribution.html#f:725"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> (<a class="idref" href="clutch.prob.distribution.html#6376dc8534f3c8d21736297421290db2"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#k:724"><span class="id" title="variable">k</span></a>) <a class="idref" href="clutch.prob.distribution.html#f:725"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#6376dc8534f3c8d21736297421290db2"><span class="id" title="variable">μ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:727" class="idref" href="#a:727"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> (<a class="idref" href="clutch.prob.distribution.html#k:724"><span class="id" title="variable">k</span></a> <a class="idref" href="clutch.prob.distribution.html#a:727"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.distribution.html#f:725"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hpos</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:730" class="idref" href="#pat:730"><span class="id" title="binder"><span id="pat:733" class="id"><span id="pat:736" class="id">(</span></span></span></a><a id="a:729" class="idref" href="#a:729"><span class="id" title="binder"><span id="pat:730" class="id"><span id="a:732" class="id"><span id="pat:733" class="id"><span id="a:735" class="id"><span id="pat:736" class="id">a</span></span></span></span></span></span></a><a id="pat:730" class="idref" href="#pat:730"><span class="id" title="binder"><span id="pat:733" class="id"><span id="pat:736" class="id">,</span></span></span></a><a id="x:728" class="idref" href="#x:728"><span class="id" title="binder"><span id="pat:730" class="id"><span id="x:731" class="id"><span id="pat:733" class="id"><span id="x:734" class="id"><span id="pat:736" class="id">x</span></span></span></span></span></span></a><a id="pat:730" class="idref" href="#pat:730"><span class="id" title="binder"><span id="pat:733" class="id"><span id="pat:736" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#x:728"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span> <a class="idref" href="clutch.prob.distribution.html#x:728"><span class="id" title="variable">x</span></a> <a class="idref" href="clutch.prob.distribution.html#a:729"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:729"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_scal_l" class="idref" href="#Expval_scal_l"><span class="id" title="lemma">Expval_scal_l</span></a> <a id="81cebef413fd899a7c508496a11c8277" class="idref" href="#81cebef413fd899a7c508496a11c8277"><span class="id" title="binder">μ</span></a> <a id="f:738" class="idref" href="#f:738"><span class="id" title="binder">f</span></a> <a id="c:739" class="idref" href="#c:739"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#81cebef413fd899a7c508496a11c8277"><span class="id" title="variable">μ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:740" class="idref" href="#x:740"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#c:739"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:738"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#x:740"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#c:739"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#81cebef413fd899a7c508496a11c8277"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#f:738"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_scal_r" class="idref" href="#Expval_scal_r"><span class="id" title="lemma">Expval_scal_r</span></a> <a id="4a9772e0308aada51e2c141aab2c9bf6" class="idref" href="#4a9772e0308aada51e2c141aab2c9bf6"><span class="id" title="binder">μ</span></a> <a id="f:742" class="idref" href="#f:742"><span class="id" title="binder">f</span></a> <a id="c:743" class="idref" href="#c:743"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#4a9772e0308aada51e2c141aab2c9bf6"><span class="id" title="variable">μ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:744" class="idref" href="#x:744"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:742"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#x:744"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#c:743"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#4a9772e0308aada51e2c141aab2c9bf6"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#f:742"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#c:743"><span class="id" title="variable">c</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_plus" class="idref" href="#Expval_plus"><span class="id" title="lemma">Expval_plus</span></a> <a id="17e8c17483d7d88d79be02afc01ab409" class="idref" href="#17e8c17483d7d88d79be02afc01ab409"><span class="id" title="binder">μ</span></a> <a id="f:746" class="idref" href="#f:746"><span class="id" title="binder">f</span></a> <a id="g:747" class="idref" href="#g:747"><span class="id" title="binder">g</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="clutch.prob.distribution.html#17e8c17483d7d88d79be02afc01ab409"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#f:746"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="clutch.prob.distribution.html#17e8c17483d7d88d79be02afc01ab409"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#g:747"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#17e8c17483d7d88d79be02afc01ab409"><span class="id" title="variable">μ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:748" class="idref" href="#x:748"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:746"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#x:748"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.distribution.html#g:747"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#x:748"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#17e8c17483d7d88d79be02afc01ab409"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#f:746"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#17e8c17483d7d88d79be02afc01ab409"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#g:747"><span class="id" title="variable">g</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hex1</span> <span class="id" title="var">Hex2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_ge_0" class="idref" href="#Expval_ge_0"><span class="id" title="lemma">Expval_ge_0</span></a> <a id="145f666230b28849ee56bdccfe9eba21" class="idref" href="#145f666230b28849ee56bdccfe9eba21"><span class="id" title="binder">μ</span></a> <a id="f:750" class="idref" href="#f:750"><span class="id" title="binder">f</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:751" class="idref" href="#a:751"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:750"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:751"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="clutch.prob.distribution.html#145f666230b28849ee56bdccfe9eba21"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#f:750"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#145f666230b28849ee56bdccfe9eba21"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#f:750"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0"><span class="id" title="lemma">SeriesC_ge_0</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_convex_le" class="idref" href="#Expval_convex_le"><span class="id" title="lemma">Expval_convex_le</span></a> <a id="a48817ac8299a2dd98efe7b24f0c4cc0" class="idref" href="#a48817ac8299a2dd98efe7b24f0c4cc0"><span class="id" title="binder">μ</span></a> <a id="f:753" class="idref" href="#f:753"><span class="id" title="binder">f</span></a> <a id="r:754" class="idref" href="#r:754"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:755" class="idref" href="#a:755"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#r:754"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:753"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:755"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="clutch.prob.distribution.html#a48817ac8299a2dd98efe7b24f0c4cc0"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#f:753"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#a48817ac8299a2dd98efe7b24f0c4cc0"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#r:754"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#a48817ac8299a2dd98efe7b24f0c4cc0"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#f:753"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">Hex</span> <span class="id" title="var">Htot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">r</span> <span class="id" title="keyword">with</span> (<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <span class="id" title="var">μ</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:756" class="idref" href="#a:756"><span class="id" title="binder"><span id="a:757" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">r</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hleq</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>; <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_convex_lt" class="idref" href="#Expval_convex_lt"><span class="id" title="lemma">Expval_convex_lt</span></a> <a id="dac29fadf2fd695301453530951f5c05" class="idref" href="#dac29fadf2fd695301453530951f5c05"><span class="id" title="binder">μ</span></a> <a id="f:759" class="idref" href="#f:759"><span class="id" title="binder">f</span></a> <a id="r:760" class="idref" href="#r:760"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:761" class="idref" href="#a:761"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#r:760"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.prob.distribution.html#f:759"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:761"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="clutch.prob.distribution.html#dac29fadf2fd695301453530951f5c05"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#f:759"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#dac29fadf2fd695301453530951f5c05"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#r:760"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#dac29fadf2fd695301453530951f5c05"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#f:759"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">Hex</span> <span class="id" title="var">Htot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">r</span> <span class="id" title="keyword">with</span> (<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <span class="id" title="var">μ</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:762" class="idref" href="#a:762"><span class="id" title="binder"><span id="a:763" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">r</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_lt"><span class="id" title="lemma">SeriesC_lt</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hleq</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a:764" class="idref" href="#a:764"><span class="id" title="binder"><span id="a:765" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:764"><span class="id" title="variable">a</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">Ha</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_gtz_ex"><span class="id" title="lemma">SeriesC_gtz_ex</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hleq</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>; <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_convex_ex_le" class="idref" href="#Expval_convex_ex_le"><span class="id" title="lemma">Expval_convex_ex_le</span></a> <a id="11597e2fc94fa7bccae9ba8707f71159" class="idref" href="#11597e2fc94fa7bccae9ba8707f71159"><span class="id" title="binder">μ</span></a> <a id="f:767" class="idref" href="#f:767"><span class="id" title="binder">f</span></a> <a id="r:768" class="idref" href="#r:768"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:769" class="idref" href="#a:769"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:767"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:769"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="clutch.prob.distribution.html#11597e2fc94fa7bccae9ba8707f71159"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#f:767"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#11597e2fc94fa7bccae9ba8707f71159"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#11597e2fc94fa7bccae9ba8707f71159"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#f:767"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#r:768"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a':770" class="idref" href="#a':770"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.prob.distribution.html#11597e2fc94fa7bccae9ba8707f71159"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a':770"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="clutch.prob.distribution.html#f:767"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a':770"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#r:768"><span class="id" title="variable">r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">Hex</span> <span class="id" title="var">Htot</span> <span class="id" title="var">Hub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.classical.html#NNP_P"><span class="id" title="lemma">NNP_P</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:771" class="idref" href="#a:771"><span class="id" title="binder"><span id="a:772" class="id">a</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:771"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:771"><span class="id" title="variable">a</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hleq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prelude.classical.html#not_exists_forall_not"><span class="id" title="lemma">not_exists_forall_not</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:773" class="idref" href="#a:773"><span class="id" title="binder"><span id="a:774" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:773"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:773"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">r</span>) <span class="id" title="var">H2</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.classical.html#not_and_or_not"><span class="id" title="lemma">not_and_or_not</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span> <span class="id" title="keyword">as</span> [? | ?]; [<span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span>); <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; [ | <span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a>; [ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.distribution.html#Expval_ge_0"><span class="id" title="lemma">Expval_ge_0</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">f</span>) | ]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">f</span>); [ | <span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">r</span> <span class="id" title="keyword">with</span> (<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <span class="id" title="var">μ</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:775" class="idref" href="#a:775"><span class="id" title="binder"><span id="a:776" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">r</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ | <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>; <span class="id" title="var">nra</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_lt"><span class="id" title="lemma">SeriesC_lt</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hleq'</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> [-&gt;| ]; [<span class="id" title="var">lra</span> | <span class="id" title="var">real_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a:777" class="idref" href="#a:777"><span class="id" title="binder"><span id="a:778" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:777"><span class="id" title="variable">a</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">Ha</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_gtz_ex"><span class="id" title="lemma">SeriesC_gtz_ex</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hleq'</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> [|]; [<span class="id" title="var">lra</span> | <span class="id" title="var">real_solver</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_convex_ge" class="idref" href="#Expval_convex_ge"><span class="id" title="lemma">Expval_convex_ge</span></a> <a id="d9cd2bdb811753662c4ce22247b1fa6b" class="idref" href="#d9cd2bdb811753662c4ce22247b1fa6b"><span class="id" title="binder">μ</span></a> <a id="f:780" class="idref" href="#f:780"><span class="id" title="binder">f</span></a> <a id="r:781" class="idref" href="#r:781"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:782" class="idref" href="#a:782"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:780"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:782"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#r:781"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="clutch.prob.distribution.html#d9cd2bdb811753662c4ce22247b1fa6b"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#f:780"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#d9cd2bdb811753662c4ce22247b1fa6b"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#d9cd2bdb811753662c4ce22247b1fa6b"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#f:780"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#r:781"><span class="id" title="variable">r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">Hex</span> <span class="id" title="var">Htot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">r</span> <span class="id" title="keyword">with</span> (<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <span class="id" title="var">μ</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:783" class="idref" href="#a:783"><span class="id" title="binder"><span id="a:784" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">r</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hleq</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>; <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="markov_ineq" class="idref" href="#markov_ineq"><span class="id" title="lemma">markov_ineq</span></a> <a id="6622738815c7847477b46ea03f8fb7e1" class="idref" href="#6622738815c7847477b46ea03f8fb7e1"><span class="id" title="binder">μ</span></a> <a id="f:786" class="idref" href="#f:786"><span class="id" title="binder">f</span></a> <a id="r:787" class="idref" href="#r:787"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:788" class="idref" href="#a:788"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:786"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:788"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#r:787"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="clutch.prob.distribution.html#6622738815c7847477b46ea03f8fb7e1"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#f:786"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#r:787"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#6622738815c7847477b46ea03f8fb7e1"><span class="id" title="variable">μ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:789" class="idref" href="#a:789"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#r:787"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:786"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:789"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#6622738815c7847477b46ea03f8fb7e1"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#f:786"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hpos</span> <span class="id" title="var">Hr</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:790" class="idref" href="#x:790"><span class="id" title="binder"><span id="x:791" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#x:790"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#x:790"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">))</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#x:790"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#x:790"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#exp_val_prop"><span class="id" title="section">exp_val_prop</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab5"></a><h1 class="section">Monadic map</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="dmap" class="idref" href="#dmap"><span class="id" title="definition">dmap</span></a> `{<a id="H:794" class="idref" href="#H:794"><span class="id" title="binder">Countable</span></a> <a id="A:792" class="idref" href="#A:792"><span class="id" title="binder"><span id="H:794" class="id">A</span></span></a>, <a id="H0:797" class="idref" href="#H0:797"><span class="id" title="binder">Countable</span></a> <a id="B:795" class="idref" href="#B:795"><span class="id" title="binder"><span id="H0:797" class="id">B</span></span></a>} (<a id="f:798" class="idref" href="#f:798"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:792"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#B:795"><span class="id" title="variable">B</span></a>) (<a id="f0c4dfb489778010626199937d9e61b3" class="idref" href="#f0c4dfb489778010626199937d9e61b3"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:792"><span class="id" title="variable">A</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:795"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="a:800" class="idref" href="#a:800"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#f0c4dfb489778010626199937d9e61b3"><span class="id" title="variable">μ</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:798"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:800"><span class="id" title="variable">a</span></a>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="dmap" class="idref" href="#dmap"><span class="id" title="section">dmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:803" class="idref" href="#H:803"><span class="id" title="binder">Countable</span></a> <a id="A:801" class="idref" href="#A:801"><span class="id" title="binder"><span id="H:803" class="id">A</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_id" class="idref" href="#dmap_id"><span class="id" title="lemma">dmap_id</span></a> (<a id="67be5cc1e1c728e42df909a2b3deb300" class="idref" href="#67be5cc1e1c728e42df909a2b3deb300"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:805" class="idref" href="#x:805"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#x:805"><span class="id" title="variable">x</span></a>) <a class="idref" href="clutch.prob.distribution.html#67be5cc1e1c728e42df909a2b3deb300"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#67be5cc1e1c728e42df909a2b3deb300"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#dret_id_right"><span class="id" title="lemma">dret_id_right</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H0:808" class="idref" href="#H0:808"><span class="id" title="binder">Countable</span></a> <a id="B:806" class="idref" href="#B:806"><span class="id" title="binder"><span id="H0:808" class="id">B</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H1:811" class="idref" href="#H1:811"><span class="id" title="binder">Countable</span></a> <a id="X:809" class="idref" href="#X:809"><span class="id" title="binder"><span id="H1:811" class="id">X</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_dret_pmf" class="idref" href="#dmap_dret_pmf"><span class="id" title="lemma">dmap_dret_pmf</span></a> (<a id="f:812" class="idref" href="#f:812"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="a:813" class="idref" href="#a:813"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="b:814" class="idref" href="#b:814"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:812"><span class="id" title="variable">f</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:813"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.distribution.html#b:814"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:812"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:813"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.distribution.html#b:814"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#dret_id_left_pmf"><span class="id" title="lemma">dret_id_left_pmf</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_dret" class="idref" href="#dmap_dret"><span class="id" title="lemma">dmap_dret</span></a> (<a id="f:815" class="idref" href="#f:815"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) <a id="a:816" class="idref" href="#a:816"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:815"><span class="id" title="variable">f</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:816"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:815"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:816"><span class="id" title="variable">a</span></a>) .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="clutch.prob.distribution.html#dmap_dret_pmf"><span class="id" title="lemma">dmap_dret_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_dbind_pmf" class="idref" href="#dmap_dbind_pmf"><span class="id" title="lemma">dmap_dbind_pmf</span></a> (<a id="f:817" class="idref" href="#f:817"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.X"><span class="id" title="variable">X</span></a>) (<a id="g:818" class="idref" href="#g:818"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="0f9b30fd2d60c47ef15543e8c586fb05" class="idref" href="#0f9b30fd2d60c47ef15543e8c586fb05"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="x:820" class="idref" href="#x:820"><span class="id" title="binder">x</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.X"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:817"><span class="id" title="variable">f</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#g:818"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#0f9b30fd2d60c47ef15543e8c586fb05"><span class="id" title="variable">μ</span></a>) <a class="idref" href="clutch.prob.distribution.html#x:820"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:821" class="idref" href="#a:821"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:817"><span class="id" title="variable">f</span></a> (<a class="idref" href="clutch.prob.distribution.html#g:818"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#a:821"><span class="id" title="variable">a</span></a>)) <a class="idref" href="clutch.prob.distribution.html#0f9b30fd2d60c47ef15543e8c586fb05"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#x:820"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#dbind_assoc_pmf"><span class="id" title="lemma">dbind_assoc_pmf</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_dbind" class="idref" href="#dmap_dbind"><span class="id" title="lemma">dmap_dbind</span></a> (<a id="f:822" class="idref" href="#f:822"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.X"><span class="id" title="variable">X</span></a>) (<a id="g:823" class="idref" href="#g:823"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="a683849a6879b9182e492f97ed229010" class="idref" href="#a683849a6879b9182e492f97ed229010"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:822"><span class="id" title="variable">f</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#g:823"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#a683849a6879b9182e492f97ed229010"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:825" class="idref" href="#a:825"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:822"><span class="id" title="variable">f</span></a> (<a class="idref" href="clutch.prob.distribution.html#g:823"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#a:825"><span class="id" title="variable">a</span></a>)) <a class="idref" href="clutch.prob.distribution.html#a683849a6879b9182e492f97ed229010"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="clutch.prob.distribution.html#dmap_dbind_pmf"><span class="id" title="lemma">dmap_dbind_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_comp" class="idref" href="#dmap_comp"><span class="id" title="lemma">dmap_comp</span></a> `{<a id="H2:828" class="idref" href="#H2:828"><span class="id" title="binder">Countable</span></a> <a id="D:826" class="idref" href="#D:826"><span class="id" title="binder"><span id="H2:828" class="id">D</span></span></a>} (<a id="f:829" class="idref" href="#f:829"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="g:830" class="idref" href="#g:830"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#D:826"><span class="id" title="variable">D</span></a>) (<a id="8f57f44c209e212a9563c8270a8d50ed" class="idref" href="#8f57f44c209e212a9563c8270a8d50ed"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#g:830"><span class="id" title="variable">g</span></a> (<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:829"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#8f57f44c209e212a9563c8270a8d50ed"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> (<a class="idref" href="clutch.prob.distribution.html#g:830"><span class="id" title="variable">g</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="clutch.prob.distribution.html#f:829"><span class="id" title="variable">f</span></a>) <a class="idref" href="clutch.prob.distribution.html#8f57f44c209e212a9563c8270a8d50ed"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.distribution.html#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dbind_eq"><span class="id" title="lemma">dbind_eq</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ??. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_id_left"><span class="id" title="lemma">dret_id_left</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_eq" class="idref" href="#dmap_eq"><span class="id" title="lemma">dmap_eq</span></a> (<a id="f:832" class="idref" href="#f:832"><span class="id" title="binder">f</span></a> <a id="g:833" class="idref" href="#g:833"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="33ee80e7916b4c0a03ed0776b0ea67ae" class="idref" href="#33ee80e7916b4c0a03ed0776b0ea67ae"><span class="id" title="binder">μ1</span></a> <a id="a5a8683b0b0c5a809f537eec9f1f3a58" class="idref" href="#a5a8683b0b0c5a809f537eec9f1f3a58"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:836" class="idref" href="#a:836"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#33ee80e7916b4c0a03ed0776b0ea67ae"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:836"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#f:832"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:836"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#g:833"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#a:836"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:837" class="idref" href="#a:837"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#33ee80e7916b4c0a03ed0776b0ea67ae"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:837"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#a5a8683b0b0c5a809f537eec9f1f3a58"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#a:837"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:832"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#33ee80e7916b4c0a03ed0776b0ea67ae"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#g:833"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#a5a8683b0b0c5a809f537eec9f1f3a58"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dbind_eq"><span class="id" title="lemma">dbind_eq</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfg</span> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_mass" class="idref" href="#dmap_mass"><span class="id" title="lemma">dmap_mass</span></a> (<a id="2d81798a320966db306baa02cf5f7967" class="idref" href="#2d81798a320966db306baa02cf5f7967"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="f:839" class="idref" href="#f:839"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:839"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#2d81798a320966db306baa02cf5f7967"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#2d81798a320966db306baa02cf5f7967"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.distribution.html#distr_double_swap"><span class="id" title="lemma">distr_double_swap</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:840" class="idref" href="#a:840"><span class="id" title="binder"><span id="a:841" class="id"><span id="a:842" class="id">a</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:840"><span class="id" title="variable">a</span></a>)) <span class="id" title="var">μ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_pos" class="idref" href="#dmap_pos"><span class="id" title="lemma">dmap_pos</span></a> (<a id="de2351d9312e998af219d12e50424763" class="idref" href="#de2351d9312e998af219d12e50424763"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="f:844" class="idref" href="#f:844"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="b:845" class="idref" href="#b:845"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:844"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#de2351d9312e998af219d12e50424763"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#b:845"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a:846" class="idref" href="#a:846"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:845"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:844"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:846"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.prob.distribution.html#de2351d9312e998af219d12e50424763"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:846"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> [<span class="id" title="var">Hr</span>%<a class="idref" href="clutch.prob.distribution.html#dret_pos"><span class="id" title="lemma">dret_pos</span></a> ?]]%<a class="idref" href="clutch.prob.distribution.html#dbind_pos"><span class="id" title="lemma">dbind_pos</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> [-&gt; <span class="id" title="var">Ha</span>]]. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dbind_pos"><span class="id" title="lemma">dbind_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> //. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_elem_eq" class="idref" href="#dmap_elem_eq"><span class="id" title="lemma">dmap_elem_eq</span></a> (<a id="70d0e55e83cf015d0e8a9b76b222d2a0" class="idref" href="#70d0e55e83cf015d0e8a9b76b222d2a0"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="a:848" class="idref" href="#a:848"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="b:849" class="idref" href="#b:849"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="f:850" class="idref" href="#f:850"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) `{<a id="H2:851" class="idref" href="#H2:851"><span class="id" title="binder">Inj</span></a> <a id="H2:851" class="idref" href="#H2:851"><span class="id" title="binder">A</span></a> <a id="H2:851" class="idref" href="#H2:851"><span class="id" title="binder">B</span></a> <a id="H2:851" class="idref" href="#H2:851"><span class="id" title="binder">(=)</span></a> <a id="H2:851" class="idref" href="#H2:851"><span class="id" title="binder">(=)</span></a> <a id="H2:851" class="idref" href="#H2:851"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#b:849"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:850"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:848"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:850"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#70d0e55e83cf015d0e8a9b76b222d2a0"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#b:849"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#70d0e55e83cf015d0e8a9b76b222d2a0"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:848"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> -&gt;. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dbind_dret_pmf_map"><span class="id" title="lemma">dbind_dret_pmf_map</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_elem_ne" class="idref" href="#dmap_elem_ne"><span class="id" title="lemma">dmap_elem_ne</span></a> (<a id="f56082ace97afbce8c918732e079ec4c" class="idref" href="#f56082ace97afbce8c918732e079ec4c"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="b:853" class="idref" href="#b:853"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="f:854" class="idref" href="#f:854"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) `{<a id="H2:855" class="idref" href="#H2:855"><span class="id" title="binder">Inj</span></a> <a id="H2:855" class="idref" href="#H2:855"><span class="id" title="binder">A</span></a> <a id="H2:855" class="idref" href="#H2:855"><span class="id" title="binder">B</span></a> <a id="H2:855" class="idref" href="#H2:855"><span class="id" title="binder">(=)</span></a> <a id="H2:855" class="idref" href="#H2:855"><span class="id" title="binder">(=)</span></a> <a id="H2:855" class="idref" href="#H2:855"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a:856" class="idref" href="#a:856"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f56082ace97afbce8c918732e079ec4c"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:856"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.prob.distribution.html#f:854"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:856"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#b:853"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:854"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#f56082ace97afbce8c918732e079ec4c"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#b:853"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#dbind_dret_pmf_map_ne"><span class="id" title="lemma">dbind_dret_pmf_map_ne</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_rearrange" class="idref" href="#dmap_rearrange"><span class="id" title="lemma">dmap_rearrange</span></a> `{<a id="H2:858" class="idref" href="#H2:858"><span class="id" title="binder">Countable</span></a> <a id="H2:858" class="idref" href="#H2:858"><span class="id" title="binder">A</span></a>} (<a id="4b4382c9addb9362e00e936cba275747" class="idref" href="#4b4382c9addb9362e00e936cba275747"><span class="id" title="binder">μ1</span></a> <a id="24796e4e2a9dc3ba5afedd4f4ca9f176" class="idref" href="#24796e4e2a9dc3ba5afedd4f4ca9f176"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="f:861" class="idref" href="#f:861"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) `{<a id="H3:862" class="idref" href="#H3:862"><span class="id" title="binder">Inj</span></a> <a id="H3:862" class="idref" href="#H3:862"><span class="id" title="binder">A</span></a> <a id="H3:862" class="idref" href="#H3:862"><span class="id" title="binder">A</span></a> <a id="H3:862" class="idref" href="#H3:862"><span class="id" title="binder">(=)</span></a> <a id="H3:862" class="idref" href="#H3:862"><span class="id" title="binder">(=)</span></a> <a id="H3:862" class="idref" href="#H3:862"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:863" class="idref" href="#a:863"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#4b4382c9addb9362e00e936cba275747"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:863"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a':864" class="idref" href="#a':864"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:861"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a':864"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#a:863"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:865" class="idref" href="#a:865"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#4b4382c9addb9362e00e936cba275747"><span class="id" title="variable">μ1</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:861"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:865"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#24796e4e2a9dc3ba5afedd4f4ca9f176"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#a:865"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#4b4382c9addb9362e00e936cba275747"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:861"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#24796e4e2a9dc3ba5afedd4f4ca9f176"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcov</span> <span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.prelude.classical.html#ExcludedMiddle"><span class="id" title="lemma">ExcludedMiddle</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a':866" class="idref" href="#a':866"><span class="id" title="binder"><span id="a':867" class="id">a'</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a':866"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> [[<span class="id" title="var">a'</span> &lt;-]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:868" class="idref" href="#a:868"><span class="id" title="binder"><span id="a:869" class="id"><span id="a:870" class="id">a</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a:868"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a'</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ2</span> <span class="id" title="var">a'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> //; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a> //; [<span class="id" title="var">lra</span>|]. <span class="id" title="tactic">intros</span> [=]; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hz</span>|<span class="id" title="var">Hz</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hcov</span> <span class="id" title="var">a</span> <span class="id" title="var">Hz</span>)|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">a</span>). <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a>; [<span class="id" title="var">lra</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [=]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="section">dmap</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab6"></a><h1 class="section">Monadic strength</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="strength_l" class="idref" href="#strength_l"><span class="id" title="definition">strength_l</span></a> `{<a id="H:873" class="idref" href="#H:873"><span class="id" title="binder">Countable</span></a> <a id="A:871" class="idref" href="#A:871"><span class="id" title="binder"><span id="H:873" class="id">A</span></span></a>, <a id="H0:876" class="idref" href="#H0:876"><span class="id" title="binder">Countable</span></a> <a id="B:874" class="idref" href="#B:874"><span class="id" title="binder"><span id="H0:876" class="id">B</span></span></a>} (<a id="a:877" class="idref" href="#a:877"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:871"><span class="id" title="variable">A</span></a>) (<a id="1ed877d73ee6a017dbf4afc166f24bf6" class="idref" href="#1ed877d73ee6a017dbf4afc166f24bf6"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:874"><span class="id" title="variable">B</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#A:871"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B:874"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:879" class="idref" href="#b:879"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:877"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:879"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="clutch.prob.distribution.html#1ed877d73ee6a017dbf4afc166f24bf6"><span class="id" title="variable">μ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="strength_r" class="idref" href="#strength_r"><span class="id" title="definition">strength_r</span></a> `{<a id="H:882" class="idref" href="#H:882"><span class="id" title="binder">Countable</span></a> <a id="A:880" class="idref" href="#A:880"><span class="id" title="binder"><span id="H:882" class="id">A</span></span></a>, <a id="H0:885" class="idref" href="#H0:885"><span class="id" title="binder">Countable</span></a> <a id="B:883" class="idref" href="#B:883"><span class="id" title="binder"><span id="H0:885" class="id">B</span></span></a>} (<a id="5c0834c266917ac2a9fe8b1240d075ba" class="idref" href="#5c0834c266917ac2a9fe8b1240d075ba"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:880"><span class="id" title="variable">A</span></a>) (<a id="b:887" class="idref" href="#b:887"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:883"><span class="id" title="variable">B</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#A:880"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B:883"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:888" class="idref" href="#a:888"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:888"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:887"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="clutch.prob.distribution.html#5c0834c266917ac2a9fe8b1240d075ba"><span class="id" title="variable">μ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dbind_strength_l" class="idref" href="#dbind_strength_l"><span class="id" title="lemma">dbind_strength_l</span></a> `{<a id="H:891" class="idref" href="#H:891"><span class="id" title="binder">Countable</span></a> <a id="A:889" class="idref" href="#A:889"><span class="id" title="binder"><span id="H:891" class="id">A</span></span></a>, <a id="H0:894" class="idref" href="#H0:894"><span class="id" title="binder">Countable</span></a> <a id="B:892" class="idref" href="#B:892"><span class="id" title="binder"><span id="H0:894" class="id">B</span></span></a>, <a id="H1:897" class="idref" href="#H1:897"><span class="id" title="binder">Countable</span></a> <a id="D:895" class="idref" href="#D:895"><span class="id" title="binder"><span id="H1:897" class="id">D</span></span></a>} (<a id="f:898" class="idref" href="#f:898"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:889"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="clutch.prob.distribution.html#B:892"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#D:895"><span class="id" title="variable">D</span></a>) (<a id="a:899" class="idref" href="#a:899"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:889"><span class="id" title="variable">A</span></a>) (<a id="620fb0c65436aba675f693c0297754f5" class="idref" href="#620fb0c65436aba675f693c0297754f5"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:892"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> <a class="idref" href="clutch.prob.distribution.html#a:899"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#620fb0c65436aba675f693c0297754f5"><span class="id" title="variable">μ</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:898"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#620fb0c65436aba675f693c0297754f5"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:901" class="idref" href="#b:901"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:898"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:899"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:901"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.distribution.html#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="clutch.prob.distribution.html#dret_id_left"><span class="id" title="lemma">dret_id_left</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dbind_strength_r" class="idref" href="#dbind_strength_r"><span class="id" title="lemma">dbind_strength_r</span></a> `{<a id="H:904" class="idref" href="#H:904"><span class="id" title="binder">Countable</span></a> <a id="A:902" class="idref" href="#A:902"><span class="id" title="binder"><span id="H:904" class="id">A</span></span></a>, <a id="H0:907" class="idref" href="#H0:907"><span class="id" title="binder">Countable</span></a> <a id="B:905" class="idref" href="#B:905"><span class="id" title="binder"><span id="H0:907" class="id">B</span></span></a>, <a id="H1:910" class="idref" href="#H1:910"><span class="id" title="binder">Countable</span></a> <a id="D:908" class="idref" href="#D:908"><span class="id" title="binder"><span id="H1:910" class="id">D</span></span></a>} (<a id="f:911" class="idref" href="#f:911"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:902"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B:905"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#D:908"><span class="id" title="variable">D</span></a>)<br/>
&nbsp;&nbsp;(<a id="cf2f88f0ea105201739c697d8ce449f2" class="idref" href="#cf2f88f0ea105201739c697d8ce449f2"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:902"><span class="id" title="variable">A</span></a>) (<a id="b:913" class="idref" href="#b:913"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:905"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> <a class="idref" href="clutch.prob.distribution.html#cf2f88f0ea105201739c697d8ce449f2"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#b:913"><span class="id" title="variable">b</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:911"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#cf2f88f0ea105201739c697d8ce449f2"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:914" class="idref" href="#a:914"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:911"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:914"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:913"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.distribution.html#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="clutch.prob.distribution.html#dret_id_left"><span class="id" title="lemma">dret_id_left</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) .<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="strength_l_dbind" class="idref" href="#strength_l_dbind"><span class="id" title="lemma">strength_l_dbind</span></a> `{<a id="H:917" class="idref" href="#H:917"><span class="id" title="binder">Countable</span></a> <a id="A:915" class="idref" href="#A:915"><span class="id" title="binder"><span id="H:917" class="id">A</span></span></a>, <a id="H0:920" class="idref" href="#H0:920"><span class="id" title="binder">Countable</span></a> <a id="B:918" class="idref" href="#B:918"><span class="id" title="binder"><span id="H0:920" class="id">B</span></span></a>, <a id="H1:923" class="idref" href="#H1:923"><span class="id" title="binder">Countable</span></a> <a id="D:921" class="idref" href="#D:921"><span class="id" title="binder"><span id="H1:923" class="id">D</span></span></a>} (<a id="f:924" class="idref" href="#f:924"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:918"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#D:921"><span class="id" title="variable">D</span></a>) (<a id="a:925" class="idref" href="#a:925"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:915"><span class="id" title="variable">A</span></a>) (<a id="96504035c3ae5e72de5da11e645018cc" class="idref" href="#96504035c3ae5e72de5da11e645018cc"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:918"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> <a class="idref" href="clutch.prob.distribution.html#a:925"><span class="id" title="variable">a</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:924"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#96504035c3ae5e72de5da11e645018cc"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#96504035c3ae5e72de5da11e645018cc"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:927" class="idref" href="#b:927"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> <a class="idref" href="clutch.prob.distribution.html#a:925"><span class="id" title="variable">a</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:924"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#b:927"><span class="id" title="variable">b</span></a>)<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> -<a class="idref" href="clutch.prob.distribution.html#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="strength_r_dbind" class="idref" href="#strength_r_dbind"><span class="id" title="lemma">strength_r_dbind</span></a> `{<a id="H:930" class="idref" href="#H:930"><span class="id" title="binder">Countable</span></a> <a id="A:928" class="idref" href="#A:928"><span class="id" title="binder"><span id="H:930" class="id">A</span></span></a>, <a id="H0:933" class="idref" href="#H0:933"><span class="id" title="binder">Countable</span></a> <a id="B:931" class="idref" href="#B:931"><span class="id" title="binder"><span id="H0:933" class="id">B</span></span></a>, <a id="H1:936" class="idref" href="#H1:936"><span class="id" title="binder">Countable</span></a> <a id="D:934" class="idref" href="#D:934"><span class="id" title="binder"><span id="H1:936" class="id">D</span></span></a>} (<a id="f:937" class="idref" href="#f:937"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:928"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#D:934"><span class="id" title="variable">D</span></a>) (<a id="b1235b9c566b1939a4bc2791a3ca778f" class="idref" href="#b1235b9c566b1939a4bc2791a3ca778f"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:928"><span class="id" title="variable">A</span></a>) (<a id="b:939" class="idref" href="#b:939"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:931"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f:937"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#b1235b9c566b1939a4bc2791a3ca778f"><span class="id" title="variable">μ</span></a>) <a class="idref" href="clutch.prob.distribution.html#b:939"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#b1235b9c566b1939a4bc2791a3ca778f"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:940" class="idref" href="#a:940"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:937"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:940"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.distribution.html#b:939"><span class="id" title="variable">b</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> -<a class="idref" href="clutch.prob.distribution.html#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="strength_comm" class="idref" href="#strength_comm"><span class="id" title="lemma">strength_comm</span></a> `{<a id="H:943" class="idref" href="#H:943"><span class="id" title="binder">Countable</span></a> <a id="A:941" class="idref" href="#A:941"><span class="id" title="binder"><span id="H:943" class="id">A</span></span></a>, <a id="H0:946" class="idref" href="#H0:946"><span class="id" title="binder">Countable</span></a> <a id="B:944" class="idref" href="#B:944"><span class="id" title="binder"><span id="H0:946" class="id">B</span></span></a>} (<a id="f:947" class="idref" href="#f:947"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:941"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:941"><span class="id" title="variable">A</span></a>) (<a id="g:948" class="idref" href="#g:948"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:944"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:944"><span class="id" title="variable">B</span></a>) (<a id="a:949" class="idref" href="#a:949"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:941"><span class="id" title="variable">A</span></a>) (<a id="b:950" class="idref" href="#b:950"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:944"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> <a class="idref" href="clutch.prob.distribution.html#a:949"><span class="id" title="variable">a</span></a> (<a class="idref" href="clutch.prob.distribution.html#g:948"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#b:950"><span class="id" title="variable">b</span></a>) <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:953" class="idref" href="#pat:953"><span class="id" title="binder">(</span></a><a id="a':952" class="idref" href="#a':952"><span class="id" title="binder"><span id="pat:953" class="id">a'</span></span></a><a id="pat:953" class="idref" href="#pat:953"><span class="id" title="binder">,</span></a><a id="b':951" class="idref" href="#b':951"><span class="id" title="binder"><span id="pat:953" class="id">b'</span></span></a><a id="pat:953" class="idref" href="#pat:953"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:947"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a':952"><span class="id" title="variable">a'</span></a>) <a class="idref" href="clutch.prob.distribution.html#b':951"><span class="id" title="variable">b'</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:947"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:949"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.distribution.html#b:950"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:956" class="idref" href="#pat:956"><span class="id" title="binder">(</span></a><a id="a':955" class="idref" href="#a':955"><span class="id" title="binder"><span id="pat:956" class="id">a'</span></span></a><a id="pat:956" class="idref" href="#pat:956"><span class="id" title="binder">,</span></a><a id="b':954" class="idref" href="#b':954"><span class="id" title="binder"><span id="pat:956" class="id">b'</span></span></a><a id="pat:956" class="idref" href="#pat:956"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> <a class="idref" href="clutch.prob.distribution.html#a':955"><span class="id" title="variable">a'</span></a> (<a class="idref" href="clutch.prob.distribution.html#g:948"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#b':954"><span class="id" title="variable">b'</span></a>)<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dbind_strength_l"><span class="id" title="lemma">dbind_strength_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dbind_strength_r"><span class="id" title="lemma">dbind_strength_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> /<a class="idref" href="clutch.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">a'</span> &amp; <span class="id" title="var">b'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {2 4}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:959" class="idref" href="#pat:959"><span class="id" title="binder"><span id="pat:962" class="id"><span id="pat:965" class="id">(</span></span></span></a><a id="x:958" class="idref" href="#x:958"><span class="id" title="binder"><span id="pat:959" class="id"><span id="x:961" class="id"><span id="pat:962" class="id"><span id="x:964" class="id"><span id="pat:965" class="id">x</span></span></span></span></span></span></a><a id="pat:959" class="idref" href="#pat:959"><span class="id" title="binder"><span id="pat:962" class="id"><span id="pat:965" class="id">,</span></span></span></a> <a id="a0:957" class="idref" href="#a0:957"><span class="id" title="binder"><span id="pat:959" class="id"><span id="a0:960" class="id"><span id="pat:962" class="id"><span id="a0:963" class="id"><span id="pat:965" class="id">a0</span></span></span></span></span></span></a><a id="pat:959" class="idref" href="#pat:959"><span class="id" title="binder"><span id="pat:962" class="id"><span id="pat:965" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <span class="id" title="var">b</span> <a class="idref" href="clutch.prob.distribution.html#a0:957"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span> <span class="id" title="var">a</span> <a class="idref" href="clutch.prob.distribution.html#x:958"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#x:958"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#a0:957"><span class="id" title="variable">a0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> =&gt; <span class="id" title="var">a''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> =&gt; <span class="id" title="var">b''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /=; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)); [|<span class="id" title="var">done</span>]. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:966" class="idref" href="#a0:966"><span class="id" title="binder"><span id="a0:968" class="id">a0</span></span></a> : <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b0:967" class="idref" href="#b0:967"><span class="id" title="binder"><span id="b0:969" class="id">b0</span></span></a> : <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <span class="id" title="var">b</span> <a class="idref" href="clutch.prob.distribution.html#b0:967"><span class="id" title="variable">b0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span> <span class="id" title="var">a</span> <a class="idref" href="clutch.prob.distribution.html#a0:966"><span class="id" title="variable">a0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0"><span class="id" title="lemma">SeriesC_ge_0</span></a>; [<span class="id" title="var">real_solver</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [<span class="id" title="var">real_solver</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab7"></a><h1 class="section">Monadic fold left</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="foldlM" class="idref" href="#foldlM"><span class="id" title="definition">foldlM</span></a> {<a id="A:970" class="idref" href="#A:970"><span class="id" title="binder">A</span></a> <a id="B:971" class="idref" href="#B:971"><span class="id" title="binder">B</span></a>} `{<a id="H:973" class="idref" href="#H:973"><span class="id" title="binder">Countable</span></a> <a id="H:973" class="idref" href="#H:973"><span class="id" title="binder">B</span></a>} (<a id="f:974" class="idref" href="#f:974"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:971"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#A:970"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:971"><span class="id" title="variable">B</span></a>) (<a id="b:975" class="idref" href="#b:975"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:971"><span class="id" title="variable">B</span></a>) (<a id="xs:976" class="idref" href="#xs:976"><span class="id" title="binder">xs</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="clutch.prob.distribution.html#A:970"><span class="id" title="variable">A</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:971"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:977" class="idref" href="#a:977"><span class="id" title="binder">a</span></a> <a id="m:978" class="idref" href="#m:978"><span class="id" title="binder">m</span></a> <a id="b:979" class="idref" href="#b:979"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:974"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#b:979"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.distribution.html#a:977"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#m:978"><span class="id" title="variable">m</span></a>) <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#xs:976"><span class="id" title="variable">xs</span></a> <a class="idref" href="clutch.prob.distribution.html#b:975"><span class="id" title="variable">b</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="foldlM" class="idref" href="#foldlM"><span class="id" title="section">foldlM</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="A:980" class="idref" href="#A:980"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="H:983" class="idref" href="#H:983"><span class="id" title="binder">Countable</span></a> <a id="B:981" class="idref" href="#B:981"><span class="id" title="binder"><span id="H:983" class="id">B</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldlM_nil" class="idref" href="#foldlM_nil"><span class="id" title="lemma">foldlM_nil</span></a> (<a id="f:984" class="idref" href="#f:984"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#foldlM.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#foldlM.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#foldlM.B"><span class="id" title="variable">B</span></a>) (<a id="b:985" class="idref" href="#b:985"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#foldlM.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#foldlM"><span class="id" title="definition">foldlM</span></a> <a class="idref" href="clutch.prob.distribution.html#f:984"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#b:985"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#b:985"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldlM_cons" class="idref" href="#foldlM_cons"><span class="id" title="lemma">foldlM_cons</span></a> (<a id="f:986" class="idref" href="#f:986"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#foldlM.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#foldlM.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#foldlM.B"><span class="id" title="variable">B</span></a>) (<a id="b:987" class="idref" href="#b:987"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#foldlM.B"><span class="id" title="variable">B</span></a>) (<a id="x:988" class="idref" href="#x:988"><span class="id" title="binder">x</span></a> : <a class="idref" href="clutch.prob.distribution.html#foldlM.A"><span class="id" title="variable">A</span></a>) (<a id="xs:989" class="idref" href="#xs:989"><span class="id" title="binder">xs</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="clutch.prob.distribution.html#foldlM.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#foldlM"><span class="id" title="definition">foldlM</span></a> <a class="idref" href="clutch.prob.distribution.html#f:986"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#b:987"><span class="id" title="variable">b</span></a> (<a class="idref" href="clutch.prob.distribution.html#x:988"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="clutch.prob.distribution.html#xs:989"><span class="id" title="variable">xs</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:986"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#b:987"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.distribution.html#x:988"><span class="id" title="variable">x</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':990" class="idref" href="#b':990"><span class="id" title="binder">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#foldlM"><span class="id" title="definition">foldlM</span></a> <a class="idref" href="clutch.prob.distribution.html#f:986"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#b':990"><span class="id" title="variable">b'</span></a> <a class="idref" href="clutch.prob.distribution.html#xs:989"><span class="id" title="variable">xs</span></a><a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#foldlM"><span class="id" title="section">foldlM</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab8"></a><h1 class="section">Monadic itereration</h1>

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="iterM" class="idref" href="#iterM"><span class="id" title="definition">iterM</span></a> {<a id="A:991" class="idref" href="#A:991"><span class="id" title="binder">A</span></a>} `{<a id="H:993" class="idref" href="#H:993"><span class="id" title="binder">Countable</span></a> <a id="H:993" class="idref" href="#H:993"><span class="id" title="binder">A</span></a>} (<a id="n:994" class="idref" href="#n:994"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="f:995" class="idref" href="#f:995"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:991"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:991"><span class="id" title="variable">A</span></a>) (<a id="a:996" class="idref" href="#a:996"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:991"><span class="id" title="variable">A</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:991"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="clutch.prob.distribution.html#n:994"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:996"><span class="id" title="variable">a</span></a> | <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="clutch.prob.distribution.html#f:995"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:996"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#iterM:997"><span class="id" title="definition">iterM</span></a> <a class="idref" href="clutch.prob.distribution.html#n:994"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.prob.distribution.html#f:995"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="iterM" class="idref" href="#iterM"><span class="id" title="section">iterM</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:1001" class="idref" href="#H:1001"><span class="id" title="binder">Countable</span></a> <a id="A:999" class="idref" href="#A:999"><span class="id" title="binder"><span id="H:1001" class="id">A</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="iterM_O" class="idref" href="#iterM_O"><span class="id" title="lemma">iterM_O</span></a> (<a id="f:1002" class="idref" href="#f:1002"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a>) (<a id="a:1003" class="idref" href="#a:1003"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> 0 <a class="idref" href="clutch.prob.distribution.html#f:1002"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1003"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1003"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="iterM_Sn" class="idref" href="#iterM_Sn"><span class="id" title="lemma">iterM_Sn</span></a> (<a id="f:1004" class="idref" href="#f:1004"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a>) (<a id="a:1005" class="idref" href="#a:1005"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a>) (<a id="n:1006" class="idref" href="#n:1006"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="clutch.prob.distribution.html#n:1006"><span class="id" title="variable">n</span></a>) <a class="idref" href="clutch.prob.distribution.html#f:1004"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1005"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1004"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1005"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> <a class="idref" href="clutch.prob.distribution.html#n:1006"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1004"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="iterM_plus" class="idref" href="#iterM_plus"><span class="id" title="lemma">iterM_plus</span></a> (<a id="f:1007" class="idref" href="#f:1007"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a>) (<a id="a:1008" class="idref" href="#a:1008"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a>) (<a id="n:1009" class="idref" href="#n:1009"><span class="id" title="binder">n</span></a> <a id="m:1010" class="idref" href="#m:1010"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> (<a class="idref" href="clutch.prob.distribution.html#n:1009"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.distribution.html#m:1010"><span class="id" title="variable">m</span></a>) <a class="idref" href="clutch.prob.distribution.html#f:1007"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1008"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> <a class="idref" href="clutch.prob.distribution.html#n:1009"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1007"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1008"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> <a class="idref" href="clutch.prob.distribution.html#m:1010"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1007"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#plus_O_n"><span class="id" title="lemma">plus_O_n</span></a> <a class="idref" href="clutch.prob.distribution.html#iterM_O"><span class="id" title="lemma">iterM_O</span></a> <a class="idref" href="clutch.prob.distribution.html#dret_id_left"><span class="id" title="lemma">dret_id_left</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.distribution.html#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a> -/<a class="idref" href="clutch.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">extensionality</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="iterM_mono" class="idref" href="#iterM_mono"><span class="id" title="lemma">iterM_mono</span></a> (<a id="f:1011" class="idref" href="#f:1011"><span class="id" title="binder">f</span></a> <a id="g:1012" class="idref" href="#g:1012"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a>) <a id="n:1013" class="idref" href="#n:1013"><span class="id" title="binder">n</span></a> <a id="a:1014" class="idref" href="#a:1014"><span class="id" title="binder">a</span></a> <a id="a':1015" class="idref" href="#a':1015"><span class="id" title="binder">a'</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:1016" class="idref" href="#a:1016"><span class="id" title="binder">a</span></a> <a id="a':1017" class="idref" href="#a':1017"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1011"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1016"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a':1017"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#g:1012"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1016"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a':1017"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> <a class="idref" href="clutch.prob.distribution.html#n:1013"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1011"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1014"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a':1015"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> <a class="idref" href="clutch.prob.distribution.html#n:1013"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.prob.distribution.html#g:1012"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1014"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#a':1015"><span class="id" title="variable">a'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span> <span class="id" title="var">Ha</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a>/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>. <span class="id" title="tactic">exists</span> 1. <span class="id" title="var">naive_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#iterM"><span class="id" title="section">iterM</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab9"></a><h1 class="section">Coins</h1>

</div>
<div class="code">
<span class="id" title="keyword">Program Definition</span> <a id="fair_coin" class="idref" href="#fair_coin"><span class="id" title="definition">fair_coin</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> := <a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 0.5) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span> []; <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_finite_mass"><span class="id" title="lemma">SeriesC_finite_mass</span></a> /=. <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fair_coin_mass" class="idref" href="#fair_coin_mass"><span class="id" title="lemma">fair_coin_mass</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_finite_mass"><span class="id" title="lemma">SeriesC_finite_mass</span></a> /=. <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fair_coin_pmf" class="idref" href="#fair_coin_pmf"><span class="id" title="lemma">fair_coin_pmf</span></a> <a id="b:1018" class="idref" href="#b:1018"><span class="id" title="binder">b</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1018"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.5.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fair_coin_dbind_mass" class="idref" href="#fair_coin_dbind_mass"><span class="id" title="lemma">fair_coin_dbind_mass</span></a> `{<a id="H:1021" class="idref" href="#H:1021"><span class="id" title="binder">Countable</span></a> <a id="A:1019" class="idref" href="#A:1019"><span class="id" title="binder"><span id="H:1021" class="id">A</span></span></a>} (<a id="f:1022" class="idref" href="#f:1022"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1019"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1022"><span class="id" title="variable">f</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:1022"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:1022"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:1025" class="idref" href="#pat:1025"><span class="id" title="binder"><span id="pat:1028" class="id"><span id="pat:1031" class="id">(</span></span></span></a><a id="a:1024" class="idref" href="#a:1024"><span class="id" title="binder"><span id="pat:1025" class="id"><span id="a:1027" class="id"><span id="pat:1028" class="id"><span id="a:1030" class="id"><span id="pat:1031" class="id">a</span></span></span></span></span></span></a><a id="pat:1025" class="idref" href="#pat:1025"><span class="id" title="binder"><span id="pat:1028" class="id"><span id="pat:1031" class="id">,</span></span></span></a> <a id="b:1023" class="idref" href="#b:1023"><span class="id" title="binder"><span id="pat:1025" class="id"><span id="b:1026" class="id"><span id="pat:1028" class="id"><span id="b:1029" class="id"><span id="pat:1031" class="id">b</span></span></span></span></span></span></a><a id="pat:1025" class="idref" href="#pat:1025"><span class="id" title="binder"><span id="pat:1028" class="id"><span id="pat:1031" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1024"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#a:1024"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1023"><span class="id" title="variable">b</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_bool"><span class="id" title="lemma">SeriesC_bool</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1 3}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /=. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ex_expval_fair_coin_dbind" class="idref" href="#ex_expval_fair_coin_dbind"><span class="id" title="lemma">ex_expval_fair_coin_dbind</span></a> `{<a id="H:1034" class="idref" href="#H:1034"><span class="id" title="binder">Countable</span></a> <a id="A:1032" class="idref" href="#A:1032"><span class="id" title="binder"><span id="H:1034" class="id">A</span></span></a>} (<a id="f:1035" class="idref" href="#f:1035"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1032"><span class="id" title="variable">A</span></a>) <a id="h:1036" class="idref" href="#h:1036"><span class="id" title="binder">h</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:1037" class="idref" href="#b:1037"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:1035"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1037"><span class="id" title="variable">b</span></a>) <a class="idref" href="clutch.prob.distribution.html#h:1036"><span class="id" title="variable">h</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> (<a class="idref" href="clutch.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1035"><span class="id" title="variable">f</span></a>) <a class="idref" href="clutch.prob.distribution.html#h:1036"><span class="id" title="variable">h</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_bool"><span class="id" title="lemma">SeriesC_bool</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="clutch.prob.distribution.html#fair_coin_pmf"><span class="id" title="lemma">fair_coin_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_plus_distr_r"><span class="id" title="lemma">Rmult_plus_distr_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_plus"><span class="id" title="lemma">ex_seriesC_plus</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hf</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Expval_fair_coin" class="idref" href="#Expval_fair_coin"><span class="id" title="lemma">Expval_fair_coin</span></a> <a id="f:1038" class="idref" href="#f:1038"><span class="id" title="binder">f</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1038"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1038"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1038"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a>/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/= <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_bool"><span class="id" title="lemma">SeriesC_bool</span></a>; <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;may&nbsp;need&nbsp;this&nbsp;generality&nbsp;later,&nbsp;but&nbsp;I&nbsp;think&nbsp;it&nbsp;is&nbsp;better&nbsp;to&nbsp;define&nbsp;the&nbsp;fair&nbsp;coin&nbsp;explicitly&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="biased_coin_pmf" class="idref" href="#biased_coin_pmf"><span class="id" title="definition">biased_coin_pmf</span></a> <a id="r:1039" class="idref" href="#r:1039"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:1040" class="idref" href="#b:1040"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1040"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob.distribution.html#r:1039"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="clutch.prob.distribution.html#r:1039"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Program Definition</span> <a id="biased_coin" class="idref" href="#biased_coin"><span class="id" title="definition">biased_coin</span></a> <a id="r:1041" class="idref" href="#r:1041"><span class="id" title="binder">r</span></a> (<a id="P:1042" class="idref" href="#P:1042"><span class="id" title="binder">P</span></a> : 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#r:1041"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> 1) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> := <a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="clutch.prob.distribution.html#biased_coin_pmf"><span class="id" title="definition">biased_coin_pmf</span></a> <a class="idref" href="clutch.prob.distribution.html#r:1041"><span class="id" title="variable">r</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">P</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#biased_coin_pmf"><span class="id" title="definition">biased_coin_pmf</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_ext"><span class="id" title="lemma">ex_seriesC_ext</span></a>  (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:1043" class="idref" href="#b:1043"><span class="id" title="binder"><span id="b:1044" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#b:1043"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#b:1043"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#biased_coin_pmf"><span class="id" title="definition">biased_coin_pmf</span></a> /=; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_plus"><span class="id" title="lemma">ex_seriesC_plus</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_singleton"><span class="id" title="lemma">ex_seriesC_singleton</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:1045" class="idref" href="#b:1045"><span class="id" title="binder"><span id="b:1046" class="id"><span id="b:1047" class="id">b</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#b:1045"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#b:1045"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;2 : { <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#biased_coin_pmf"><span class="id" title="definition">biased_coin_pmf</span></a> /= ; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>; [|<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_singleton"><span class="id" title="lemma">ex_seriesC_singleton</span></a>.. ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>. <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Convex&nbsp;combinations&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="fair_conv_comb" class="idref" href="#fair_conv_comb"><span class="id" title="definition">fair_conv_comb</span></a> `{<a id="H:1050" class="idref" href="#H:1050"><span class="id" title="binder">Countable</span></a> <a id="A:1048" class="idref" href="#A:1048"><span class="id" title="binder"><span id="H:1050" class="id">A</span></span></a>} (<a id="204350bd95b172e0c1773e7eb6723656" class="idref" href="#204350bd95b172e0c1773e7eb6723656"><span class="id" title="binder">μ1</span></a> <a id="129ad177402630e251487c2ffbbe608a" class="idref" href="#129ad177402630e251487c2ffbbe608a"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1048"><span class="id" title="variable">A</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1048"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:1053" class="idref" href="#b:1053"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1053"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob.distribution.html#204350bd95b172e0c1773e7eb6723656"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="clutch.prob.distribution.html#129ad177402630e251487c2ffbbe608a"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="clutch.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="conv_prop" class="idref" href="#conv_prop"><span class="id" title="section">conv_prop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:1056" class="idref" href="#H:1056"><span class="id" title="binder">Countable</span></a> <a id="A:1054" class="idref" href="#A:1054"><span class="id" title="binder"><span id="H:1056" class="id">A</span></span></a>, <a id="H0:1059" class="idref" href="#H0:1059"><span class="id" title="binder">Countable</span></a> <a id="B:1057" class="idref" href="#B:1057"><span class="id" title="binder"><span id="H0:1059" class="id">B</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fair_conv_comb_pmf" class="idref" href="#fair_conv_comb_pmf"><span class="id" title="lemma">fair_conv_comb_pmf</span></a> `{<a id="H1:1062" class="idref" href="#H1:1062"><span class="id" title="binder">Countable</span></a> <a id="D:1060" class="idref" href="#D:1060"><span class="id" title="binder"><span id="H1:1062" class="id">D</span></span></a>} (<a id="fded5c63c6a007f7735f5db490ce4f7d" class="idref" href="#fded5c63c6a007f7735f5db490ce4f7d"><span class="id" title="binder">μ1</span></a> <a id="c5ba8024f74271d4c09197d2075468f9" class="idref" href="#c5ba8024f74271d4c09197d2075468f9"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#D:1060"><span class="id" title="variable">D</span></a>) (<a id="a:1065" class="idref" href="#a:1065"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#D:1060"><span class="id" title="variable">D</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#fair_conv_comb"><span class="id" title="definition">fair_conv_comb</span></a> <a class="idref" href="clutch.prob.distribution.html#fded5c63c6a007f7735f5db490ce4f7d"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#c5ba8024f74271d4c09197d2075468f9"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1065"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#fded5c63c6a007f7735f5db490ce4f7d"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1065"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#c5ba8024f74271d4c09197d2075468f9"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1065"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:1066" class="idref" href="#b:1066"><span class="id" title="binder"><span id="b:1067" class="id"><span id="b:1068" class="id">b</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#b:1066"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#b:1066"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">μ2</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">rewrite</span> /= /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /=; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>; [|<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_singleton"><span class="id" title="lemma">ex_seriesC_singleton</span></a>.. ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> /=. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="dbind_fair_conv_comb" class="idref" href="#dbind_fair_conv_comb"><span class="id" title="definition">dbind_fair_conv_comb</span></a> (<a id="f1:1069" class="idref" href="#f1:1069"><span class="id" title="binder">f1</span></a> <a id="f2:1070" class="idref" href="#f2:1070"><span class="id" title="binder">f2</span></a> : <a class="idref" href="clutch.prob.distribution.html#conv_prop.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#conv_prop.B"><span class="id" title="variable">B</span></a>) (<a id="8f84529dd25d63b7f239b04904a1d2fc" class="idref" href="#8f84529dd25d63b7f239b04904a1d2fc"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#conv_prop.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#8f84529dd25d63b7f239b04904a1d2fc"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:1072" class="idref" href="#a:1072"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#fair_conv_comb"><span class="id" title="definition">fair_conv_comb</span></a> (<a class="idref" href="clutch.prob.distribution.html#f1:1069"><span class="id" title="variable">f1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1072"><span class="id" title="variable">a</span></a>) (<a class="idref" href="clutch.prob.distribution.html#f2:1070"><span class="id" title="variable">f2</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1072"><span class="id" title="variable">a</span></a>)<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#fair_conv_comb"><span class="id" title="definition">fair_conv_comb</span></a> (<a class="idref" href="clutch.prob.distribution.html#8f84529dd25d63b7f239b04904a1d2fc"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#f1:1069"><span class="id" title="variable">f1</span></a>) (<a class="idref" href="clutch.prob.distribution.html#8f84529dd25d63b7f239b04904a1d2fc"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#f2:1070"><span class="id" title="variable">f2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.distribution.html#fair_conv_comb_pmf"><span class="id" title="lemma">fair_conv_comb_pmf</span></a> (<span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <span class="id" title="var">f1</span>) (<span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <span class="id" title="var">f2</span>) <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:1073" class="idref" href="#a:1073"><span class="id" title="binder"><span id="a:1074" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:1073"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#fair_conv_comb"><span class="id" title="definition">fair_conv_comb</span></a> (<span class="id" title="var">f1</span> <a class="idref" href="clutch.prob.distribution.html#a:1073"><span class="id" title="variable">a</span></a>) (<span class="id" title="var">f2</span> <a class="idref" href="clutch.prob.distribution.html#a:1073"><span class="id" title="variable">a</span></a>) <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:1073"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> (<span class="id" title="var">f1</span> <a class="idref" href="clutch.prob.distribution.html#a:1073"><span class="id" title="variable">a</span></a>) <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">μ</span> <a class="idref" href="clutch.prob.distribution.html#a:1073"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> (<span class="id" title="var">f2</span> <a class="idref" href="clutch.prob.distribution.html#a:1073"><span class="id" title="variable">a</span></a>) <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#fair_conv_comb_pmf"><span class="id" title="lemma">fair_conv_comb_pmf</span></a>; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_plus_distr_l"><span class="id" title="lemma">Rmult_plus_distr_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {5 6}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [| <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [| <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dret_coin_zero" class="idref" href="#dbind_dret_coin_zero"><span class="id" title="lemma">dbind_dret_coin_zero</span></a> (<a id="f:1075" class="idref" href="#f:1075"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#conv_prop.A"><span class="id" title="variable">A</span></a>) (<a id="a:1076" class="idref" href="#a:1076"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#conv_prop.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:1077" class="idref" href="#b:1077"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1075"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1077"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1076"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:1078" class="idref" href="#b:1078"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:1075"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1078"><span class="id" title="variable">b</span></a>)<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">))</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_false_2"><span class="id" title="lemma">bool_decide_eq_false_2</span></a> //. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dret_coin_nonzero" class="idref" href="#dbind_dret_coin_nonzero"><span class="id" title="lemma">dbind_dret_coin_nonzero</span></a> (<a id="f:1079" class="idref" href="#f:1079"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#conv_prop.A"><span class="id" title="variable">A</span></a>) (<a id="a:1080" class="idref" href="#a:1080"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#conv_prop.A"><span class="id" title="variable">A</span></a>) `{<a id="H1:1081" class="idref" href="#H1:1081"><span class="id" title="binder">Inj</span></a> <a id="H1:1081" class="idref" href="#H1:1081"><span class="id" title="binder">bool</span></a> <a id="H1:1081" class="idref" href="#H1:1081"><span class="id" title="binder">A</span></a> <a id="H1:1081" class="idref" href="#H1:1081"><span class="id" title="binder">(=)</span></a> <a id="H1:1081" class="idref" href="#H1:1081"><span class="id" title="binder">(=)</span></a> <a id="H1:1081" class="idref" href="#H1:1081"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="b:1082" class="idref" href="#b:1082"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1079"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1082"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1080"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:1083" class="idref" href="#b:1083"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="clutch.prob.distribution.html#f:1079"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1083"><span class="id" title="variable">b</span></a>)<a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">))</span></a> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.5 .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:1084" class="idref" href="#b:1084"><span class="id" title="binder"><span id="b:1085" class="id"><span id="b:1086" class="id">b</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#b:1084"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton_inj"><span class="id" title="lemma">SeriesC_singleton_inj</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fair_conv_comb_mass" class="idref" href="#fair_conv_comb_mass"><span class="id" title="lemma">fair_conv_comb_mass</span></a> `{<a id="H1:1088" class="idref" href="#H1:1088"><span class="id" title="binder">Countable</span></a> <a id="H1:1088" class="idref" href="#H1:1088"><span class="id" title="binder">A</span></a>} (<a id="003ca01e3dc254f2b27046e77fe8beac" class="idref" href="#003ca01e3dc254f2b27046e77fe8beac"><span class="id" title="binder">μ1</span></a> <a id="5b9da7531e7964f6eaa51d458ecc625a" class="idref" href="#5b9da7531e7964f6eaa51d458ecc625a"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#conv_prop.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#fair_conv_comb"><span class="id" title="definition">fair_conv_comb</span></a> <a class="idref" href="clutch.prob.distribution.html#003ca01e3dc254f2b27046e77fe8beac"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#5b9da7531e7964f6eaa51d458ecc625a"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#003ca01e3dc254f2b27046e77fe8beac"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#5b9da7531e7964f6eaa51d458ecc625a"><span class="id" title="variable">μ2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a> // -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> =&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#fair_conv_comb_pmf"><span class="id" title="lemma">fair_conv_comb_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#conv_prop"><span class="id" title="section">conv_prop</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab10"></a><h1 class="section">The zero distribution</h1>

</div>
<div class="code">
<span class="id" title="keyword">Program Definition</span> <a id="dzero" class="idref" href="#dzero"><span class="id" title="definition">dzero</span></a> `{<a id="H:1093" class="idref" href="#H:1093"><span class="id" title="binder">Countable</span></a> <a id="A:1091" class="idref" href="#A:1091"><span class="id" title="binder"><span id="H:1093" class="id">A</span></span></a>} : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1091"><span class="id" title="variable">A</span></a> := <a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 0) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_0"><span class="id" title="lemma">ex_seriesC_0</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> //. <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="dzero" class="idref" href="#dzero"><span class="id" title="section">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:1096" class="idref" href="#H:1096"><span class="id" title="binder">Countable</span></a> <a id="A:1094" class="idref" href="#A:1094"><span class="id" title="binder"><span id="H:1096" class="id">A</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dzero_ext" class="idref" href="#dzero_ext"><span class="id" title="lemma">dzero_ext</span></a> (<a id="2a25f84990ca4d82f9e76b1e8660c14d" class="idref" href="#2a25f84990ca4d82f9e76b1e8660c14d"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:1098" class="idref" href="#a:1098"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#2a25f84990ca4d82f9e76b1e8660c14d"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1098"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#2a25f84990ca4d82f9e76b1e8660c14d"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dzero_0" class="idref" href="#dzero_0"><span class="id" title="lemma">dzero_0</span></a> `{<a id="H0:1100" class="idref" href="#H0:1100"><span class="id" title="binder">Countable</span></a> <a id="H0:1100" class="idref" href="#H0:1100"><span class="id" title="binder">A</span></a>} (<a id="a:1101" class="idref" href="#a:1101"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1101"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dzero_supp_empty" class="idref" href="#dzero_supp_empty"><span class="id" title="lemma">dzero_supp_empty</span></a> (<a id="a:1102" class="idref" href="#a:1102"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1102"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /=. <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dzero_mass" class="idref" href="#dzero_mass"><span class="id" title="lemma">dzero_mass</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (@<a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SeriesC_zero_dzero" class="idref" href="#SeriesC_zero_dzero"><span class="id" title="lemma">SeriesC_zero_dzero</span></a> (<a id="9fc94580c47bca24f70314dd7c2b6207" class="idref" href="#9fc94580c47bca24f70314dd7c2b6207"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#9fc94580c47bca24f70314dd7c2b6207"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#9fc94580c47bca24f70314dd7c2b6207"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dzero_ext"><span class="id" title="lemma">dzero_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_const0"><span class="id" title="lemma">SeriesC_const0</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_correct'"><span class="id" title="lemma">SeriesC_correct'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="not_dzero_gt_0" class="idref" href="#not_dzero_gt_0"><span class="id" title="lemma">not_dzero_gt_0</span></a> (<a id="71a21e4b786b5c9d113f72d1760e838c" class="idref" href="#71a21e4b786b5c9d113f72d1760e838c"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#71a21e4b786b5c9d113f72d1760e838c"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#71a21e4b786b5c9d113f72d1760e838c"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Req_dec"><span class="id" title="lemma">Req_dec</span></a> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ</span>) 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hz</span>, <a class="idref" href="clutch.prob.distribution.html#SeriesC_zero_dzero"><span class="id" title="lemma">SeriesC_zero_dzero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_SeriesC_ge_0"><span class="id" title="lemma">pmf_SeriesC_ge_0</span></a> <span class="id" title="var">μ</span>). <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_not_dzero" class="idref" href="#dret_not_dzero"><span class="id" title="lemma">dret_not_dzero</span></a> (<a id="a:1105" class="idref" href="#a:1105"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1105"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Ha</span>: <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">a</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <span class="id" title="var">a</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> // /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /<a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dzero_pmf" class="idref" href="#dbind_dzero_pmf"><span class="id" title="lemma">dbind_dzero_pmf</span></a> `{<a id="H0:1108" class="idref" href="#H0:1108"><span class="id" title="binder">Countable</span></a> <a id="B:1106" class="idref" href="#B:1106"><span class="id" title="binder"><span id="H0:1108" class="id">B</span></span></a>} (<a id="f:1109" class="idref" href="#f:1109"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:1106"><span class="id" title="variable">B</span></a>) (<a id="b:1110" class="idref" href="#b:1110"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:1106"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a:1111" class="idref" href="#a:1111"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1109"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1111"><span class="id" title="variable">a</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a>=&gt;?. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dzero_dbind_pmf" class="idref" href="#dzero_dbind_pmf"><span class="id" title="lemma">dzero_dbind_pmf</span></a> `{<a id="H0:1114" class="idref" href="#H0:1114"><span class="id" title="binder">Countable</span></a> <a id="B:1112" class="idref" href="#B:1112"><span class="id" title="binder"><span id="H0:1114" class="id">B</span></span></a>} (<a id="d6fd15d897e6a6a5dbf4b4a24191e11f" class="idref" href="#d6fd15d897e6a6a5dbf4b4a24191e11f"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) (<a id="b:1116" class="idref" href="#b:1116"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#B:1112"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a:1117" class="idref" href="#a:1117"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#d6fd15d897e6a6a5dbf4b4a24191e11f"><span class="id" title="variable">μ</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1116"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a>=&gt;?. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dzero_dbind" class="idref" href="#dzero_dbind"><span class="id" title="lemma">dzero_dbind</span></a> `{<a id="H0:1120" class="idref" href="#H0:1120"><span class="id" title="binder">Countable</span></a> <a id="A':1118" class="idref" href="#A':1118"><span class="id" title="binder"><span id="H0:1120" class="id">A'</span></span></a>} (<a id="6425c819f6b75cb75c63952caf8c3db3" class="idref" href="#6425c819f6b75cb75c63952caf8c3db3"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a:1122" class="idref" href="#a:1122"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#6425c819f6b75cb75c63952caf8c3db3"><span class="id" title="variable">μ</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="clutch.prob.distribution.html#A':1118"><span class="id" title="variable">A'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="clutch.prob.distribution.html#dzero_dbind_pmf"><span class="id" title="lemma">dzero_dbind_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dzero" class="idref" href="#dbind_dzero"><span class="id" title="lemma">dbind_dzero</span></a> `{<a id="H0:1125" class="idref" href="#H0:1125"><span class="id" title="binder">Countable</span></a> <a id="B:1123" class="idref" href="#B:1123"><span class="id" title="binder"><span id="H0:1125" class="id">B</span></span></a>} (<a id="f:1126" class="idref" href="#f:1126"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:1123"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a:1127" class="idref" href="#a:1127"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1126"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1127"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="clutch.prob.distribution.html#dbind_dzero_pmf"><span class="id" title="lemma">dbind_dzero_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_dzero" class="idref" href="#dmap_dzero"><span class="id" title="lemma">dmap_dzero</span></a> `{<a id="H0:1130" class="idref" href="#H0:1130"><span class="id" title="binder">Countable</span></a> <a id="B:1128" class="idref" href="#B:1128"><span class="id" title="binder"><span id="H0:1130" class="id">B</span></span></a>} (<a id="f:1131" class="idref" href="#f:1131"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#B:1128"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1131"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dbind_dzero"><span class="id" title="lemma">dbind_dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_dzero" class="idref" href="#Expval_dzero"><span class="id" title="lemma">Expval_dzero</span></a> `{<a id="H0:1133" class="idref" href="#H0:1133"><span class="id" title="binder">Countable</span></a> <a id="H0:1133" class="idref" href="#H0:1133"><span class="id" title="binder">A</span></a>} (<a id="h:1134" class="idref" href="#h:1134"><span class="id" title="binder">h</span></a> : <a class="idref" href="clutch.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="clutch.prob.distribution.html#h:1134"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> =&gt; <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dzero_0"><span class="id" title="lemma">dzero_0</span></a>. <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="section">dzero</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dmap_dzero_inv" class="idref" href="#dmap_dzero_inv"><span class="id" title="lemma">dmap_dzero_inv</span></a> `{<a id="H:1137" class="idref" href="#H:1137"><span class="id" title="binder">Countable</span></a> <a id="A:1135" class="idref" href="#A:1135"><span class="id" title="binder"><span id="H:1137" class="id">A</span></span></a>, <a id="H0:1140" class="idref" href="#H0:1140"><span class="id" title="binder">Countable</span></a> <a id="B:1138" class="idref" href="#B:1138"><span class="id" title="binder"><span id="H0:1140" class="id">B</span></span></a>} (<a id="f:1141" class="idref" href="#f:1141"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:1135"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#B:1138"><span class="id" title="variable">B</span></a>) (<a id="4fbee7fa8e15aeb67f5ba2f562f3969f" class="idref" href="#4fbee7fa8e15aeb67f5ba2f562f3969f"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1135"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1141"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#4fbee7fa8e15aeb67f5ba2f562f3969f"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#4fbee7fa8e15aeb67f5ba2f562f3969f"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#SeriesC_zero_dzero"><span class="id" title="lemma">SeriesC_zero_dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="clutch.prob.distribution.html#dmap_mass"><span class="id" title="lemma">dmap_mass</span></a> <span class="id" title="var">_</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hf</span> <a class="idref" href="clutch.prob.distribution.html#dzero_mass"><span class="id" title="lemma">dzero_mass</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab11"></a><h1 class="section">Diagonal</h1>

</div>
<div class="code">
<span class="id" title="keyword">Program Definition</span> <a id="ddiag" class="idref" href="#ddiag"><span class="id" title="definition">ddiag</span></a> `{<a id="H:1145" class="idref" href="#H:1145"><span class="id" title="binder">Countable</span></a> <a id="A:1143" class="idref" href="#A:1143"><span class="id" title="binder"><span id="H:1145" class="id">A</span></span></a>} (<a id="16d618fc293438245509e1998dc4d13b" class="idref" href="#16d618fc293438245509e1998dc4d13b"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1143"><span class="id" title="variable">A</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#A:1143"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1143"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:1149" class="idref" href="#pat:1149"><span class="id" title="binder">(</span></a><a id="a:1148" class="idref" href="#a:1148"><span class="id" title="binder"><span id="pat:1149" class="id">a</span></span></a><a id="pat:1149" class="idref" href="#pat:1149"><span class="id" title="binder">,</span></a> <a id="b:1147" class="idref" href="#b:1147"><span class="id" title="binder"><span id="pat:1149" class="id">b</span></span></a><a id="pat:1149" class="idref" href="#pat:1149"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a:1148"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1147"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob.distribution.html#16d618fc293438245509e1998dc4d13b"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1148"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span> ???? [<span class="id" title="var">a</span> <span class="id" title="var">b</span>]=&gt;/=. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span>?? <span class="id" title="var">μ</span> =&gt;/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_prod"><span class="id" title="lemma">ex_seriesC_prod</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_singleton'"><span class="id" title="lemma">ex_seriesC_singleton'</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_ext"><span class="id" title="lemma">ex_seriesC_ext</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span>?? <span class="id" title="var">μ</span> =&gt;/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC_prod_lr"><span class="id" title="lemma">fubini_pos_seriesC_prod_lr</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_prod"><span class="id" title="lemma">ex_seriesC_prod</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_singleton'"><span class="id" title="lemma">ex_seriesC_singleton'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ddiag_pmf" class="idref" href="#ddiag_pmf"><span class="id" title="lemma">ddiag_pmf</span></a> `{<a id="H:1152" class="idref" href="#H:1152"><span class="id" title="binder">Countable</span></a> <a id="A:1150" class="idref" href="#A:1150"><span class="id" title="binder"><span id="H:1152" class="id">A</span></span></a>} (<a id="56b0b184461a23f9dcc3001d4734c2d1" class="idref" href="#56b0b184461a23f9dcc3001d4734c2d1"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1150"><span class="id" title="variable">A</span></a>) (<a id="p:1154" class="idref" href="#p:1154"><span class="id" title="binder">p</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:1150"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1150"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#ddiag"><span class="id" title="definition">ddiag</span></a> <a class="idref" href="clutch.prob.distribution.html#56b0b184461a23f9dcc3001d4734c2d1"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#p:1154"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#p:1154"><span class="id" title="variable">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#p:1154"><span class="id" title="variable">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">.2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob.distribution.html#56b0b184461a23f9dcc3001d4734c2d1"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#p:1154"><span class="id" title="variable">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">a1</span> &amp; <span class="id" title="var">a2</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">a1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a2</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab12"></a><h1 class="section">Products</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="dprod" class="idref" href="#dprod"><span class="id" title="definition">dprod</span></a> `{<a id="H:1157" class="idref" href="#H:1157"><span class="id" title="binder">Countable</span></a> <a id="A:1155" class="idref" href="#A:1155"><span class="id" title="binder"><span id="H:1157" class="id">A</span></span></a>, <a id="H0:1160" class="idref" href="#H0:1160"><span class="id" title="binder">Countable</span></a> <a id="B:1158" class="idref" href="#B:1158"><span class="id" title="binder"><span id="H0:1160" class="id">B</span></span></a>} (<a id="997c18748603e36eb3f2a30a11c294fd" class="idref" href="#997c18748603e36eb3f2a30a11c294fd"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1155"><span class="id" title="variable">A</span></a>) (<a id="cedadc5b8e33d31f3e5259ebd9d8e8d1" class="idref" href="#cedadc5b8e33d31f3e5259ebd9d8e8d1"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:1158"><span class="id" title="variable">B</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#A:1155"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B:1158"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<a id="a:1163" class="idref" href="#a:1163"><span class="id" title="binder">a</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#997c18748603e36eb3f2a30a11c294fd"><span class="id" title="variable">μ1</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a id="b:1164" class="idref" href="#b:1164"><span class="id" title="binder">b</span></a> <a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="clutch.prob.distribution.html#cedadc5b8e33d31f3e5259ebd9d8e8d1"><span class="id" title="variable">μ2</span></a><a class="idref" href="clutch.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:1163"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1164"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dprod_pmf" class="idref" href="#dprod_pmf"><span class="id" title="lemma">dprod_pmf</span></a> `{<a id="H:1167" class="idref" href="#H:1167"><span class="id" title="binder">Countable</span></a> <a id="A:1165" class="idref" href="#A:1165"><span class="id" title="binder"><span id="H:1167" class="id">A</span></span></a>, <a id="H0:1170" class="idref" href="#H0:1170"><span class="id" title="binder">Countable</span></a> <a id="B:1168" class="idref" href="#B:1168"><span class="id" title="binder"><span id="H0:1170" class="id">B</span></span></a>} (<a id="3de64460d04cae89826070075b41b04d" class="idref" href="#3de64460d04cae89826070075b41b04d"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1165"><span class="id" title="variable">A</span></a>) (<a id="71271574147fc1b26e4ca3c7f0e385b7" class="idref" href="#71271574147fc1b26e4ca3c7f0e385b7"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:1168"><span class="id" title="variable">B</span></a>) <a id="a:1173" class="idref" href="#a:1173"><span class="id" title="binder">a</span></a> <a id="b:1174" class="idref" href="#b:1174"><span class="id" title="binder">b</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a> <a class="idref" href="clutch.prob.distribution.html#3de64460d04cae89826070075b41b04d"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#71271574147fc1b26e4ca3c7f0e385b7"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:1173"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1174"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#3de64460d04cae89826070075b41b04d"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1173"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#71271574147fc1b26e4ca3c7f0e385b7"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1174"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':1175" class="idref" href="#b':1175"><span class="id" title="binder"><span id="b':1176" class="id"><span id="b':1177" class="id"><span id="b':1178" class="id">b'</span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#b':1175"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">b</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ2</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">b'</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">simplify_eq</span>=&gt;//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a>; [<span class="id" title="var">lra</span>|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [=]. }<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':1179" class="idref" href="#a':1179"><span class="id" title="binder"><span id="a':1180" class="id"><span id="a':1181" class="id"><span id="a':1182" class="id">a'</span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#a':1179"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">μ2</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">simplify_eq</span>=&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> //. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a>; [<span class="id" title="var">lra</span>|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [=].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="dprod" class="idref" href="#dprod"><span class="id" title="section">dprod</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:1185" class="idref" href="#H:1185"><span class="id" title="binder">Countable</span></a> <a id="A:1183" class="idref" href="#A:1183"><span class="id" title="binder"><span id="H:1185" class="id">A</span></span></a>, <a id="H0:1188" class="idref" href="#H0:1188"><span class="id" title="binder">Countable</span></a> <a id="B:1186" class="idref" href="#B:1186"><span class="id" title="binder"><span id="H0:1188" class="id">B</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="05c5972dd4ae8836404b418679132f9b" class="idref" href="#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dprod.A"><span class="id" title="variable">A</span></a>) (<a id="7737f10f9e4a43afbb40ab71874aa7ba" class="idref" href="#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#dprod.B"><span class="id" title="variable">B</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dprod_pos" class="idref" href="#dprod_pos"><span class="id" title="lemma">dprod_pos</span></a> (<a id="a:1191" class="idref" href="#a:1191"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#dprod.A"><span class="id" title="variable">A</span></a>) (<a id="b:1192" class="idref" href="#b:1192"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#dprod.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a> <a class="idref" href="clutch.prob.distribution.html#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:1191"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1192"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="clutch.prob.distribution.html#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1191"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.prob.distribution.html#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1192"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dprod_pmf"><span class="id" title="lemma">dprod_pmf</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="var">real_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span> [| -&gt;%<a class="idref" href="clutch.prob.distribution.html#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a>]; [|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="clutch.prob.distribution.html#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span> [| -&gt;%<a class="idref" href="clutch.prob.distribution.html#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a>]; [|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dprod_mass" class="idref" href="#dprod_mass"><span class="id" title="lemma">dprod_mass</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a> <a class="idref" href="clutch.prob.distribution.html#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}(<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:1195" class="idref" href="#pat:1195"><span class="id" title="binder"><span id="pat:1198" class="id"><span id="pat:1201" class="id">(</span></span></span></a><a id="a:1194" class="idref" href="#a:1194"><span class="id" title="binder"><span id="pat:1195" class="id"><span id="a:1197" class="id"><span id="pat:1198" class="id"><span id="a:1200" class="id"><span id="pat:1201" class="id">a</span></span></span></span></span></span></a><a id="pat:1195" class="idref" href="#pat:1195"><span class="id" title="binder"><span id="pat:1198" class="id"><span id="pat:1201" class="id">,</span></span></span></a> <a id="b:1193" class="idref" href="#b:1193"><span class="id" title="binder"><span id="pat:1195" class="id"><span id="b:1196" class="id"><span id="pat:1198" class="id"><span id="b:1199" class="id"><span id="pat:1201" class="id">b</span></span></span></span></span></span></a><a id="pat:1195" class="idref" href="#pat:1195"><span class="id" title="binder"><span id="pat:1198" class="id"><span id="pat:1201" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1194"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1193"><span class="id" title="variable">b</span></a>)); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> [<span class="id" title="var">a'</span> <span class="id" title="var">b'</span>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dprod_pmf"><span class="id" title="lemma">dprod_pmf</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#distr_double_lr"><span class="id" title="lemma">distr_double_lr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [|<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#dprod"><span class="id" title="section">dprod</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab13"></a><h1 class="section">swap</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="dswap" class="idref" href="#dswap"><span class="id" title="definition">dswap</span></a> `{<a id="H:1204" class="idref" href="#H:1204"><span class="id" title="binder">Countable</span></a> <a id="A:1202" class="idref" href="#A:1202"><span class="id" title="binder"><span id="H:1204" class="id">A</span></span></a>, <a id="H0:1207" class="idref" href="#H0:1207"><span class="id" title="binder">Countable</span></a> <a id="B:1205" class="idref" href="#B:1205"><span class="id" title="binder"><span id="H0:1207" class="id">B</span></span></a>} (<a id="6dec99437543d0da5a163ea1f5e05f8a" class="idref" href="#6dec99437543d0da5a163ea1f5e05f8a"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#A:1202"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B:1205"><span class="id" title="variable">B</span></a>)) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#B:1205"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1202"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:1211" class="idref" href="#pat:1211"><span class="id" title="binder">(</span></a><a id="a:1210" class="idref" href="#a:1210"><span class="id" title="binder"><span id="pat:1211" class="id">a</span></span></a><a id="pat:1211" class="idref" href="#pat:1211"><span class="id" title="binder">,</span></a> <a id="b:1209" class="idref" href="#b:1209"><span class="id" title="binder"><span id="pat:1211" class="id">b</span></span></a><a id="pat:1211" class="idref" href="#pat:1211"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:1209"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1210"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="clutch.prob.distribution.html#6dec99437543d0da5a163ea1f5e05f8a"><span class="id" title="variable">μ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dswap_pos" class="idref" href="#dswap_pos"><span class="id" title="lemma">dswap_pos</span></a> `{<a id="H:1214" class="idref" href="#H:1214"><span class="id" title="binder">Countable</span></a> <a id="A:1212" class="idref" href="#A:1212"><span class="id" title="binder"><span id="H:1214" class="id">A</span></span></a>, <a id="H0:1217" class="idref" href="#H0:1217"><span class="id" title="binder">Countable</span></a> <a id="B:1215" class="idref" href="#B:1215"><span class="id" title="binder"><span id="H0:1217" class="id">B</span></span></a>} (<a id="1092352a31561679faae7432b8d2ee22" class="idref" href="#1092352a31561679faae7432b8d2ee22"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#A:1212"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B:1215"><span class="id" title="variable">B</span></a>)) <a id="a:1219" class="idref" href="#a:1219"><span class="id" title="binder">a</span></a> <a id="b:1220" class="idref" href="#b:1220"><span class="id" title="binder">b</span></a> :<br/>
&nbsp;&nbsp;(<a class="idref" href="clutch.prob.distribution.html#dswap"><span class="id" title="definition">dswap</span></a> <a class="idref" href="clutch.prob.distribution.html#1092352a31561679faae7432b8d2ee22"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:1220"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1219"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#1092352a31561679faae7432b8d2ee22"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:1219"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1220"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)%<span class="id" title="var">R</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ([] &amp; [= &lt;- &lt;-] &amp; ?)%<a class="idref" href="clutch.prob.distribution.html#dmap_pos"><span class="id" title="lemma">dmap_pos</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab14"></a><h1 class="section">Marginals</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="lmarg" class="idref" href="#lmarg"><span class="id" title="definition">lmarg</span></a> `{<a id="H:1223" class="idref" href="#H:1223"><span class="id" title="binder">Countable</span></a> <a id="A:1221" class="idref" href="#A:1221"><span class="id" title="binder"><span id="H:1223" class="id">A</span></span></a>, <a id="H0:1226" class="idref" href="#H0:1226"><span class="id" title="binder">Countable</span></a> <a id="B:1224" class="idref" href="#B:1224"><span class="id" title="binder"><span id="H0:1226" class="id">B</span></span></a>} (<a id="4539cd428383b746575e9aeadc3021ab" class="idref" href="#4539cd428383b746575e9aeadc3021ab"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#A:1221"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B:1224"><span class="id" title="variable">B</span></a>)) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1221"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="clutch.prob.distribution.html#4539cd428383b746575e9aeadc3021ab"><span class="id" title="variable">μ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="rmarg" class="idref" href="#rmarg"><span class="id" title="definition">rmarg</span></a> `{<a id="H:1230" class="idref" href="#H:1230"><span class="id" title="binder">Countable</span></a> <a id="A:1228" class="idref" href="#A:1228"><span class="id" title="binder"><span id="H:1230" class="id">A</span></span></a>, <a id="H0:1233" class="idref" href="#H0:1233"><span class="id" title="binder">Countable</span></a> <a id="B:1231" class="idref" href="#B:1231"><span class="id" title="binder"><span id="H0:1233" class="id">B</span></span></a>} (<a id="0d22d013d3a6db54cd343dda69d64251" class="idref" href="#0d22d013d3a6db54cd343dda69d64251"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#A:1228"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B:1231"><span class="id" title="variable">B</span></a>)) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:1231"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="clutch.prob.distribution.html#0d22d013d3a6db54cd343dda69d64251"><span class="id" title="variable">μ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="marginals" class="idref" href="#marginals"><span class="id" title="section">marginals</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:1237" class="idref" href="#H:1237"><span class="id" title="binder">Countable</span></a> <a id="A:1235" class="idref" href="#A:1235"><span class="id" title="binder"><span id="H:1237" class="id">A</span></span></a>, <a id="H0:1240" class="idref" href="#H0:1240"><span class="id" title="binder">Countable</span></a> <a id="B:1238" class="idref" href="#B:1238"><span class="id" title="binder"><span id="H0:1240" class="id">B</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lmarg_pmf" class="idref" href="#lmarg_pmf"><span class="id" title="lemma">lmarg_pmf</span></a> (<a id="1579c769cafcd2e7b7ff74f43f7dd0fa" class="idref" href="#1579c769cafcd2e7b7ff74f43f7dd0fa"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>)) (<a id="a:1242" class="idref" href="#a:1242"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> <a class="idref" href="clutch.prob.distribution.html#1579c769cafcd2e7b7ff74f43f7dd0fa"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1242"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:1243" class="idref" href="#b:1243"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#1579c769cafcd2e7b7ff74f43f7dd0fa"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:1242"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1243"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC_prod_rl"><span class="id" title="lemma">fubini_pos_seriesC_prod_rl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a> <span class="id" title="var">a</span>)|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="rmarg_pmf" class="idref" href="#rmarg_pmf"><span class="id" title="lemma">rmarg_pmf</span></a> (<a id="92f9f636e3d052bdc372b290ff06c2fb" class="idref" href="#92f9f636e3d052bdc372b290ff06c2fb"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>)) (<a id="b:1245" class="idref" href="#b:1245"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> <a class="idref" href="clutch.prob.distribution.html#92f9f636e3d052bdc372b290ff06c2fb"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1245"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:1246" class="idref" href="#a:1246"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#92f9f636e3d052bdc372b290ff06c2fb"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:1246"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1245"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC_prod_lr"><span class="id" title="lemma">fubini_pos_seriesC_prod_lr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a> <span class="id" title="var">b</span>)|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>]. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ex_distr_lmarg" class="idref" href="#ex_distr_lmarg"><span class="id" title="lemma">ex_distr_lmarg</span></a> (<a id="ea712dcd89eb7777dbe8660b29601d45" class="idref" href="#ea712dcd89eb7777dbe8660b29601d45"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>)) (<a id="a:1248" class="idref" href="#a:1248"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:1249" class="idref" href="#b:1249"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#ea712dcd89eb7777dbe8660b29601d45"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:1248"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1249"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_lmarg"><span class="id" title="lemma">ex_seriesC_lmarg</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ex_distr_rmarg" class="idref" href="#ex_distr_rmarg"><span class="id" title="lemma">ex_distr_rmarg</span></a> (<a id="eaaf5f63d7dfcf3c0475249d41ebedfa" class="idref" href="#eaaf5f63d7dfcf3c0475249d41ebedfa"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>)) (<a id="b:1251" class="idref" href="#b:1251"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:1252" class="idref" href="#a:1252"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#eaaf5f63d7dfcf3c0475249d41ebedfa"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#a:1252"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1251"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_rmarg"><span class="id" title="lemma">ex_seriesC_rmarg</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lmarg_dprod_pmf" class="idref" href="#lmarg_dprod_pmf"><span class="id" title="lemma">lmarg_dprod_pmf</span></a> (<a id="1f086289c3c98a9db42e228bc06accad" class="idref" href="#1f086289c3c98a9db42e228bc06accad"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) (<a id="cd8e929145ae2b3ba0b3154a292e874a" class="idref" href="#cd8e929145ae2b3ba0b3154a292e874a"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>) (<a id="a:1255" class="idref" href="#a:1255"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> (<a class="idref" href="clutch.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a> <a class="idref" href="clutch.prob.distribution.html#1f086289c3c98a9db42e228bc06accad"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#cd8e929145ae2b3ba0b3154a292e874a"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="clutch.prob.distribution.html#a:1255"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#1f086289c3c98a9db42e228bc06accad"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1255"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#cd8e929145ae2b3ba0b3154a292e874a"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#lmarg_pmf"><span class="id" title="lemma">lmarg_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [|<span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dprod_pmf"><span class="id" title="lemma">dprod_pmf</span></a> //].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lmarg_dprod" class="idref" href="#lmarg_dprod"><span class="id" title="lemma">lmarg_dprod</span></a> (<a id="dc3b97ad92dd821a7ac93a9468a8fe02" class="idref" href="#dc3b97ad92dd821a7ac93a9468a8fe02"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) (<a id="93281ac38095289c2e3db07af1a757f9" class="idref" href="#93281ac38095289c2e3db07af1a757f9"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#93281ac38095289c2e3db07af1a757f9"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> (<a class="idref" href="clutch.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a> <a class="idref" href="clutch.prob.distribution.html#dc3b97ad92dd821a7ac93a9468a8fe02"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#93281ac38095289c2e3db07af1a757f9"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dc3b97ad92dd821a7ac93a9468a8fe02"><span class="id" title="variable">μ1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hμ2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#lmarg_dprod_pmf"><span class="id" title="lemma">lmarg_dprod_pmf</span></a> <span class="id" title="var">Hμ2</span>. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lmarg_dswap" class="idref" href="#lmarg_dswap"><span class="id" title="lemma">lmarg_dswap</span></a> (<a id="e00b7fb34721cd26c4db2b3a29e3582b" class="idref" href="#e00b7fb34721cd26c4db2b3a29e3582b"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> (<a class="idref" href="clutch.prob.distribution.html#dswap"><span class="id" title="definition">dswap</span></a> <a class="idref" href="clutch.prob.distribution.html#e00b7fb34721cd26c4db2b3a29e3582b"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> <a class="idref" href="clutch.prob.distribution.html#e00b7fb34721cd26c4db2b3a29e3582b"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> /<a class="idref" href="clutch.prob.distribution.html#dswap"><span class="id" title="definition">dswap</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap_comp"><span class="id" title="lemma">dmap_comp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:1261" class="idref" href="#pat:1261"><span class="id" title="binder"><span id="pat:1264" class="id">(</span></span></a><a id="a:1260" class="idref" href="#a:1260"><span class="id" title="binder"><span id="pat:1261" class="id"><span id="a:1263" class="id"><span id="pat:1264" class="id">a</span></span></span></span></a><a id="pat:1261" class="idref" href="#pat:1261"><span class="id" title="binder"><span id="pat:1264" class="id">,</span></span></a> <a id="b:1259" class="idref" href="#b:1259"><span class="id" title="binder"><span id="pat:1261" class="id"><span id="b:1262" class="id"><span id="pat:1264" class="id">b</span></span></span></span></a><a id="pat:1261" class="idref" href="#pat:1261"><span class="id" title="binder"><span id="pat:1264" class="id">)</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:1259"><span class="id" title="variable">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1260"><span class="id" title="variable">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">extensionality</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="rmarg_dswap" class="idref" href="#rmarg_dswap"><span class="id" title="lemma">rmarg_dswap</span></a> (<a id="a050945839efc82bf228c459b87de4bf" class="idref" href="#a050945839efc82bf228c459b87de4bf"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> (<a class="idref" href="clutch.prob.distribution.html#dswap"><span class="id" title="definition">dswap</span></a> <a class="idref" href="clutch.prob.distribution.html#a050945839efc82bf228c459b87de4bf"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> <a class="idref" href="clutch.prob.distribution.html#a050945839efc82bf228c459b87de4bf"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> /<a class="idref" href="clutch.prob.distribution.html#dswap"><span class="id" title="definition">dswap</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap_comp"><span class="id" title="lemma">dmap_comp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:1268" class="idref" href="#pat:1268"><span class="id" title="binder"><span id="pat:1271" class="id">(</span></span></a><a id="a:1267" class="idref" href="#a:1267"><span class="id" title="binder"><span id="pat:1268" class="id"><span id="a:1270" class="id"><span id="pat:1271" class="id">a</span></span></span></span></a><a id="pat:1268" class="idref" href="#pat:1268"><span class="id" title="binder"><span id="pat:1271" class="id">,</span></span></a> <a id="b:1266" class="idref" href="#b:1266"><span class="id" title="binder"><span id="pat:1268" class="id"><span id="b:1269" class="id"><span id="pat:1271" class="id">b</span></span></span></span></a><a id="pat:1268" class="idref" href="#pat:1268"><span class="id" title="binder"><span id="pat:1271" class="id">)</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.distribution.html#b:1266"><span class="id" title="variable">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1267"><span class="id" title="variable">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">extensionality</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="rmarg_dprod_pmf" class="idref" href="#rmarg_dprod_pmf"><span class="id" title="lemma">rmarg_dprod_pmf</span></a> (<a id="7231ace799a429333237d3a1b5fe36f9" class="idref" href="#7231ace799a429333237d3a1b5fe36f9"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) (<a id="e5c3a165cc185c6c42490d7b5a2cbe62" class="idref" href="#e5c3a165cc185c6c42490d7b5a2cbe62"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>) (<a id="b:1274" class="idref" href="#b:1274"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> (<a class="idref" href="clutch.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a> <a class="idref" href="clutch.prob.distribution.html#7231ace799a429333237d3a1b5fe36f9"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#e5c3a165cc185c6c42490d7b5a2cbe62"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="clutch.prob.distribution.html#b:1274"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#e5c3a165cc185c6c42490d7b5a2cbe62"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#b:1274"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#7231ace799a429333237d3a1b5fe36f9"><span class="id" title="variable">μ1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#rmarg_pmf"><span class="id" title="lemma">rmarg_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [|<span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dprod_pmf"><span class="id" title="lemma">dprod_pmf</span></a> //].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="rmarg_dprod" class="idref" href="#rmarg_dprod"><span class="id" title="lemma">rmarg_dprod</span></a> (<a id="d2bcb6a4285b565b095885c9f97a6b3e" class="idref" href="#d2bcb6a4285b565b095885c9f97a6b3e"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) (<a id="8fa5b769364c1a3decde38d5cd1de407" class="idref" href="#8fa5b769364c1a3decde38d5cd1de407"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#d2bcb6a4285b565b095885c9f97a6b3e"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> (<a class="idref" href="clutch.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a> <a class="idref" href="clutch.prob.distribution.html#d2bcb6a4285b565b095885c9f97a6b3e"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#8fa5b769364c1a3decde38d5cd1de407"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#8fa5b769364c1a3decde38d5cd1de407"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hμ1</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#rmarg_dprod_pmf"><span class="id" title="lemma">rmarg_dprod_pmf</span></a> <span class="id" title="var">Hμ1</span>. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#marginals"><span class="id" title="section">marginals</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ddiag_lmarg" class="idref" href="#ddiag_lmarg"><span class="id" title="lemma">ddiag_lmarg</span></a> `{<a id="H:1279" class="idref" href="#H:1279"><span class="id" title="binder">Countable</span></a> <a id="A:1277" class="idref" href="#A:1277"><span class="id" title="binder"><span id="H:1279" class="id">A</span></span></a>} (<a id="f4bd8fb5d844e15f10b9fec1597bdead" class="idref" href="#f4bd8fb5d844e15f10b9fec1597bdead"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1277"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> (<a class="idref" href="clutch.prob.distribution.html#ddiag"><span class="id" title="definition">ddiag</span></a> <a class="idref" href="clutch.prob.distribution.html#f4bd8fb5d844e15f10b9fec1597bdead"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#f4bd8fb5d844e15f10b9fec1597bdead"><span class="id" title="variable">μ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#lmarg_pmf"><span class="id" title="lemma">lmarg_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.distribution.html#ddiag_pmf"><span class="id" title="lemma">ddiag_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ddiag_rmarg" class="idref" href="#ddiag_rmarg"><span class="id" title="lemma">ddiag_rmarg</span></a> `{<a id="H:1283" class="idref" href="#H:1283"><span class="id" title="binder">Countable</span></a> <a id="A:1281" class="idref" href="#A:1281"><span class="id" title="binder"><span id="H:1283" class="id">A</span></span></a>} (<a id="145adeb19b43b0ffe06f47b96a33d8ea" class="idref" href="#145adeb19b43b0ffe06f47b96a33d8ea"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1281"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> (<a class="idref" href="clutch.prob.distribution.html#ddiag"><span class="id" title="definition">ddiag</span></a> <a class="idref" href="clutch.prob.distribution.html#145adeb19b43b0ffe06f47b96a33d8ea"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#145adeb19b43b0ffe06f47b96a33d8ea"><span class="id" title="variable">μ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#rmarg_pmf"><span class="id" title="lemma">rmarg_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.distribution.html#ddiag_pmf"><span class="id" title="lemma">ddiag_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lmarg_dzero" class="idref" href="#lmarg_dzero"><span class="id" title="lemma">lmarg_dzero</span></a> `{<a id="H:1287" class="idref" href="#H:1287"><span class="id" title="binder">Countable</span></a> <a id="A:1285" class="idref" href="#A:1285"><span class="id" title="binder"><span id="H:1287" class="id">A</span></span></a>, <a id="H0:1290" class="idref" href="#H0:1290"><span class="id" title="binder">Countable</span></a> <a id="B:1288" class="idref" href="#B:1288"><span class="id" title="binder"><span id="H0:1290" class="id">B</span></span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> (<a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> (<span class="id" title="var">A</span> := (<a class="idref" href="clutch.prob.distribution.html#A:1285"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B:1288"><span class="id" title="variable">B</span></a>))) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap_dzero"><span class="id" title="lemma">dmap_dzero</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rmarg_dzero" class="idref" href="#rmarg_dzero"><span class="id" title="lemma">rmarg_dzero</span></a> `{<a id="H:1293" class="idref" href="#H:1293"><span class="id" title="binder">Countable</span></a> <a id="A:1291" class="idref" href="#A:1291"><span class="id" title="binder"><span id="H:1293" class="id">A</span></span></a>, <a id="H0:1296" class="idref" href="#H0:1296"><span class="id" title="binder">Countable</span></a> <a id="B:1294" class="idref" href="#B:1294"><span class="id" title="binder"><span id="H0:1296" class="id">B</span></span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> (<a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> (<span class="id" title="var">A</span> := (<a class="idref" href="clutch.prob.distribution.html#A:1291"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#B:1294"><span class="id" title="variable">B</span></a>))) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap_dzero"><span class="id" title="lemma">dmap_dzero</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab15"></a><h1 class="section">Pointwise order</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="distr_le" class="idref" href="#distr_le"><span class="id" title="definition">distr_le</span></a> `{<a id="H:1299" class="idref" href="#H:1299"><span class="id" title="binder">Countable</span></a> <a id="A:1297" class="idref" href="#A:1297"><span class="id" title="binder"><span id="H:1299" class="id">A</span></span></a>} (<a id="465f17f81de7653117347692130aefd3" class="idref" href="#465f17f81de7653117347692130aefd3"><span class="id" title="binder">μ1</span></a> <a id="a7de6e1d83f2e3677ac0dc39a52ccb0e" class="idref" href="#a7de6e1d83f2e3677ac0dc39a52ccb0e"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1297"><span class="id" title="variable">A</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:1302" class="idref" href="#a:1302"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> (<a class="idref" href="clutch.prob.distribution.html#465f17f81de7653117347692130aefd3"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1302"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#a7de6e1d83f2e3677ac0dc39a52ccb0e"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1302"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="order" class="idref" href="#order"><span class="id" title="section">order</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:1305" class="idref" href="#H:1305"><span class="id" title="binder">Countable</span></a> <a id="A:1303" class="idref" href="#A:1303"><span class="id" title="binder"><span id="H:1305" class="id">A</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_dzero" class="idref" href="#distr_le_dzero"><span class="id" title="lemma">distr_le_dzero</span></a> (<a id="e07588385d5847195e53d809ef5a952a" class="idref" href="#e07588385d5847195e53d809ef5a952a"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="clutch.prob.distribution.html#e07588385d5847195e53d809ef5a952a"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_refl" class="idref" href="#distr_le_refl"><span class="id" title="lemma">distr_le_refl</span></a> (<a id="31729be7a97f39d3d42db0c0b66db82e" class="idref" href="#31729be7a97f39d3d42db0c0b66db82e"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="clutch.prob.distribution.html#31729be7a97f39d3d42db0c0b66db82e"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#31729be7a97f39d3d42db0c0b66db82e"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_trans" class="idref" href="#distr_le_trans"><span class="id" title="lemma">distr_le_trans</span></a> (<a id="841121d188f0c8e40ace4d5bd85de317" class="idref" href="#841121d188f0c8e40ace4d5bd85de317"><span class="id" title="binder">μ1</span></a> <a id="6a23e95b416b7cd9002426dbfad33804" class="idref" href="#6a23e95b416b7cd9002426dbfad33804"><span class="id" title="binder">μ2</span></a> <a id="476a1fc37ad682c5052e8a479cb4955a" class="idref" href="#476a1fc37ad682c5052e8a479cb4955a"><span class="id" title="binder">μ3</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="clutch.prob.distribution.html#841121d188f0c8e40ace4d5bd85de317"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#6a23e95b416b7cd9002426dbfad33804"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="clutch.prob.distribution.html#6a23e95b416b7cd9002426dbfad33804"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#476a1fc37ad682c5052e8a479cb4955a"><span class="id" title="variable">μ3</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="clutch.prob.distribution.html#841121d188f0c8e40ace4d5bd85de317"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#476a1fc37ad682c5052e8a479cb4955a"><span class="id" title="variable">μ3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">transitivity</span> (<span class="id" title="var">μ2</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_antisym" class="idref" href="#distr_le_antisym"><span class="id" title="lemma">distr_le_antisym</span></a> (<a id="a41ecf3ff1cc8e93da88f54cce877168" class="idref" href="#a41ecf3ff1cc8e93da88f54cce877168"><span class="id" title="binder">μ1</span></a> <a id="44bb47d90a7aa3d0dc2e6e7003c68a95" class="idref" href="#44bb47d90a7aa3d0dc2e6e7003c68a95"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="clutch.prob.distribution.html#a41ecf3ff1cc8e93da88f54cce877168"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#44bb47d90a7aa3d0dc2e6e7003c68a95"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="clutch.prob.distribution.html#44bb47d90a7aa3d0dc2e6e7003c68a95"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.distribution.html#a41ecf3ff1cc8e93da88f54cce877168"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#a41ecf3ff1cc8e93da88f54cce877168"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#44bb47d90a7aa3d0dc2e6e7003c68a95"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_antisym"><span class="id" title="lemma">Rle_antisym</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_dbind" class="idref" href="#distr_le_dbind"><span class="id" title="lemma">distr_le_dbind</span></a> `{<a id="H0:1315" class="idref" href="#H0:1315"><span class="id" title="binder">Countable</span></a> <a id="B:1313" class="idref" href="#B:1313"><span class="id" title="binder"><span id="H0:1315" class="id">B</span></span></a>} (<a id="d2aaabc7ecb5c5ca879a0efbed2cb549" class="idref" href="#d2aaabc7ecb5c5ca879a0efbed2cb549"><span class="id" title="binder">μ1</span></a> <a id="f2b40c9f297a475ada1867a9a567f0df" class="idref" href="#f2b40c9f297a475ada1867a9a567f0df"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>) (<a id="f1:1318" class="idref" href="#f1:1318"><span class="id" title="binder">f1</span></a> <a id="f2:1319" class="idref" href="#f2:1319"><span class="id" title="binder">f2</span></a> : <a class="idref" href="clutch.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#B:1313"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="clutch.prob.distribution.html#d2aaabc7ecb5c5ca879a0efbed2cb549"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#f2b40c9f297a475ada1867a9a567f0df"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:1320" class="idref" href="#a:1320"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> (<a class="idref" href="clutch.prob.distribution.html#f1:1318"><span class="id" title="variable">f1</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1320"><span class="id" title="variable">a</span></a>) (<a class="idref" href="clutch.prob.distribution.html#f2:1319"><span class="id" title="variable">f2</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1320"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f1:1318"><span class="id" title="variable">f1</span></a> <a class="idref" href="clutch.prob.distribution.html#d2aaabc7ecb5c5ca879a0efbed2cb549"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.distribution.html#f2:1319"><span class="id" title="variable">f2</span></a> <a class="idref" href="clutch.prob.distribution.html#f2b40c9f297a475ada1867a9a567f0df"><span class="id" title="variable">μ2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hle</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> (<span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <span class="id" title="var">f2</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>, <span class="id" title="var">Hf</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_dmap_1" class="idref" href="#distr_le_dmap_1"><span class="id" title="lemma">distr_le_dmap_1</span></a> `{<a id="H0:1323" class="idref" href="#H0:1323"><span class="id" title="binder">Countable</span></a> <a id="B:1321" class="idref" href="#B:1321"><span class="id" title="binder"><span id="H0:1323" class="id">B</span></span></a>} (<a id="0d082af06ad12377933736ffb09fd4e1" class="idref" href="#0d082af06ad12377933736ffb09fd4e1"><span class="id" title="binder">μ1</span></a> <a id="393a008ef3855d63639f2d2caee1fe82" class="idref" href="#393a008ef3855d63639f2d2caee1fe82"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>) (<a id="f:1326" class="idref" href="#f:1326"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#B:1321"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="clutch.prob.distribution.html#0d082af06ad12377933736ffb09fd4e1"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#393a008ef3855d63639f2d2caee1fe82"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> (<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1326"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#0d082af06ad12377933736ffb09fd4e1"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1326"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#393a008ef3855d63639f2d2caee1fe82"><span class="id" title="variable">μ2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hμ</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_le_dbind"><span class="id" title="lemma">distr_le_dbind</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_dmap_2" class="idref" href="#distr_le_dmap_2"><span class="id" title="lemma">distr_le_dmap_2</span></a> `{<a id="H0:1329" class="idref" href="#H0:1329"><span class="id" title="binder">Countable</span></a> <a id="B:1327" class="idref" href="#B:1327"><span class="id" title="binder"><span id="H0:1329" class="id">B</span></span></a>} (<a id="e436cf76e57bdb7eabeff94aac55f74f" class="idref" href="#e436cf76e57bdb7eabeff94aac55f74f"><span class="id" title="binder">μ1</span></a> <a id="ac245123512a52c116233fec6d3c256b" class="idref" href="#ac245123512a52c116233fec6d3c256b"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>) (<a id="f:1332" class="idref" href="#f:1332"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#B:1327"><span class="id" title="variable">B</span></a>) `{<a id="H1:1333" class="idref" href="#H1:1333"><span class="id" title="binder">Inj</span></a> <a id="H1:1333" class="idref" href="#H1:1333"><span class="id" title="binder">A</span></a> <a id="H1:1333" class="idref" href="#H1:1333"><span class="id" title="binder">B</span></a> <a id="H1:1333" class="idref" href="#H1:1333"><span class="id" title="binder">(=)</span></a> <a id="H1:1333" class="idref" href="#H1:1333"><span class="id" title="binder">(=)</span></a> <a id="H1:1333" class="idref" href="#H1:1333"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> (<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1332"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#e436cf76e57bdb7eabeff94aac55f74f"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1332"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#ac245123512a52c116233fec6d3c256b"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="clutch.prob.distribution.html#e436cf76e57bdb7eabeff94aac55f74f"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#ac245123512a52c116233fec6d3c256b"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> 2!<a class="idref" href="clutch.prob.distribution.html#dmap_elem_eq"><span class="id" title="lemma">dmap_elem_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#order"><span class="id" title="section">order</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab16"></a><h1 class="section">Scaled distribution</h1>

</div>
<div class="code">
<span class="id" title="keyword">Program Definition</span> <a id="distr_scal" class="idref" href="#distr_scal"><span class="id" title="definition">distr_scal</span></a> `{<a id="H:1336" class="idref" href="#H:1336"><span class="id" title="binder">Countable</span></a> <a id="A:1334" class="idref" href="#A:1334"><span class="id" title="binder"><span id="H:1336" class="id">A</span></span></a>} (<a id="r:1337" class="idref" href="#r:1337"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="3391ee92d0b4ffbbc0eeafc8a4ad678b" class="idref" href="#3391ee92d0b4ffbbc0eeafc8a4ad678b"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1334"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hr:1339" class="idref" href="#Hr:1339"><span class="id" title="binder">Hr</span></a> : 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#r:1337"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.prob.distribution.html#r:1337"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.distribution.html#3391ee92d0b4ffbbc0eeafc8a4ad678b"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1) := <a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:1340" class="idref" href="#a:1340"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#r:1337"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.distribution.html#3391ee92d0b4ffbbc0eeafc8a4ad678b"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1340"><span class="id" title="variable">a</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ????? [] <span class="id" title="var">a</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span>). <span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span> ????? []. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab17"></a><h1 class="section">Limit distribution</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="convergence" class="idref" href="#convergence"><span class="id" title="section">convergence</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:1343" class="idref" href="#H:1343"><span class="id" title="binder">Countable</span></a> <a id="A:1341" class="idref" href="#A:1341"><span class="id" title="binder"><span id="H:1343" class="id">A</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="lim_distr" class="idref" href="#lim_distr"><span class="id" title="definition">lim_distr</span></a> (<a id="h:1344" class="idref" href="#h:1344"><span class="id" title="binder">h</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#convergence.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:1345" class="idref" href="#n:1345"><span class="id" title="binder">n</span></a> <a id="a:1346" class="idref" href="#a:1346"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#h:1344"><span class="id" title="variable">h</span></a> <a class="idref" href="clutch.prob.distribution.html#n:1345"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1346"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.distribution.html#h:1344"><span class="id" title="variable">h</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="clutch.prob.distribution.html#n:1345"><span class="id" title="variable">n</span></a>) <a class="idref" href="clutch.prob.distribution.html#a:1346"><span class="id" title="variable">a</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:1347" class="idref" href="#a:1347"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq"><span class="id" title="definition">Sup_seq</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:1348" class="idref" href="#n:1348"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#h:1344"><span class="id" title="variable">h</span></a> <a class="idref" href="clutch.prob.distribution.html#n:1348"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1347"><span class="id" title="variable">a</span></a>)) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">Hmon</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<span class="id" title="var">h</span> 0%<span class="id" title="var">nat</span> <span class="id" title="var">a</span>); [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Series_ext.html#rbar_le_finite"><span class="id" title="lemma">rbar_le_finite</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prelude.Series_ext.html#Rbar_le_sandwich"><span class="id" title="lemma">Rbar_le_sandwich</span></a> 0 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq_minor_le"><span class="id" title="lemma">Sup_seq_minor_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> 0%<span class="id" title="var">nat</span>)=&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Series_ext.html#upper_bound_ge_sup"><span class="id" title="lemma">upper_bound_ge_sup</span></a>=&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prelude.Series_ext.html#sup_is_upper_bound"><span class="id" title="lemma">sup_is_upper_bound</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:1349" class="idref" href="#n:1349"><span class="id" title="binder"><span id="n:1350" class="id">n</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">h</span> <a class="idref" href="clutch.prob.distribution.html#n:1349"><span class="id" title="variable">n</span></a> <span class="id" title="var">a</span>) 0%<span class="id" title="var">nat</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">Hmon</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rbar.html#is_finite"><span class="id" title="definition">is_finite</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq"><span class="id" title="definition">Sup_seq</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:1351" class="idref" href="#x:1351"><span class="id" title="binder"><span id="x:1352" class="id">x</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="clutch.prob.distribution.html#x:1351"><span class="id" title="variable">x</span></a>)))) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prelude.Series_ext.html#Rbar_le_sandwich"><span class="id" title="lemma">Rbar_le_sandwich</span></a> 0 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq_minor_le"><span class="id" title="lemma">Sup_seq_minor_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> 0%<span class="id" title="var">nat</span>)=&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Series_ext.html#upper_bound_ge_sup"><span class="id" title="lemma">upper_bound_ge_sup</span></a>=&gt;/=. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#MCT_ex_seriesC"><span class="id" title="lemma">MCT_ex_seriesC</span></a> <span class="id" title="var">h</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:1353" class="idref" href="#n:1353"><span class="id" title="binder"><span id="n:1355" class="id">n</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="clutch.prob.distribution.html#n:1353"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq"><span class="id" title="definition">Sup_seq</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:1354" class="idref" href="#x:1354"><span class="id" title="binder"><span id="x:1356" class="id">x</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="clutch.prob.distribution.html#x:1354"><span class="id" title="variable">x</span></a>)))); [<span class="id" title="var">done</span>|<span class="id" title="var">done</span>|<span class="id" title="tactic">eauto</span>| |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_correct"><span class="id" title="lemma">SeriesC_correct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prelude.Series_ext.html#rbar_finite_real_eq"><span class="id" title="lemma">rbar_finite_real_eq</span></a> //. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq_correct"><span class="id" title="lemma">Sup_seq_correct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">Hmon</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rbar.html#is_finite"><span class="id" title="definition">is_finite</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq"><span class="id" title="definition">Sup_seq</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:1357" class="idref" href="#x:1357"><span class="id" title="binder"><span id="x:1358" class="id">x</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="clutch.prob.distribution.html#x:1357"><span class="id" title="variable">x</span></a>)))) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prelude.Series_ext.html#Rbar_le_sandwich"><span class="id" title="lemma">Rbar_le_sandwich</span></a> 0 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq_minor_le"><span class="id" title="lemma">Sup_seq_minor_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> 0%<span class="id" title="var">nat</span>)=&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Series_ext.html#upper_bound_ge_sup"><span class="id" title="lemma">upper_bound_ge_sup</span></a>=&gt;/=. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#MCT_seriesC"><span class="id" title="lemma">MCT_seriesC</span></a> <span class="id" title="var">h</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:1359" class="idref" href="#n:1359"><span class="id" title="binder"><span id="n:1361" class="id"><span id="n:1363" class="id">n</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="clutch.prob.distribution.html#n:1359"><span class="id" title="variable">n</span></a>)) (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq"><span class="id" title="definition">Sup_seq</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:1360" class="idref" href="#x:1360"><span class="id" title="binder"><span id="x:1362" class="id"><span id="x:1364" class="id">x</span></span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="clutch.prob.distribution.html#x:1360"><span class="id" title="variable">x</span></a>))));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[|<span class="id" title="var">done</span>|<span class="id" title="tactic">eauto</span>|<span class="id" title="tactic">eauto</span>|<span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Series_ext.html#finite_rbar_le"><span class="id" title="lemma">finite_rbar_le</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prelude.Series_ext.html#upper_bound_ge_sup"><span class="id" title="lemma">upper_bound_ge_sup</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:1365" class="idref" href="#x:1365"><span class="id" title="binder"><span id="x:1366" class="id">x</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="clutch.prob.distribution.html#x:1365"><span class="id" title="variable">x</span></a>)) 1)=&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_correct"><span class="id" title="lemma">SeriesC_correct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prelude.Series_ext.html#rbar_finite_real_eq"><span class="id" title="lemma">rbar_finite_real_eq</span></a> //. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq_correct"><span class="id" title="lemma">Sup_seq_correct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lim_distr_pmf" class="idref" href="#lim_distr_pmf"><span class="id" title="lemma">lim_distr_pmf</span></a> (<a id="h:1367" class="idref" href="#h:1367"><span class="id" title="binder">h</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.distribution.html#convergence.A"><span class="id" title="variable">A</span></a>) <a id="Hmon:1368" class="idref" href="#Hmon:1368"><span class="id" title="binder">Hmon</span></a> (<a id="a:1369" class="idref" href="#a:1369"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#convergence.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#lim_distr"><span class="id" title="definition">lim_distr</span></a> <a class="idref" href="clutch.prob.distribution.html#h:1367"><span class="id" title="variable">h</span></a> <a class="idref" href="clutch.prob.distribution.html#Hmon:1368"><span class="id" title="variable">Hmon</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1369"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq"><span class="id" title="definition">Sup_seq</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:1370" class="idref" href="#n:1370"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#h:1367"><span class="id" title="variable">h</span></a> <a class="idref" href="clutch.prob.distribution.html#n:1370"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1369"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;extract&nbsp;some&nbsp;general&nbsp;lemmas&nbsp;from&nbsp;<span class="inlinecode"><span class="id" title="var">exec.v</span></span>&nbsp;*)</span><br/>

<br/>
&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#convergence"><span class="id" title="section">convergence</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab18"></a><h1 class="section">Uniform sampling</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="uniform" class="idref" href="#uniform"><span class="id" title="section">uniform</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="dunif" class="idref" href="#dunif"><span class="id" title="definition">dunif</span></a> (<a id="N:1371" class="idref" href="#N:1371"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1371"><span class="id" title="variable">N</span></a>) := <a class="idref" href="clutch.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a><a class="idref" href="clutch.prob.distribution.html#N:1371"><span class="id" title="variable">N</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> =&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">N</span>; [<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_0"><span class="id" title="lemma">Rinv_0</span></a> //|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#INR"><span class="id" title="definition">INR</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">N</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#INR"><span class="id" title="definition">INR</span></a> (<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1)); [|<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#plus_INR"><span class="id" title="lemma">plus_INR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RiemannInt.html#RinvN_pos"><span class="id" title="lemma">RinvN_pos</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> ?<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_0"><span class="id" title="lemma">Rinv_0</span></a> //. <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_finite_mass"><span class="id" title="lemma">SeriesC_finite_mass</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_card"><span class="id" title="lemma">fin_card</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_r"><span class="id" title="lemma">Rinv_r</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#not_0_INR"><span class="id" title="lemma">not_0_INR</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunif_pmf" class="idref" href="#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a> <a id="N:1372" class="idref" href="#N:1372"><span class="id" title="binder">N</span></a> (<a id="n:1373" class="idref" href="#n:1373"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1372"><span class="id" title="variable">N</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1372"><span class="id" title="variable">N</span></a> <a class="idref" href="clutch.prob.distribution.html#n:1373"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1372"><span class="id" title="variable">N</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunif_mass" class="idref" href="#dunif_mass"><span class="id" title="lemma">dunif_mass</span></a> (<a id="N:1374" class="idref" href="#N:1374"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.prob.distribution.html#N:1374"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> 0)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1374"><span class="id" title="variable">N</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_finite_mass"><span class="id" title="lemma">SeriesC_finite_mass</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_card"><span class="id" title="lemma">fin_card</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_r"><span class="id" title="lemma">Rinv_r</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#not_0_INR"><span class="id" title="lemma">not_0_INR</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_unif_zero" class="idref" href="#dmap_unif_zero"><span class="id" title="lemma">dmap_unif_zero</span></a> `{<a id="H:1377" class="idref" href="#H:1377"><span class="id" title="binder">Countable</span></a> <a id="A:1375" class="idref" href="#A:1375"><span class="id" title="binder"><span id="H:1377" class="id">A</span></span></a>} (<a id="N:1378" class="idref" href="#N:1378"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="f:1379" class="idref" href="#f:1379"><span class="id" title="binder">f</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1378"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1375"><span class="id" title="variable">A</span></a>) (<a id="a:1380" class="idref" href="#a:1380"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:1375"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:1381" class="idref" href="#n:1381"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1379"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#n:1381"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1380"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1379"><span class="id" title="variable">f</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1378"><span class="id" title="variable">N</span></a>) <a class="idref" href="clutch.prob.distribution.html#a:1380"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_false_2"><span class="id" title="lemma">bool_decide_eq_false_2</span></a>; [<span class="id" title="var">lra</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_unif_nonzero" class="idref" href="#dmap_unif_nonzero"><span class="id" title="lemma">dmap_unif_nonzero</span></a> `{<a id="H:1384" class="idref" href="#H:1384"><span class="id" title="binder">Countable</span></a> <a id="A:1382" class="idref" href="#A:1382"><span class="id" title="binder"><span id="H:1384" class="id">A</span></span></a>} (<a id="N:1385" class="idref" href="#N:1385"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="n:1386" class="idref" href="#n:1386"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1385"><span class="id" title="variable">N</span></a>) (<a id="f:1387" class="idref" href="#f:1387"><span class="id" title="binder">f</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1385"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#A:1382"><span class="id" title="variable">A</span></a>) (<a id="a:1388" class="idref" href="#a:1388"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.distribution.html#A:1382"><span class="id" title="variable">A</span></a>) `{<a id="H0:1389" class="idref" href="#H0:1389"><span class="id" title="binder">Inj</span></a> <a id="H0:1389" class="idref" href="#H0:1389"><span class="id" title="binder">(</span></a><a id="H0:1389" class="idref" href="#H0:1389"><span class="id" title="binder">fin</span></a> <a id="H0:1389" class="idref" href="#H0:1389"><span class="id" title="binder">N</span></a><a id="H0:1389" class="idref" href="#H0:1389"><span class="id" title="binder">)</span></a> <a id="H0:1389" class="idref" href="#H0:1389"><span class="id" title="binder">A</span></a> <a id="H0:1389" class="idref" href="#H0:1389"><span class="id" title="binder">(=)</span></a> <a id="H0:1389" class="idref" href="#H0:1389"><span class="id" title="binder">(=)</span></a> <a id="H0:1389" class="idref" href="#H0:1389"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#f:1387"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.distribution.html#n:1386"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#a:1388"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.distribution.html#f:1387"><span class="id" title="variable">f</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1385"><span class="id" title="variable">N</span></a>) <a class="idref" href="clutch.prob.distribution.html#a:1388"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a><a class="idref" href="clutch.prob.distribution.html#N:1385"><span class="id" title="variable">N</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:1390" class="idref" href="#n:1390"><span class="id" title="binder"><span id="n:1391" class="id"><span id="n:1392" class="id">n</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">f</span> <a class="idref" href="clutch.prob.distribution.html#n:1390"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a><span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> // <a class="idref" href="clutch.prob.distribution.html#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a>. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a> //. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton_inj"><span class="id" title="lemma">SeriesC_singleton_inj</span></a> //. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunif_fair_conv_comb" class="idref" href="#dunif_fair_conv_comb"><span class="id" title="lemma">dunif_fair_conv_comb</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#fair_conv_comb"><span class="id" title="definition">fair_conv_comb</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> 1%<span class="id" title="var">fin</span>) (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> 0%<span class="id" title="var">fin</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a> <a class="idref" href="clutch.prob.distribution.html#fair_conv_comb_pmf"><span class="id" title="lemma">fair_conv_comb_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_fin</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a> // <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> //=. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>. <span class="id" title="var">inv_fin</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> // <a class="idref" href="clutch.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a> //=. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="var">inv_fin</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;To&nbsp;avoid&nbsp;the&nbsp;case&nbsp;<span class="inlinecode"><span class="id" title="var">N</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0</span>&nbsp;where&nbsp;<span class="inlinecode"><span class="id" title="var">dunif</span></span> <span class="inlinecode">0</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">dzero</span></span>&nbsp;it&nbsp;is&nbsp;convenient<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sometimes&nbsp;convenient&nbsp;to&nbsp;use&nbsp;<span class="inlinecode"><span class="id" title="var">N</span></span> <span class="inlinecode">+</span> <span class="inlinecode">1</span>&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="dunifP" class="idref" href="#dunifP"><span class="id" title="definition">dunifP</span></a> (<a id="N:1393" class="idref" href="#N:1393"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1393"><span class="id" title="variable">N</span></a>)) := <a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1393"><span class="id" title="variable">N</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunifP_pos" class="idref" href="#dunifP_pos"><span class="id" title="lemma">dunifP_pos</span></a> <a id="N:1394" class="idref" href="#N:1394"><span class="id" title="binder">N</span></a> <a id="n:1395" class="idref" href="#n:1395"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1394"><span class="id" title="variable">N</span></a> <a class="idref" href="clutch.prob.distribution.html#n:1395"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a> /=. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Reals_ext.html#RinvN_pos'"><span class="id" title="lemma">RinvN_pos'</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunifP_mass" class="idref" href="#dunifP_mass"><span class="id" title="lemma">dunifP_mass</span></a> <a id="N:1396" class="idref" href="#N:1396"><span class="id" title="binder">N</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1396"><span class="id" title="variable">N</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dunif_mass"><span class="id" title="lemma">dunif_mass</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunifP_not_dzero" class="idref" href="#dunifP_not_dzero"><span class="id" title="lemma">dunifP_not_dzero</span></a> <a id="N:1397" class="idref" href="#N:1397"><span class="id" title="binder">N</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <a class="idref" href="clutch.prob.distribution.html#N:1397"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hunif</span> : <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <span class="id" title="var">N</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hf</span> <a class="idref" href="clutch.prob.distribution.html#dzero_mass"><span class="id" title="lemma">dzero_mass</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dunifP_mass"><span class="id" title="lemma">dunifP_mass</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunif</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.distribution.html#uniform"><span class="id" title="section">uniform</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_distr</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.distribution.html#dzero_supp_empty"><span class="id" title="lemma">dzero_supp_empty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dret_pos"><span class="id" title="lemma">dret_pos</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">simplify_eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dbind_pos"><span class="id" title="lemma">dbind_pos</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : (<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dmap_pos"><span class="id" title="lemma">dmap_pos</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?); <span class="id" title="var">simplify_eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_distr</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> //; <span class="id" title="var">lra</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> ?<span class="id" title="var">x</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) ?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 =&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dbind_pos"><span class="id" title="lemma">dbind_pos</span></a>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- (<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dmap_pos"><span class="id" title="lemma">dmap_pos</span></a>; <span class="id" title="tactic">eexists</span>; (<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span>|]); <span class="id" title="tactic">try</span> <span class="id" title="var">done</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- (<a class="idref" href="clutch.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dunifP_pos"><span class="id" title="lemma">dunifP_pos</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_distr_mass</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //<br/>
&nbsp;&nbsp;| |- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_mass"><span class="id" title="lemma">dret_mass</span></a>; <span class="id" title="var">lra</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dmap_mass"><span class="id" title="lemma">dmap_mass</span></a> //<br/>
&nbsp;&nbsp;| |- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dunif_mass"><span class="id" title="lemma">dunif_mass</span></a> //<br/>
&nbsp;&nbsp;| |- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <span class="id" title="var">_</span>).(<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dunifP_mass"><span class="id" title="lemma">dunifP_mass</span></a> //<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> .<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_dzero</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dret_not_dzero"><span class="id" title="lemma">dret_not_dzero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dmap_dzero_inv"><span class="id" title="lemma">dmap_dzero_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="clutch.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#dunifP_not_dzero"><span class="id" title="lemma">dunifP_not_dzero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
