<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/logsem/clutch">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">clutch.eris.error_credits</h1>

<div class="code">
</div>

<div class="doc">
This file implements error credits, following the ideas from
    the implementation of later credits
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Reals.html#"><span class="id" title="library">Reals</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#"><span class="id" title="library">RIneq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.micromega.Psatz.html#"><span class="id" title="library">Psatz</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coquelicot</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#"><span class="id" title="library">Lim_seq</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.prelude</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="clutch.prelude.base.html#"><span class="id" title="library">base</span></a> <a class="idref" href="clutch.prelude.classical.html#"><span class="id" title="library">classical</span></a> <a class="idref" href="clutch.prelude.Reals_ext.html#"><span class="id" title="library">Reals_ext</span></a> <a class="idref" href="clutch.prelude.NNRbar.html#"><span class="id" title="library">NNRbar</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.prelude</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.prelude.options.html#"><span class="id" title="library">options</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.tactics.html#"><span class="id" title="library">tactics</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.algebra</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.auth.html#"><span class="id" title="library">auth</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.numbers.html#"><span class="id" title="library">numbers</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.base_logic.lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#"><span class="id" title="library">iprop</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.own.html#"><span class="id" title="library">own</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.base_logic.html#uPred"><span class="id" title="module">uPred</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab31"></a><h2 class="section">Non-negative real numbers with addition as the operation.</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="NNR" class="idref" href="#NNR"><span class="id" title="section">NNR</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="nonnegrealO" class="idref" href="#nonnegrealO"><span class="id" title="definition">nonnegrealO</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#ofe"><span class="id" title="record">ofe</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#leibnizO"><span class="id" title="abbreviation">leibnizO</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Instance</span> <a id="R_valid_instance" class="idref" href="#R_valid_instance"><span class="id" title="instance">R_valid_instance</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#Valid"><span class="id" title="class">Valid</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>)  := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="r:1" class="idref" href="#r:1"><span class="id" title="binder">r</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> (<a class="idref" href="clutch.eris.error_credits.html#r:1"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> 1)%<span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Instance</span> <a id="R_validN_instance" class="idref" href="#R_validN_instance"><span class="id" title="instance">R_validN_instance</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#ValidN"><span class="id" title="class">ValidN</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>) := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> <a id="r:2" class="idref" href="#r:2"><span class="id" title="binder">r</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> (<a class="idref" href="clutch.eris.error_credits.html#r:2"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> 1)%<span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Instance</span> <a id="R_pcore_instance" class="idref" href="#R_pcore_instance"><span class="id" title="instance">R_pcore_instance</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#PCore"><span class="id" title="class">PCore</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>) := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_zero"><span class="id" title="definition">nnreal_zero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Instance</span> <a id="R_op_instance" class="idref" href="#R_op_instance"><span class="id" title="instance">R_op_instance</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#Op"><span class="id" title="class">Op</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>) := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:3" class="idref" href="#x:3"><span class="id" title="binder">x</span></a> <a id="y:4" class="idref" href="#y:4"><span class="id" title="binder">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_plus"><span class="id" title="definition">nnreal_plus</span></a> <a class="idref" href="clutch.eris.error_credits.html#x:3"><span class="id" title="variable">x</span></a> <a class="idref" href="clutch.eris.error_credits.html#y:4"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Instance</span> <a id="R_equiv" class="idref" href="#R_equiv"><span class="id" title="instance">R_equiv</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Equiv"><span class="id" title="class">Equiv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:5" class="idref" href="#x:5"><span class="id" title="binder">x</span></a> <a id="y:6" class="idref" href="#y:6"><span class="id" title="binder">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.eris.error_credits.html#x:5"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.error_credits.html#y:6"><span class="id" title="variable">y</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="R_op" class="idref" href="#R_op"><span class="id" title="definition">R_op</span></a> (<a id="x:7" class="idref" href="#x:7"><span class="id" title="binder">x</span></a> <a id="y:8" class="idref" href="#y:8"><span class="id" title="binder">y</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>) : <a class="idref" href="clutch.eris.error_credits.html#x:7"><span class="id" title="variable">x</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="clutch.eris.error_credits.html#y:8"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_plus"><span class="id" title="definition">nnreal_plus</span></a> <a class="idref" href="clutch.eris.error_credits.html#x:7"><span class="id" title="variable">x</span></a> <a class="idref" href="clutch.eris.error_credits.html#y:8"><span class="id" title="variable">y</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Rle_0_le_minus" class="idref" href="#Rle_0_le_minus"><span class="id" title="lemma">Rle_0_le_minus</span></a> (<a id="x:9" class="idref" href="#x:9"><span class="id" title="binder">x</span></a> <a id="y:10" class="idref" href="#y:10"><span class="id" title="binder">y</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) : (<a class="idref" href="clutch.eris.error_credits.html#x:9"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.eris.error_credits.html#y:10"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.eris.error_credits.html#y:10"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="clutch.eris.error_credits.html#x:9"><span class="id" title="variable">x</span></a>)%<span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="R_included" class="idref" href="#R_included"><span class="id" title="lemma">R_included</span></a> (<a id="x:11" class="idref" href="#x:11"><span class="id" title="binder">x</span></a> <a id="y:12" class="idref" href="#y:12"><span class="id" title="binder">y</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>) : <a class="idref" href="clutch.eris.error_credits.html#x:11"><span class="id" title="variable">x</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#975a3239ce8dde2ed742ab7c72633e15"><span class="id" title="notation">≼</span></a> <a class="idref" href="clutch.eris.error_credits.html#y:12"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> (<a class="idref" href="clutch.eris.error_credits.html#x:11"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.eris.error_credits.html#y:12"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#included"><span class="id" title="definition">included</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> ((<span class="id" title="var">z</span> &amp; <span class="id" title="var">Hz</span>) &amp; <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.eris.error_credits.html#R_op"><span class="id" title="definition">R_op</span></a> /<a class="idref" href="clutch.prelude.NNRbar.html#nnreal_plus"><span class="id" title="definition">nnreal_plus</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#included"><span class="id" title="definition">included</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span> &amp; <span class="id" title="var">Hx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span> &amp; <span class="id" title="var">Hy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> ({| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonneg"><span class="id" title="projection">nonneg</span></a> := <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">x</span> ; <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#cond_nonneg"><span class="id" title="projection">cond_nonneg</span></a> := <a class="idref" href="clutch.eris.error_credits.html#Rle_0_le_minus"><span class="id" title="lemma">Rle_0_le_minus</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">H</span> |}).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.eris.error_credits.html#R_op"><span class="id" title="definition">R_op</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a>/<a class="idref" href="clutch.eris.error_credits.html#R_equiv"><span class="id" title="instance">R_equiv</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_ext"><span class="id" title="lemma">nnreal_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;Local&nbsp;Instance&nbsp;RR_valid_instance&nbsp;:&nbsp;Valid&nbsp;(R)&nbsp;&nbsp;:=&nbsp;λ&nbsp;_&nbsp;,&nbsp;True.<br/>
&nbsp;&nbsp;Local&nbsp;Instance&nbsp;RR_validN_instance&nbsp;:&nbsp;ValidN&nbsp;(R)&nbsp;:=&nbsp;λ&nbsp;_&nbsp;_,&nbsp;True.<br/>
&nbsp;&nbsp;Local&nbsp;Instance&nbsp;RR_pcore_instance&nbsp;:&nbsp;PCore&nbsp;(R)&nbsp;:=&nbsp;λ&nbsp;_,&nbsp;Some&nbsp;0*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="R_ra_mixin" class="idref" href="#R_ra_mixin"><span class="id" title="lemma">R_ra_mixin</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#RAMixin"><span class="id" title="record">RAMixin</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#ra_total_mixin"><span class="id" title="lemma">ra_total_mixin</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">solve_proper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">solve_proper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ? ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a>/<a class="idref" href="clutch.eris.error_credits.html#R_equiv"><span class="id" title="instance">R_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_ext"><span class="id" title="lemma">nnreal_ext</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a>/<a class="idref" href="clutch.eris.error_credits.html#R_equiv"><span class="id" title="instance">R_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_ext"><span class="id" title="lemma">nnreal_ext</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a>/<a class="idref" href="clutch.eris.error_credits.html#R_equiv"><span class="id" title="instance">R_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_ext"><span class="id" title="lemma">nnreal_ext</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ? ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.eris.error_credits.html#R_included"><span class="id" title="lemma">R_included</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#valid"><span class="id" title="definition">valid</span></a>/<a class="idref" href="clutch.eris.error_credits.html#R_valid_instance"><span class="id" title="instance">R_valid_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#op"><span class="id" title="definition">op</span></a>/<a class="idref" href="clutch.eris.error_credits.html#R_op_instance"><span class="id" title="instance">R_op_instance</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#cond_nonneg"><span class="id" title="projection">cond_nonneg</span></a> <span class="id" title="var">y</span>). <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Massive&nbsp;hack&nbsp;to&nbsp;override&nbsp;Coq&nbsp;reals&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="id" class="idref" href="#id"><span class="id" title="definition">id</span></a> {<a id="A:13" class="idref" href="#A:13"><span class="id" title="binder">A</span></a>} := (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="a:14" class="idref" href="#a:14"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.eris.error_credits.html#A:13"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <a class="idref" href="clutch.eris.error_credits.html#a:14"><span class="id" title="variable">a</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="realR" class="idref" href="#realR"><span class="id" title="definition">realR</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#cmra"><span class="id" title="record">cmra</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#discreteR"><span class="id" title="abbreviation">discreteR</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a> <a class="idref" href="clutch.eris.error_credits.html#R_ra_mixin"><span class="id" title="lemma">R_ra_mixin</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="R_cmra_discrete" class="idref" href="#R_cmra_discrete"><span class="id" title="instance">R_cmra_discrete</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#CmraDiscrete"><span class="id" title="class">CmraDiscrete</span></a> <a class="idref" href="clutch.eris.error_credits.html#realR"><span class="id" title="definition">realR</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#discrete_cmra_discrete"><span class="id" title="instance">discrete_cmra_discrete</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Instance</span> <a id="R_unit_instance" class="idref" href="#R_unit_instance"><span class="id" title="instance">R_unit_instance</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#Unit"><span class="id" title="class">Unit</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a> := <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_zero"><span class="id" title="definition">nnreal_zero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="R_ucmra_mixin" class="idref" href="#R_ucmra_mixin"><span class="id" title="lemma">R_ucmra_mixin</span></a> : @<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#UcmraMixin"><span class="id" title="record">UcmraMixin</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="clutch.eris.error_credits.html#R_unit_instance"><span class="id" title="instance">R_unit_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#valid"><span class="id" title="definition">valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.error_credits.html#R_valid_instance"><span class="id" title="instance">R_valid_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#LeftId"><span class="id" title="class">LeftId</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a>/<a class="idref" href="clutch.eris.error_credits.html#R_equiv"><span class="id" title="instance">R_equiv</span></a>/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#op"><span class="id" title="definition">op</span></a>/<a class="idref" href="clutch.eris.error_credits.html#R_op_instance"><span class="id" title="instance">R_op_instance</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_ext"><span class="id" title="lemma">nnreal_ext</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#pcore"><span class="id" title="definition">pcore</span></a>/<a class="idref" href="clutch.eris.error_credits.html#R_pcore_instance"><span class="id" title="instance">R_pcore_instance</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="realUR" class="idref" href="#realUR"><span class="id" title="definition">realUR</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#ucmra"><span class="id" title="record">ucmra</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#Ucmra"><span class="id" title="abbreviation">Ucmra</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a> <a class="idref" href="clutch.eris.error_credits.html#R_ucmra_mixin"><span class="id" title="lemma">R_ucmra_mixin</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="nonnegreal_add_cancel_l" class="idref" href="#nonnegreal_add_cancel_l"><span class="id" title="lemma">nonnegreal_add_cancel_l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:15" class="idref" href="#x:15"><span class="id" title="binder">x</span></a> <a id="y:16" class="idref" href="#y:16"><span class="id" title="binder">y</span></a> <a id="z:17" class="idref" href="#z:17"><span class="id" title="binder">z</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_plus"><span class="id" title="definition">nnreal_plus</span></a> <a class="idref" href="clutch.eris.error_credits.html#z:17"><span class="id" title="variable">z</span></a> <a class="idref" href="clutch.eris.error_credits.html#x:15"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_plus"><span class="id" title="definition">nnreal_plus</span></a> <a class="idref" href="clutch.eris.error_credits.html#z:17"><span class="id" title="variable">z</span></a> <a class="idref" href="clutch.eris.error_credits.html#y:16"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="clutch.eris.error_credits.html#x:15"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.error_credits.html#y:16"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? ?; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_ext"><span class="id" title="lemma">nnreal_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prelude.NNRbar.html#nnreal_plus"><span class="id" title="definition">nnreal_plus</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="R_cancelable" class="idref" href="#R_cancelable"><span class="id" title="instance">R_cancelable</span></a> (<a id="x:18" class="idref" href="#x:18"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#Cancelable"><span class="id" title="class">Cancelable</span></a> <a class="idref" href="clutch.eris.error_credits.html#x:18"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ???? ?%<a class="idref" href="clutch.eris.error_credits.html#nonnegreal_add_cancel_l"><span class="id" title="lemma">nonnegreal_add_cancel_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FIXME:&nbsp;unused&nbsp;(it&nbsp;should&nbsp;factor&nbsp;out&nbsp;the&nbsp;proof&nbsp;in&nbsp;ec_credit_supply)&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="R_local_update" class="idref" href="#R_local_update"><span class="id" title="lemma">R_local_update</span></a> (<a id="x:19" class="idref" href="#x:19"><span class="id" title="binder">x</span></a> <a id="y:20" class="idref" href="#y:20"><span class="id" title="binder">y</span></a> <a id="x':21" class="idref" href="#x':21"><span class="id" title="binder">x'</span></a> <a id="y':22" class="idref" href="#y':22"><span class="id" title="binder">y'</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.eris.error_credits.html#y':22"><span class="id" title="variable">y'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.eris.error_credits.html#y:20"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_plus"><span class="id" title="definition">nnreal_plus</span></a> <a class="idref" href="clutch.eris.error_credits.html#x:19"><span class="id" title="variable">x</span></a> <a class="idref" href="clutch.eris.error_credits.html#y':22"><span class="id" title="variable">y'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_plus"><span class="id" title="definition">nnreal_plus</span></a> <a class="idref" href="clutch.eris.error_credits.html#x':21"><span class="id" title="variable">x'</span></a> <a class="idref" href="clutch.eris.error_credits.html#y:20"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.error_credits.html#x:19"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="clutch.eris.error_credits.html#y:20"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">l</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.error_credits.html#x':21"><span class="id" title="variable">x'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="clutch.eris.error_credits.html#y':22"><span class="id" title="variable">y'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ??; <span class="id" title="tactic">apply</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.local_updates.html#local_update_unital_discrete"><span class="id" title="lemma">local_update_unital_discrete</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">x'</span> <span class="id" title="var">y'</span>) =&gt; <span class="id" title="var">z</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>, <span class="id" title="var">x'</span>, <span class="id" title="var">y'</span>, <span class="id" title="var">z</span>; <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">compute</span>; <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_lt_trans"><span class="id" title="lemma">Rle_lt_trans</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">compute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_ext"><span class="id" title="lemma">nnreal_ext</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;one&nbsp;has&nbsp;a&nbsp;higher&nbsp;precendence&nbsp;than&nbsp;<span class="inlinecode"><span class="id" title="var">is_op_op</span></span>&nbsp;so&nbsp;we&nbsp;get&nbsp;a&nbsp;<span class="inlinecode">+</span>&nbsp;instead<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;an&nbsp;<span class="inlinecode">⋅</span>.<br/>
&nbsp;&nbsp;Global&nbsp;Instance&nbsp;nat_is_op&nbsp;(n1&nbsp;n2&nbsp;:&nbsp;nat)&nbsp;:&nbsp;IsOp&nbsp;(n1&nbsp;+&nbsp;n2)&nbsp;n1&nbsp;n2.<br/>
&nbsp;&nbsp;Proof.&nbsp;done.&nbsp;Qed.<br/>
&nbsp;&nbsp;*)</span><br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.eris.error_credits.html#NNR"><span class="id" title="section">NNR</span></a>.<br/>

<br/>
</div>

<div class="doc">
The ghost state for error credits 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a id="ecGpreS" class="idref" href="#ecGpreS"><span class="id" title="record">ecGpreS</span></a> (<a id="3eadb2a0aeaeef49bd6cd27b7316c266" class="idref" href="#3eadb2a0aeaeef49bd6cd27b7316c266"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#gFunctors"><span class="id" title="record">gFunctors</span></a>) := <span class="id" title="var">EcGpreS</span> {<br/>
&nbsp;&nbsp;<a id="ecGpreS_inG" class="idref" href="#ecGpreS_inG"><span class="id" title="projection">ecGpreS_inG</span></a> :: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.own.html#inG"><span class="id" title="class">inG</span></a> <a class="idref" href="clutch.eris.error_credits.html#3eadb2a0aeaeef49bd6cd27b7316c266"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.auth.html#authR"><span class="id" title="definition">authR</span></a> <a class="idref" href="clutch.eris.error_credits.html#realUR"><span class="id" title="definition">realUR</span></a>)<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="ecGS" class="idref" href="#ecGS"><span class="id" title="record">ecGS</span></a> (<a id="e023703f3460855264e8fbe327a7ed6a" class="idref" href="#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#gFunctors"><span class="id" title="record">gFunctors</span></a>) := <span class="id" title="var">EcGS</span> {<br/>
&nbsp;&nbsp;<a id="ecGS_inG" class="idref" href="#ecGS_inG"><span class="id" title="projection">ecGS_inG</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.own.html#inG"><span class="id" title="class">inG</span></a> <a class="idref" href="clutch.eris.error_credits.html#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.auth.html#authR"><span class="id" title="definition">authR</span></a> <a class="idref" href="clutch.eris.error_credits.html#realUR"><span class="id" title="definition">realUR</span></a>);<br/>
&nbsp;&nbsp;<a id="ecGS_name" class="idref" href="#ecGS_name"><span class="id" title="projection">ecGS_name</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#gname"><span class="id" title="definition">gname</span></a>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Global</span> <span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="clutch.eris.error_credits.html#ecGS"><span class="id" title="class">ecGS</span></a> - : <span class="id" title="var">typeclass_instances</span>.<br/>
<span class="id" title="keyword">Local Existing Instances</span> <a class="idref" href="clutch.eris.error_credits.html#ecGS_inG"><span class="id" title="method">ecGS_inG</span></a> <a class="idref" href="clutch.eris.error_credits.html#ecGpreS_inG"><span class="id" title="method">ecGpreS_inG</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="181a0dd04c0b7ff6eea957544e28553c" class="idref" href="#181a0dd04c0b7ff6eea957544e28553c"><span class="id" title="definition">ecΣ</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">#[</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#GFunctor"><span class="id" title="constructor">GFunctor</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.auth.html#authR"><span class="id" title="definition">authR</span></a> (<a class="idref" href="clutch.eris.error_credits.html#realUR"><span class="id" title="definition">realUR</span></a>))<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Global Instance</span> <a id="f9af94f70f00702c1b929874f137d0b0" class="idref" href="#f9af94f70f00702c1b929874f137d0b0"><span class="id" title="instance">subG_ecΣ</span></a> {<a id="837da4610b9e0a7574f49c54d2569297" class="idref" href="#837da4610b9e0a7574f49c54d2569297"><span class="id" title="binder">Σ</span></a>} : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#subG"><span class="id" title="class">subG</span></a> <a class="idref" href="clutch.eris.error_credits.html#181a0dd04c0b7ff6eea957544e28553c"><span class="id" title="definition">ecΣ</span></a> <a class="idref" href="clutch.eris.error_credits.html#837da4610b9e0a7574f49c54d2569297"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.eris.error_credits.html#ecGpreS"><span class="id" title="class">ecGpreS</span></a> <a class="idref" href="clutch.eris.error_credits.html#837da4610b9e0a7574f49c54d2569297"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_inG</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The user-facing error resource, denoting ownership of <span class="inlinecode"><span class="id" title="var">ε</span></span> error credits. 
</div>
<div class="code">
<span class="id" title="keyword">Local Definition</span> <a id="ec_def" class="idref" href="#ec_def"><span class="id" title="definition">ec_def</span></a> `{<a id="ecGS0:32" class="idref" href="#ecGS0:32"><span class="id" title="binder">!</span></a><a id="ecGS0:32" class="idref" href="#ecGS0:32"><span class="id" title="binder">ecGS</span></a> <a id="7374d4818eab9c7e7a123322e5aab0bf" class="idref" href="#7374d4818eab9c7e7a123322e5aab0bf"><span class="id" title="binder"><span id="ecGS0:32" class="id">Σ</span></span></a>} (<a id="30fb30ef849a8f4c158e8e6f89cc589d" class="idref" href="#30fb30ef849a8f4c158e8e6f89cc589d"><span class="id" title="binder">ε</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="clutch.eris.error_credits.html#7374d4818eab9c7e7a123322e5aab0bf"><span class="id" title="variable">Σ</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.own.html#own"><span class="id" title="definition">own</span></a> <a class="idref" href="clutch.eris.error_credits.html#ecGS_name"><span class="id" title="method">ecGS_name</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.auth.html#a90cdbbdd48c6371236cd642d46fd3ac"><span class="id" title="notation">◯</span></a> <a class="idref" href="clutch.eris.error_credits.html#30fb30ef849a8f4c158e8e6f89cc589d"><span class="id" title="variable">ε</span></a>).<br/>
<span class="id" title="keyword">Local Definition</span> <a id="ec_aux" class="idref" href="#ec_aux"><span class="id" title="definition">ec_aux</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#seal"><span class="id" title="record">seal</span></a> (@<a class="idref" href="clutch.eris.error_credits.html#ec_def"><span class="id" title="definition">ec_def</span></a>). <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="ec" class="idref" href="#ec"><span class="id" title="definition">ec</span></a> := <a class="idref" href="clutch.eris.error_credits.html#ec_aux"><span class="id" title="definition">ec_aux</span></a>.(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#unseal"><span class="id" title="projection">unseal</span></a>).<br/>
<span class="id" title="keyword">Local Definition</span> <a id="ec_unseal" class="idref" href="#ec_unseal"><span class="id" title="definition">ec_unseal</span></a> :<br/>
&nbsp;&nbsp;@<a class="idref" href="clutch.eris.error_credits.html#ec"><span class="id" title="definition">ec</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="clutch.eris.error_credits.html#ec_def"><span class="id" title="definition">ec_def</span></a> := <a class="idref" href="clutch.eris.error_credits.html#ec_aux"><span class="id" title="definition">ec_aux</span></a>.(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#seal_eq"><span class="id" title="projection">seal_eq</span></a>).<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="clutch.eris.error_credits.html#ec"><span class="id" title="definition">ec</span></a> {<span class="id" title="var">Σ</span> <span class="id" title="var">_</span>} <span class="id" title="var">ε</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="08e29de66e639a50320709004a6b0ae4" class="idref" href="#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">&quot;</span></a>'↯'  ε" := (<a class="idref" href="clutch.eris.error_credits.html#ec"><span class="id" title="definition">ec</span></a> <span class="id" title="var">ε</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 1).<br/>

<br/>
</div>

<div class="doc">
The internal authoritative part of the credit ghost state,
  tracking how many credits are available in total.
  Users should not directly interface with this. 
</div>
<div class="code">
<span class="id" title="keyword">Local Definition</span> <a id="ec_supply_def" class="idref" href="#ec_supply_def"><span class="id" title="definition">ec_supply_def</span></a> `{<a id="ecGS0:35" class="idref" href="#ecGS0:35"><span class="id" title="binder">!</span></a><a id="ecGS0:35" class="idref" href="#ecGS0:35"><span class="id" title="binder">ecGS</span></a> <a id="c9c14b58eeeaee559bef0d4f884fa28f" class="idref" href="#c9c14b58eeeaee559bef0d4f884fa28f"><span class="id" title="binder"><span id="ecGS0:35" class="id">Σ</span></span></a>} (<a id="9f35b8b5815a25183d68dbfbda23a46a" class="idref" href="#9f35b8b5815a25183d68dbfbda23a46a"><span class="id" title="binder">ε</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="clutch.eris.error_credits.html#c9c14b58eeeaee559bef0d4f884fa28f"><span class="id" title="variable">Σ</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.own.html#own"><span class="id" title="definition">own</span></a> <a class="idref" href="clutch.eris.error_credits.html#ecGS_name"><span class="id" title="method">ecGS_name</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.auth.html#78c72ac49d7ce3ebc6ff15bd4319d0ba"><span class="id" title="notation">●</span></a> <a class="idref" href="clutch.eris.error_credits.html#9f35b8b5815a25183d68dbfbda23a46a"><span class="id" title="variable">ε</span></a>).<br/>
<span class="id" title="keyword">Local Definition</span> <a id="ec_supply_aux" class="idref" href="#ec_supply_aux"><span class="id" title="definition">ec_supply_aux</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#seal"><span class="id" title="record">seal</span></a> (@<a class="idref" href="clutch.eris.error_credits.html#ec_supply_def"><span class="id" title="definition">ec_supply_def</span></a>). <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="ec_supply" class="idref" href="#ec_supply"><span class="id" title="definition">ec_supply</span></a> := <a class="idref" href="clutch.eris.error_credits.html#ec_supply_aux"><span class="id" title="definition">ec_supply_aux</span></a>.(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#unseal"><span class="id" title="projection">unseal</span></a>).<br/>
<span class="id" title="keyword">Local Definition</span> <a id="ec_supply_unseal" class="idref" href="#ec_supply_unseal"><span class="id" title="definition">ec_supply_unseal</span></a> :<br/>
&nbsp;&nbsp;@<a class="idref" href="clutch.eris.error_credits.html#ec_supply"><span class="id" title="definition">ec_supply</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="clutch.eris.error_credits.html#ec_supply_def"><span class="id" title="definition">ec_supply_def</span></a> := <a class="idref" href="clutch.eris.error_credits.html#ec_supply_aux"><span class="id" title="definition">ec_supply_aux</span></a>.(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#seal_eq"><span class="id" title="projection">seal_eq</span></a>).<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="clutch.eris.error_credits.html#ec_supply"><span class="id" title="definition">ec_supply</span></a> {<span class="id" title="var">Σ</span> <span class="id" title="var">_</span>} <span class="id" title="var">ε</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="error_credit_theory" class="idref" href="#error_credit_theory"><span class="id" title="section">error_credit_theory</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="ecGS0:38" class="idref" href="#ecGS0:38"><span class="id" title="binder">!</span></a><a id="ecGS0:38" class="idref" href="#ecGS0:38"><span class="id" title="binder">ecGS</span></a> <a id="01696af10e39986da2e9d1f22eb04999" class="idref" href="#01696af10e39986da2e9d1f22eb04999"><span class="id" title="binder"><span id="ecGS0:38" class="id">Σ</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="clutch.eris.error_credits.html#d041efc5d0214d896d5fc28a4cf97798"><span class="id" title="variable">Σ</span></a>).<br/>

<br/>
</div>

<div class="doc">
Error credit rules 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ec_split" class="idref" href="#ec_split"><span class="id" title="lemma">ec_split</span></a> <a id="febde04c2cca726e5e0136d0c79b5c3a" class="idref" href="#febde04c2cca726e5e0136d0c79b5c3a"><span class="id" title="binder">ε1</span></a> <a id="3c37f8e3c99f4bd28e7a780c6b755320" class="idref" href="#3c37f8e3c99f4bd28e7a780c6b755320"><span class="id" title="binder">ε2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prelude.NNRbar.html#nnreal_plus"><span class="id" title="definition">nnreal_plus</span></a> <a class="idref" href="clutch.eris.error_credits.html#febde04c2cca726e5e0136d0c79b5c3a"><span class="id" title="variable">ε1</span></a> <a class="idref" href="clutch.eris.error_credits.html#3c37f8e3c99f4bd28e7a780c6b755320"><span class="id" title="variable">ε2</span></a><a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#ab77735a6abb55d5a41bcd1956005829"><span class="id" title="notation">⊣⊢</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#febde04c2cca726e5e0136d0c79b5c3a"><span class="id" title="variable">ε1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#3c37f8e3c99f4bd28e7a780c6b755320"><span class="id" title="variable">ε2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.eris.error_credits.html#ec_unseal"><span class="id" title="definition">ec_unseal</span></a> /<a class="idref" href="clutch.eris.error_credits.html#ec_def"><span class="id" title="definition">ec_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.own.html#own_op"><span class="id" title="lemma">own_op</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.auth.html#auth_frag_op"><span class="id" title="lemma">auth_frag_op</span></a> //=.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ec_zero" class="idref" href="#ec_zero"><span class="id" title="lemma">ec_zero</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_zero"><span class="id" title="definition">nnreal_zero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.eris.error_credits.html#ec_unseal"><span class="id" title="definition">ec_unseal</span></a> /<a class="idref" href="clutch.eris.error_credits.html#ec_def"><span class="id" title="definition">ec_def</span></a>. <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.own.html#own_unit"><span class="id" title="lemma">own_unit</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ec_supply_bound" class="idref" href="#ec_supply_bound"><span class="id" title="lemma">ec_supply_bound</span></a> <a id="cc9d9be968d577e5fa9512a5756d51d6" class="idref" href="#cc9d9be968d577e5fa9512a5756d51d6"><span class="id" title="binder">ε1</span></a> <a id="39d2ddd21c3ae64987c97c24cc4d91ce" class="idref" href="#39d2ddd21c3ae64987c97c24cc4d91ce"><span class="id" title="binder">ε2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.error_credits.html#ec_supply"><span class="id" title="definition">ec_supply</span></a> <a class="idref" href="clutch.eris.error_credits.html#39d2ddd21c3ae64987c97c24cc4d91ce"><span class="id" title="variable">ε2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#cc9d9be968d577e5fa9512a5756d51d6"><span class="id" title="variable">ε1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a>(<a class="idref" href="clutch.eris.error_credits.html#cc9d9be968d577e5fa9512a5756d51d6"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.eris.error_credits.html#39d2ddd21c3ae64987c97c24cc4d91ce"><span class="id" title="variable">ε2</span></a>)%<span class="id" title="var">R</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.eris.error_credits.html#ec_unseal"><span class="id" title="definition">ec_unseal</span></a> /<a class="idref" href="clutch.eris.error_credits.html#ec_def"><span class="id" title="definition">ec_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.eris.error_credits.html#ec_supply_unseal"><span class="id" title="definition">ec_supply_unseal</span></a> /<a class="idref" href="clutch.eris.error_credits.html#ec_supply_def"><span class="id" title="definition">ec_supply_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H1 H2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.own.html#own_valid_2"><span class="id" title="lemma">own_valid_2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H1 H2"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "%Hop".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.auth.html#auth_both_valid_discrete"><span class="id" title="lemma">auth_both_valid_discrete</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hop</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlt</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.eris.error_credits.html#R_included"><span class="id" title="lemma">R_included</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ec_decrease_supply" class="idref" href="#ec_decrease_supply"><span class="id" title="lemma">ec_decrease_supply</span></a> <a id="c857d06784b984e42fa00533e59d627e" class="idref" href="#c857d06784b984e42fa00533e59d627e"><span class="id" title="binder">ε1</span></a> <a id="9994dca845a0ea4b918669b37fc23dc3" class="idref" href="#9994dca845a0ea4b918669b37fc23dc3"><span class="id" title="binder">ε2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.error_credits.html#ec_supply"><span class="id" title="definition">ec_supply</span></a> (<a class="idref" href="clutch.eris.error_credits.html#c857d06784b984e42fa00533e59d627e"><span class="id" title="variable">ε1</span></a> <a class="idref" href="clutch.prelude.NNRbar.html#30265c7ac6ae445cb8137ba151c23ede"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.eris.error_credits.html#9994dca845a0ea4b918669b37fc23dc3"><span class="id" title="variable">ε2</span></a>)%<span class="id" title="var">NNR</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#c857d06784b984e42fa00533e59d627e"><span class="id" title="variable">ε1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="clutch.eris.error_credits.html#ec_supply"><span class="id" title="definition">ec_supply</span></a> <a class="idref" href="clutch.eris.error_credits.html#9994dca845a0ea4b918669b37fc23dc3"><span class="id" title="variable">ε2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.eris.error_credits.html#ec_unseal"><span class="id" title="definition">ec_unseal</span></a> /<a class="idref" href="clutch.eris.error_credits.html#ec_def"><span class="id" title="definition">ec_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.eris.error_credits.html#ec_supply_unseal"><span class="id" title="definition">ec_supply_unseal</span></a> /<a class="idref" href="clutch.eris.error_credits.html#ec_supply_def"><span class="id" title="definition">ec_supply_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H1 H2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.own.html#own_update_2"><span class="id" title="lemma">own_update_2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H1 H2"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "Hown".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.auth.html#auth_update"><span class="id" title="lemma">auth_update</span></a>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.eris.error_credits.html#R_local_update"><span class="id" title="lemma">R_local_update</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ε2</span> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_zero"><span class="id" title="definition">nnreal_zero</span></a>); [<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#cond_nonneg"><span class="id" title="projection">cond_nonneg</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_ext"><span class="id" title="lemma">nnreal_ext</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iDestruct</span> "Hown" <span class="id" title="keyword">as</span> "[Hm _]".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ec_increase_supply" class="idref" href="#ec_increase_supply"><span class="id" title="lemma">ec_increase_supply</span></a> (<a id="1fa44217c44e78218ae34c2ce7178f2f" class="idref" href="#1fa44217c44e78218ae34c2ce7178f2f"><span class="id" title="binder">ε1</span></a> <a id="722bd79ab48c6caa072ef488a16a1a6c" class="idref" href="#722bd79ab48c6caa072ef488a16a1a6c"><span class="id" title="binder">ε2</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a>(<a class="idref" href="clutch.eris.error_credits.html#1fa44217c44e78218ae34c2ce7178f2f"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.eris.error_credits.html#722bd79ab48c6caa072ef488a16a1a6c"><span class="id" title="variable">ε2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> 1)%<span class="id" title="var">R</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="clutch.eris.error_credits.html#ec_supply"><span class="id" title="definition">ec_supply</span></a> <a class="idref" href="clutch.eris.error_credits.html#1fa44217c44e78218ae34c2ce7178f2f"><span class="id" title="variable">ε1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="clutch.eris.error_credits.html#ec_supply"><span class="id" title="definition">ec_supply</span></a> (<a class="idref" href="clutch.eris.error_credits.html#1fa44217c44e78218ae34c2ce7178f2f"><span class="id" title="variable">ε1</span></a> <a class="idref" href="clutch.prelude.NNRbar.html#30265c7ac6ae445cb8137ba151c23ede"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.eris.error_credits.html#722bd79ab48c6caa072ef488a16a1a6c"><span class="id" title="variable">ε2</span></a>)%<span class="id" title="var">NNR</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#722bd79ab48c6caa072ef488a16a1a6c"><span class="id" title="variable">ε2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.eris.error_credits.html#ec_unseal"><span class="id" title="definition">ec_unseal</span></a> /<a class="idref" href="clutch.eris.error_credits.html#ec_def"><span class="id" title="definition">ec_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.eris.error_credits.html#ec_supply_unseal"><span class="id" title="definition">ec_supply_unseal</span></a> /<a class="idref" href="clutch.eris.error_credits.html#ec_supply_def"><span class="id" title="definition">ec_supply_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[%Hsum H]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.own.html#own_update"><span class="id" title="lemma">own_update</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[$ $]"; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.auth.html#auth_update_alloc"><span class="id" title="lemma">auth_update_alloc</span></a> <span class="id" title="var">_</span> ). <span class="comment">(*&nbsp;(ε1&nbsp;+&nbsp;ε2)NNR).&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.local_updates.html#local_update_unital_discrete"><span class="id" title="lemma">local_update_unital_discrete</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt; <span class="id" title="var">z</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">compute</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">compute</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_ext"><span class="id" title="lemma">nnreal_ext</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_eq_compat_l"><span class="id" title="lemma">Rplus_eq_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ec_split_supply" class="idref" href="#ec_split_supply"><span class="id" title="lemma">ec_split_supply</span></a> <a id="00cda9babe8e51b3f2693f670cf30cbf" class="idref" href="#00cda9babe8e51b3f2693f670cf30cbf"><span class="id" title="binder">ε1</span></a> <a id="db613530312b58d869fcf44efd16024d" class="idref" href="#db613530312b58d869fcf44efd16024d"><span class="id" title="binder">ε2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.error_credits.html#ec_supply"><span class="id" title="definition">ec_supply</span></a> <a class="idref" href="clutch.eris.error_credits.html#db613530312b58d869fcf44efd16024d"><span class="id" title="variable">ε2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#00cda9babe8e51b3f2693f670cf30cbf"><span class="id" title="variable">ε1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="5fe2add6a655086fbaf01d22eeefd29a" class="idref" href="#5fe2add6a655086fbaf01d22eeefd29a"><span class="id" title="binder">ε3</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.error_credits.html#db613530312b58d869fcf44efd16024d"><span class="id" title="variable">ε2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="clutch.eris.error_credits.html#00cda9babe8e51b3f2693f670cf30cbf"><span class="id" title="variable">ε1</span></a> <a class="idref" href="clutch.prelude.NNRbar.html#30265c7ac6ae445cb8137ba151c23ede"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.eris.error_credits.html#5fe2add6a655086fbaf01d22eeefd29a"><span class="id" title="variable">ε3</span></a>)%<span class="id" title="var">NNR</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.eris.error_credits.html#ec_unseal"><span class="id" title="definition">ec_unseal</span></a> /<a class="idref" href="clutch.eris.error_credits.html#ec_def"><span class="id" title="definition">ec_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.eris.error_credits.html#ec_supply_unseal"><span class="id" title="definition">ec_supply_unseal</span></a> /<a class="idref" href="clutch.eris.error_credits.html#ec_supply_def"><span class="id" title="definition">ec_supply_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H1 H2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.own.html#own_valid_2"><span class="id" title="lemma">own_valid_2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H1 H2"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "%Hop".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.auth.html#auth_both_valid_discrete"><span class="id" title="lemma">auth_both_valid_discrete</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hop</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlt</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.eris.error_credits.html#R_included"><span class="id" title="lemma">R_included</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> (<a class="idref" href="clutch.prelude.NNRbar.html#nnreal_minus"><span class="id" title="definition">nnreal_minus</span></a> <span class="id" title="var">ε2</span> <span class="id" title="var">ε1</span> <span class="id" title="var">Hlt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_ext"><span class="id" title="lemma">nnreal_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ec_weaken" class="idref" href="#ec_weaken"><span class="id" title="lemma">ec_weaken</span></a> {<a id="d6b378c0c8aa3608796090246bd08b26" class="idref" href="#d6b378c0c8aa3608796090246bd08b26"><span class="id" title="binder">ε1</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>} (<a id="8a15d6542b21a8cd5acd853efacf741f" class="idref" href="#8a15d6542b21a8cd5acd853efacf741f"><span class="id" title="binder">ε2</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.eris.error_credits.html#8a15d6542b21a8cd5acd853efacf741f"><span class="id" title="variable">ε2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.eris.error_credits.html#d6b378c0c8aa3608796090246bd08b26"><span class="id" title="variable">ε1</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#d6b378c0c8aa3608796090246bd08b26"><span class="id" title="variable">ε1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#8a15d6542b21a8cd5acd853efacf741f"><span class="id" title="variable">ε2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">diff</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#mknonnegreal"><span class="id" title="constructor">mknonnegreal</span></a> (<span class="id" title="var">ε1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">ε2</span>) (<a class="idref" href="clutch.eris.error_credits.html#Rle_0_le_minus"><span class="id" title="lemma">Rle_0_le_minus</span></a> <span class="id" title="var">ε2</span> <span class="id" title="var">ε1</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ε1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_plus"><span class="id" title="definition">nnreal_plus</span></a> <span class="id" title="var">ε2</span> <span class="id" title="var">diff</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_ext"><span class="id" title="lemma">nnreal_ext</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.eris.error_credits.html#ec_split"><span class="id" title="lemma">ec_split</span></a>. <span class="id" title="var">iIntros</span> "[$ _]".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ec_spend" class="idref" href="#ec_spend"><span class="id" title="lemma">ec_spend</span></a> (<a id="10b735209b466b907e41ce2d93741b3d" class="idref" href="#10b735209b466b907e41ce2d93741b3d"><span class="id" title="binder">ε</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>) : (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonneg"><span class="id" title="projection">nonneg</span></a> <a class="idref" href="clutch.eris.error_credits.html#10b735209b466b907e41ce2d93741b3d"><span class="id" title="variable">ε</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#10b735209b466b907e41ce2d93741b3d"><span class="id" title="variable">ε</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">Hge1</span>) "Hε".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.eris.error_credits.html#ec_unseal"><span class="id" title="definition">ec_unseal</span></a> /<a class="idref" href="clutch.eris.error_credits.html#ec_def"><span class="id" title="definition">ec_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.upred.html#a79a5cb7b9793a009fe3ff9410025351"><span class="id" title="notation">✓</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.upred.html#a79a5cb7b9793a009fe3ff9410025351"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.auth.html#a90cdbbdd48c6371236cd642d46fd3ac"><span class="id" title="notation">◯</span></a> <span class="id" title="var">ε</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.upred.html#a79a5cb7b9793a009fe3ff9410025351"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">I</span> <span class="id" title="keyword">with</span> "[Hε]" <span class="id" title="keyword">as</span> "%Hε" ; [<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.own.html#own_valid"><span class="id" title="lemma">own_valid</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.auth.html#auth_frag_valid_1"><span class="id" title="lemma">auth_frag_valid_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hε</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">ε</span>; <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ec_spend_le_irrel" class="idref" href="#ec_spend_le_irrel"><span class="id" title="lemma">ec_spend_le_irrel</span></a> <a id="ff7c7473b00d28a30b53f43425ca1be1" class="idref" href="#ff7c7473b00d28a30b53f43425ca1be1"><span class="id" title="binder">ε1</span></a> <a id="061edde202ad2225de6c51e7d2e8318b" class="idref" href="#061edde202ad2225de6c51e7d2e8318b"><span class="id" title="binder">ε2</span></a> : (<a class="idref" href="clutch.eris.error_credits.html#061edde202ad2225de6c51e7d2e8318b"><span class="id" title="variable">ε2</span></a>.(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonneg"><span class="id" title="projection">nonneg</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.eris.error_credits.html#ff7c7473b00d28a30b53f43425ca1be1"><span class="id" title="variable">ε1</span></a>.(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonneg"><span class="id" title="projection">nonneg</span></a>))%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#ff7c7473b00d28a30b53f43425ca1be1"><span class="id" title="variable">ε1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#061edde202ad2225de6c51e7d2e8318b"><span class="id" title="variable">ε2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> (?) "?". <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.error_credits.html#ec_weaken"><span class="id" title="lemma">ec_weaken</span></a>; <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ec_spend_irrel" class="idref" href="#ec_spend_irrel"><span class="id" title="lemma">ec_spend_irrel</span></a> <a id="d295e79da65e5860915df0088a4e2fa0" class="idref" href="#d295e79da65e5860915df0088a4e2fa0"><span class="id" title="binder">ε1</span></a> <a id="a83aa7701d55a91677f7cc0d61fe3e1c" class="idref" href="#a83aa7701d55a91677f7cc0d61fe3e1c"><span class="id" title="binder">ε2</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.error_credits.html#d295e79da65e5860915df0088a4e2fa0"><span class="id" title="variable">ε1</span></a>.(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonneg"><span class="id" title="projection">nonneg</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.error_credits.html#a83aa7701d55a91677f7cc0d61fe3e1c"><span class="id" title="variable">ε2</span></a>.(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonneg"><span class="id" title="projection">nonneg</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#d295e79da65e5860915df0088a4e2fa0"><span class="id" title="variable">ε1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#a83aa7701d55a91677f7cc0d61fe3e1c"><span class="id" title="variable">ε2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "?".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">ε1</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ε2</span>; [<span class="id" title="var">iFrame</span>|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_ext"><span class="id" title="lemma">nnreal_ext</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="ec_timeless" class="idref" href="#ec_timeless"><span class="id" title="instance">ec_timeless</span></a> <a id="3dd4081843e0c725734681a8d5bac49c" class="idref" href="#3dd4081843e0c725734681a8d5bac49c"><span class="id" title="binder">ε</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#3dd4081843e0c725734681a8d5bac49c"><span class="id" title="variable">ε</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.eris.error_credits.html#ec_unseal"><span class="id" title="definition">ec_unseal</span></a> /<a class="idref" href="clutch.eris.error_credits.html#ec_def"><span class="id" title="definition">ec_def</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="ec_0_persistent" class="idref" href="#ec_0_persistent"><span class="id" title="instance">ec_0_persistent</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_zero"><span class="id" title="definition">nnreal_zero</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.eris.error_credits.html#ec_unseal"><span class="id" title="definition">ec_unseal</span></a> /<a class="idref" href="clutch.eris.error_credits.html#ec_def"><span class="id" title="definition">ec_def</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="from_sep_ec_add" class="idref" href="#from_sep_ec_add"><span class="id" title="instance">from_sep_ec_add</span></a> <a id="ada3083f514332313372a875c61a8c7f" class="idref" href="#ada3083f514332313372a875c61a8c7f"><span class="id" title="binder">ε1</span></a> <a id="62adceaa2e3a6fb705db1e30b5451504" class="idref" href="#62adceaa2e3a6fb705db1e30b5451504"><span class="id" title="binder">ε2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#FromSep"><span class="id" title="class">FromSep</span></a> (<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prelude.NNRbar.html#nnreal_plus"><span class="id" title="definition">nnreal_plus</span></a> <a class="idref" href="clutch.eris.error_credits.html#ada3083f514332313372a875c61a8c7f"><span class="id" title="variable">ε1</span></a> <a class="idref" href="clutch.eris.error_credits.html#62adceaa2e3a6fb705db1e30b5451504"><span class="id" title="variable">ε2</span></a><a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">)</span></a>) (<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#ada3083f514332313372a875c61a8c7f"><span class="id" title="variable">ε1</span></a>) (<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#62adceaa2e3a6fb705db1e30b5451504"><span class="id" title="variable">ε2</span></a>) | 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#FromSep"><span class="id" title="class">FromSep</span></a> <a class="idref" href="clutch.eris.error_credits.html#ec_split"><span class="id" title="lemma">ec_split</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="into_sep_ec_add" class="idref" href="#into_sep_ec_add"><span class="id" title="instance">into_sep_ec_add</span></a> <a id="983c5c4850aaf658d56c15dd3eec9e1b" class="idref" href="#983c5c4850aaf658d56c15dd3eec9e1b"><span class="id" title="binder">ε1</span></a> <a id="66d09245e910d9c68f1a8736eb693892" class="idref" href="#66d09245e910d9c68f1a8736eb693892"><span class="id" title="binder">ε2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#IntoSep"><span class="id" title="class">IntoSep</span></a> (<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prelude.NNRbar.html#nnreal_plus"><span class="id" title="definition">nnreal_plus</span></a> <a class="idref" href="clutch.eris.error_credits.html#983c5c4850aaf658d56c15dd3eec9e1b"><span class="id" title="variable">ε1</span></a> <a class="idref" href="clutch.eris.error_credits.html#66d09245e910d9c68f1a8736eb693892"><span class="id" title="variable">ε2</span></a><a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">)</span></a>) (<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#983c5c4850aaf658d56c15dd3eec9e1b"><span class="id" title="variable">ε1</span></a>) (<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#66d09245e910d9c68f1a8736eb693892"><span class="id" title="variable">ε2</span></a>) | 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#IntoSep"><span class="id" title="class">IntoSep</span></a> <a class="idref" href="clutch.eris.error_credits.html#ec_split"><span class="id" title="lemma">ec_split</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="combine_sep_as_ec_add" class="idref" href="#combine_sep_as_ec_add"><span class="id" title="instance">combine_sep_as_ec_add</span></a> <a id="37f44631d342ec80cc99edf01343a813" class="idref" href="#37f44631d342ec80cc99edf01343a813"><span class="id" title="binder">ε1</span></a> <a id="1a49d31ee70f4f8cda1f34eec61aeb1d" class="idref" href="#1a49d31ee70f4f8cda1f34eec61aeb1d"><span class="id" title="binder">ε2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#CombineSepAs"><span class="id" title="class">CombineSepAs</span></a> (<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#37f44631d342ec80cc99edf01343a813"><span class="id" title="variable">ε1</span></a>) (<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#1a49d31ee70f4f8cda1f34eec61aeb1d"><span class="id" title="variable">ε2</span></a>) (<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prelude.NNRbar.html#nnreal_plus"><span class="id" title="definition">nnreal_plus</span></a> <a class="idref" href="clutch.eris.error_credits.html#37f44631d342ec80cc99edf01343a813"><span class="id" title="variable">ε1</span></a> <a class="idref" href="clutch.eris.error_credits.html#1a49d31ee70f4f8cda1f34eec61aeb1d"><span class="id" title="variable">ε2</span></a><a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">)</span></a>) | 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#CombineSepAs"><span class="id" title="class">CombineSepAs</span></a> <a class="idref" href="clutch.eris.error_credits.html#ec_split"><span class="id" title="lemma">ec_split</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ec_ind_amp" class="idref" href="#ec_ind_amp"><span class="id" title="lemma">ec_ind_amp</span></a> (<a id="d507f366c111e252349b7f3a498b5b6a" class="idref" href="#d507f366c111e252349b7f3a498b5b6a"><span class="id" title="binder">ε</span></a> <a id="k:65" class="idref" href="#k:65"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>) <a id="P:66" class="idref" href="#P:66"><span class="id" title="binder">P</span></a> :<br/>
&nbsp;&nbsp;(0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.eris.error_credits.html#d507f366c111e252349b7f3a498b5b6a"><span class="id" title="variable">ε</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;(1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.eris.error_credits.html#k:65"><span class="id" title="variable">k</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">(</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">(</span></a><a id="16984447599636152c0cb73f42bd2865" class="idref" href="#16984447599636152c0cb73f42bd2865"><span class="id" title="binder">ε'</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">),</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a>(0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a><a class="idref" href="clutch.eris.error_credits.html#16984447599636152c0cb73f42bd2865"><span class="id" title="variable">ε'</span></a>)%<span class="id" title="var">R</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.error_credits.html#k:65"><span class="id" title="variable">k</span></a> <a class="idref" href="clutch.prelude.NNRbar.html#1bc6a42bff0f67d6034bb210662be20d"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.eris.error_credits.html#16984447599636152c0cb73f42bd2865"><span class="id" title="variable">ε'</span></a><a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">)</span></a>%<span class="id" title="var">NNR</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="clutch.eris.error_credits.html#P:66"><span class="id" title="variable">P</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#16984447599636152c0cb73f42bd2865"><span class="id" title="variable">ε'</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="clutch.eris.error_credits.html#P:66"><span class="id" title="variable">P</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#d507f366c111e252349b7f3a498b5b6a"><span class="id" title="variable">ε</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="clutch.eris.error_credits.html#P:66"><span class="id" title="variable">P</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">Hpos</span> <span class="id" title="var">Hgt1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="n:68" class="idref" href="#n:68"><span class="id" title="binder"><span id="n:69" class="id">n</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">ε</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rfunctions.html#1fc859ef9f60fc2e3a52c48371d07707"><span class="id" title="notation">^</span></a><a class="idref" href="clutch.eris.error_credits.html#n:68"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">R</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n</span> <span class="id" title="var">Hn</span>].<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hgt1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#is_lim_seq_geom_p"><span class="id" title="lemma">Lim_seq.is_lim_seq_geom_p</span></a> <span class="id" title="var">k</span> <span class="id" title="var">Hgt1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H1</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#is_lim_seq"><span class="id" title="definition">Lim_seq.is_lim_seq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#filterlim"><span class="id" title="definition">Hierarchy.filterlim</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#filter_le"><span class="id" title="definition">Hierarchy.filter_le</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#eventually"><span class="id" title="definition">Hierarchy.eventually</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#filtermap"><span class="id" title="definition">Hierarchy.filtermap</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/= <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">H1</span> (<span class="id" title="keyword">fun</span> <a id="r:70" class="idref" href="#r:70"><span class="id" title="binder"><span id="r:71" class="id">r</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> =&gt; (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">ε</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.eris.error_credits.html#r:70"><span class="id" title="variable">r</span></a>)%<span class="id" title="var">R</span>)); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a><span class="id" title="var">ε</span>)%<span class="id" title="var">R</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_le"><span class="id" title="lemma">Rlt_le</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_reg_l"><span class="id" title="lemma">Rmult_le_reg_l</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">ε</span>)%<span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_0_lt_compat"><span class="id" title="lemma">Rinv_0_lt_compat</span></a>, <span class="id" title="var">Hpos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rinv_l"><span class="id" title="lemma">Rinv_l</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_1_l"><span class="id" title="lemma">Rmult_1_l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hgt1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iInduction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">m</span>] "IH" <span class="id" title="keyword">forall</span> (<span class="id" title="var">ε</span> <span class="id" title="var">Hpos</span> <span class="id" title="var">Hn</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> (<span class="id" title="var">Hgt1</span>) "#Hrec Herr".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExFalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.error_credits.html#ec_spend"><span class="id" title="lemma">ec_spend</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> (<span class="id" title="var">Hgt1</span>) "#Hrec Herr" .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"Hrec" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[//][] Herr"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Herr".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[] [] [%] [] [$Herr]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_lt_0_compat"><span class="id" title="lemma">Rmult_lt_0_compat</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.eris.error_credits.html#error_credit_theory"><span class="id" title="section">error_credit_theory</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ec_alloc" class="idref" href="#ec_alloc"><span class="id" title="lemma">ec_alloc</span></a> `{<a id="ecGpreS0:73" class="idref" href="#ecGpreS0:73"><span class="id" title="binder">!</span></a><a id="ecGpreS0:73" class="idref" href="#ecGpreS0:73"><span class="id" title="binder">ecGpreS</span></a> <a id="5f7f8a3a36b9c7b682466610e664c174" class="idref" href="#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="binder"><span id="ecGpreS0:73" class="id">Σ</span></span></a>} (<a id="n:74" class="idref" href="#n:74"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a>(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonneg"><span class="id" title="projection">nonneg</span></a> <a class="idref" href="clutch.eris.error_credits.html#n:74"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> 1)%<span class="id" title="var">R</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <span class="id" title="var">_</span> : <a class="idref" href="clutch.eris.error_credits.html#ecGS"><span class="id" title="class">ecGS</span></a> <a class="idref" href="clutch.eris.error_credits.html#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.eris.error_credits.html#ec_supply"><span class="id" title="definition">ec_supply</span></a> <a class="idref" href="clutch.eris.error_credits.html#n:74"><span class="id" title="variable">n</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#n:74"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.eris.error_credits.html#ec_unseal"><span class="id" title="definition">ec_unseal</span></a> /<a class="idref" href="clutch.eris.error_credits.html#ec_def"><span class="id" title="definition">ec_def</span></a> <a class="idref" href="clutch.eris.error_credits.html#ec_supply_unseal"><span class="id" title="definition">ec_supply_unseal</span></a> /<a class="idref" href="clutch.eris.error_credits.html#ec_supply_def"><span class="id" title="definition">ec_supply_def</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.own.html#own_alloc"><span class="id" title="lemma">own_alloc</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.auth.html#78c72ac49d7ce3ebc6ff15bd4319d0ba"><span class="id" title="notation">●</span></a> <span class="id" title="var">n</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.auth.html#a90cdbbdd48c6371236cd642d46fd3ac"><span class="id" title="notation">◯</span></a> <span class="id" title="var">n</span>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">γEC</span>) "[H● H◯]".<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.auth.html#auth_both_valid_2"><span class="id" title="lemma">auth_both_valid_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">compute</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.eris.error_credits.html#R_included"><span class="id" title="lemma">R_included</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> (<span class="id" title="var">C</span> := <a class="idref" href="clutch.eris.error_credits.html#EcGS"><span class="id" title="constructor">EcGS</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">γEC</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iExists</span> <span class="id" title="var">C</span>. <span class="id" title="var">iFrame</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
