<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/logsem/clutch">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">clutch.prob.couplings_app</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Reals.html#"><span class="id" title="library">Reals</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.micromega.Psatz.html#"><span class="id" title="library">Psatz</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq.ssr</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#"><span class="id" title="library">ssrfun</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coquelicot</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#"><span class="id" title="library">Rcomplements</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#"><span class="id" title="library">Lim_seq</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rbar.html#"><span class="id" title="library">Rbar</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#"><span class="id" title="library">countable</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.prelude</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="clutch.prelude.base.html#"><span class="id" title="library">base</span></a> <a class="idref" href="clutch.prelude.Coquelicot_ext.html#"><span class="id" title="library">Coquelicot_ext</span></a> <a class="idref" href="clutch.prelude.Reals_ext.html#"><span class="id" title="library">Reals_ext</span></a> <a class="idref" href="clutch.prelude.stdpp_ext.html#"><span class="id" title="library">stdpp_ext</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.prob</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="clutch.prob.countable_sum.html#"><span class="id" title="library">countable_sum</span></a> <a class="idref" href="clutch.prob.distribution.html#"><span class="id" title="library">distribution</span></a> <a class="idref" href="clutch.prob.couplings.html#"><span class="id" title="library">couplings</span></a> <a class="idref" href="clutch.prob.graded_predicate_lifting.html#"><span class="id" title="library">graded_predicate_lifting</span></a>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="couplings" class="idref" href="#couplings"><span class="id" title="section">couplings</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:3" class="idref" href="#H:3"><span class="id" title="binder">Countable</span></a> <a id="A:1" class="idref" href="#A:1"><span class="id" title="binder"><span id="H:3" class="id">A</span></span></a>, <a id="H0:6" class="idref" href="#H0:6"><span class="id" title="binder">Countable</span></a> <a id="B:4" class="idref" href="#B:4"><span class="id" title="binder"><span id="H0:6" class="id">B</span></span></a>, <a id="H1:9" class="idref" href="#H1:9"><span class="id" title="binder">Countable</span></a> <a id="A':7" class="idref" href="#A':7"><span class="id" title="binder"><span id="H1:9" class="id">A'</span></span></a>, <a id="H2:12" class="idref" href="#H2:12"><span class="id" title="binder">Countable</span></a> <a id="B':10" class="idref" href="#B':10"><span class="id" title="binder"><span id="H2:12" class="id">B'</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="46e20c87cf076939d880dd5152987a0e" class="idref" href="#46e20c87cf076939d880dd5152987a0e"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings.A"><span class="id" title="variable">A</span></a>) (<a id="6816787de3d81e12652728d0efce690d" class="idref" href="#6816787de3d81e12652728d0efce690d"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings.B"><span class="id" title="variable">B</span></a>) (<a id="S:15" class="idref" href="#S:15"><span class="id" title="binder">S</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="ARcoupl" class="idref" href="#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a id="f3b0942c097a61ab146ba5f86f11a7d6" class="idref" href="#f3b0942c097a61ab146ba5f86f11a7d6"><span class="id" title="binder">ε</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="f:17" class="idref" href="#f:17"><span class="id" title="binder">f</span></a>: <a class="idref" href="clutch.prob.couplings_app.html#couplings.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="g:18" class="idref" href="#g:18"><span class="id" title="binder">g</span></a>: <a class="idref" href="clutch.prob.couplings_app.html#couplings.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:19" class="idref" href="#a:19"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#f:17"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:19"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="b:20" class="idref" href="#b:20"><span class="id" title="binder">b</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#g:18"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:20"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:21" class="idref" href="#a:21"><span class="id" title="binder">a</span></a> <a id="b:22" class="idref" href="#b:22"><span class="id" title="binder">b</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings.S"><span class="id" title="variable">S</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:21"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:22"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#f:17"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:21"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#g:18"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:22"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:23" class="idref" href="#a:23"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#2af42d7c0856f521457978574ed504a9"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:23"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.couplings_app.html#f:17"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:23"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:24" class="idref" href="#b:24"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#e399fa2235ccccf805b00163ca4cc388"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:24"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.couplings_app.html#g:18"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:24"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.couplings_app.html#f3b0942c097a61ab146ba5f86f11a7d6"><span class="id" title="variable">ε</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.couplings_app.html#couplings"><span class="id" title="section">couplings</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="couplings_theory" class="idref" href="#couplings_theory"><span class="id" title="section">couplings_theory</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:27" class="idref" href="#H:27"><span class="id" title="binder">Countable</span></a> <a id="A:25" class="idref" href="#A:25"><span class="id" title="binder"><span id="H:27" class="id">A</span></span></a>, <a id="H0:30" class="idref" href="#H0:30"><span class="id" title="binder">Countable</span></a> <a id="B:28" class="idref" href="#B:28"><span class="id" title="binder"><span id="H0:30" class="id">B</span></span></a>, <a id="H1:33" class="idref" href="#H1:33"><span class="id" title="binder">Countable</span></a> <a id="A':31" class="idref" href="#A':31"><span class="id" title="binder"><span id="H1:33" class="id">A'</span></span></a>, <a id="H2:36" class="idref" href="#H2:36"><span class="id" title="binder">Countable</span></a> <a id="B':34" class="idref" href="#B':34"><span class="id" title="binder"><span id="H2:36" class="id">B'</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_1" class="idref" href="#ARcoupl_1"><span class="id" title="lemma">ARcoupl_1</span></a> (<a id="df7b7f0ea1d7317e3d69ac061f128d2f" class="idref" href="#df7b7f0ea1d7317e3d69ac061f128d2f"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a>) (<a id="a34e41602a1f783332192f1ae210ccc4" class="idref" href="#a34e41602a1f783332192f1ae210ccc4"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a>) <a id="R:39" class="idref" href="#R:39"><span class="id" title="binder">R</span></a> <a id="1450337868839ec9c4d51e28f6017191" class="idref" href="#1450337868839ec9c4d51e28f6017191"><span class="id" title="binder">ε</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#1450337868839ec9c4d51e28f6017191"><span class="id" title="variable">ε</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#df7b7f0ea1d7317e3d69ac061f128d2f"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a34e41602a1f783332192f1ae210ccc4"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#R:39"><span class="id" title="variable">R</span></a> <a class="idref" href="clutch.prob.couplings_app.html#1450337868839ec9c4d51e28f6017191"><span class="id" title="variable">ε</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hε</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">trans</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ1</span>); <span class="id" title="var">last</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">replace</span> 1 <span class="id" title="keyword">with</span> (0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a>1); <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_mon_grading" class="idref" href="#ARcoupl_mon_grading"><span class="id" title="lemma">ARcoupl_mon_grading</span></a> (<a id="906ef6a483a2a4e97b51aed6ee041eea" class="idref" href="#906ef6a483a2a4e97b51aed6ee041eea"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a>) (<a id="089e68edde7df7a340e900f5d8e6eab8" class="idref" href="#089e68edde7df7a340e900f5d8e6eab8"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a>) (<a id="R:43" class="idref" href="#R:43"><span class="id" title="binder">R</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="640d266e8ba35ce3d1db841ed9273bd3" class="idref" href="#640d266e8ba35ce3d1db841ed9273bd3"><span class="id" title="binder">ε1</span></a> <a id="96b68db236c9db36c7a00fdae5cb60dc" class="idref" href="#96b68db236c9db36c7a00fdae5cb60dc"><span class="id" title="binder">ε2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.couplings_app.html#640d266e8ba35ce3d1db841ed9273bd3"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#96b68db236c9db36c7a00fdae5cb60dc"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#906ef6a483a2a4e97b51aed6ee041eea"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#089e68edde7df7a340e900f5d8e6eab8"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#R:43"><span class="id" title="variable">R</span></a> <a class="idref" href="clutch.prob.couplings_app.html#640d266e8ba35ce3d1db841ed9273bd3"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#906ef6a483a2a4e97b51aed6ee041eea"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#089e68edde7df7a340e900f5d8e6eab8"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#R:43"><span class="id" title="variable">R</span></a> <a class="idref" href="clutch.prob.couplings_app.html#96b68db236c9db36c7a00fdae5cb60dc"><span class="id" title="variable">ε2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">HR</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HR</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dret" class="idref" href="#ARcoupl_dret"><span class="id" title="lemma">ARcoupl_dret</span></a> (<a id="a:46" class="idref" href="#a:46"><span class="id" title="binder">a</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) (<a id="b:47" class="idref" href="#b:47"><span class="id" title="binder">b</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a>) (<a id="R:48" class="idref" href="#R:48"><span class="id" title="binder">R</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#R:48"><span class="id" title="variable">R</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:46"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:47"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:46"><span class="id" title="variable">a</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:47"><span class="id" title="variable">b</span></a>) <a class="idref" href="clutch.prob.couplings_app.html#R:48"><span class="id" title="variable">R</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:49" class="idref" href="#a0:49"><span class="id" title="binder"><span id="a0:50" class="id">a0</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">a</span> <a class="idref" href="clutch.prob.couplings_app.html#a0:49"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#a0:49"><span class="id" title="variable">a0</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="var">a</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> ; <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b0:51" class="idref" href="#b0:51"><span class="id" title="binder"><span id="b0:52" class="id">b0</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">b</span> <a class="idref" href="clutch.prob.couplings_app.html#b0:51"><span class="id" title="variable">b0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b0:51"><span class="id" title="variable">b0</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">g</span> <span class="id" title="var">b</span>) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="var">b</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> ; <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;hypothesis&nbsp;(0&nbsp;≤&nbsp;ε1)&nbsp;is&nbsp;not&nbsp;really&nbsp;needed,&nbsp;I&nbsp;just&nbsp;kept&nbsp;it&nbsp;for&nbsp;symmetry&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dbind" class="idref" href="#ARcoupl_dbind"><span class="id" title="lemma">ARcoupl_dbind</span></a> (<a id="f:53" class="idref" href="#f:53"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a>) (<a id="g:54" class="idref" href="#g:54"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="20e5070686ee3718a5b4272a28af0117" class="idref" href="#20e5070686ee3718a5b4272a28af0117"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) (<a id="0a19548c7b764ab69e409cad121cc543" class="idref" href="#0a19548c7b764ab69e409cad121cc543"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a>) (<a id="R:57" class="idref" href="#R:57"><span class="id" title="binder">R</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="S:58" class="idref" href="#S:58"><span class="id" title="binder">S</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="639c0a52990b7d637c8e4520e39c9e81" class="idref" href="#639c0a52990b7d637c8e4520e39c9e81"><span class="id" title="binder">ε1</span></a> <a id="c430d8f4c7146eddebaebdaa3cbee999" class="idref" href="#c430d8f4c7146eddebaebdaa3cbee999"><span class="id" title="binder">ε2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#Rle"><span class="id" title="definition">Rle</span></a> 0 <a class="idref" href="clutch.prob.couplings_app.html#639c0a52990b7d637c8e4520e39c9e81"><span class="id" title="variable">ε1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#Rle"><span class="id" title="definition">Rle</span></a> 0 <a class="idref" href="clutch.prob.couplings_app.html#c430d8f4c7146eddebaebdaa3cbee999"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:61" class="idref" href="#a:61"><span class="id" title="binder">a</span></a> <a id="b:62" class="idref" href="#b:62"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#R:57"><span class="id" title="variable">R</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:61"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:62"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#f:53"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:61"><span class="id" title="variable">a</span></a>) (<a class="idref" href="clutch.prob.couplings_app.html#g:54"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:62"><span class="id" title="variable">b</span></a>) <a class="idref" href="clutch.prob.couplings_app.html#S:58"><span class="id" title="variable">S</span></a> <a class="idref" href="clutch.prob.couplings_app.html#c430d8f4c7146eddebaebdaa3cbee999"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#20e5070686ee3718a5b4272a28af0117"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#0a19548c7b764ab69e409cad121cc543"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#R:57"><span class="id" title="variable">R</span></a> <a class="idref" href="clutch.prob.couplings_app.html#639c0a52990b7d637c8e4520e39c9e81"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.couplings_app.html#f:53"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#20e5070686ee3718a5b4272a28af0117"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.couplings_app.html#g:54"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.couplings_app.html#0a19548c7b764ab69e409cad121cc543"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="clutch.prob.couplings_app.html#S:58"><span class="id" title="variable">S</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#639c0a52990b7d637c8e4520e39c9e81"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.couplings_app.html#c430d8f4c7146eddebaebdaa3cbee999"><span class="id" title="variable">ε2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hε1</span> <span class="id" title="var">Hε2</span> <span class="id" title="var">Hcoup_fg</span> <span class="id" title="var">Hcoup_R</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span> <span class="id" title="var">Hh1pos</span> <span class="id" title="var">Hh2pos</span> <span class="id" title="var">Hh1h2S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;To&nbsp;use&nbsp;the&nbsp;hypothesis&nbsp;that&nbsp;we&nbsp;have&nbsp;an&nbsp;R-ACoupling&nbsp;up&nbsp;to&nbsp;ε1&nbsp;for&nbsp;μ1,&nbsp;μ2,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;have&nbsp;to&nbsp;rewrite&nbsp;the&nbsp;sums&nbsp;in&nbsp;such&nbsp;a&nbsp;way&nbsp;as&nbsp;to&nbsp;isolate&nbsp;(the&nbsp;expectation<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of)&nbsp;a&nbsp;random&nbsp;variable&nbsp;X&nbsp;on&nbsp;the&nbsp;LHS&nbsp;and&nbsp;Y&nbsp;on&nbsp;the&nbsp;RHS,&nbsp;and&nbsp;ε1&nbsp;on&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RHS.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;First&nbsp;step:&nbsp;rewrite&nbsp;the&nbsp;LHS&nbsp;into&nbsp;a&nbsp;RV&nbsp;X&nbsp;on&nbsp;μ1.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:65" class="idref" href="#pat:65"><span class="id" title="binder"><span id="pat:68" class="id"><span id="pat:71" class="id"><span id="pat:74" class="id"><span id="pat:77" class="id"><span id="pat:80" class="id">(</span></span></span></span></span></span></a><a id="a:64" class="idref" href="#a:64"><span class="id" title="binder"><span id="pat:65" class="id"><span id="a:67" class="id"><span id="pat:68" class="id"><span id="a:70" class="id"><span id="pat:71" class="id"><span id="a:73" class="id"><span id="pat:74" class="id"><span id="a:76" class="id"><span id="pat:77" class="id"><span id="a:79" class="id"><span id="pat:80" class="id">a</span></span></span></span></span></span></span></span></span></span></span></span></a><a id="pat:65" class="idref" href="#pat:65"><span class="id" title="binder"><span id="pat:68" class="id"><span id="pat:71" class="id"><span id="pat:74" class="id"><span id="pat:77" class="id"><span id="pat:80" class="id">,</span></span></span></span></span></span></a><a id="x:63" class="idref" href="#x:63"><span class="id" title="binder"><span id="pat:65" class="id"><span id="x:66" class="id"><span id="pat:68" class="id"><span id="x:69" class="id"><span id="pat:71" class="id"><span id="x:72" class="id"><span id="pat:74" class="id"><span id="x:75" class="id"><span id="pat:77" class="id"><span id="x:78" class="id"><span id="pat:80" class="id">x</span></span></span></span></span></span></span></span></span></span></span></span></a><a id="pat:65" class="idref" href="#pat:65"><span class="id" title="binder"><span id="pat:68" class="id"><span id="pat:71" class="id"><span id="pat:74" class="id"><span id="pat:77" class="id"><span id="pat:80" class="id">)</span></span></span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#x:63"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#x:63"><span class="id" title="variable">x</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:64"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:64"><span class="id" title="variable">a</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Boring&nbsp;Fubini&nbsp;sideconditions.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">intro</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;specialize&nbsp;(Hh1pos&nbsp;a').&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:81" class="idref" href="#a:81"><span class="id" title="binder"><span id="a:83" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:82" class="idref" href="#x:82"><span class="id" title="binder"><span id="x:84" class="id">x</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#x:82"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#x:82"><span class="id" title="variable">x</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:81"><span class="id" title="variable">a</span></a>))); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ1</span>)). }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;LHS:&nbsp;Pull&nbsp;the&nbsp;(μ1&nbsp;b)&nbsp;factor&nbsp;out&nbsp;of&nbsp;the&nbsp;inner&nbsp;sum.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:85" class="idref" href="#b:85"><span class="id" title="binder"><span id="b:89" class="id">b</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:86" class="idref" href="#a:86"><span class="id" title="binder"><span id="a:90" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#b:85"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#b:85"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:86"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:86"><span class="id" title="variable">a</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:87" class="idref" href="#b:87"><span class="id" title="binder"><span id="b:91" class="id">b</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#b:87"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:88" class="idref" href="#a:88"><span class="id" title="binder"><span id="a:92" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#b:87"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:88"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:88"><span class="id" title="variable">a</span></a>))) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>. <span class="id" title="var">series</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Second&nbsp;step:&nbsp;rewrite&nbsp;the&nbsp;RHS&nbsp;into&nbsp;a&nbsp;RV&nbsp;Y&nbsp;on&nbsp;μ2.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;RHS:&nbsp;Fubini.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:95" class="idref" href="#pat:95"><span class="id" title="binder"><span id="pat:98" class="id"><span id="pat:101" class="id"><span id="pat:104" class="id"><span id="pat:107" class="id"><span id="pat:110" class="id">(</span></span></span></span></span></span></a><a id="b:94" class="idref" href="#b:94"><span class="id" title="binder"><span id="pat:95" class="id"><span id="b:97" class="id"><span id="pat:98" class="id"><span id="b:100" class="id"><span id="pat:101" class="id"><span id="b:103" class="id"><span id="pat:104" class="id"><span id="b:106" class="id"><span id="pat:107" class="id"><span id="b:109" class="id"><span id="pat:110" class="id">b</span></span></span></span></span></span></span></span></span></span></span></span></a><a id="pat:95" class="idref" href="#pat:95"><span class="id" title="binder"><span id="pat:98" class="id"><span id="pat:101" class="id"><span id="pat:104" class="id"><span id="pat:107" class="id"><span id="pat:110" class="id">,</span></span></span></span></span></span></a><a id="x:93" class="idref" href="#x:93"><span class="id" title="binder"><span id="pat:95" class="id"><span id="x:96" class="id"><span id="pat:98" class="id"><span id="x:99" class="id"><span id="pat:101" class="id"><span id="x:102" class="id"><span id="pat:104" class="id"><span id="x:105" class="id"><span id="pat:107" class="id"><span id="x:108" class="id"><span id="pat:110" class="id">x</span></span></span></span></span></span></span></span></span></span></span></span></a><a id="pat:95" class="idref" href="#pat:95"><span class="id" title="binder"><span id="pat:98" class="id"><span id="pat:101" class="id"><span id="pat:104" class="id"><span id="pat:107" class="id"><span id="pat:110" class="id">)</span></span></span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#x:93"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#x:93"><span class="id" title="variable">x</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:94"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:94"><span class="id" title="variable">b</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">by</span> <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">intro</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh2pos</span> <span class="id" title="var">b'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ2</span>) ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>. <span class="id" title="var">series</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:111" class="idref" href="#a:111"><span class="id" title="binder"><span id="a:113" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:112" class="idref" href="#b:112"><span class="id" title="binder"><span id="b:114" class="id">b</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:112"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b:112"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:111"><span class="id" title="variable">a</span></a>))); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">b'</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh2pos</span> <span class="id" title="var">b'</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [ | <span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> ((<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">g</span> <span class="id" title="var">μ2</span>)) <span class="id" title="var">b'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">g</span> <span class="id" title="var">μ2</span>)). }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;RHS:&nbsp;Factor&nbsp;out&nbsp;(μ2&nbsp;b)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:115" class="idref" href="#b:115"><span class="id" title="binder"><span id="b:119" class="id">b</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:116" class="idref" href="#a:116"><span class="id" title="binder"><span id="a:120" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:115"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b:115"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:116"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="clutch.prob.couplings_app.html#a:116"><span class="id" title="variable">a</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:117" class="idref" href="#b:117"><span class="id" title="binder"><span id="b:121" class="id">b</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:117"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:118" class="idref" href="#a:118"><span class="id" title="binder"><span id="a:122" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b:117"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:118"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="clutch.prob.couplings_app.html#a:118"><span class="id" title="variable">a</span></a>))) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Third&nbsp;step:&nbsp;isolate&nbsp;ε1&nbsp;on&nbsp;the&nbsp;RHS.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ALT:&nbsp;could&nbsp;move&nbsp;ε2&nbsp;into&nbsp;Y&nbsp;instead&nbsp;of&nbsp;into&nbsp;X.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;To&nbsp;construct&nbsp;X,&nbsp;we&nbsp;want&nbsp;to&nbsp;push&nbsp;ε2&nbsp;into&nbsp;the&nbsp;inner&nbsp;sum.&nbsp;We&nbsp;don't&nbsp;do&nbsp;this<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directly,&nbsp;because&nbsp;if&nbsp;`ε2&nbsp;&gt;&nbsp;(f&nbsp;b&nbsp;a&nbsp;*&nbsp;h1&nbsp;a)`&nbsp;then&nbsp;X&nbsp;might&nbsp;be&nbsp;negative,&nbsp;but<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;our&nbsp;assumption&nbsp;on&nbsp;the&nbsp;ε1&nbsp;R-ACoupling&nbsp;requires&nbsp;it&nbsp;to&nbsp;be&nbsp;valued&nbsp;in&nbsp;<span class="inlinecode">0,1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instead,&nbsp;we&nbsp;take&nbsp;max(0,&nbsp;(Σ(a:A')(f&nbsp;b&nbsp;a&nbsp;*&nbsp;h1&nbsp;a))&nbsp;-&nbsp;ε2).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ALT:&nbsp;could&nbsp;use&nbsp;a&nbsp;more&nbsp;fine-grained&nbsp;max&nbsp;inside&nbsp;the&nbsp;sum?<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:123" class="idref" href="#b:123"><span class="id" title="binder"><span id="b:127" class="id">b</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#b:123"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:124" class="idref" href="#a:124"><span class="id" title="binder"><span id="a:128" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#b:123"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:124"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:124"><span class="id" title="variable">a</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">ε2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:125" class="idref" href="#b:125"><span class="id" title="binder"><span id="b:129" class="id">b</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#b:125"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax"><span class="id" title="definition">Rmax</span></a> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:126" class="idref" href="#a:126"><span class="id" title="binder"><span id="a:130" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#b:125"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:126"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:126"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">ε2</span>) 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hleq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;could&nbsp;be&nbsp;an&nbsp;external&nbsp;lemma&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:131" class="idref" href="#b:131"><span class="id" title="binder"><span id="b:134" class="id">b</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#b:131"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:132" class="idref" href="#a:132"><span class="id" title="binder"><span id="a:135" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#b:131"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:132"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:132"><span class="id" title="variable">a</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:133" class="idref" href="#b:133"><span class="id" title="binder"><span id="b:136" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#b:133"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">ε2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>; [<span class="id" title="var">lra</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Ropp_le_contravar"><span class="id" title="lemma">Ropp_le_contravar</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_1_l"><span class="id" title="lemma">Rmult_1_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_minus"><span class="id" title="lemma">SeriesC_minus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le'"><span class="id" title="lemma">SeriesC_le'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_minus_distr_l"><span class="id" title="lemma">Rmult_minus_distr_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_l"><span class="id" title="lemma">Rmax_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_plus"><span class="id" title="lemma">ex_seriesC_plus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:137" class="idref" href="#x:137"><span class="id" title="binder"><span id="x:139" class="id">x</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#x:137"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:138" class="idref" href="#a:138"><span class="id" title="binder"><span id="a:140" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#x:137"><span class="id" title="variable">x</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:138"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:138"><span class="id" title="variable">a</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>; [ | <span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hh1pos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hh1pos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>))); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a'</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh1pos</span> <span class="id" title="var">a'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_ext"><span class="id" title="lemma">ex_seriesC_ext</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:141" class="idref" href="#x:141"><span class="id" title="binder"><span id="x:142" class="id">x</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a>-1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#x:141"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">ε2</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)); [<span class="id" title="tactic">intro</span>; <span class="id" title="var">nra</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:143" class="idref" href="#b:143"><span class="id" title="binder"><span id="b:145" class="id">b</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#b:143"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:144" class="idref" href="#a:144"><span class="id" title="binder"><span id="a:146" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#b:143"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:144"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:144"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_r"><span class="id" title="lemma">Rmax_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_lub"><span class="id" title="lemma">Rmax_lub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hh1pos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hh1pos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">n</span>))); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a'</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh1pos</span> <span class="id" title="var">a'</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hh1pos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">n</span>))); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a'</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh1pos</span> <span class="id" title="var">a'</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hleq</span> | ].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcoup_R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcoup_R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_r"><span class="id" title="lemma">Rmax_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_lub"><span class="id" title="lemma">Rmax_lub</span></a>; [ | <span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>))); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh1pos</span> <span class="id" title="var">a'</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh2pos</span> <span class="id" title="var">b'</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>))); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh2pos</span> <span class="id" title="var">b'</span>); <span class="id" title="var">real_solver</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Rab</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_lub"><span class="id" title="lemma">Rmax_lub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh2pos</span> <span class="id" title="var">b'</span>); <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcoup_fg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a>, <span class="id" title="var">Hcoup_fg</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Notation</span> <a id="e7b0d812dc6fa89f651429266ac01c95" class="idref" href="#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="abbreviation">ℝ</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Depend&nbsp;on&nbsp;LHS&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dbind_adv_lhs" class="idref" href="#ARcoupl_dbind_adv_lhs"><span class="id" title="lemma">ARcoupl_dbind_adv_lhs</span></a> (<a id="f:147" class="idref" href="#f:147"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a>) (<a id="g:148" class="idref" href="#g:148"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a6736ca7f58529e288d4ada658a1dc70" class="idref" href="#a6736ca7f58529e288d4ada658a1dc70"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) (<a id="58230868793c4727f02b2f617877ff52" class="idref" href="#58230868793c4727f02b2f617877ff52"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a>) (<a id="S:151" class="idref" href="#S:151"><span class="id" title="binder">S</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="S':152" class="idref" href="#S':152"><span class="id" title="binder">S'</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="c32a2ffa60e5498a7b73723fc7c1f8bc" class="idref" href="#c32a2ffa60e5498a7b73723fc7c1f8bc"><span class="id" title="binder">ε1</span></a> <a id="a7cf51d42bcad6333041bf5266cedb5f" class="idref" href="#a7cf51d42bcad6333041bf5266cedb5f"><span class="id" title="binder">ε2</span></a> (<a id="E2:155" class="idref" href="#E2:155"><span class="id" title="binder">E2</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="abbreviation">ℝ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#Rle"><span class="id" title="definition">Rle</span></a> 0 <a class="idref" href="clutch.prob.couplings_app.html#c32a2ffa60e5498a7b73723fc7c1f8bc"><span class="id" title="variable">ε1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:156" class="idref" href="#a:156"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.couplings_app.html#E2:155"><span class="id" title="variable">E2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:156"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;(SeriesC&nbsp;(λ&nbsp;a,&nbsp;μ1&nbsp;a&nbsp;*&nbsp;(E2&nbsp;a))&nbsp;&lt;=&nbsp;ε2)&nbsp;→&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:157" class="idref" href="#a:157"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a6736ca7f58529e288d4ada658a1dc70"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:157"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.couplings_app.html#E2:155"><span class="id" title="variable">E2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:157"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a7cf51d42bcad6333041bf5266cedb5f"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:158" class="idref" href="#a:158"><span class="id" title="binder">a</span></a> <a id="b:159" class="idref" href="#b:159"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#S:151"><span class="id" title="variable">S</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:158"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:159"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#f:147"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:158"><span class="id" title="variable">a</span></a>) (<a class="idref" href="clutch.prob.couplings_app.html#g:148"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:159"><span class="id" title="variable">b</span></a>) <a class="idref" href="clutch.prob.couplings_app.html#S':152"><span class="id" title="variable">S'</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#E2:155"><span class="id" title="variable">E2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:158"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a6736ca7f58529e288d4ada658a1dc70"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#58230868793c4727f02b2f617877ff52"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#S:151"><span class="id" title="variable">S</span></a> <a class="idref" href="clutch.prob.couplings_app.html#c32a2ffa60e5498a7b73723fc7c1f8bc"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.couplings_app.html#f:147"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a6736ca7f58529e288d4ada658a1dc70"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.couplings_app.html#g:148"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.couplings_app.html#58230868793c4727f02b2f617877ff52"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="clutch.prob.couplings_app.html#S':152"><span class="id" title="variable">S'</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#c32a2ffa60e5498a7b73723fc7c1f8bc"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a7cf51d42bcad6333041bf5266cedb5f"><span class="id" title="variable">ε2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hε1</span> <span class="id" title="var">HE2</span> <span class="id" title="var">Hε2</span> <span class="id" title="var">Hcoup_fg</span> <span class="id" title="var">Hcoup_R</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span> <span class="id" title="var">Hh1pos</span> <span class="id" title="var">Hh2pos</span> <span class="id" title="var">Hh1h2S</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;To&nbsp;use&nbsp;the&nbsp;hypothesis&nbsp;that&nbsp;we&nbsp;have&nbsp;an&nbsp;R-ACoupling&nbsp;up&nbsp;to&nbsp;ε1&nbsp;for&nbsp;μ1,&nbsp;μ2,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;have&nbsp;to&nbsp;rewrite&nbsp;the&nbsp;sums&nbsp;in&nbsp;such&nbsp;a&nbsp;way&nbsp;as&nbsp;to&nbsp;isolate&nbsp;(the&nbsp;expectation<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of)&nbsp;a&nbsp;random&nbsp;variable&nbsp;X&nbsp;on&nbsp;the&nbsp;LHS&nbsp;and&nbsp;Y&nbsp;on&nbsp;the&nbsp;RHS,&nbsp;and&nbsp;ε1&nbsp;on&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RHS.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;First&nbsp;step:&nbsp;rewrite&nbsp;the&nbsp;LHS&nbsp;into&nbsp;a&nbsp;RV&nbsp;X&nbsp;on&nbsp;μ1.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:162" class="idref" href="#pat:162"><span class="id" title="binder"><span id="pat:165" class="id"><span id="pat:168" class="id">(</span></span></span></a><a id="a:161" class="idref" href="#a:161"><span class="id" title="binder"><span id="pat:162" class="id"><span id="a:164" class="id"><span id="pat:165" class="id"><span id="a:167" class="id"><span id="pat:168" class="id">a</span></span></span></span></span></span></a><a id="pat:162" class="idref" href="#pat:162"><span class="id" title="binder"><span id="pat:165" class="id"><span id="pat:168" class="id">,</span></span></span></a><a id="x:160" class="idref" href="#x:160"><span class="id" title="binder"><span id="pat:162" class="id"><span id="x:163" class="id"><span id="pat:165" class="id"><span id="x:166" class="id"><span id="pat:168" class="id">x</span></span></span></span></span></span></a><a id="pat:162" class="idref" href="#pat:162"><span class="id" title="binder"><span id="pat:165" class="id"><span id="pat:168" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#x:160"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#x:160"><span class="id" title="variable">x</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:161"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:161"><span class="id" title="variable">a</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Boring&nbsp;Fubini&nbsp;side-conditions.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">intro</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>. <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:169" class="idref" href="#a:169"><span class="id" title="binder"><span id="a:171" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:170" class="idref" href="#x:170"><span class="id" title="binder"><span id="x:172" class="id">x</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#x:170"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#x:170"><span class="id" title="variable">x</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:169"><span class="id" title="variable">a</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ1</span>)). }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;LHS:&nbsp;Pull&nbsp;the&nbsp;(μ1&nbsp;b)&nbsp;factor&nbsp;out&nbsp;of&nbsp;the&nbsp;inner&nbsp;sum.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:173" class="idref" href="#a:173"><span class="id" title="binder"><span id="a:177" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':174" class="idref" href="#a':174"><span class="id" title="binder"><span id="a':178" class="id">a'</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:173"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#a:173"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a':174"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="clutch.prob.couplings_app.html#a':174"><span class="id" title="variable">a'</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:175" class="idref" href="#a:175"><span class="id" title="binder"><span id="a:179" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:175"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':176" class="idref" href="#a':176"><span class="id" title="binder"><span id="a':180" class="id">a'</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#a:175"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a':176"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="clutch.prob.couplings_app.html#a':176"><span class="id" title="variable">a'</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> -&gt; <span class="id" title="tactic">by</span> (<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> ; <span class="id" title="var">series</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Second&nbsp;step:&nbsp;rewrite&nbsp;the&nbsp;RHS&nbsp;into&nbsp;a&nbsp;RV&nbsp;Y&nbsp;on&nbsp;μ2.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:183" class="idref" href="#pat:183"><span class="id" title="binder"><span id="pat:186" class="id"><span id="pat:189" class="id"><span id="pat:192" class="id"><span id="pat:195" class="id"><span id="pat:198" class="id">(</span></span></span></span></span></span></a><a id="b:182" class="idref" href="#b:182"><span class="id" title="binder"><span id="pat:183" class="id"><span id="b:185" class="id"><span id="pat:186" class="id"><span id="b:188" class="id"><span id="pat:189" class="id"><span id="b:191" class="id"><span id="pat:192" class="id"><span id="b:194" class="id"><span id="pat:195" class="id"><span id="b:197" class="id"><span id="pat:198" class="id">b</span></span></span></span></span></span></span></span></span></span></span></span></a><a id="pat:183" class="idref" href="#pat:183"><span class="id" title="binder"><span id="pat:186" class="id"><span id="pat:189" class="id"><span id="pat:192" class="id"><span id="pat:195" class="id"><span id="pat:198" class="id">,</span></span></span></span></span></span></a><a id="x:181" class="idref" href="#x:181"><span class="id" title="binder"><span id="pat:183" class="id"><span id="x:184" class="id"><span id="pat:186" class="id"><span id="x:187" class="id"><span id="pat:189" class="id"><span id="x:190" class="id"><span id="pat:192" class="id"><span id="x:193" class="id"><span id="pat:195" class="id"><span id="x:196" class="id"><span id="pat:198" class="id">x</span></span></span></span></span></span></span></span></span></span></span></span></a><a id="pat:183" class="idref" href="#pat:183"><span class="id" title="binder"><span id="pat:186" class="id"><span id="pat:189" class="id"><span id="pat:192" class="id"><span id="pat:195" class="id"><span id="pat:198" class="id">)</span></span></span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#x:181"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#x:181"><span class="id" title="variable">x</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:182"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:182"><span class="id" title="variable">b</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">intro</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ2</span>) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>. <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:199" class="idref" href="#a:199"><span class="id" title="binder"><span id="a:201" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:200" class="idref" href="#b:200"><span class="id" title="binder"><span id="b:202" class="id">b</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:200"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b:200"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:199"><span class="id" title="variable">a</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">g</span> <span class="id" title="var">μ2</span>)). }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;RHS:&nbsp;Factor&nbsp;out&nbsp;(μ2&nbsp;b)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:203" class="idref" href="#b:203"><span class="id" title="binder"><span id="b:207" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':204" class="idref" href="#b':204"><span class="id" title="binder"><span id="b':208" class="id">b'</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:203"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b:203"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b':204"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="clutch.prob.couplings_app.html#b':204"><span class="id" title="variable">b'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:205" class="idref" href="#b:205"><span class="id" title="binder"><span id="b:209" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:205"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':206" class="idref" href="#b':206"><span class="id" title="binder"><span id="b':210" class="id">b'</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b:205"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b':206"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="clutch.prob.couplings_app.html#b':206"><span class="id" title="variable">b'</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> -&gt; <span class="id" title="tactic">by</span> (<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> ; <span class="id" title="var">series</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Y</span> <a id="b:211" class="idref" href="#b:211"><span class="id" title="binder"><span id="b:213" class="id">b</span></span></a> := <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':212" class="idref" href="#b':212"><span class="id" title="binder"><span id="b':214" class="id">b'</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b:211"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b':212"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="clutch.prob.couplings_app.html#b':212"><span class="id" title="variable">b'</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:215" class="idref" href="#b:215"><span class="id" title="binder"><span id="b:217" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:215"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:216" class="idref" href="#b:216"><span class="id" title="binder"><span id="b:218" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:216"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">Y</span> <a class="idref" href="clutch.prob.couplings_app.html#b:216"><span class="id" title="variable">b</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Third&nbsp;step:&nbsp;isolate&nbsp;ε1&nbsp;on&nbsp;the&nbsp;RHS&nbsp;by&nbsp;moving&nbsp;ε2&nbsp;into&nbsp;X.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;To&nbsp;construct&nbsp;X,&nbsp;we&nbsp;want&nbsp;to&nbsp;push&nbsp;ε2&nbsp;into&nbsp;the&nbsp;inner&nbsp;sum.&nbsp;We&nbsp;don't&nbsp;do&nbsp;this<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directly,&nbsp;because&nbsp;if&nbsp;`ε2&nbsp;&gt;&nbsp;(f&nbsp;b&nbsp;a&nbsp;*&nbsp;h1&nbsp;a)`&nbsp;then&nbsp;X&nbsp;might&nbsp;be&nbsp;negative,&nbsp;but<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;our&nbsp;assumption&nbsp;on&nbsp;the&nbsp;ε1&nbsp;R-ACoupling&nbsp;requires&nbsp;it&nbsp;to&nbsp;be&nbsp;valued&nbsp;in&nbsp;<span class="inlinecode">0,1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instead,&nbsp;we&nbsp;take&nbsp;max(0,&nbsp;(Σ(a:A')(f&nbsp;b&nbsp;a&nbsp;*&nbsp;h1&nbsp;a))&nbsp;-&nbsp;ε2).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ALT:&nbsp;could&nbsp;use&nbsp;a&nbsp;more&nbsp;fine-grained&nbsp;max&nbsp;inside&nbsp;the&nbsp;sum?<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hε2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">fh1</span> <a id="a:219" class="idref" href="#a:219"><span class="id" title="binder"><span id="a:221" class="id">a</span></span></a> := <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':220" class="idref" href="#a':220"><span class="id" title="binder"><span id="a':222" class="id">a'</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#a:219"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a':220"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="clutch.prob.couplings_app.html#a':220"><span class="id" title="variable">a'</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:223" class="idref" href="#b:223"><span class="id" title="binder"><span id="b:225" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#b:223"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:224" class="idref" href="#a:224"><span class="id" title="binder"><span id="a:226" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:224"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">fh1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:224"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_minus"><span class="id" title="lemma">SeriesC_minus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>. <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">fh1</span> ; <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">trans</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a> =&gt; //. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>. <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span> ; <span class="id" title="var">real_solver</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;-<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_minus_distr_l"><span class="id" title="lemma">Rmult_minus_distr_l</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:227" class="idref" href="#a:227"><span class="id" title="binder"><span id="a:228" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:227"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax"><span class="id" title="definition">Rmax</span></a> (<span class="id" title="var">fh1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:227"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">E2</span> <a class="idref" href="clutch.prob.couplings_app.html#a:227"><span class="id" title="variable">a</span></a>) 0)) ; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">X</span> <a id="a:229" class="idref" href="#a:229"><span class="id" title="binder"><span id="a:230" class="id">a</span></span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax"><span class="id" title="definition">Rmax</span></a> (<span class="id" title="var">fh1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:229"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">E2</span> <a class="idref" href="clutch.prob.couplings_app.html#a:229"><span class="id" title="variable">a</span></a>) 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:231" class="idref" href="#a:231"><span class="id" title="binder"><span id="a:233" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:231"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:232" class="idref" href="#a:232"><span class="id" title="binder"><span id="a:234" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:232"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">X</span> <a class="idref" href="clutch.prob.couplings_app.html#a:232"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcoup_R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcoup_R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span> ; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_r"><span class="id" title="lemma">Rmax_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">X</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_lub"><span class="id" title="lemma">Rmax_lub</span></a>; [ | <span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> 1 =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span> ; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">Y</span> ; <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">trans</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Sab</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_lub"><span class="id" title="lemma">Rmax_lub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">Y</span> ; <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcoup_fg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcoup_fg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le'"><span class="id" title="lemma">SeriesC_le'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;3:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> 1. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_r"><span class="id" title="lemma">Rmax_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_lub"><span class="id" title="lemma">Rmax_lub</span></a> ; [| <span class="id" title="var">lra</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">E2</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_minus_r"><span class="id" title="lemma">Rplus_minus_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a> =&gt; //. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">trans</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)) =&gt; //. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_Rabs"><span class="id" title="lemma">ex_seriesC_Rabs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_mult"><span class="id" title="lemma">Rabs_mult</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_right"><span class="id" title="lemma">Rabs_right</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> 1. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">HE2</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. 1: <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_pos"><span class="id" title="lemma">Rabs_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rabs_le_between'"><span class="id" title="lemma">Rabs_le_between'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">fh1</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">trans</span> 0 ; <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">trans</span> 1. 2: <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':235" class="idref" href="#a':235"><span class="id" title="binder"><span id="a':236" class="id">a'</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> <a class="idref" href="clutch.prob.couplings_app.html#a':235"><span class="id" title="variable">a'</span></a>)) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a> =&gt; //. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">real_solver_partial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_l"><span class="id" title="lemma">Rmax_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dbind_adv_lhs'" class="idref" href="#ARcoupl_dbind_adv_lhs'"><span class="id" title="lemma">ARcoupl_dbind_adv_lhs'</span></a> (<a id="f:237" class="idref" href="#f:237"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a>) (<a id="g:238" class="idref" href="#g:238"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="d439153881395fa5ef45f2bd272bab19" class="idref" href="#d439153881395fa5ef45f2bd272bab19"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) (<a id="bd416a9055a0e03b89521977256b3cac" class="idref" href="#bd416a9055a0e03b89521977256b3cac"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a>) (<a id="S:241" class="idref" href="#S:241"><span class="id" title="binder">S</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="S':242" class="idref" href="#S':242"><span class="id" title="binder">S'</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="db71bf6572cf945395d5184c13759040" class="idref" href="#db71bf6572cf945395d5184c13759040"><span class="id" title="binder">ε1</span></a> <a id="c9d3a4ecd34f3e49eec73458f99b3b55" class="idref" href="#c9d3a4ecd34f3e49eec73458f99b3b55"><span class="id" title="binder">ε2</span></a> (<a id="E2:245" class="idref" href="#E2:245"><span class="id" title="binder">E2</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="abbreviation">ℝ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#Rle"><span class="id" title="definition">Rle</span></a> 0 <a class="idref" href="clutch.prob.couplings_app.html#db71bf6572cf945395d5184c13759040"><span class="id" title="variable">ε1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="n:246" class="idref" href="#n:246"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:247" class="idref" href="#a:247"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.couplings_app.html#E2:245"><span class="id" title="variable">E2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:247"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#n:246"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:248" class="idref" href="#a:248"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#d439153881395fa5ef45f2bd272bab19"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:248"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.couplings_app.html#E2:245"><span class="id" title="variable">E2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:248"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#c9d3a4ecd34f3e49eec73458f99b3b55"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:249" class="idref" href="#a:249"><span class="id" title="binder">a</span></a> <a id="b:250" class="idref" href="#b:250"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#S:241"><span class="id" title="variable">S</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:249"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:250"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#f:237"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:249"><span class="id" title="variable">a</span></a>) (<a class="idref" href="clutch.prob.couplings_app.html#g:238"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:250"><span class="id" title="variable">b</span></a>) <a class="idref" href="clutch.prob.couplings_app.html#S':242"><span class="id" title="variable">S'</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#E2:245"><span class="id" title="variable">E2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:249"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#d439153881395fa5ef45f2bd272bab19"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#bd416a9055a0e03b89521977256b3cac"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#S:241"><span class="id" title="variable">S</span></a> <a class="idref" href="clutch.prob.couplings_app.html#db71bf6572cf945395d5184c13759040"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.couplings_app.html#f:237"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#d439153881395fa5ef45f2bd272bab19"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.couplings_app.html#g:238"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.couplings_app.html#bd416a9055a0e03b89521977256b3cac"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="clutch.prob.couplings_app.html#S':242"><span class="id" title="variable">S'</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#db71bf6572cf945395d5184c13759040"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.couplings_app.html#c9d3a4ecd34f3e49eec73458f99b3b55"><span class="id" title="variable">ε2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hε1</span> <span class="id" title="var">HE2</span> <span class="id" title="var">Hsum</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">Hcoupl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">E2'</span> <a id="x:251" class="idref" href="#x:251"><span class="id" title="binder"><span id="x:252" class="id">x</span></span></a>:= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin"><span class="id" title="definition">Rmin</span></a> 1 (<span class="id" title="var">E2</span> <a class="idref" href="clutch.prob.couplings_app.html#x:251"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl_mon_grading"><span class="id" title="lemma">ARcoupl_mon_grading</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">ε1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:253" class="idref" href="#a:253"><span class="id" title="binder"><span id="a:254" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:253"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">E2'</span> <a class="idref" href="clutch.prob.couplings_app.html#a:253"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>; <span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">exact</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">E2'</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_glb"><span class="id" title="lemma">Rmin_glb</span></a>; [<span class="id" title="var">lra</span>|<span class="id" title="var">naive_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_r"><span class="id" title="lemma">Rmin_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl_dbind_adv_lhs"><span class="id" title="lemma">ARcoupl_dbind_adv_lhs</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">E2'</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_glb"><span class="id" title="lemma">Rmin_glb</span></a>; [<span class="id" title="var">lra</span>|<span class="id" title="var">naive_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_l"><span class="id" title="lemma">Rmin_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hfg</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Hs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">E2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin"><span class="id" title="definition">Rmin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl_1"><span class="id" title="lemma">ARcoupl_1</span></a>; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl_mon_grading"><span class="id" title="lemma">ARcoupl_mon_grading</span></a>; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Depend&nbsp;on&nbsp;RHS&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dbind_adv_rhs" class="idref" href="#ARcoupl_dbind_adv_rhs"><span class="id" title="lemma">ARcoupl_dbind_adv_rhs</span></a> (<a id="f:255" class="idref" href="#f:255"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a>) (<a id="g:256" class="idref" href="#g:256"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ff61747ba6899add68dca80de1fb2c60" class="idref" href="#ff61747ba6899add68dca80de1fb2c60"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) (<a id="c2e1b45e8668fce67f21935c22c58733" class="idref" href="#c2e1b45e8668fce67f21935c22c58733"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a>) (<a id="S:259" class="idref" href="#S:259"><span class="id" title="binder">S</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="S':260" class="idref" href="#S':260"><span class="id" title="binder">S'</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="a7b8d078625507604efa14e1236e4aef" class="idref" href="#a7b8d078625507604efa14e1236e4aef"><span class="id" title="binder">ε1</span></a> <a id="05f7b22f4d3325434c731914ab1ae0d9" class="idref" href="#05f7b22f4d3325434c731914ab1ae0d9"><span class="id" title="binder">ε2</span></a> (<a id="E2:263" class="idref" href="#E2:263"><span class="id" title="binder">E2</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="abbreviation">ℝ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#Rle"><span class="id" title="definition">Rle</span></a> 0 <a class="idref" href="clutch.prob.couplings_app.html#a7b8d078625507604efa14e1236e4aef"><span class="id" title="variable">ε1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:264" class="idref" href="#b:264"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.couplings_app.html#E2:263"><span class="id" title="variable">E2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:264"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:265" class="idref" href="#b:265"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#c2e1b45e8668fce67f21935c22c58733"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:265"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.couplings_app.html#E2:263"><span class="id" title="variable">E2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:265"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#05f7b22f4d3325434c731914ab1ae0d9"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:266" class="idref" href="#a:266"><span class="id" title="binder">a</span></a> <a id="b:267" class="idref" href="#b:267"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#S:259"><span class="id" title="variable">S</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:266"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:267"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#f:255"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:266"><span class="id" title="variable">a</span></a>) (<a class="idref" href="clutch.prob.couplings_app.html#g:256"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:267"><span class="id" title="variable">b</span></a>) <a class="idref" href="clutch.prob.couplings_app.html#S':260"><span class="id" title="variable">S'</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#E2:263"><span class="id" title="variable">E2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:267"><span class="id" title="variable">b</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ff61747ba6899add68dca80de1fb2c60"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#c2e1b45e8668fce67f21935c22c58733"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#S:259"><span class="id" title="variable">S</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a7b8d078625507604efa14e1236e4aef"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.couplings_app.html#f:255"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ff61747ba6899add68dca80de1fb2c60"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.couplings_app.html#g:256"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.couplings_app.html#c2e1b45e8668fce67f21935c22c58733"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="clutch.prob.couplings_app.html#S':260"><span class="id" title="variable">S'</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#a7b8d078625507604efa14e1236e4aef"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.couplings_app.html#05f7b22f4d3325434c731914ab1ae0d9"><span class="id" title="variable">ε2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hε1</span> <span class="id" title="var">HE2</span> <span class="id" title="var">Hε2</span> <span class="id" title="var">Hcoup_fg</span> <span class="id" title="var">Hcoup_R</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span> <span class="id" title="var">Hh1pos</span> <span class="id" title="var">Hh2pos</span> <span class="id" title="var">Hh1h2S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Used&nbsp;later.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">ε2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hε2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">HE2</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;To&nbsp;use&nbsp;the&nbsp;hypothesis&nbsp;that&nbsp;we&nbsp;have&nbsp;an&nbsp;R-ACoupling&nbsp;up&nbsp;to&nbsp;ε1&nbsp;for&nbsp;μ1,&nbsp;μ2,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;have&nbsp;to&nbsp;rewrite&nbsp;the&nbsp;sums&nbsp;in&nbsp;such&nbsp;a&nbsp;way&nbsp;as&nbsp;to&nbsp;isolate&nbsp;(the&nbsp;expectation<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of)&nbsp;a&nbsp;random&nbsp;variable&nbsp;X&nbsp;on&nbsp;the&nbsp;LHS&nbsp;and&nbsp;Y&nbsp;on&nbsp;the&nbsp;RHS,&nbsp;and&nbsp;ε1&nbsp;on&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RHS.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;First&nbsp;step:&nbsp;rewrite&nbsp;the&nbsp;LHS&nbsp;into&nbsp;a&nbsp;RV&nbsp;X&nbsp;on&nbsp;μ1.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:270" class="idref" href="#pat:270"><span class="id" title="binder"><span id="pat:273" class="id"><span id="pat:276" class="id"><span id="pat:279" class="id"><span id="pat:282" class="id"><span id="pat:285" class="id">(</span></span></span></span></span></span></a><a id="a:269" class="idref" href="#a:269"><span class="id" title="binder"><span id="pat:270" class="id"><span id="a:272" class="id"><span id="pat:273" class="id"><span id="a:275" class="id"><span id="pat:276" class="id"><span id="a:278" class="id"><span id="pat:279" class="id"><span id="a:281" class="id"><span id="pat:282" class="id"><span id="a:284" class="id"><span id="pat:285" class="id">a</span></span></span></span></span></span></span></span></span></span></span></span></a><a id="pat:270" class="idref" href="#pat:270"><span class="id" title="binder"><span id="pat:273" class="id"><span id="pat:276" class="id"><span id="pat:279" class="id"><span id="pat:282" class="id"><span id="pat:285" class="id">,</span></span></span></span></span></span></a><a id="x:268" class="idref" href="#x:268"><span class="id" title="binder"><span id="pat:270" class="id"><span id="x:271" class="id"><span id="pat:273" class="id"><span id="x:274" class="id"><span id="pat:276" class="id"><span id="x:277" class="id"><span id="pat:279" class="id"><span id="x:280" class="id"><span id="pat:282" class="id"><span id="x:283" class="id"><span id="pat:285" class="id">x</span></span></span></span></span></span></span></span></span></span></span></span></a><a id="pat:270" class="idref" href="#pat:270"><span class="id" title="binder"><span id="pat:273" class="id"><span id="pat:276" class="id"><span id="pat:279" class="id"><span id="pat:282" class="id"><span id="pat:285" class="id">)</span></span></span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#x:268"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#x:268"><span class="id" title="variable">x</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:269"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:269"><span class="id" title="variable">a</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Boring&nbsp;Fubini&nbsp;sideconditions.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh1pos</span> <span class="id" title="var">a'</span>) ; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">intro</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh1pos</span> <span class="id" title="var">a'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:286" class="idref" href="#a:286"><span class="id" title="binder"><span id="a:288" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:287" class="idref" href="#x:287"><span class="id" title="binder"><span id="x:289" class="id">x</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#x:287"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#x:287"><span class="id" title="variable">x</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:286"><span class="id" title="variable">a</span></a>))); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh1pos</span> <span class="id" title="var">a'</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [ | <span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> ((<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ1</span>)) <span class="id" title="var">a'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ1</span>)). }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;LHS:&nbsp;Pull&nbsp;the&nbsp;(μ1&nbsp;b)&nbsp;factor&nbsp;out&nbsp;of&nbsp;the&nbsp;inner&nbsp;sum.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:290" class="idref" href="#b:290"><span class="id" title="binder"><span id="b:294" class="id">b</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:291" class="idref" href="#a:291"><span class="id" title="binder"><span id="a:295" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#b:290"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#b:290"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:291"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:291"><span class="id" title="variable">a</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:292" class="idref" href="#b:292"><span class="id" title="binder"><span id="b:296" class="id">b</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#b:292"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:293" class="idref" href="#a:293"><span class="id" title="binder"><span id="a:297" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#b:292"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:293"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:293"><span class="id" title="variable">a</span></a>))) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Second&nbsp;step:&nbsp;rewrite&nbsp;the&nbsp;RHS&nbsp;into&nbsp;a&nbsp;RV&nbsp;Y&nbsp;on&nbsp;μ2.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:300" class="idref" href="#pat:300"><span class="id" title="binder"><span id="pat:303" class="id"><span id="pat:306" class="id"><span id="pat:309" class="id"><span id="pat:312" class="id"><span id="pat:315" class="id">(</span></span></span></span></span></span></a><a id="b:299" class="idref" href="#b:299"><span class="id" title="binder"><span id="pat:300" class="id"><span id="b:302" class="id"><span id="pat:303" class="id"><span id="b:305" class="id"><span id="pat:306" class="id"><span id="b:308" class="id"><span id="pat:309" class="id"><span id="b:311" class="id"><span id="pat:312" class="id"><span id="b:314" class="id"><span id="pat:315" class="id">b</span></span></span></span></span></span></span></span></span></span></span></span></a><a id="pat:300" class="idref" href="#pat:300"><span class="id" title="binder"><span id="pat:303" class="id"><span id="pat:306" class="id"><span id="pat:309" class="id"><span id="pat:312" class="id"><span id="pat:315" class="id">,</span></span></span></span></span></span></a><a id="x:298" class="idref" href="#x:298"><span class="id" title="binder"><span id="pat:300" class="id"><span id="x:301" class="id"><span id="pat:303" class="id"><span id="x:304" class="id"><span id="pat:306" class="id"><span id="x:307" class="id"><span id="pat:309" class="id"><span id="x:310" class="id"><span id="pat:312" class="id"><span id="x:313" class="id"><span id="pat:315" class="id">x</span></span></span></span></span></span></span></span></span></span></span></span></a><a id="pat:300" class="idref" href="#pat:300"><span class="id" title="binder"><span id="pat:303" class="id"><span id="pat:306" class="id"><span id="pat:309" class="id"><span id="pat:312" class="id"><span id="pat:315" class="id">)</span></span></span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#x:298"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#x:298"><span class="id" title="variable">x</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:299"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:299"><span class="id" title="variable">b</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">intros</span> <span class="id" title="var">b'</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh2pos</span> <span class="id" title="var">b'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">intro</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh2pos</span> <span class="id" title="var">b'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ2</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:316" class="idref" href="#a:316"><span class="id" title="binder"><span id="a:318" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:317" class="idref" href="#b:317"><span class="id" title="binder"><span id="b:319" class="id">b</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:317"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b:317"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:316"><span class="id" title="variable">a</span></a>))); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">b'</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh2pos</span> <span class="id" title="var">b'</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [ | <span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> ((<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">g</span> <span class="id" title="var">μ2</span>)) <span class="id" title="var">b'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">g</span> <span class="id" title="var">μ2</span>)). }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;RHS:&nbsp;Factor&nbsp;out&nbsp;(μ2&nbsp;b)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:320" class="idref" href="#b:320"><span class="id" title="binder"><span id="b:324" class="id">b</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:321" class="idref" href="#a:321"><span class="id" title="binder"><span id="a:325" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:320"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b:320"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:321"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="clutch.prob.couplings_app.html#a:321"><span class="id" title="variable">a</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:322" class="idref" href="#b:322"><span class="id" title="binder"><span id="b:326" class="id">b</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:322"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:323" class="idref" href="#a:323"><span class="id" title="binder"><span id="a:327" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b:322"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:323"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="clutch.prob.couplings_app.html#a:323"><span class="id" title="variable">a</span></a>))) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a> <span class="id" title="var">ε1</span>) -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">X</span> <a id="a:328" class="idref" href="#a:328"><span class="id" title="binder"><span id="a:330" class="id">a</span></span></a> := <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':329" class="idref" href="#a':329"><span class="id" title="binder"><span id="a':331" class="id">a'</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#a:328"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a':329"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="clutch.prob.couplings_app.html#a':329"><span class="id" title="variable">a'</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:332" class="idref" href="#b:332"><span class="id" title="binder"><span id="b:334" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#b:332"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:333" class="idref" href="#a:333"><span class="id" title="binder"><span id="a:335" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:333"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">X</span> <a class="idref" href="clutch.prob.couplings_app.html#a:333"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hε2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">gh2</span> <a id="b:336" class="idref" href="#b:336"><span class="id" title="binder"><span id="b:338" class="id">b</span></span></a> := <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':337" class="idref" href="#b':337"><span class="id" title="binder"><span id="b':339" class="id">b'</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b:336"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b':337"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="clutch.prob.couplings_app.html#b':337"><span class="id" title="variable">b'</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:340" class="idref" href="#b:340"><span class="id" title="binder"><span id="b:342" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:340"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:341" class="idref" href="#b:341"><span class="id" title="binder"><span id="b:343" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:341"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">gh2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:341"><span class="id" title="variable">b</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a> ; <span class="id" title="tactic">auto</span>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">trans</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a> =&gt; //. <span class="id" title="tactic">intros</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hh2pos</span> <span class="id" title="var">b'</span>). <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">HE2</span> <span class="id" title="var">b</span>) ; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Y</span> <a id="b:344" class="idref" href="#b:344"><span class="id" title="binder"><span id="b:345" class="id">b</span></span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin"><span class="id" title="definition">Rmin</span></a> (<span class="id" title="var">gh2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:344"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">E2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:344"><span class="id" title="variable">b</span></a>) 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;-<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_plus_distr_l"><span class="id" title="lemma">Rmult_plus_distr_l</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="b:346" class="idref" href="#b:346"><span class="id" title="binder"><span id="b:347" class="id">b</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">gh2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:346"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">E2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:346"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_le_0_compat"><span class="id" title="lemma">Rplus_le_le_0_compat</span></a>. 2: <span class="id" title="tactic">apply</span> <span class="id" title="var">HE2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hh2pos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:348" class="idref" href="#b:348"><span class="id" title="binder"><span id="b:349" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:348"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">Y</span> <a class="idref" href="clutch.prob.couplings_app.html#b:348"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">ε1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;is&nbsp;the&nbsp;core&nbsp;of&nbsp;the&nbsp;argument.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcoup_R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcoup_R</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh1pos</span> <span class="id" title="var">a'</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>))); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh1pos</span> <span class="id" title="var">a'</span>); <span class="id" title="var">real_solver</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">Y</span> /<span class="id" title="var">gh2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_glb"><span class="id" title="lemma">Rmin_glb</span></a> ; [|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Reals_ext.html#Rle_plus_r"><span class="id" title="lemma">Rle_plus_r</span></a>. 1: <span class="id" title="tactic">apply</span> <span class="id" title="var">HE2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hh2pos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">Y</span>/<span class="id" title="var">gh2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_r"><span class="id" title="lemma">Rmin_r</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Sab</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_glb"><span class="id" title="lemma">Rmin_glb</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':350" class="idref" href="#a':350"><span class="id" title="binder"><span id="a':351" class="id">a'</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> <a class="idref" href="clutch.prob.couplings_app.html#a':350"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> 1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hh1pos</span> <span class="id" title="var">a'</span>). <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>. <span class="id" title="tactic">exists</span> 1. <span class="id" title="tactic">intros</span> ; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcoup_fg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcoup_fg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Reals_ext.html#Rle_plus_proper"><span class="id" title="instance">Rle_plus_proper</span></a> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le'"><span class="id" title="lemma">SeriesC_le'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: { <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a> =&gt; //. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_l"><span class="id" title="lemma">Rmin_l</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_glb"><span class="id" title="lemma">Rmin_glb</span></a>. 2: <span class="id" title="var">lra</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_r"><span class="id" title="lemma">Rmin_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 1). <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">split</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Reals_ext.html#Rle_plus_proper"><span class="id" title="instance">Rle_plus_proper</span></a> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">gh2</span>. <span class="id" title="var">trans</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':352" class="idref" href="#b':352"><span class="id" title="binder"><span id="b':353" class="id">b'</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <span class="id" title="var">b</span> <a class="idref" href="clutch.prob.couplings_app.html#b':352"><span class="id" title="variable">b'</span></a>)) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b'</span> =&gt; //. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hh2pos</span> <span class="id" title="var">b'</span>). <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">HE2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dbind_adv_rhs'" class="idref" href="#ARcoupl_dbind_adv_rhs'"><span class="id" title="lemma">ARcoupl_dbind_adv_rhs'</span></a> (<a id="f:354" class="idref" href="#f:354"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a>) (<a id="g:355" class="idref" href="#g:355"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="b4b4c408613d64762c19ef351615a84b" class="idref" href="#b4b4c408613d64762c19ef351615a84b"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) (<a id="88ad3223d510d7ddb2ec744d23c4fd7a" class="idref" href="#88ad3223d510d7ddb2ec744d23c4fd7a"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a>) (<a id="S:358" class="idref" href="#S:358"><span class="id" title="binder">S</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="S':359" class="idref" href="#S':359"><span class="id" title="binder">S'</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="48c94ea90a51f1aef28253a40d7cefdc" class="idref" href="#48c94ea90a51f1aef28253a40d7cefdc"><span class="id" title="binder">ε1</span></a> <a id="23ec6f5efe6d47cdd639e4f402696ae1" class="idref" href="#23ec6f5efe6d47cdd639e4f402696ae1"><span class="id" title="binder">ε2</span></a> (<a id="E2:362" class="idref" href="#E2:362"><span class="id" title="binder">E2</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="abbreviation">ℝ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#Rle"><span class="id" title="definition">Rle</span></a> 0 <a class="idref" href="clutch.prob.couplings_app.html#48c94ea90a51f1aef28253a40d7cefdc"><span class="id" title="variable">ε1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="n:363" class="idref" href="#n:363"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:364" class="idref" href="#b:364"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.couplings_app.html#E2:362"><span class="id" title="variable">E2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:364"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#n:363"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:365" class="idref" href="#b:365"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#88ad3223d510d7ddb2ec744d23c4fd7a"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:365"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.couplings_app.html#E2:362"><span class="id" title="variable">E2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:365"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#23ec6f5efe6d47cdd639e4f402696ae1"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:366" class="idref" href="#a:366"><span class="id" title="binder">a</span></a> <a id="b:367" class="idref" href="#b:367"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#S:358"><span class="id" title="variable">S</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:366"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:367"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#f:354"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:366"><span class="id" title="variable">a</span></a>) (<a class="idref" href="clutch.prob.couplings_app.html#g:355"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:367"><span class="id" title="variable">b</span></a>) <a class="idref" href="clutch.prob.couplings_app.html#S':359"><span class="id" title="variable">S'</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#E2:362"><span class="id" title="variable">E2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:367"><span class="id" title="variable">b</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b4b4c408613d64762c19ef351615a84b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#88ad3223d510d7ddb2ec744d23c4fd7a"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#S:358"><span class="id" title="variable">S</span></a> <a class="idref" href="clutch.prob.couplings_app.html#48c94ea90a51f1aef28253a40d7cefdc"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.couplings_app.html#f:354"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b4b4c408613d64762c19ef351615a84b"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.couplings_app.html#g:355"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.couplings_app.html#88ad3223d510d7ddb2ec744d23c4fd7a"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="clutch.prob.couplings_app.html#S':359"><span class="id" title="variable">S'</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#48c94ea90a51f1aef28253a40d7cefdc"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.couplings_app.html#23ec6f5efe6d47cdd639e4f402696ae1"><span class="id" title="variable">ε2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hε1</span> <span class="id" title="var">HE2</span> <span class="id" title="var">Hsum</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">Hcoupl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">E2'</span> <a id="x:368" class="idref" href="#x:368"><span class="id" title="binder"><span id="x:369" class="id">x</span></span></a>:= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin"><span class="id" title="definition">Rmin</span></a> 1 (<span class="id" title="var">E2</span> <a class="idref" href="clutch.prob.couplings_app.html#x:368"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl_mon_grading"><span class="id" title="lemma">ARcoupl_mon_grading</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">ε1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:370" class="idref" href="#a:370"><span class="id" title="binder"><span id="a:371" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#a:370"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">E2'</span> <a class="idref" href="clutch.prob.couplings_app.html#a:370"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>; <span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">exact</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">E2'</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_glb"><span class="id" title="lemma">Rmin_glb</span></a>; [<span class="id" title="var">lra</span>|<span class="id" title="var">naive_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_r"><span class="id" title="lemma">Rmin_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl_dbind_adv_rhs"><span class="id" title="lemma">ARcoupl_dbind_adv_rhs</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">E2'</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_glb"><span class="id" title="lemma">Rmin_glb</span></a>; [<span class="id" title="var">lra</span>|<span class="id" title="var">naive_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_l"><span class="id" title="lemma">Rmin_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hfg</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Hs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">E2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin"><span class="id" title="definition">Rmin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl_1"><span class="id" title="lemma">ARcoupl_1</span></a>; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl_mon_grading"><span class="id" title="lemma">ARcoupl_mon_grading</span></a>; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Depend&nbsp;on&nbsp;both&nbsp;*)</span><br/>
</div>

<div class="doc">
This statement atm is not sound.
      Counter example: 
      Suppose μ1 and μ2 are rand 1s, and S is (=), ε1 is 1/2
      With this statement, we can assign E2 to be λ a b, if a = b then 1 else 0
      Meaning, that for the branches where the two rands return the same value,
      we somehow bumped up the errors from 1/2 to 1, which should not be possible 
      in the normal case
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dbind_adv" class="idref" href="#ARcoupl_dbind_adv"><span class="id" title="lemma">ARcoupl_dbind_adv</span></a> (<a id="f:372" class="idref" href="#f:372"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a>) (<a id="g:373" class="idref" href="#g:373"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="25fba5b1c28279a6c25c4d944af6c82d" class="idref" href="#25fba5b1c28279a6c25c4d944af6c82d"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) (<a id="238f0bac52b1c6f41d01292a3eb2e41b" class="idref" href="#238f0bac52b1c6f41d01292a3eb2e41b"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a>) (<a id="S:376" class="idref" href="#S:376"><span class="id" title="binder">S</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="S':377" class="idref" href="#S':377"><span class="id" title="binder">S'</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="b6c522ae5941c4c5c39d605995db3b49" class="idref" href="#b6c522ae5941c4c5c39d605995db3b49"><span class="id" title="binder">ε1</span></a> <a id="8cd932acb204a7f70e00d73438512af3" class="idref" href="#8cd932acb204a7f70e00d73438512af3"><span class="id" title="binder">ε2</span></a> (<a id="E2:380" class="idref" href="#E2:380"><span class="id" title="binder">E2</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="abbreviation">ℝ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#Rle"><span class="id" title="definition">Rle</span></a> 0 <a class="idref" href="clutch.prob.couplings_app.html#b6c522ae5941c4c5c39d605995db3b49"><span class="id" title="variable">ε1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:381" class="idref" href="#a:381"><span class="id" title="binder">a</span></a> <a id="b:382" class="idref" href="#b:382"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#Rle"><span class="id" title="definition">Rle</span></a> 0 (<a class="idref" href="clutch.prob.couplings_app.html#E2:380"><span class="id" title="variable">E2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:381"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:382"><span class="id" title="variable">b</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:385" class="idref" href="#pat:385"><span class="id" title="binder">(</span></a><a id="a:384" class="idref" href="#a:384"><span class="id" title="binder"><span id="pat:385" class="id">a</span></span></a><a id="pat:385" class="idref" href="#pat:385"><span class="id" title="binder">,</span></a> <a id="b:383" class="idref" href="#b:383"><span class="id" title="binder"><span id="pat:385" class="id">b</span></span></a><a id="pat:385" class="idref" href="#pat:385"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#25fba5b1c28279a6c25c4d944af6c82d"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:384"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.prob.couplings_app.html#238f0bac52b1c6f41d01292a3eb2e41b"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:383"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.couplings_app.html#E2:380"><span class="id" title="variable">E2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:384"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:383"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#8cd932acb204a7f70e00d73438512af3"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:386" class="idref" href="#a:386"><span class="id" title="binder">a</span></a> <a id="b:387" class="idref" href="#b:387"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#S:376"><span class="id" title="variable">S</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:386"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:387"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#f:372"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:386"><span class="id" title="variable">a</span></a>) (<a class="idref" href="clutch.prob.couplings_app.html#g:373"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:387"><span class="id" title="variable">b</span></a>) <a class="idref" href="clutch.prob.couplings_app.html#S':377"><span class="id" title="variable">S'</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#E2:380"><span class="id" title="variable">E2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:386"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:387"><span class="id" title="variable">b</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#25fba5b1c28279a6c25c4d944af6c82d"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#238f0bac52b1c6f41d01292a3eb2e41b"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#S:376"><span class="id" title="variable">S</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b6c522ae5941c4c5c39d605995db3b49"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.couplings_app.html#f:372"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#25fba5b1c28279a6c25c4d944af6c82d"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="clutch.prob.couplings_app.html#g:373"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.couplings_app.html#238f0bac52b1c6f41d01292a3eb2e41b"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="clutch.prob.couplings_app.html#S':377"><span class="id" title="variable">S'</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#b6c522ae5941c4c5c39d605995db3b49"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.couplings_app.html#8cd932acb204a7f70e00d73438512af3"><span class="id" title="variable">ε2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Abort</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_mass_leq" class="idref" href="#ARcoupl_mass_leq"><span class="id" title="lemma">ARcoupl_mass_leq</span></a> (<a id="e14018f27a2d28bd904da05500c19647" class="idref" href="#e14018f27a2d28bd904da05500c19647"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) (<a id="d73d0af44da42e0df9bb4cd7435f5c1f" class="idref" href="#d73d0af44da42e0df9bb4cd7435f5c1f"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a>) (<a id="R:390" class="idref" href="#R:390"><span class="id" title="binder">R</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="5e85e065e871e56985d2044775a891da" class="idref" href="#5e85e065e871e56985d2044775a891da"><span class="id" title="binder">ε</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#e14018f27a2d28bd904da05500c19647"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#d73d0af44da42e0df9bb4cd7435f5c1f"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#R:390"><span class="id" title="variable">R</span></a> <a class="idref" href="clutch.prob.couplings_app.html#5e85e065e871e56985d2044775a891da"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.couplings_app.html#e14018f27a2d28bd904da05500c19647"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.couplings_app.html#d73d0af44da42e0df9bb4cd7435f5c1f"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.couplings_app.html#5e85e065e871e56985d2044775a891da"><span class="id" title="variable">ε</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcoupl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcoupl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcoupl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_eq" class="idref" href="#ARcoupl_eq"><span class="id" title="lemma">ARcoupl_eq</span></a> (<a id="fecde5af1eba2c06aec7ad846e70bb8c" class="idref" href="#fecde5af1eba2c06aec7ad846e70bb8c"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#fecde5af1eba2c06aec7ad846e70bb8c"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#fecde5af1eba2c06aec7ad846e70bb8c"><span class="id" title="variable">μ1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>); <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hg</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hg</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_eq_elim" class="idref" href="#ARcoupl_eq_elim"><span class="id" title="lemma">ARcoupl_eq_elim</span></a> (<a id="1a66f21beffa21763e4590f606849afe" class="idref" href="#1a66f21beffa21763e4590f606849afe"><span class="id" title="binder">μ1</span></a> <a id="70bf84dae567a0dfdcc977ec52975e54" class="idref" href="#70bf84dae567a0dfdcc977ec52975e54"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) <a id="afbbdc10f1536bbfacd9f3f4e543e9da" class="idref" href="#afbbdc10f1536bbfacd9f3f4e543e9da"><span class="id" title="binder">ε</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#1a66f21beffa21763e4590f606849afe"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#70bf84dae567a0dfdcc977ec52975e54"><span class="id" title="variable">μ2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="clutch.prob.couplings_app.html#afbbdc10f1536bbfacd9f3f4e543e9da"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:396" class="idref" href="#a:396"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#1a66f21beffa21763e4590f606849afe"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:396"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#70bf84dae567a0dfdcc977ec52975e54"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:396"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.couplings_app.html#afbbdc10f1536bbfacd9f3f4e543e9da"><span class="id" title="variable">ε</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcoupl</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcoupl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="var">a</span> (<span class="id" title="var">μ1</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="var">a</span> (<span class="id" title="var">μ2</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:397" class="idref" href="#n:397"><span class="id" title="binder"><span id="n:399" class="id">n</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#n:397"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:398" class="idref" href="#n:398"><span class="id" title="binder"><span id="n:400" class="id">n</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#n:398"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#n:398"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:401" class="idref" href="#n:401"><span class="id" title="binder"><span id="n:403" class="id">n</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#n:401"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ2</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:402" class="idref" href="#n:402"><span class="id" title="binder"><span id="n:404" class="id">n</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#n:402"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#n:402"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcoupl</span>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.couplings_app.html#couplings_theory"><span class="id" title="section">couplings_theory</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;cleanup&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <a id="ARcoupl" class="idref" href="#ARcoupl"><span class="id" title="section">ARcoupl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:407" class="idref" href="#H:407"><span class="id" title="binder">Countable</span></a> <a id="A:405" class="idref" href="#A:405"><span class="id" title="binder"><span id="H:407" class="id">A</span></span></a>, <a id="H0:410" class="idref" href="#H0:410"><span class="id" title="binder">Countable</span></a> <a id="B:408" class="idref" href="#B:408"><span class="id" title="binder"><span id="H0:410" class="id">B</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="9823e3c635367c6cfd8ac5b86722b118" class="idref" href="#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl.A"><span class="id" title="variable">A</span></a>) (<a id="4955fc9ea72d193312fb1711bba1603f" class="idref" href="#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl.B"><span class="id" title="variable">B</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_trivial" class="idref" href="#ARcoupl_trivial"><span class="id" title="lemma">ARcoupl_trivial</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="clutch.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a>) 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hμ1</span> <span class="id" title="var">Hμ2</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.prob.countable_sum.html#LubC_correct"><span class="id" title="lemma">LubC_correct</span></a> <span class="id" title="var">f</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.prob.countable_sum.html#GlbC_correct"><span class="id" title="lemma">GlbC_correct</span></a> <span class="id" title="var">g</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">H3</span> <span class="id" title="var">H4</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:413" class="idref" href="#a:413"><span class="id" title="binder"><span id="a:414" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:413"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rbar.html#real"><span class="id" title="definition">real</span></a> (<a class="idref" href="clutch.prob.countable_sum.html#LubC"><span class="id" title="definition">LubC</span></a> <span class="id" title="var">f</span>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le'"><span class="id" title="lemma">SeriesC_le'</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Series_ext.html#rbar_le_finite"><span class="id" title="lemma">rbar_le_finite</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prelude.Series_ext.html#Rbar_le_sandwich"><span class="id" title="lemma">Rbar_le_sandwich</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) 1); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <a class="idref" href="clutch.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a> <span class="id" title="var">Hμ1</span> -<span class="id" title="var">Hμ2</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:415" class="idref" href="#b:415"><span class="id" title="binder"><span id="b:416" class="id">b</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:415"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rbar.html#real"><span class="id" title="definition">real</span></a> (<a class="idref" href="clutch.prob.countable_sum.html#GlbC"><span class="id" title="definition">GlbC</span></a> <span class="id" title="var">g</span>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;step&nbsp;form&nbsp;LubC&nbsp;f&nbsp;to&nbsp;Glb&nbsp;here&nbsp;because&nbsp;it&nbsp;is&nbsp;easier&nbsp;if<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;have&nbsp;an&nbsp;inhabitant&nbsp;of&nbsp;B&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le'"><span class="id" title="lemma">SeriesC_le'</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Series_ext.html#rbar_le_finite"><span class="id" title="lemma">rbar_le_finite</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prelude.Series_ext.html#Rbar_le_sandwich"><span class="id" title="lemma">Rbar_le_sandwich</span></a> 0 (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.prob.countable_sum.html#LubC"><span class="id" title="definition">LubC</span></a> <span class="id" title="var">f</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hlub</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Series_ext.html#finite_rbar_le"><span class="id" title="lemma">finite_rbar_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rbar.html#is_finite_correct"><span class="id" title="lemma">is_finite_correct</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hfg</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le'"><span class="id" title="lemma">SeriesC_le'</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Series_ext.html#finite_rbar_le"><span class="id" title="lemma">finite_rbar_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prelude.Series_ext.html#Rbar_le_sandwich"><span class="id" title="lemma">Rbar_le_sandwich</span></a> 0 (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <a class="idref" href="clutch.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hg</span> <span class="id" title="var">b</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_pos_R" class="idref" href="#ARcoupl_pos_R"><span class="id" title="lemma">ARcoupl_pos_R</span></a> <a id="R:417" class="idref" href="#R:417"><span class="id" title="binder">R</span></a> <a id="c8550bc7280cbb55cd0b6213a27948b1" class="idref" href="#c8550bc7280cbb55cd0b6213a27948b1"><span class="id" title="binder">ε</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#R:417"><span class="id" title="variable">R</span></a> <a class="idref" href="clutch.prob.couplings_app.html#c8550bc7280cbb55cd0b6213a27948b1"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:419" class="idref" href="#a:419"><span class="id" title="binder">a</span></a> <a id="b:420" class="idref" href="#b:420"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#R:417"><span class="id" title="variable">R</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:419"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:420"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:419"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:420"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0) <a class="idref" href="clutch.prob.couplings_app.html#c8550bc7280cbb55cd0b6213a27948b1"><span class="id" title="variable">ε</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hμ1μ2</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:421" class="idref" href="#a:421"><span class="id" title="binder"><span id="a:423" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:421"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#a:421"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:422" class="idref" href="#a:422"><span class="id" title="binder"><span id="a:424" class="id">a</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:422"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:422"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#a:422"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <span class="id" title="var">a</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0); <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:425" class="idref" href="#b:425"><span class="id" title="binder"><span id="b:427" class="id">b</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:425"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b:425"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:426" class="idref" href="#b:426"><span class="id" title="binder"><span id="b:428" class="id">b</span></span></a> : <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:426"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:426"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b:426"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> <span class="id" title="var">b</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0); <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hμ1μ2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hg</span> <span class="id" title="var">b</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Rab</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hg</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hfg</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="section">ARcoupl</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dzero_dzero" class="idref" href="#ARcoupl_dzero_dzero"><span class="id" title="lemma">ARcoupl_dzero_dzero</span></a> `{<a id="H:431" class="idref" href="#H:431"><span class="id" title="binder">Countable</span></a> <a id="A:429" class="idref" href="#A:429"><span class="id" title="binder"><span id="H:431" class="id">A</span></span></a>, <a id="H0:434" class="idref" href="#H0:434"><span class="id" title="binder">Countable</span></a> <a id="B:432" class="idref" href="#B:432"><span class="id" title="binder"><span id="H0:434" class="id">B</span></span></a>} (<a id="R:435" class="idref" href="#R:435"><span class="id" title="binder">R</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#A:429"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#B:432"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="clutch.prob.couplings_app.html#R:435"><span class="id" title="variable">R</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">HR</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>; <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dzero_r_inv" class="idref" href="#ARcoupl_dzero_r_inv"><span class="id" title="lemma">ARcoupl_dzero_r_inv</span></a> `{<a id="H:438" class="idref" href="#H:438"><span class="id" title="binder">Countable</span></a> <a id="A:436" class="idref" href="#A:436"><span class="id" title="binder"><span id="H:438" class="id">A</span></span></a>, <a id="H0:441" class="idref" href="#H0:441"><span class="id" title="binder">Countable</span></a> <a id="B:439" class="idref" href="#B:439"><span class="id" title="binder"><span id="H0:441" class="id">B</span></span></a>} <a id="c9904e44bd90f14c82ea5b2fad99e236" class="idref" href="#c9904e44bd90f14c82ea5b2fad99e236"><span class="id" title="binder">μ1</span></a> (<a id="R:443" class="idref" href="#R:443"><span class="id" title="binder">R</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#A:436"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#B:439"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#c9904e44bd90f14c82ea5b2fad99e236"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="clutch.prob.couplings_app.html#R:443"><span class="id" title="variable">R</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#c9904e44bd90f14c82ea5b2fad99e236"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hz</span>%<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl_mass_leq"><span class="id" title="lemma">ARcoupl_mass_leq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#SeriesC_zero_dzero"><span class="id" title="lemma">SeriesC_zero_dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dzero_mass"><span class="id" title="lemma">dzero_mass</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dzero" class="idref" href="#ARcoupl_dzero"><span class="id" title="lemma">ARcoupl_dzero</span></a> `{<a id="H:446" class="idref" href="#H:446"><span class="id" title="binder">Countable</span></a> <a id="A:444" class="idref" href="#A:444"><span class="id" title="binder"><span id="H:446" class="id">A</span></span></a>, <a id="H0:449" class="idref" href="#H0:449"><span class="id" title="binder">Countable</span></a> <a id="B:447" class="idref" href="#B:447"><span class="id" title="binder"><span id="H0:449" class="id">B</span></span></a>} (<a id="92706c8a67141ce130f3d1883f2bfa79" class="idref" href="#92706c8a67141ce130f3d1883f2bfa79"><span class="id" title="binder">μ</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#B:447"><span class="id" title="variable">B</span></a>) (<a id="R:451" class="idref" href="#R:451"><span class="id" title="binder">R</span></a>: <a class="idref" href="clutch.prob.couplings_app.html#A:444"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#B:447"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="870726d7cb8e4ab1bfdda0781a4a593f" class="idref" href="#870726d7cb8e4ab1bfdda0781a4a593f"><span class="id" title="binder">ε</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#870726d7cb8e4ab1bfdda0781a4a593f"><span class="id" title="variable">ε</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="clutch.prob.couplings_app.html#92706c8a67141ce130f3d1883f2bfa79"><span class="id" title="variable">μ</span></a> <a class="idref" href="clutch.prob.couplings_app.html#R:451"><span class="id" title="variable">R</span></a> <a class="idref" href="clutch.prob.couplings_app.html#870726d7cb8e4ab1bfdda0781a4a593f"><span class="id" title="variable">ε</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">HR</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_0_l"><span class="id" title="lemma">Rmult_0_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_0_l"><span class="id" title="lemma">Rplus_0_l</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*<br/>
Lemma&nbsp;Rcoupl_dzero_l_inv&nbsp;`{Countable&nbsp;A,&nbsp;Countable&nbsp;B}&nbsp;μ2&nbsp;(R&nbsp;:&nbsp;A&nbsp;→&nbsp;B&nbsp;→&nbsp;Prop)&nbsp;:<br/>
&nbsp;&nbsp;Rcoupl&nbsp;dzero&nbsp;μ2&nbsp;R&nbsp;→&nbsp;μ2&nbsp;=&nbsp;dzero.<br/>
Proof.<br/>
&nbsp;&nbsp;intros&nbsp;Hz*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_map" class="idref" href="#ARcoupl_map"><span class="id" title="lemma">ARcoupl_map</span></a> `{<a id="H:455" class="idref" href="#H:455"><span class="id" title="binder">Countable</span></a> <a id="A:453" class="idref" href="#A:453"><span class="id" title="binder"><span id="H:455" class="id">A</span></span></a>, <a id="H0:458" class="idref" href="#H0:458"><span class="id" title="binder">Countable</span></a> <a id="B:456" class="idref" href="#B:456"><span class="id" title="binder"><span id="H0:458" class="id">B</span></span></a>, <a id="H1:461" class="idref" href="#H1:461"><span class="id" title="binder">Countable</span></a> <a id="A':459" class="idref" href="#A':459"><span class="id" title="binder"><span id="H1:461" class="id">A'</span></span></a>, <a id="H2:464" class="idref" href="#H2:464"><span class="id" title="binder">Countable</span></a> <a id="B':462" class="idref" href="#B':462"><span class="id" title="binder"><span id="H2:464" class="id">B'</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="f:465" class="idref" href="#f:465"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#A:453"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#A':459"><span class="id" title="variable">A'</span></a>) (<a id="g:466" class="idref" href="#g:466"><span class="id" title="binder">g</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#B:456"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#B':462"><span class="id" title="variable">B'</span></a>) (<a id="1ee3b61a8a19af0798c30bf321526869" class="idref" href="#1ee3b61a8a19af0798c30bf321526869"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#A:453"><span class="id" title="variable">A</span></a>) (<a id="fe3135e826346102f07261af33a3be9b" class="idref" href="#fe3135e826346102f07261af33a3be9b"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#B:456"><span class="id" title="variable">B</span></a>) (<a id="R:469" class="idref" href="#R:469"><span class="id" title="binder">R</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#A':459"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#B':462"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="eb4f4d4b931ec440beac37114082e410" class="idref" href="#eb4f4d4b931ec440beac37114082e410"><span class="id" title="binder">ε</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#eb4f4d4b931ec440beac37114082e410"><span class="id" title="variable">ε</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#1ee3b61a8a19af0798c30bf321526869"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#fe3135e826346102f07261af33a3be9b"><span class="id" title="variable">μ2</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:471" class="idref" href="#a:471"><span class="id" title="binder">a</span></a> <a id="a':472" class="idref" href="#a':472"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#R:469"><span class="id" title="variable">R</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#f:465"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:471"><span class="id" title="variable">a</span></a>) (<a class="idref" href="clutch.prob.couplings_app.html#g:466"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a':472"><span class="id" title="variable">a'</span></a>)) <a class="idref" href="clutch.prob.couplings_app.html#eb4f4d4b931ec440beac37114082e410"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.couplings_app.html#f:465"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#1ee3b61a8a19af0798c30bf321526869"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="clutch.prob.couplings_app.html#g:466"><span class="id" title="variable">g</span></a> <a class="idref" href="clutch.prob.couplings_app.html#fe3135e826346102f07261af33a3be9b"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="clutch.prob.couplings_app.html#R:469"><span class="id" title="variable">R</span></a> <a class="idref" href="clutch.prob.couplings_app.html#eb4f4d4b931ec440beac37114082e410"><span class="id" title="variable">ε</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">Hcoupl</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a> <span class="id" title="var">ε</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl_dbind"><span class="id" title="lemma">ARcoupl_dbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="a:473" class="idref" href="#a:473"><span class="id" title="binder"><span id="a:475" class="id">a</span></span></a> : <span class="id" title="var">A</span>) (<a id="a':474" class="idref" href="#a':474"><span class="id" title="binder"><span id="a':476" class="id">a'</span></span></a> : <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <span class="id" title="var">R</span> (<span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#a:473"><span class="id" title="variable">a</span></a>) (<span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#a':474"><span class="id" title="variable">a'</span></a>)) <span class="id" title="var">_</span> <span class="id" title="var">ε</span> 0); <span class="id" title="tactic">auto</span>; [<span class="id" title="var">lra</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Hab</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl_dret"><span class="id" title="lemma">ARcoupl_dret</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) (<span class="id" title="var">g</span> <span class="id" title="var">b</span>) <span class="id" title="var">R</span> <span class="id" title="var">Hab</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_eq_trans_l" class="idref" href="#ARcoupl_eq_trans_l"><span class="id" title="lemma">ARcoupl_eq_trans_l</span></a> `{<a id="H:479" class="idref" href="#H:479"><span class="id" title="binder">Countable</span></a> <a id="A:477" class="idref" href="#A:477"><span class="id" title="binder"><span id="H:479" class="id">A</span></span></a>, <a id="H0:482" class="idref" href="#H0:482"><span class="id" title="binder">Countable</span></a> <a id="B:480" class="idref" href="#B:480"><span class="id" title="binder"><span id="H0:482" class="id">B</span></span></a>} <a id="dc76e264c2d6992bb22601335a39e95b" class="idref" href="#dc76e264c2d6992bb22601335a39e95b"><span class="id" title="binder">μ1</span></a> <a id="bd60ab1458b86f767fea5d51bac5e35c" class="idref" href="#bd60ab1458b86f767fea5d51bac5e35c"><span class="id" title="binder">μ2</span></a> <a id="507f70a5e1e6a51ab541c18dd1f27bec" class="idref" href="#507f70a5e1e6a51ab541c18dd1f27bec"><span class="id" title="binder">μ3</span></a> (<a id="R:486" class="idref" href="#R:486"><span class="id" title="binder">R</span></a>: <a class="idref" href="clutch.prob.couplings_app.html#A:477"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#B:480"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="398eb85ea2967ae29d5817555c619cf3" class="idref" href="#398eb85ea2967ae29d5817555c619cf3"><span class="id" title="binder">ε1</span></a> <a id="ec4f6aeea5de38e6c26f6fc2efaabbf2" class="idref" href="#ec4f6aeea5de38e6c26f6fc2efaabbf2"><span class="id" title="binder">ε2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#398eb85ea2967ae29d5817555c619cf3"><span class="id" title="variable">ε1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ec4f6aeea5de38e6c26f6fc2efaabbf2"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#dc76e264c2d6992bb22601335a39e95b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#bd60ab1458b86f767fea5d51bac5e35c"><span class="id" title="variable">μ2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="clutch.prob.couplings_app.html#398eb85ea2967ae29d5817555c619cf3"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#bd60ab1458b86f767fea5d51bac5e35c"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#507f70a5e1e6a51ab541c18dd1f27bec"><span class="id" title="variable">μ3</span></a> <a class="idref" href="clutch.prob.couplings_app.html#R:486"><span class="id" title="variable">R</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ec4f6aeea5de38e6c26f6fc2efaabbf2"><span class="id" title="variable">ε2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#dc76e264c2d6992bb22601335a39e95b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#507f70a5e1e6a51ab541c18dd1f27bec"><span class="id" title="variable">μ3</span></a> <a class="idref" href="clutch.prob.couplings_app.html#R:486"><span class="id" title="variable">R</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#398eb85ea2967ae29d5817555c619cf3"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ec4f6aeea5de38e6c26f6fc2efaabbf2"><span class="id" title="variable">ε2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq1</span> <span class="id" title="var">Hleq2</span> <span class="id" title="var">Heq</span> <span class="id" title="var">HR</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HR</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Heq</span> | ]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ? ? -&gt;; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a> <span class="id" title="var">ε1</span>) -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_r"><span class="id" title="lemma">Rplus_le_compat_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_eq_trans_r" class="idref" href="#ARcoupl_eq_trans_r"><span class="id" title="lemma">ARcoupl_eq_trans_r</span></a> `{<a id="H:491" class="idref" href="#H:491"><span class="id" title="binder">Countable</span></a> <a id="A:489" class="idref" href="#A:489"><span class="id" title="binder"><span id="H:491" class="id">A</span></span></a>, <a id="H0:494" class="idref" href="#H0:494"><span class="id" title="binder">Countable</span></a> <a id="B:492" class="idref" href="#B:492"><span class="id" title="binder"><span id="H0:494" class="id">B</span></span></a>} <a id="513f2f976ae0dd166f52b08aa2d036c3" class="idref" href="#513f2f976ae0dd166f52b08aa2d036c3"><span class="id" title="binder">μ1</span></a> <a id="6618a37fe30d39ea8f974ae306961247" class="idref" href="#6618a37fe30d39ea8f974ae306961247"><span class="id" title="binder">μ2</span></a> <a id="422bba40afaf1241702ff4d32d4f3b28" class="idref" href="#422bba40afaf1241702ff4d32d4f3b28"><span class="id" title="binder">μ3</span></a> (<a id="R:498" class="idref" href="#R:498"><span class="id" title="binder">R</span></a>: <a class="idref" href="clutch.prob.couplings_app.html#A:489"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#B:492"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="25042a2e2d20f9d86c6dea391e223966" class="idref" href="#25042a2e2d20f9d86c6dea391e223966"><span class="id" title="binder">ε1</span></a> <a id="2e3a2bf2c35261776a6fc9335ca0c088" class="idref" href="#2e3a2bf2c35261776a6fc9335ca0c088"><span class="id" title="binder">ε2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#25042a2e2d20f9d86c6dea391e223966"><span class="id" title="variable">ε1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#2e3a2bf2c35261776a6fc9335ca0c088"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#513f2f976ae0dd166f52b08aa2d036c3"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#6618a37fe30d39ea8f974ae306961247"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#R:498"><span class="id" title="variable">R</span></a> <a class="idref" href="clutch.prob.couplings_app.html#25042a2e2d20f9d86c6dea391e223966"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#6618a37fe30d39ea8f974ae306961247"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#422bba40afaf1241702ff4d32d4f3b28"><span class="id" title="variable">μ3</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="clutch.prob.couplings_app.html#2e3a2bf2c35261776a6fc9335ca0c088"><span class="id" title="variable">ε2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#513f2f976ae0dd166f52b08aa2d036c3"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#422bba40afaf1241702ff4d32d4f3b28"><span class="id" title="variable">μ3</span></a> <a class="idref" href="clutch.prob.couplings_app.html#R:498"><span class="id" title="variable">R</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#25042a2e2d20f9d86c6dea391e223966"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.couplings_app.html#2e3a2bf2c35261776a6fc9335ca0c088"><span class="id" title="variable">ε2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq1</span> <span class="id" title="var">Hleq2</span> <span class="id" title="var">HR</span> <span class="id" title="var">Heq</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HR</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a> <span class="id" title="var">ε1</span>) -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_r"><span class="id" title="lemma">Rplus_le_compat_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">simplify_eq</span>; <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Maybe&nbsp;this&nbsp;can&nbsp;be&nbsp;generalized,&nbsp;but&nbsp;for&nbsp;now&nbsp;I&nbsp;only&nbsp;need&nbsp;this&nbsp;version&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_from_eq_Rcoupl" class="idref" href="#ARcoupl_from_eq_Rcoupl"><span class="id" title="lemma">ARcoupl_from_eq_Rcoupl</span></a> `{<a id="H:503" class="idref" href="#H:503"><span class="id" title="binder">Countable</span></a> <a id="A:501" class="idref" href="#A:501"><span class="id" title="binder"><span id="H:503" class="id">A</span></span></a>} (<a id="a4407cb6428d804ed9744e88085a35a3" class="idref" href="#a4407cb6428d804ed9744e88085a35a3"><span class="id" title="binder">μ1</span></a> <a id="d0e703db4636fd37756efff0053c0c5a" class="idref" href="#d0e703db4636fd37756efff0053c0c5a"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#A:501"><span class="id" title="variable">A</span></a>) <a id="69f8ff3c969c5a456b60dad15cb49ce2" class="idref" href="#69f8ff3c969c5a456b60dad15cb49ce2"><span class="id" title="binder">ε</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#69f8ff3c969c5a456b60dad15cb49ce2"><span class="id" title="variable">ε</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings.html#Rcoupl"><span class="id" title="definition">Rcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a4407cb6428d804ed9744e88085a35a3"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#d0e703db4636fd37756efff0053c0c5a"><span class="id" title="variable">μ2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a4407cb6428d804ed9744e88085a35a3"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#d0e703db4636fd37756efff0053c0c5a"><span class="id" title="variable">μ2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="clutch.prob.couplings_app.html#69f8ff3c969c5a456b60dad15cb49ce2"><span class="id" title="variable">ε</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hε</span> <span class="id" title="var">Hcpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.couplings.html#Rcoupl_eq_elim"><span class="id" title="lemma">Rcoupl_eq_elim</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">μ2</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl_mon_grading"><span class="id" title="lemma">ARcoupl_mon_grading</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> 0); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl_eq"><span class="id" title="lemma">ARcoupl_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;move&nbsp;somewhere&nbsp;else&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="f_inv" class="idref" href="#f_inv"><span class="id" title="definition">f_inv</span></a> {<a id="A:507" class="idref" href="#A:507"><span class="id" title="binder">A</span></a> <a id="B:508" class="idref" href="#B:508"><span class="id" title="binder">B</span></a>} <a id="f:509" class="idref" href="#f:509"><span class="id" title="binder">f</span></a> `{<a id="H:510" class="idref" href="#H:510"><span class="id" title="binder">Surj</span></a> <a id="H:510" class="idref" href="#H:510"><span class="id" title="binder">A</span></a> <a id="H:510" class="idref" href="#H:510"><span class="id" title="binder">B</span></a> <a id="H:510" class="idref" href="#H:510"><span class="id" title="binder">(=)</span></a> <a id="H:510" class="idref" href="#H:510"><span class="id" title="binder">f</span></a>} : <a class="idref" href="clutch.prob.couplings_app.html#B:508"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#A:507"><span class="id" title="variable">A</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:511" class="idref" href="#b:511"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prelude.classical.html#epsilon"><span class="id" title="definition">epsilon</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#surj"><span class="id" title="definition">surj</span></a> <a class="idref" href="clutch.prob.couplings_app.html#f:509"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:511"><span class="id" title="variable">b</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="f_inv_cancel_r" class="idref" href="#f_inv_cancel_r"><span class="id" title="lemma">f_inv_cancel_r</span></a> {<a id="A:512" class="idref" href="#A:512"><span class="id" title="binder">A</span></a> <a id="B:513" class="idref" href="#B:513"><span class="id" title="binder">B</span></a>} <a id="f:514" class="idref" href="#f:514"><span class="id" title="binder">f</span></a> `{<a id="H:515" class="idref" href="#H:515"><span class="id" title="binder">Surj</span></a> <a id="H:515" class="idref" href="#H:515"><span class="id" title="binder">A</span></a> <a id="H:515" class="idref" href="#H:515"><span class="id" title="binder">B</span></a> <a id="H:515" class="idref" href="#H:515"><span class="id" title="binder">(=)</span></a> <a id="H:515" class="idref" href="#H:515"><span class="id" title="binder">f</span></a>} <a id="b:516" class="idref" href="#b:516"><span class="id" title="binder">b</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#f:514"><span class="id" title="variable">f</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#f_inv"><span class="id" title="definition">f_inv</span></a> <a class="idref" href="clutch.prob.couplings_app.html#f:514"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:516"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:516"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.couplings_app.html#f_inv"><span class="id" title="definition">f_inv</span></a> /= (<a class="idref" href="clutch.prelude.classical.html#epsilon_correct"><span class="id" title="lemma">epsilon_correct</span></a> <span class="id" title="var">_</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#surj"><span class="id" title="definition">surj</span></a> <span class="id" title="var">f</span> <span class="id" title="var">b</span>)) //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="f_inv_cancel_l" class="idref" href="#f_inv_cancel_l"><span class="id" title="lemma">f_inv_cancel_l</span></a> {<a id="A:517" class="idref" href="#A:517"><span class="id" title="binder">A</span></a> <a id="B:518" class="idref" href="#B:518"><span class="id" title="binder">B</span></a>} <a id="f:519" class="idref" href="#f:519"><span class="id" title="binder">f</span></a> `{<a id="H:520" class="idref" href="#H:520"><span class="id" title="binder">Inj</span></a> <a id="H:520" class="idref" href="#H:520"><span class="id" title="binder">A</span></a> <a id="H:520" class="idref" href="#H:520"><span class="id" title="binder">B</span></a> <a id="H:520" class="idref" href="#H:520"><span class="id" title="binder">(=)</span></a> <a id="H:520" class="idref" href="#H:520"><span class="id" title="binder">(=)</span></a> <a id="H:520" class="idref" href="#H:520"><span class="id" title="binder">f</span></a>, <a id="H0:521" class="idref" href="#H0:521"><span class="id" title="binder">Surj</span></a> <a id="H0:521" class="idref" href="#H0:521"><span class="id" title="binder">A</span></a> <a id="H0:521" class="idref" href="#H0:521"><span class="id" title="binder">B</span></a> <a id="H0:521" class="idref" href="#H0:521"><span class="id" title="binder">(=)</span></a> <a id="H0:521" class="idref" href="#H0:521"><span class="id" title="binder">f</span></a>} <a id="b:522" class="idref" href="#b:522"><span class="id" title="binder">b</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#f_inv"><span class="id" title="definition">f_inv</span></a> <a class="idref" href="clutch.prob.couplings_app.html#f:519"><span class="id" title="variable">f</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#f:519"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:522"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:522"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#inj"><span class="id" title="definition">inj</span></a> <span class="id" title="var">f</span>), (<a class="idref" href="clutch.prelude.classical.html#epsilon_correct"><span class="id" title="lemma">epsilon_correct</span></a> <span class="id" title="var">_</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#surj"><span class="id" title="definition">surj</span></a> <span class="id" title="var">f</span> (<span class="id" title="var">f</span> <span class="id" title="var">b</span>))). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dunif" class="idref" href="#ARcoupl_dunif"><span class="id" title="lemma">ARcoupl_dunif</span></a> (<a id="N:523" class="idref" href="#N:523"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="f:524" class="idref" href="#f:524"><span class="id" title="binder">f</span></a> `{<a id="H:525" class="idref" href="#H:525"><span class="id" title="binder">Bij</span></a> <a id="H:525" class="idref" href="#H:525"><span class="id" title="binder">(</span></a><a id="H:525" class="idref" href="#H:525"><span class="id" title="binder">fin</span></a> <a id="H:525" class="idref" href="#H:525"><span class="id" title="binder">N</span></a><a id="H:525" class="idref" href="#H:525"><span class="id" title="binder">)</span></a> <a id="H:525" class="idref" href="#H:525"><span class="id" title="binder">(</span></a><a id="H:525" class="idref" href="#H:525"><span class="id" title="binder">fin</span></a> <a id="H:525" class="idref" href="#H:525"><span class="id" title="binder">N</span></a><a id="H:525" class="idref" href="#H:525"><span class="id" title="binder">)</span></a> <a id="H:525" class="idref" href="#H:525"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:523"><span class="id" title="variable">N</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:523"><span class="id" title="variable">N</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:526" class="idref" href="#n:526"><span class="id" title="binder">n</span></a> <a id="m:527" class="idref" href="#m:527"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#m:527"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#f:524"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.prob.couplings_app.html#n:526"><span class="id" title="variable">n</span></a>) 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hh</span> <span class="id" title="var">Hgh</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_finite_foldr"><span class="id" title="lemma">SeriesC_finite_foldr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="l:528" class="idref" href="#l:528"><span class="id" title="binder"><span id="l:531" class="id">l</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:529" class="idref" href="#a:529"><span class="id" title="binder"><span id="a:532" class="id">a</span></span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span> <a class="idref" href="clutch.prob.couplings_app.html#a:529"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#a:529"><span class="id" title="variable">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">)</span></a>) 0 (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#enum"><span class="id" title="method">enum</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:530" class="idref" href="#b:530"><span class="id" title="binder"><span id="b:533" class="id">b</span></span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#b:530"><span class="id" title="variable">b</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="clutch.prob.couplings_app.html#l:528"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span> <a class="idref" href="clutch.prob.couplings_app.html#b:530"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h</span> <a class="idref" href="clutch.prob.couplings_app.html#b:530"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">)</span></a>) 0 (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#enum"><span class="id" title="method">enum</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> <span class="id" title="var">H1</span>]; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">etrans</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span>. <span class="id" title="var">remember</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#enum"><span class="id" title="method">enum</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">n</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqn</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqn</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a><a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h</span> <span class="id" title="var">a</span>); <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [<span class="id" title="var">done</span>|<span class="id" title="tactic">apply</span> <span class="id" title="var">Hh</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">remember</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#enum"><span class="id" title="method">enum</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">n</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqn</span>. <span class="id" title="tactic">rewrite</span> {2}<span class="id" title="var">Heqn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#NoDup_enum"><span class="id" title="method">NoDup_enum</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Heqn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:534" class="idref" href="#a:534"><span class="id" title="binder"><span id="a:536" class="id">a</span></span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span> <a class="idref" href="clutch.prob.couplings_app.html#a:534"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#a:534"><span class="id" title="variable">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">)</span></a>) 0 <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:535" class="idref" href="#b:535"><span class="id" title="binder"><span id="b:537" class="id">b</span></span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#b:535"><span class="id" title="variable">b</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <span class="id" title="var">f</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a><span class="id" title="var">n</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span> <a class="idref" href="clutch.prob.couplings_app.html#b:535"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h</span> <a class="idref" href="clutch.prob.couplings_app.html#b:535"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">)</span></a>) 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#enum"><span class="id" title="method">enum</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>. <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">clear</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">induction</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_enum"><span class="id" title="definition">fin_enum</span></a> <span class="id" title="var">N</span>); <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">Hnd</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_cons"><span class="id" title="lemma">NoDup_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnd</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnd</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnd1</span> <span class="id" title="var">Hnd2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHn</span> <span class="id" title="var">Hnd2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:538" class="idref" href="#b:538"><span class="id" title="binder"><span id="b:540" class="id">b</span></span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#b:538"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span> <a class="idref" href="clutch.prob.couplings_app.html#b:538"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h</span> <a class="idref" href="clutch.prob.couplings_app.html#b:538"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">)</span></a>) 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_enum"><span class="id" title="definition">fin_enum</span></a> <span class="id" title="var">N</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:539" class="idref" href="#b:539"><span class="id" title="binder"><span id="b:541" class="id">b</span></span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#b:539"><span class="id" title="variable">b</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <span class="id" title="var">f</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a><span class="id" title="var">n</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span> <a class="idref" href="clutch.prob.couplings_app.html#b:539"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h</span> <a class="idref" href="clutch.prob.couplings_app.html#b:539"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">)</span></a>) 0 (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_enum"><span class="id" title="definition">fin_enum</span></a> <span class="id" title="var">N</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>; <span class="id" title="var">naive_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IHn</span> <span class="id" title="var">Hnd1</span> <span class="id" title="var">Hnd2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_enum"><span class="id" title="definition">fin_enum</span></a> <span class="id" title="var">N</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">replace</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_enum"><span class="id" title="definition">fin_enum</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#enum"><span class="id" title="method">enum</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span>)); <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#elem_of_enum"><span class="id" title="method">elem_of_enum</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_list_split"><span class="id" title="lemma">elem_of_list_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [?[? -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Reals_ext.html#Rle_plus_l"><span class="id" title="lemma">Rle_plus_l</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">x0</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_le_0_compat"><span class="id" title="lemma">Rplus_le_le_0_compat</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assert</span> (0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">a0</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span> <span class="id" title="var">a0</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h</span> <span class="id" title="var">a0</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0); <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">induction</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_enum"><span class="id" title="definition">fin_enum</span></a> <span class="id" title="var">N</span>); <span class="id" title="tactic">first</span> (<span class="id" title="tactic">simpl</span>; <span class="id" title="var">lra</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_list_fmap_2_inj"><span class="id" title="lemma">elem_of_list_fmap_2_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dunif_leq_inj" class="idref" href="#ARcoupl_dunif_leq_inj"><span class="id" title="lemma">ARcoupl_dunif_leq_inj</span></a> (<a id="N:542" class="idref" href="#N:542"><span class="id" title="binder">N</span></a> <a id="M:543" class="idref" href="#M:543"><span class="id" title="binder">M</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="h:544" class="idref" href="#h:544"><span class="id" title="binder">h</span></a> `{<a id="H:545" class="idref" href="#H:545"><span class="id" title="binder">Inj</span></a> <a id="H:545" class="idref" href="#H:545"><span class="id" title="binder">(</span></a><a id="H:545" class="idref" href="#H:545"><span class="id" title="binder">fin</span></a> <a id="H:545" class="idref" href="#H:545"><span class="id" title="binder">N</span></a><a id="H:545" class="idref" href="#H:545"><span class="id" title="binder">)</span></a> <a id="H:545" class="idref" href="#H:545"><span class="id" title="binder">(</span></a><a id="H:545" class="idref" href="#H:545"><span class="id" title="binder">fin</span></a> <a id="H:545" class="idref" href="#H:545"><span class="id" title="binder">M</span></a><a id="H:545" class="idref" href="#H:545"><span class="id" title="binder">)</span></a> <a id="H:545" class="idref" href="#H:545"><span class="id" title="binder">(=)</span></a> <a id="H:545" class="idref" href="#H:545"><span class="id" title="binder">(=)</span></a> <a id="H:545" class="idref" href="#H:545"><span class="id" title="binder">h</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#655439258f20e6256090528bc533ae29"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:542"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#655439258f20e6256090528bc533ae29"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#M:543"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:542"><span class="id" title="variable">N</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.couplings_app.html#M:543"><span class="id" title="variable">M</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:546" class="idref" href="#n:546"><span class="id" title="binder">n</span></a> <a id="m:547" class="idref" href="#m:547"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#m:547"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#h:544"><span class="id" title="variable">h</span></a> <a class="idref" href="clutch.prob.couplings_app.html#n:546"><span class="id" title="variable">n</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.couplings_app.html#M:543"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="clutch.prob.couplings_app.html#N:542"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)/</span></a><a class="idref" href="clutch.prob.couplings_app.html#M:543"><span class="id" title="variable">M</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_r"><span class="id" title="lemma">Rplus_le_compat_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_filter_leq"><span class="id" title="lemma">SeriesC_filter_leq</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:548" class="idref" href="#b:548"><span class="id" title="binder"><span id="b:550" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a:549" class="idref" href="#a:549"><span class="id" title="binder"><span id="a:551" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:548"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">h</span> <a class="idref" href="clutch.prob.couplings_app.html#a:549"><span class="id" title="variable">a</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_1_l"><span class="id" title="lemma">Rdiv_1_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rdiv_le_0_compat"><span class="id" title="lemma">Rdiv_le_0_compat</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_r"><span class="id" title="lemma">Rplus_le_compat_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">hsome</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:552" class="idref" href="#x:552"><span class="id" title="binder"><span id="x:553" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="var">h</span> <a class="idref" href="clutch.prob.couplings_app.html#x:552"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le_inj"><span class="id" title="lemma">SeriesC_le_inj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">hsome</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_1_l"><span class="id" title="lemma">Rdiv_1_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rdiv_le_0_compat"><span class="id" title="lemma">Rdiv_le_0_compat</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">hsome</span>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>.<br/>
&nbsp;&nbsp;} <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:= <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:554" class="idref" href="#x:554"><span class="id" title="binder"><span id="x:555" class="id">x</span></span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)/(</span></a><span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a><span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_finite_mass"><span class="id" title="lemma">SeriesC_finite_mass</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_card"><span class="id" title="lemma">fin_card</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_div_assoc"><span class="id" title="lemma">Rmult_div_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a> <span class="id" title="var">N</span> (<span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">N</span>)). <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_def"><span class="id" title="lemma">Rdiv_def</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_1_l"><span class="id" title="lemma">Rdiv_1_l</span></a> <span class="id" title="var">M</span>). <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_def"><span class="id" title="lemma">Rdiv_def</span></a>- <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_div_r"><span class="id" title="lemma">Rle_div_r</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Req_le_sym"><span class="id" title="lemma">Req_le_sym</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_mult_distr"><span class="id" title="lemma">Rdiv_mult_distr</span></a> !<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_def"><span class="id" title="lemma">Rdiv_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a> <span class="id" title="var">N</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">M</span>)) -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_inv_r"><span class="id" title="definition">Rmult_inv_r</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_1_l"><span class="id" title="lemma">Rmult_1_l</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_inv_r"><span class="id" title="definition">Rmult_inv_r</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>; [|<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>|<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">exfalso</span>. <span class="id" title="var">naive_solver</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_1_l"><span class="id" title="lemma">Rdiv_1_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rdiv_le_0_compat"><span class="id" title="lemma">Rdiv_le_0_compat</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="clutch.prob.distribution.html#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_1_l"><span class="id" title="lemma">Rdiv_1_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rdiv_le_0_compat"><span class="id" title="lemma">Rdiv_le_0_compat</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfg</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)*</span></a> <span class="id" title="var">g</span> (<span class="id" title="var">h</span> <span class="id" title="var">n</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a>  <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><span class="id" title="var">M</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><span class="id" title="var">M</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">first</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)*</span></a>1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rminus_le_0"><span class="id" title="lemma">Rminus_le_0</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rinv_le_contravar"><span class="id" title="lemma">Rinv_le_contravar</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">M</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">M</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><span class="id" title="var">M</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a><span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">first</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a><span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/(</span></a><span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a><span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a><span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/(</span></a><span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a><span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">first</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_1_l"><span class="id" title="lemma">Rdiv_1_l</span></a>. <span class="id" title="var">erewrite</span> &lt;-<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_mult_l_l"><span class="id" title="lemma">Rdiv_mult_l_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_1_l"><span class="id" title="lemma">Rdiv_1_l</span></a>. <span class="id" title="var">erewrite</span> &lt;-<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_mult_l_r"><span class="id" title="lemma">Rdiv_mult_l_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dunif_leq" class="idref" href="#ARcoupl_dunif_leq"><span class="id" title="lemma">ARcoupl_dunif_leq</span></a> (<a id="N:556" class="idref" href="#N:556"><span class="id" title="binder">N</span></a> <a id="M:557" class="idref" href="#M:557"><span class="id" title="binder">M</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#655439258f20e6256090528bc533ae29"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:556"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#655439258f20e6256090528bc533ae29"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#M:557"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:556"><span class="id" title="variable">N</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.couplings_app.html#M:557"><span class="id" title="variable">M</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:558" class="idref" href="#n:558"><span class="id" title="binder">n</span></a> <a id="m:559" class="idref" href="#m:559"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat"><span class="id" title="definition">fin_to_nat</span></a> <a class="idref" href="clutch.prob.couplings_app.html#n:558"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#m:559"><span class="id" title="variable">m</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.couplings_app.html#M:557"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="clutch.prob.couplings_app.html#N:556"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)/</span></a><a class="idref" href="clutch.prob.couplings_app.html#M:557"><span class="id" title="variable">M</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:560" class="idref" href="#x:560"><span class="id" title="binder"><span id="x:561" class="id">x</span></span></a>:<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat"><span class="id" title="definition">fin_to_nat</span></a> <a class="idref" href="clutch.prob.couplings_app.html#x:560"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">M</span>)%<span class="id" title="var">nat</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hineq</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat_lt"><span class="id" title="lemma">fin_to_nat_lt</span></a> <span class="id" title="var">x</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hleq</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">H1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#INR_le"><span class="id" title="lemma">INR_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl_dunif_leq_inj"><span class="id" title="lemma">ARcoupl_dunif_leq_inj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:562" class="idref" href="#x:562"><span class="id" title="binder"><span id="x:563" class="id">x</span></span></a>:<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#nat_to_fin"><span class="id" title="abbreviation">nat_to_fin</span></a> (<span class="id" title="var">Hineq</span> <a class="idref" href="clutch.prob.couplings_app.html#x:562"><span class="id" title="variable">x</span></a>))); <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat_to_fin"><span class="id" title="lemma">fin_to_nat_to_fin</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?? <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat"><span class="id" title="definition">fin_to_nat</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat_to_fin"><span class="id" title="lemma">fin_to_nat_to_fin</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat_inj"><span class="id" title="instance">fin_to_nat_inj</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Note&nbsp;the&nbsp;asymmetry&nbsp;on&nbsp;the&nbsp;error&nbsp;wrt&nbsp;to&nbsp;the&nbsp;previous&nbsp;lemma&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dunif_leq_rev_inj" class="idref" href="#ARcoupl_dunif_leq_rev_inj"><span class="id" title="lemma">ARcoupl_dunif_leq_rev_inj</span></a> (<a id="N:564" class="idref" href="#N:564"><span class="id" title="binder">N</span></a> <a id="M:565" class="idref" href="#M:565"><span class="id" title="binder">M</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="h:566" class="idref" href="#h:566"><span class="id" title="binder">h</span></a> `{<a id="H:567" class="idref" href="#H:567"><span class="id" title="binder">Inj</span></a> <a id="H:567" class="idref" href="#H:567"><span class="id" title="binder">(</span></a><a id="H:567" class="idref" href="#H:567"><span class="id" title="binder">fin</span></a> <a id="H:567" class="idref" href="#H:567"><span class="id" title="binder">M</span></a><a id="H:567" class="idref" href="#H:567"><span class="id" title="binder">)</span></a> <a id="H:567" class="idref" href="#H:567"><span class="id" title="binder">(</span></a><a id="H:567" class="idref" href="#H:567"><span class="id" title="binder">fin</span></a> <a id="H:567" class="idref" href="#H:567"><span class="id" title="binder">N</span></a><a id="H:567" class="idref" href="#H:567"><span class="id" title="binder">)</span></a> <a id="H:567" class="idref" href="#H:567"><span class="id" title="binder">(=)</span></a> <a id="H:567" class="idref" href="#H:567"><span class="id" title="binder">(=)</span></a> <a id="H:567" class="idref" href="#H:567"><span class="id" title="binder">h</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#655439258f20e6256090528bc533ae29"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#M:565"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#655439258f20e6256090528bc533ae29"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:564"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:564"><span class="id" title="variable">N</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.couplings_app.html#M:565"><span class="id" title="variable">M</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:568" class="idref" href="#n:568"><span class="id" title="binder">n</span></a> <a id="m:569" class="idref" href="#m:569"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#n:568"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#h:566"><span class="id" title="variable">h</span></a> <a class="idref" href="clutch.prob.couplings_app.html#m:569"><span class="id" title="variable">m</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.couplings_app.html#N:564"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="clutch.prob.couplings_app.html#M:565"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)/</span></a><a class="idref" href="clutch.prob.couplings_app.html#N:564"><span class="id" title="variable">N</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_div_r"><span class="id" title="lemma">Rle_div_r</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_gt"><span class="id" title="lemma">Rlt_gt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_0_lt_compat"><span class="id" title="lemma">Rinv_0_lt_compat</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#Rdiv"><span class="id" title="definition">Rdiv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_inv"><span class="id" title="lemma">Rinv_inv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_plus_distr_r"><span class="id" title="lemma">Rmult_plus_distr_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a> (<span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">M</span>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rinv_l"><span class="id" title="lemma">Rinv_l</span></a>; [ | <span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">g</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">erewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_split_pred"><span class="id" title="lemma">SeriesC_split_pred</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:570" class="idref" href="#x:570"><span class="id" title="binder"><span id="x:572" class="id"><span id="x:574" class="id"><span id="x:576" class="id"><span id="x:578" class="id">x</span></span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="y:571" class="idref" href="#y:571"><span class="id" title="binder"><span id="y:573" class="id"><span id="y:575" class="id"><span id="y:577" class="id"><span id="y:579" class="id">y</span></span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#x:570"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">h</span> <a class="idref" href="clutch.prob.couplings_app.html#y:571"><span class="id" title="variable">y</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">)</span></a>)); [|<span class="id" title="var">naive_solver</span>|<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_filter_finite_1'"><span class="id" title="lemma">SeriesC_filter_finite_1'</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hleq</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#INR_lt"><span class="id" title="lemma">INR_lt</span></a>|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#INR_le"><span class="id" title="lemma">INR_le</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">trans</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:580" class="idref" href="#a:580"><span class="id" title="binder"><span id="a:581" class="id">a</span></span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> (<span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">M</span>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 1)); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_finite_mass"><span class="id" title="lemma">SeriesC_finite_mass</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_card"><span class="id" title="lemma">fin_card</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#minus_INR"><span class="id" title="lemma">minus_INR</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#INR_le"><span class="id" title="lemma">INR_le</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">etrans</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_filter_finite_2"><span class="id" title="lemma">SeriesC_filter_finite_2</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hleq</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#INR_lt"><span class="id" title="lemma">INR_lt</span></a>|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#INR_le"><span class="id" title="lemma">INR_le</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_finite_mass"><span class="id" title="lemma">SeriesC_finite_mass</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_card"><span class="id" title="lemma">fin_card</span></a>. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">g</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a><a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">g</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hpos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>. <span class="id" title="var">naive_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a><span class="id" title="var">M</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_def"><span class="id" title="lemma">Rdiv_def</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_div_assoc"><span class="id" title="lemma">Rmult_div_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_div_r"><span class="id" title="lemma">Rle_div_r</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_r"><span class="id" title="lemma">Rmult_le_compat_r</span></a>; <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dunif_leq_rev" class="idref" href="#ARcoupl_dunif_leq_rev"><span class="id" title="lemma">ARcoupl_dunif_leq_rev</span></a> (<a id="N:582" class="idref" href="#N:582"><span class="id" title="binder">N</span></a> <a id="M:583" class="idref" href="#M:583"><span class="id" title="binder">M</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#655439258f20e6256090528bc533ae29"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#M:583"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#655439258f20e6256090528bc533ae29"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:582"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:582"><span class="id" title="variable">N</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.couplings_app.html#M:583"><span class="id" title="variable">M</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:584" class="idref" href="#n:584"><span class="id" title="binder">n</span></a> <a id="m:585" class="idref" href="#m:585"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat"><span class="id" title="definition">fin_to_nat</span></a> <a class="idref" href="clutch.prob.couplings_app.html#n:584"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#m:585"><span class="id" title="variable">m</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.couplings_app.html#N:582"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="clutch.prob.couplings_app.html#M:583"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)/</span></a><a class="idref" href="clutch.prob.couplings_app.html#N:582"><span class="id" title="variable">N</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:586" class="idref" href="#x:586"><span class="id" title="binder"><span id="x:587" class="id">x</span></span></a>:<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat"><span class="id" title="definition">fin_to_nat</span></a> <a class="idref" href="clutch.prob.couplings_app.html#x:586"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">N</span>)%<span class="id" title="var">nat</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hineq</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat_lt"><span class="id" title="lemma">fin_to_nat_lt</span></a> <span class="id" title="var">x</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hleq</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">H1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#INR_le"><span class="id" title="lemma">INR_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl_dunif_leq_rev_inj"><span class="id" title="lemma">ARcoupl_dunif_leq_rev_inj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:588" class="idref" href="#x:588"><span class="id" title="binder"><span id="x:589" class="id">x</span></span></a>:<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#nat_to_fin"><span class="id" title="abbreviation">nat_to_fin</span></a> (<span class="id" title="var">Hineq</span> <a class="idref" href="clutch.prob.couplings_app.html#x:588"><span class="id" title="variable">x</span></a>))); <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat_to_fin"><span class="id" title="lemma">fin_to_nat_to_fin</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?? <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat"><span class="id" title="definition">fin_to_nat</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat_to_fin"><span class="id" title="lemma">fin_to_nat_to_fin</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat_inj"><span class="id" title="instance">fin_to_nat_inj</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dunif_no_coll_l" class="idref" href="#ARcoupl_dunif_no_coll_l"><span class="id" title="lemma">ARcoupl_dunif_no_coll_l</span></a> `{<a id="H:592" class="idref" href="#H:592"><span class="id" title="binder">Countable</span></a> <a id="A:590" class="idref" href="#A:590"><span class="id" title="binder"><span id="H:592" class="id">A</span></span></a>} (<a id="v:593" class="idref" href="#v:593"><span class="id" title="binder">v</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#A:590"><span class="id" title="variable">A</span></a>) (<a id="N:594" class="idref" href="#N:594"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="x:595" class="idref" href="#x:595"><span class="id" title="binder">x</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:594"><span class="id" title="variable">N</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:594"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:594"><span class="id" title="variable">N</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.couplings_app.html#v:593"><span class="id" title="variable">v</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="m:596" class="idref" href="#m:596"><span class="id" title="binder">m</span></a> <a id="n:597" class="idref" href="#n:597"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#m:596"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="clutch.prob.couplings_app.html#x:595"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.prob.couplings_app.html#n:597"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#v:593"><span class="id" title="variable">v</span></a>) (1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a><a class="idref" href="clutch.prob.couplings_app.html#N:594"><span class="id" title="variable">N</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">try</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>) ; <span class="id" title="tactic">auto</span> ; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:598" class="idref" href="#b:598"><span class="id" title="binder"><span id="b:599" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b:598"><span class="id" title="variable">b</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:600" class="idref" href="#b:600"><span class="id" title="binder"><span id="b:601" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b:600"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:602" class="idref" href="#a:602"><span class="id" title="binder"><span id="a:603" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#a:602"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:604" class="idref" href="#a:604"><span class="id" title="binder"><span id="a:605" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#a:604"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">left</span> ; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_0_lt_compat"><span class="id" title="lemma">Rinv_0_lt_compat</span></a> ; <span class="id" title="var">lra</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="n:606" class="idref" href="#n:606"><span class="id" title="binder"><span id="n:607" class="id">n</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#n:606"><span class="id" title="variable">n</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> ; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>... }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:608" class="idref" href="#b:608"><span class="id" title="binder"><span id="b:609" class="id"><span id="b:610" class="id"><span id="b:611" class="id"><span id="b:612" class="id"><span id="b:613" class="id"><span id="b:614" class="id"><span id="b:615" class="id"><span id="b:616" class="id"><span id="b:617" class="id"><span id="b:618" class="id"><span id="b:619" class="id"><span id="b:620" class="id"><span id="b:621" class="id"><span id="b:622" class="id"><span id="b:623" class="id"><span id="b:624" class="id"><span id="b:625" class="id"><span id="b:626" class="id"><span id="b:627" class="id"><span id="b:628" class="id"><span id="b:629" class="id"><span id="b:630" class="id"><span id="b:631" class="id"><span id="b:632" class="id"><span id="b:633" class="id"><span id="b:634" class="id"><span id="b:635" class="id"><span id="b:636" class="id"><span id="b:637" class="id"><span id="b:638" class="id"><span id="b:639" class="id"><span id="b:640" class="id"><span id="b:641" class="id"><span id="b:642" class="id"><span id="b:643" class="id"><span id="b:644" class="id"><span id="b:645" class="id"><span id="b:646" class="id"><span id="b:647" class="id"><span id="b:648" class="id"><span id="b:649" class="id"><span id="b:650" class="id"><span id="b:651" class="id"><span id="b:652" class="id"><span id="b:653" class="id">b</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#b:608"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">g</span> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">)</span></a>)) <span class="id" title="tactic">at</span> 1; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> ; <span class="id" title="var">case_bool_decide</span> ; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:654" class="idref" href="#a:654"><span class="id" title="binder"><span id="a:655" class="id">a</span></span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#a:654"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#a:654"><span class="id" title="variable">a</span></a> )).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ; <span class="id" title="var">case_bool_decide</span> ; <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a><span class="id" title="var">N</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>... <span class="id" title="var">nra</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_split_elem"><span class="id" title="lemma">SeriesC_split_elem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span>)...<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_finite_bound"><span class="id" title="lemma">SeriesC_finite_bound</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">case_bool_decide</span>; [|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_false_2"><span class="id" title="lemma">bool_decide_eq_false_2</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">case_bool_decide</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_false_2"><span class="id" title="lemma">bool_decide_eq_false_2</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_card"><span class="id" title="lemma">fin_card</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_r"><span class="id" title="lemma">Rinv_r</span></a> ; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">etrans</span> ; [ | <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="var">x</span> (1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a><span class="id" title="var">N</span>))].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span> ; <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> =&gt; <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">case_bool_decide</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> ; <span class="id" title="var">case_bool_decide</span>... <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="ARcoupl_dunif_no_coll_l'" class="idref" href="#ARcoupl_dunif_no_coll_l'"><span class="id" title="lemma">ARcoupl_dunif_no_coll_l'</span></a> (<a id="N:656" class="idref" href="#N:656"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="x:657" class="idref" href="#x:657"><span class="id" title="binder">x</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:656"><span class="id" title="variable">N</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:656"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:656"><span class="id" title="variable">N</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.couplings_app.html#x:657"><span class="id" title="variable">x</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="m:658" class="idref" href="#m:658"><span class="id" title="binder">m</span></a> <a id="n:659" class="idref" href="#n:659"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#m:658"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="clutch.prob.couplings_app.html#x:657"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.prob.couplings_app.html#n:659"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#x:657"><span class="id" title="variable">x</span></a>) (1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a><a class="idref" href="clutch.prob.couplings_app.html#N:656"><span class="id" title="variable">N</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl_dunif_no_coll_l"><span class="id" title="lemma">ARcoupl_dunif_no_coll_l</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dunif_no_coll_r" class="idref" href="#ARcoupl_dunif_no_coll_r"><span class="id" title="lemma">ARcoupl_dunif_no_coll_r</span></a> `{<a id="H:662" class="idref" href="#H:662"><span class="id" title="binder">Countable</span></a> <a id="A:660" class="idref" href="#A:660"><span class="id" title="binder"><span id="H:662" class="id">A</span></span></a>} (<a id="v:663" class="idref" href="#v:663"><span class="id" title="binder">v</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#A:660"><span class="id" title="variable">A</span></a>) (<a id="N:664" class="idref" href="#N:664"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="x:665" class="idref" href="#x:665"><span class="id" title="binder">x</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:664"><span class="id" title="variable">N</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:664"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.couplings_app.html#v:663"><span class="id" title="variable">v</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:664"><span class="id" title="variable">N</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="m:666" class="idref" href="#m:666"><span class="id" title="binder">m</span></a> <a id="n:667" class="idref" href="#n:667"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#m:666"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#v:663"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.prob.couplings_app.html#n:667"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="clutch.prob.couplings_app.html#x:665"><span class="id" title="variable">x</span></a>) (1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a><a class="idref" href="clutch.prob.couplings_app.html#N:664"><span class="id" title="variable">N</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">try</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>) ; <span class="id" title="tactic">auto</span> ; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="clutch.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:668" class="idref" href="#b:668"><span class="id" title="binder"><span id="b:669" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b:668"><span class="id" title="variable">b</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:670" class="idref" href="#b:670"><span class="id" title="binder"><span id="b:671" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b:670"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:672" class="idref" href="#a:672"><span class="id" title="binder"><span id="a:673" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#a:672"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:674" class="idref" href="#a:674"><span class="id" title="binder"><span id="a:675" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#a:674"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">left</span> ; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_0_lt_compat"><span class="id" title="lemma">Rinv_0_lt_compat</span></a> ; <span class="id" title="var">lra</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="n:676" class="idref" href="#n:676"><span class="id" title="binder"><span id="n:677" class="id">n</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#n:676"><span class="id" title="variable">n</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> ; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>... }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:678" class="idref" href="#a:678"><span class="id" title="binder"><span id="a:679" class="id">a</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#a:678"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> ; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>... }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:680" class="idref" href="#a:680"><span class="id" title="binder"><span id="a:681" class="id"><span id="a:682" class="id"><span id="a:683" class="id"><span id="a:684" class="id"><span id="a:685" class="id"><span id="a:686" class="id"><span id="a:687" class="id"><span id="a:688" class="id"><span id="a:689" class="id"><span id="a:690" class="id"><span id="a:691" class="id"><span id="a:692" class="id"><span id="a:693" class="id"><span id="a:694" class="id"><span id="a:695" class="id"><span id="a:696" class="id"><span id="a:697" class="id"><span id="a:698" class="id"><span id="a:699" class="id"><span id="a:700" class="id"><span id="a:701" class="id"><span id="a:702" class="id"><span id="a:703" class="id"><span id="a:704" class="id"><span id="a:705" class="id"><span id="a:706" class="id"><span id="a:707" class="id"><span id="a:708" class="id"><span id="a:709" class="id"><span id="a:710" class="id"><span id="a:711" class="id"><span id="a:712" class="id"><span id="a:713" class="id"><span id="a:714" class="id"><span id="a:715" class="id"><span id="a:716" class="id"><span id="a:717" class="id"><span id="a:718" class="id"><span id="a:719" class="id"><span id="a:720" class="id"><span id="a:721" class="id"><span id="a:722" class="id"><span id="a:723" class="id"><span id="a:724" class="id"><span id="a:725" class="id">a</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#a:680"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">f</span> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">)</span></a>)) ; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> ; <span class="id" title="var">case_bool_decide</span> ; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:726" class="idref" href="#n:726"><span class="id" title="binder"><span id="n:727" class="id">n</span></span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#n:726"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#n:726"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a><span class="id" title="var">N</span>) ; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>... }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="var">x</span> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_finite_mass"><span class="id" title="lemma">SeriesC_finite_mass</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_card"><span class="id" title="lemma">fin_card</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_r"><span class="id" title="lemma">Rinv_r</span></a> ; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ; <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_0_l"><span class="id" title="lemma">Rplus_0_l</span></a> -(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a><span class="id" title="var">N</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>... <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="ARcoupl_dunif_no_coll_r'" class="idref" href="#ARcoupl_dunif_no_coll_r'"><span class="id" title="lemma">ARcoupl_dunif_no_coll_r'</span></a> (<a id="N:728" class="idref" href="#N:728"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="x:729" class="idref" href="#x:729"><span class="id" title="binder">x</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:728"><span class="id" title="variable">N</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:728"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="clutch.prob.couplings_app.html#x:729"><span class="id" title="variable">x</span></a>) (<a class="idref" href="clutch.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="clutch.prob.couplings_app.html#N:728"><span class="id" title="variable">N</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="m:730" class="idref" href="#m:730"><span class="id" title="binder">m</span></a> <a id="n:731" class="idref" href="#n:731"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#m:730"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob.couplings_app.html#x:729"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.prob.couplings_app.html#n:731"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="clutch.prob.couplings_app.html#x:729"><span class="id" title="variable">x</span></a>) (1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a><a class="idref" href="clutch.prob.couplings_app.html#N:728"><span class="id" title="variable">N</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl_dunif_no_coll_r"><span class="id" title="lemma">ARcoupl_dunif_no_coll_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="UB_to_ARcoupl" class="idref" href="#UB_to_ARcoupl"><span class="id" title="lemma">UB_to_ARcoupl</span></a> `{<a id="H:734" class="idref" href="#H:734"><span class="id" title="binder">Countable</span></a> <a id="A:732" class="idref" href="#A:732"><span class="id" title="binder"><span id="H:734" class="id">A</span></span></a>, <a id="H0:737" class="idref" href="#H0:737"><span class="id" title="binder">Countable</span></a> <a id="B:735" class="idref" href="#B:735"><span class="id" title="binder"><span id="H0:737" class="id">B</span></span></a>} (<a id="0cea2051ab482a02d830b0bb6a6cf543" class="idref" href="#0cea2051ab482a02d830b0bb6a6cf543"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#A:732"><span class="id" title="variable">A</span></a>) (<a id="P:739" class="idref" href="#P:739"><span class="id" title="binder">P</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#A:732"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="3dec959cb6369f9143329d4dbc68c84e" class="idref" href="#3dec959cb6369f9143329d4dbc68c84e"><span class="id" title="binder">ε</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.graded_predicate_lifting.html#pgl"><span class="id" title="definition">pgl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#0cea2051ab482a02d830b0bb6a6cf543"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#P:739"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.couplings_app.html#3dec959cb6369f9143329d4dbc68c84e"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#0cea2051ab482a02d830b0bb6a6cf543"><span class="id" title="variable">μ1</span></a> (<a class="idref" href="clutch.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:741" class="idref" href="#a:741"><span class="id" title="binder">a</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#P:739"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:741"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.couplings_app.html#3dec959cb6369f9143329d4dbc68c84e"><span class="id" title="variable">ε</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.graded_predicate_lifting.html#pgl"><span class="id" title="definition">pgl</span></a> /<a class="idref" href="clutch.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hub</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_finite_foldr"><span class="id" title="lemma">SeriesC_finite_foldr</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_1_l"><span class="id" title="lemma">Rmult_1_l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> ((<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:742" class="idref" href="#a:742"><span class="id" title="binder"><span id="a:743" class="id">a</span></span></a>:<span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="clutch.prob.couplings_app.html#a:742"><span class="id" title="variable">a</span></a>)))) <span class="id" title="keyword">as</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_split_pred"><span class="id" title="lemma">SeriesC_split_pred</span></a> <span class="id" title="var">_</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">trans</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:744" class="idref" href="#a:744"><span class="id" title="binder"><span id="a:745" class="id">a</span></span></a> : <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="var">q</span> <a class="idref" href="clutch.prob.couplings_app.html#a:744"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:744"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Program.Syntax.html#f5cb26d96fc0400fc3c881290947e554"><span class="id" title="notation">()</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_ext"><span class="id" title="lemma">ex_seriesC_ext</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:746" class="idref" href="#a:746"><span class="id" title="binder"><span id="a:747" class="id">a</span></span></a> : <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="clutch.prob.couplings_app.html#a:746"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:746"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Program.Syntax.html#f5cb26d96fc0400fc3c881290947e554"><span class="id" title="notation">()</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)); <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_filter_pos"><span class="id" title="lemma">ex_seriesC_filter_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">trans</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:748" class="idref" href="#a:748"><span class="id" title="binder"><span id="a:749" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#a:748"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Program.Syntax.html#f5cb26d96fc0400fc3c881290947e554"><span class="id" title="notation">()</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>. <span class="id" title="var">etrans</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_r"><span class="id" title="lemma">Rmult_le_compat_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">exact</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_filter_bool_pos"><span class="id" title="lemma">ex_seriesC_filter_bool_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_to_UB" class="idref" href="#ARcoupl_to_UB"><span class="id" title="lemma">ARcoupl_to_UB</span></a> `{<a id="H:752" class="idref" href="#H:752"><span class="id" title="binder">Countable</span></a> <a id="A:750" class="idref" href="#A:750"><span class="id" title="binder"><span id="H:752" class="id">A</span></span></a>, <a id="H0:755" class="idref" href="#H0:755"><span class="id" title="binder">Countable</span></a> <a id="B:753" class="idref" href="#B:753"><span class="id" title="binder"><span id="H0:755" class="id">B</span></span></a>} (<a id="9cf9edaf388f9ece10dc85186ba3972f" class="idref" href="#9cf9edaf388f9ece10dc85186ba3972f"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#A:750"><span class="id" title="variable">A</span></a>) (<a id="dc63e4cd631038d959b37b16b4bb5c9b" class="idref" href="#dc63e4cd631038d959b37b16b4bb5c9b"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#B:753"><span class="id" title="variable">B</span></a>) (<a id="P:758" class="idref" href="#P:758"><span class="id" title="binder">P</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#A:750"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="37d0ebca51f4ac6ff3ea77d6003f4010" class="idref" href="#37d0ebca51f4ac6ff3ea77d6003f4010"><span class="id" title="binder">ε</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#9cf9edaf388f9ece10dc85186ba3972f"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#dc63e4cd631038d959b37b16b4bb5c9b"><span class="id" title="variable">μ2</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:760" class="idref" href="#a:760"><span class="id" title="binder">a</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#P:758"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:760"><span class="id" title="variable">a</span></a>) <a class="idref" href="clutch.prob.couplings_app.html#37d0ebca51f4ac6ff3ea77d6003f4010"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.graded_predicate_lifting.html#pgl"><span class="id" title="definition">pgl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#9cf9edaf388f9ece10dc85186ba3972f"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#P:758"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.couplings_app.html#37d0ebca51f4ac6ff3ea77d6003f4010"><span class="id" title="variable">ε</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a>/<a class="idref" href="clutch.prob.graded_predicate_lifting.html#pgl"><span class="id" title="definition">pgl</span></a>/<a class="idref" href="clutch.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Har</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">eset</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:761" class="idref" href="#a:761"><span class="id" title="binder"><span id="a:762" class="id">a</span></span></a>:<span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="clutch.prob.couplings_app.html#a:761"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 1) <span class="id" title="keyword">as</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">eset</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:763" class="idref" href="#b:763"><span class="id" title="binder"><span id="b:764" class="id">b</span></span></a>:<span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 0) <span class="id" title="keyword">as</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Har</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">ε</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:765" class="idref" href="#b:765"><span class="id" title="binder"><span id="b:766" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:765"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b:765"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">ε</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Har</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">f</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> 1. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">f</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="var">case_match</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">f</span>. <span class="id" title="var">case_match</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">g</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">f</span>/<span class="id" title="var">g</span>. <span class="id" title="var">case_match</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_false"><span class="id" title="lemma">bool_decide_eq_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>. <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="up_to_bad_lhs" class="idref" href="#up_to_bad_lhs"><span class="id" title="lemma">up_to_bad_lhs</span></a> `{<a id="H:769" class="idref" href="#H:769"><span class="id" title="binder">Countable</span></a> <a id="A:767" class="idref" href="#A:767"><span class="id" title="binder"><span id="H:769" class="id">A</span></span></a>, <a id="H0:772" class="idref" href="#H0:772"><span class="id" title="binder">Countable</span></a> <a id="B:770" class="idref" href="#B:770"><span class="id" title="binder"><span id="H0:772" class="id">B</span></span></a>} (<a id="c54d847f0d04fb6e983f8b43de5e05ea" class="idref" href="#c54d847f0d04fb6e983f8b43de5e05ea"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#A:767"><span class="id" title="variable">A</span></a>) (<a id="289ec81aa4c5a8944ae6985da0d5a618" class="idref" href="#289ec81aa4c5a8944ae6985da0d5a618"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#B:770"><span class="id" title="variable">B</span></a>) (<a id="P:775" class="idref" href="#P:775"><span class="id" title="binder">P</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#A:767"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="Q:776" class="idref" href="#Q:776"><span class="id" title="binder">Q</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#A:767"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#B:770"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="3001554b08cc104f49cbd4ae13bce894" class="idref" href="#3001554b08cc104f49cbd4ae13bce894"><span class="id" title="binder">ε</span></a> <a id="a8326b17ec20336c28df3a6b1b5b9d9c" class="idref" href="#a8326b17ec20336c28df3a6b1b5b9d9c"><span class="id" title="binder">ε'</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#c54d847f0d04fb6e983f8b43de5e05ea"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#289ec81aa4c5a8944ae6985da0d5a618"><span class="id" title="variable">μ2</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:779" class="idref" href="#a:779"><span class="id" title="binder">a</span></a> <a id="b:780" class="idref" href="#b:780"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#P:775"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:779"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#Q:776"><span class="id" title="variable">Q</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:779"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:780"><span class="id" title="variable">b</span></a>) <a class="idref" href="clutch.prob.couplings_app.html#3001554b08cc104f49cbd4ae13bce894"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.graded_predicate_lifting.html#pgl"><span class="id" title="definition">pgl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#c54d847f0d04fb6e983f8b43de5e05ea"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#P:775"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a8326b17ec20336c28df3a6b1b5b9d9c"><span class="id" title="variable">ε'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#c54d847f0d04fb6e983f8b43de5e05ea"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#289ec81aa4c5a8944ae6985da0d5a618"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#Q:776"><span class="id" title="variable">Q</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#3001554b08cc104f49cbd4ae13bce894"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a8326b17ec20336c28df3a6b1b5b9d9c"><span class="id" title="variable">ε'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcpl</span> <span class="id" title="var">Hub</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">P'</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:781" class="idref" href="#a:781"><span class="id" title="binder"><span id="a:782" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="clutch.prob.couplings_app.html#a:781"><span class="id" title="variable">a</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">f'</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:783" class="idref" href="#a:783"><span class="id" title="binder"><span id="a:784" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="clutch.prob.couplings_app.html#a:783"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">f</span> <a class="idref" href="clutch.prob.couplings_app.html#a:783"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;epose&nbsp;proof&nbsp;(Hub&nbsp;P'&nbsp;_)&nbsp;as&nbsp;Haux.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Unshelve.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;2:{&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;intros&nbsp;a&nbsp;Ha;&nbsp;rewrite&nbsp;/P'.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;case_bool_decide;&nbsp;auto.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;}&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;rewrite&nbsp;/prob&nbsp;in&nbsp;Haux.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a>; [ | <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_r"><span class="id" title="lemma">Rplus_le_compat_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">Hcpl</span> <span class="id" title="var">f'</span> <span class="id" title="var">g</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">f'</span>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">HPQ</span>; <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">f'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hfg</span>; <span class="id" title="tactic">auto</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">f'</span> /<span class="id" title="var">P'</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>); <span class="id" title="tactic">split</span>; [<span class="id" title="var">real_solver</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">simpl</span>; [<span class="id" title="var">lra</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_0_r"><span class="id" title="lemma">Rmult_0_r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_0_l"><span class="id" title="lemma">Rplus_0_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:785" class="idref" href="#x:785"><span class="id" title="binder"><span id="x:786" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">μ1</span> <a class="idref" href="clutch.prob.couplings_app.html#x:785"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)*</span></a>2)); [ | <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>; <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_0_r"><span class="id" title="lemma">Rmult_0_r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_0_l"><span class="id" title="lemma">Rplus_0_l</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_0_r"><span class="id" title="lemma">Rmult_0_r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_0_l"><span class="id" title="lemma">Rplus_0_l</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="up_to_bad_rhs" class="idref" href="#up_to_bad_rhs"><span class="id" title="lemma">up_to_bad_rhs</span></a> `{<a id="H:789" class="idref" href="#H:789"><span class="id" title="binder">Countable</span></a> <a id="A:787" class="idref" href="#A:787"><span class="id" title="binder"><span id="H:789" class="id">A</span></span></a>, <a id="H0:792" class="idref" href="#H0:792"><span class="id" title="binder">Countable</span></a> <a id="B:790" class="idref" href="#B:790"><span class="id" title="binder"><span id="H0:792" class="id">B</span></span></a>} (<a id="ca318fb3a4d93b3b2e1a606780f582fa" class="idref" href="#ca318fb3a4d93b3b2e1a606780f582fa"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#A:787"><span class="id" title="variable">A</span></a>) (<a id="ce4fd61ad1ca87ed37280809e61748b3" class="idref" href="#ce4fd61ad1ca87ed37280809e61748b3"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="clutch.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="clutch.prob.couplings_app.html#B:790"><span class="id" title="variable">B</span></a>) (<a id="P:795" class="idref" href="#P:795"><span class="id" title="binder">P</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#B:790"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="Q:796" class="idref" href="#Q:796"><span class="id" title="binder">Q</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#A:787"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#B:790"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="771e147532e6f54000b5163ff61560c3" class="idref" href="#771e147532e6f54000b5163ff61560c3"><span class="id" title="binder">ε</span></a> <a id="350fb3e201b5a05e48233c0840d8f705" class="idref" href="#350fb3e201b5a05e48233c0840d8f705"><span class="id" title="binder">ε'</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ca318fb3a4d93b3b2e1a606780f582fa"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ce4fd61ad1ca87ed37280809e61748b3"><span class="id" title="variable">μ2</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:799" class="idref" href="#a:799"><span class="id" title="binder">a</span></a> <a id="b:800" class="idref" href="#b:800"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#P:795"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:800"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#Q:796"><span class="id" title="variable">Q</span></a> <a class="idref" href="clutch.prob.couplings_app.html#a:799"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b:800"><span class="id" title="variable">b</span></a>) <a class="idref" href="clutch.prob.couplings_app.html#771e147532e6f54000b5163ff61560c3"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.graded_predicate_lifting.html#pgl"><span class="id" title="definition">pgl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ce4fd61ad1ca87ed37280809e61748b3"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#P:795"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.prob.couplings_app.html#350fb3e201b5a05e48233c0840d8f705"><span class="id" title="variable">ε'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ca318fb3a4d93b3b2e1a606780f582fa"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ce4fd61ad1ca87ed37280809e61748b3"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#Q:796"><span class="id" title="variable">Q</span></a> (<a class="idref" href="clutch.prob.couplings_app.html#771e147532e6f54000b5163ff61560c3"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prob.couplings_app.html#350fb3e201b5a05e48233c0840d8f705"><span class="id" title="variable">ε'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcpl</span> <span class="id" title="var">Hub</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">P'</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:801" class="idref" href="#a:801"><span class="id" title="binder"><span id="a:802" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="clutch.prob.couplings_app.html#a:801"><span class="id" title="variable">a</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">g'</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:803" class="idref" href="#a:803"><span class="id" title="binder"><span id="a:804" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="clutch.prob.couplings_app.html#a:803"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#a:803"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a>; [ | <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hub</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a> <span class="id" title="var">ε</span>) -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>.<br/>
&nbsp;&nbsp;2,3: <span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:805" class="idref" href="#b:805"><span class="id" title="binder"><span id="b:806" class="id"><span id="b:807" class="id">b</span></span></span></a> : <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:805"><span class="id" title="variable">b</span></a>)) =&gt; // ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:808" class="idref" href="#b:808"><span class="id" title="binder"><span id="b:809" class="id">b</span></span></a> : <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:808"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b:808"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:808"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="clutch.prob.couplings_app.html#b:808"><span class="id" title="variable">b</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">ε</span>) ; [|(<span class="id" title="tactic">right</span> ; <span class="id" title="tactic">f_equal</span> ; <span class="id" title="var">series</span>)].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;-<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_plus_distr_l"><span class="id" title="lemma">Rmult_plus_distr_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:810" class="idref" href="#b:810"><span class="id" title="binder"><span id="b:811" class="id">b</span></span></a> : <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:810"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin"><span class="id" title="definition">Rmin</span></a> 1 (<span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#b:810"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="clutch.prob.couplings_app.html#b:810"><span class="id" title="variable">b</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">ε</span>).<br/>
&nbsp;&nbsp;2:{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_r"><span class="id" title="lemma">Rplus_le_compat_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:812" class="idref" href="#b:812"><span class="id" title="binder"><span id="b:813" class="id">b</span></span></a> : <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="clutch.prob.couplings_app.html#b:812"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a>1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">g</span> <span class="id" title="var">b</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">real_solver_partial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">g</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="var">g</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">real_solver_partial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_right"><span class="id" title="lemma">Rmin_right</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_right"><span class="id" title="lemma">Rmin_right</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_left"><span class="id" title="lemma">Rmin_left</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_left"><span class="id" title="lemma">Rmin_left</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcpl</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> ; <span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">g</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="var">g</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">real_solver_partial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_right"><span class="id" title="lemma">Rmin_right</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_right"><span class="id" title="lemma">Rmin_right</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_left"><span class="id" title="lemma">Rmin_left</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_left"><span class="id" title="lemma">Rmin_left</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="var">real_solver_partial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>. <span class="id" title="var">trans</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>). 1: <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_right"><span class="id" title="lemma">Rmin_right</span></a>. 1: <span class="id" title="var">lra</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_left"><span class="id" title="lemma">Rmin_left</span></a>. 2: <span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">g</span> <span class="id" title="var">b</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">real_solver</span> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_refRcoupl" class="idref" href="#ARcoupl_refRcoupl"><span class="id" title="lemma">ARcoupl_refRcoupl</span></a> `{<a id="H:816" class="idref" href="#H:816"><span class="id" title="binder">Countable</span></a> <a id="A:814" class="idref" href="#A:814"><span class="id" title="binder"><span id="H:816" class="id">A</span></span></a>, <a id="H0:819" class="idref" href="#H0:819"><span class="id" title="binder">Countable</span></a> <a id="B:817" class="idref" href="#B:817"><span class="id" title="binder"><span id="H0:819" class="id">B</span></span></a>}<br/>
&nbsp;&nbsp;<a id="5ebb8b653c3d0627cb54add06f4ef559" class="idref" href="#5ebb8b653c3d0627cb54add06f4ef559"><span class="id" title="binder">μ1</span></a> <a id="abb26a86a6ed5ed622aeee3247535a07" class="idref" href="#abb26a86a6ed5ed622aeee3247535a07"><span class="id" title="binder">μ2</span></a> (<a id="b3d880d3e2a3341eb2088635cefc6eba" class="idref" href="#b3d880d3e2a3341eb2088635cefc6eba"><span class="id" title="binder">ψ</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#A:814"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#B:817"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) : <a class="idref" href="clutch.prob.couplings.html#refRcoupl"><span class="id" title="definition">refRcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#5ebb8b653c3d0627cb54add06f4ef559"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#abb26a86a6ed5ed622aeee3247535a07"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b3d880d3e2a3341eb2088635cefc6eba"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#5ebb8b653c3d0627cb54add06f4ef559"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#abb26a86a6ed5ed622aeee3247535a07"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#b3d880d3e2a3341eb2088635cefc6eba"><span class="id" title="variable">ψ</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">μ</span>&amp;(&lt;-&amp;<span class="id" title="var">Hrm</span>)&amp;<span class="id" title="var">Hs</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.distribution.html#rmarg_pmf"><span class="id" title="lemma">rmarg_pmf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="clutch.prob.distribution.html#lmarg_pmf"><span class="id" title="lemma">lmarg_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_r"><span class="id" title="lemma">Rmult_le_compat_r</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hrm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [ | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> ; [ | <span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> <span class="id" title="var">μ2</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:825" class="idref" href="#pat:825"><span class="id" title="binder"><span id="pat:828" class="id"><span id="pat:831" class="id">(</span></span></span></a><a id="a:824" class="idref" href="#a:824"><span class="id" title="binder"><span id="pat:825" class="id"><span id="a:827" class="id"><span id="pat:828" class="id"><span id="a:830" class="id"><span id="pat:831" class="id">a</span></span></span></span></span></span></a><a id="pat:825" class="idref" href="#pat:825"><span class="id" title="binder"><span id="pat:828" class="id"><span id="pat:831" class="id">,</span></span></span></a><a id="n:823" class="idref" href="#n:823"><span class="id" title="binder"><span id="pat:825" class="id"><span id="n:826" class="id"><span id="pat:828" class="id"><span id="n:829" class="id"><span id="pat:831" class="id">n</span></span></span></span></span></span></a><a id="pat:825" class="idref" href="#pat:825"><span class="id" title="binder"><span id="pat:828" class="id"><span id="pat:831" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rmult"><span class="id" title="axiom">Rmult</span></a> (<span class="id" title="var">μ</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob.couplings_app.html#a:824"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#n:823"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) (<span class="id" title="var">g</span> <a class="idref" href="clutch.prob.couplings_app.html#n:823"><span class="id" title="variable">n</span></a>))).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> ((<span class="id" title="var">μ</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)%<span class="id" title="var">R</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">H3</span> | <span class="id" title="var">H4</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span>, <span class="id" title="var">Hfg</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rnot_gt_le"><span class="id" title="lemma">Rnot_gt_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">μ</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> 0%<span class="id" title="var">R</span>; [ <span class="id" title="var">lra</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_antisym"><span class="id" title="lemma">Rle_antisym</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a>; [ | <span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_lmarg"><span class="id" title="lemma">ex_seriesC_lmarg</span></a> <span class="id" title="var">μ</span>); <span class="id" title="tactic">eauto</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a>; [ | <span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_ex_seriesC_prod_ex_lr"><span class="id" title="lemma">fubini_pos_ex_seriesC_prod_ex_lr</span></a> <span class="id" title="var">μ</span>)]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_lmarg"><span class="id" title="lemma">ex_seriesC_lmarg</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a>; [ | <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_lmarg"><span class="id" title="lemma">ex_seriesC_lmarg</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span>) ]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a>; [ | <span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.prob.countable_sum.html#fubini_pos_ex_seriesC_prod_ex_lr"><span class="id" title="lemma">fubini_pos_ex_seriesC_prod_ex_lr</span></a> <span class="id" title="var">μ</span>)]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prob.countable_sum.html#ex_seriesC_lmarg"><span class="id" title="lemma">ex_seriesC_lmarg</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_exact" class="idref" href="#ARcoupl_exact"><span class="id" title="lemma">ARcoupl_exact</span></a> `{<a id="H:834" class="idref" href="#H:834"><span class="id" title="binder">Countable</span></a> <a id="A:832" class="idref" href="#A:832"><span class="id" title="binder"><span id="H:834" class="id">A</span></span></a>, <a id="H0:837" class="idref" href="#H0:837"><span class="id" title="binder">Countable</span></a> <a id="B:835" class="idref" href="#B:835"><span class="id" title="binder"><span id="H0:837" class="id">B</span></span></a>}<br/>
&nbsp;&nbsp;<a id="74e96948d0635b826dfcede9238a7ffa" class="idref" href="#74e96948d0635b826dfcede9238a7ffa"><span class="id" title="binder">μ1</span></a> <a id="bab0c141525d1fb0512ad78de5eed80e" class="idref" href="#bab0c141525d1fb0512ad78de5eed80e"><span class="id" title="binder">μ2</span></a> (<a id="4c65ceec6337e5d40b877650f279cc8c" class="idref" href="#4c65ceec6337e5d40b877650f279cc8c"><span class="id" title="binder">ψ</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#A:832"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#B:835"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) : <a class="idref" href="clutch.prob.couplings.html#Rcoupl"><span class="id" title="definition">Rcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#74e96948d0635b826dfcede9238a7ffa"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#bab0c141525d1fb0512ad78de5eed80e"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#4c65ceec6337e5d40b877650f279cc8c"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#74e96948d0635b826dfcede9238a7ffa"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#bab0c141525d1fb0512ad78de5eed80e"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#4c65ceec6337e5d40b877650f279cc8c"><span class="id" title="variable">ψ</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ; <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl_refRcoupl"><span class="id" title="lemma">ARcoupl_refRcoupl</span></a>, <a class="idref" href="clutch.prob.couplings.html#Rcoupl_refRcoupl"><span class="id" title="lemma">Rcoupl_refRcoupl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_limit" class="idref" href="#ARcoupl_limit"><span class="id" title="lemma">ARcoupl_limit</span></a> `{<a id="H:843" class="idref" href="#H:843"><span class="id" title="binder">Countable</span></a> <a id="A:841" class="idref" href="#A:841"><span class="id" title="binder"><span id="H:843" class="id">A</span></span></a>, <a id="H0:846" class="idref" href="#H0:846"><span class="id" title="binder">Countable</span></a> <a id="B:844" class="idref" href="#B:844"><span class="id" title="binder"><span id="H0:846" class="id">B</span></span></a>} <a id="d32d8eb7d471fac4a83fbc2d65bcec14" class="idref" href="#d32d8eb7d471fac4a83fbc2d65bcec14"><span class="id" title="binder">μ1</span></a> <a id="0906e5b34d008ae4b39cb3ce9d16afa6" class="idref" href="#0906e5b34d008ae4b39cb3ce9d16afa6"><span class="id" title="binder">μ2</span></a> <a id="0e20950d303e4d1f34a83829e641e342" class="idref" href="#0e20950d303e4d1f34a83829e641e342"><span class="id" title="binder">ε</span></a> (<a id="ead74a99b85852e4518bca194d2736f4" class="idref" href="#ead74a99b85852e4518bca194d2736f4"><span class="id" title="binder">ψ</span></a> : <a class="idref" href="clutch.prob.couplings_app.html#A:841"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#B:844"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="4893d3cacae86826a060389fc74f6301" class="idref" href="#4893d3cacae86826a060389fc74f6301"><span class="id" title="binder">ε'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob.couplings_app.html#4893d3cacae86826a060389fc74f6301"><span class="id" title="variable">ε'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#0e20950d303e4d1f34a83829e641e342"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#d32d8eb7d471fac4a83fbc2d65bcec14"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#0906e5b34d008ae4b39cb3ce9d16afa6"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ead74a99b85852e4518bca194d2736f4"><span class="id" title="variable">ψ</span></a> <a class="idref" href="clutch.prob.couplings_app.html#4893d3cacae86826a060389fc74f6301"><span class="id" title="variable">ε'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="clutch.prob.couplings_app.html#d32d8eb7d471fac4a83fbc2d65bcec14"><span class="id" title="variable">μ1</span></a> <a class="idref" href="clutch.prob.couplings_app.html#0906e5b34d008ae4b39cb3ce9d16afa6"><span class="id" title="variable">μ2</span></a> <a class="idref" href="clutch.prob.couplings_app.html#ead74a99b85852e4518bca194d2736f4"><span class="id" title="variable">ψ</span></a> <a class="idref" href="clutch.prob.couplings_app.html#0e20950d303e4d1f34a83829e641e342"><span class="id" title="variable">ε</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlimit</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Series_ext.html#real_le_limit"><span class="id" title="lemma">real_le_limit</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hlimit</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
