<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/logsem/clutch">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">clutch.eris.examples.approximate_samplers.approx_walkSAT</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab36"></a><h1 class="section">Termination with probability 1 of the WalkSAT algorithm</h1>

</div>
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.eris</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="clutch.eris.eris.html#"><span class="id" title="library">eris</span></a> <a class="idref" href="clutch.eris.error_rules.html#"><span class="id" title="library">error_rules</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.eris</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="clutch.eris.eris.html#"><span class="id" title="library">eris</span></a> <a class="idref" href="clutch.eris.error_rules.html#"><span class="id" title="library">error_rules</span></a> <a class="idref" href="clutch.eris.adequacy.html#"><span class="id" title="library">adequacy</span></a> <a class="idref" href="clutch.eris.total_adequacy.html#"><span class="id" title="library">total_adequacy</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.eris</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_higherorder_incremental.html#"><span class="id" title="library">examples.approximate_samplers.approx_higherorder_incremental</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coquelicot</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#"><span class="id" title="library">Series</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.micromega.Lra.html#"><span class="id" title="library">Lra</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type*".<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="higherorder_walkSAT" class="idref" href="#higherorder_walkSAT"><span class="id" title="section">higherorder_walkSAT</span></a>.<br/>
</div>

<div class="doc">
Demonstration of using the higher-order spec for stateful computation (WalkSAT) 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="erisGS0:2" class="idref" href="#erisGS0:2"><span class="id" title="binder">!</span></a><a id="erisGS0:2" class="idref" href="#erisGS0:2"><span class="id" title="binder">erisGS</span></a> <a id="0101b9beac487b383a5ba2a8f6922788" class="idref" href="#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="binder"><span id="erisGS0:2" class="id">Σ</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="N:3" class="idref" href="#N:3"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="HN:4" class="idref" href="#HN:4"><span class="id" title="binder">HN</span></a> : (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a>)%<span class="id" title="var">nat</span>).<br/>

<br/>
</div>

<div class="doc">
Assignments 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Reflection&nbsp;of&nbsp;Coq-&nbsp;and&nbsp;value-level&nbsp;assignments&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="inv_asn'" class="idref" href="#inv_asn'"><span class="id" title="definition, inductive"><span id="inv_asn'_ind" class="id"><span id="inv_asn'_sind" class="id">inv_asn'</span></span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="inv_emp" class="idref" href="#inv_emp"><span class="id" title="constructor">inv_emp</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn':5"><span class="id" title="inductive">inv_asn'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="clutch.prob_lang.notation.html#NONEV"><span class="id" title="abbreviation">NONEV</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="inv_cons" class="idref" href="#inv_cons"><span class="id" title="constructor">inv_cons</span></a> (<a id="b:7" class="idref" href="#b:7"><span class="id" title="binder">b</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="m':8" class="idref" href="#m':8"><span class="id" title="binder">m'</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="asn':9" class="idref" href="#asn':9"><span class="id" title="binder">asn'</span></a> : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn':5"><span class="id" title="inductive">inv_asn'</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m':8"><span class="id" title="variable">m'</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn':9"><span class="id" title="variable">asn'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn':5"><span class="id" title="inductive">inv_asn'</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#b:7"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m':8"><span class="id" title="variable">m'</span></a>) (<a class="idref" href="clutch.prob_lang.notation.html#SOMEV"><span class="id" title="abbreviation">SOMEV</span></a> <a class="idref" href="clutch.prob_lang.notation.html#cc14470b8443804ba405fa710525256d"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#b:7"><span class="id" title="variable">b</span></a><a class="idref" href="clutch.prob_lang.notation.html#cc14470b8443804ba405fa710525256d"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn':9"><span class="id" title="variable">asn'</span></a><a class="idref" href="clutch.prob_lang.notation.html#cc14470b8443804ba405fa710525256d"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="inv_asn" class="idref" href="#inv_asn"><span class="id" title="definition">inv_asn</span></a> <a id="m:10" class="idref" href="#m:10"><span class="id" title="binder">m</span></a> <a id="asn:11" class="idref" href="#asn:11"><span class="id" title="binder">asn</span></a> : <span class="id" title="keyword">Prop</span> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:10"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn'"><span class="id" title="inductive">inv_asn'</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:10"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:11"><span class="id" title="variable">asn</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Set&nbsp;up&nbsp;a&nbsp;random&nbsp;assignment&nbsp;of&nbsp;n&nbsp;boolean&nbsp;variables&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="mk_init_asn'" class="idref" href="#mk_init_asn'"><span class="id" title="definition">mk_init_asn'</span></a>: <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.prob_lang.notation.html#3b4611ead68c65413f980c1d4a390696"><span class="id" title="notation">rec</span></a><a class="idref" href="clutch.prob_lang.notation.html#3b4611ead68c65413f980c1d4a390696"><span class="id" title="notation">:</span></a> "mk_asn'" "n" <a class="idref" href="clutch.prob_lang.notation.html#3b4611ead68c65413f980c1d4a390696"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a><a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a>"n" <a class="idref" href="clutch.prob_lang.notation.html#268bceb185e8402e5a254d7b9bacc674"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a>0<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob_lang.notation.html#NONE"><span class="id" title="abbreviation">NONE</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">let</span></a><a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:</span></a> "b" <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'rand'_x"><span class="id" title="notation">rand</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a>1 <a class="idref" href="clutch.prob_lang.notation.html#268bceb185e8402e5a254d7b9bacc674"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a>1<a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">let</span></a><a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:</span></a> "r" <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">(</span></a>"mk_asn'" ("n" <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a>1)<a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#SOME"><span class="id" title="abbreviation">SOME</span></a> <a class="idref" href="clutch.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">(</span></a>"b"<a class="idref" href="clutch.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">,</span></a> "r"<a class="idref" href="clutch.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">V</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="mk_init_asn" class="idref" href="#mk_init_asn"><span class="id" title="definition">mk_init_asn</span></a> : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> := (<a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">λ</span></a><a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">:</span></a> "_"<a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#mk_init_asn'"><span class="id" title="definition">mk_init_asn'</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;init_asn'&nbsp;spec&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="init_asn'_inv" class="idref" href="#init_asn'_inv"><span class="id" title="lemma">init_asn'_inv</span></a> (<a id="M:12" class="idref" href="#M:12"><span class="id" title="binder">M</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="E:13" class="idref" href="#E:13"><span class="id" title="binder">E</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">WP</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#mk_init_asn'"><span class="id" title="definition">mk_init_asn'</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#M:12"><span class="id" title="variable">M</span></a><a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#E:13"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">[{</span></a> <span class="id" title="keyword">fun</span> <a id="v':14" class="idref" href="#v':14"><span class="id" title="binder">v'</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="m:15" class="idref" href="#m:15"><span class="id" title="binder">m</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn'"><span class="id" title="inductive">inv_asn'</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:15"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v':14"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:15"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#M:12"><span class="id" title="variable">M</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a><a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">}]</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">N</span> <span class="id" title="var">HN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInduction</span> <span class="id" title="var">M</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">M'</span>] "IH".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#mk_init_asn'"><span class="id" title="definition">mk_init_asn'</span></a>; <span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iExists</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">constructor</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">simpl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#mk_init_asn'"><span class="id" title="definition">mk_init_asn'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="var">wp_pure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'rand'_x"><span class="id" title="notation">rand</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">E</span>; <span class="id" title="var">wp_apply</span> <a class="idref" href="clutch.eris.total_primitive_laws.html#twp_rand"><span class="id" title="lemma">twp_rand</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">iIntros</span> (<span class="id" title="var">b</span>) "%Hb".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="var">wp_pure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a>(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">M'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)%<span class="id" title="var">Z</span> <span class="id" title="keyword">with</span> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><span class="id" title="var">M'</span>; [| <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.RecV"><span class="id" title="constructor">RecV</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a>  <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "IH"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">asn'</span>) "[%m' (%Hm'_inv' &amp; %Hm'_len)]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iExists</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a>1)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">m'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_cons"><span class="id" title="constructor">inv_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#cons_length"><span class="id" title="definition">cons_length</span></a> <span class="id" title="var">Hm'_len</span> /=; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Evaluates&nbsp;a&nbsp;value-level&nbsp;assignment&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="eval_asn" class="idref" href="#eval_asn"><span class="id" title="definition">eval_asn</span></a> : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.prob_lang.notation.html#b655cc6b0c09a3d45e15582d945b2696"><span class="id" title="notation">rec</span></a><a class="idref" href="clutch.prob_lang.notation.html#b655cc6b0c09a3d45e15582d945b2696"><span class="id" title="notation">:</span></a> "eval_asn" "asn" "n" <a class="idref" href="clutch.prob_lang.notation.html#b655cc6b0c09a3d45e15582d945b2696"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#a5dc98fcec8b0ae0c09320eefe48d17d"><span class="id" title="notation">match</span></a><a class="idref" href="clutch.prob_lang.notation.html#a5dc98fcec8b0ae0c09320eefe48d17d"><span class="id" title="notation">:</span></a> "asn" <a class="idref" href="clutch.prob_lang.notation.html#a5dc98fcec8b0ae0c09320eefe48d17d"><span class="id" title="notation">with</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#a5dc98fcec8b0ae0c09320eefe48d17d"><span class="id" title="notation">NONE</span></a> <a class="idref" href="clutch.prob_lang.notation.html#a5dc98fcec8b0ae0c09320eefe48d17d"><span class="id" title="notation">=&gt;</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_sampler_lib.html#error"><span class="id" title="definition">error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#a5dc98fcec8b0ae0c09320eefe48d17d"><span class="id" title="notation">|</span></a> <a class="idref" href="clutch.prob_lang.notation.html#a5dc98fcec8b0ae0c09320eefe48d17d"><span class="id" title="notation">SOME</span></a> "R" <a class="idref" href="clutch.prob_lang.notation.html#a5dc98fcec8b0ae0c09320eefe48d17d"><span class="id" title="notation">=&gt;</span></a> <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a><a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a>"n" <a class="idref" href="clutch.prob_lang.notation.html#268bceb185e8402e5a254d7b9bacc674"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a>0<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Fst"><span class="id" title="constructor">Fst</span></a> "R"<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a>"eval_asn" (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Snd"><span class="id" title="constructor">Snd</span></a> "R") ("n" <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a>1)<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#a5dc98fcec8b0ae0c09320eefe48d17d"><span class="id" title="notation">end</span></a>)%<span class="id" title="var">V</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;eval_asn&nbsp;spec&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="wp_eval_asn" class="idref" href="#wp_eval_asn"><span class="id" title="definition">wp_eval_asn</span></a> <a id="m:16" class="idref" href="#m:16"><span class="id" title="binder">m</span></a> <a id="asn:17" class="idref" href="#asn:17"><span class="id" title="binder">asn</span></a> <a id="E:18" class="idref" href="#E:18"><span class="id" title="binder">E</span></a> (<a id="n:19" class="idref" href="#n:19"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#n:19"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:16"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn'"><span class="id" title="inductive">inv_asn'</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:16"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:17"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">WP</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#eval_asn"><span class="id" title="definition">eval_asn</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:17"><span class="id" title="variable">asn</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#n:19"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">E</span> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#E:18"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">[{</span></a> <span class="id" title="keyword">fun</span> <a id="v:20" class="idref" href="#v:20"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:16"><span class="id" title="variable">m</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#n:19"><span class="id" title="variable">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:20"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a><a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">}]</span></a>)%<span class="id" title="var">I</span> .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">N</span> <span class="id" title="var">HN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "%Hn %Hinv".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> (<span class="id" title="var">Hn</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> (<span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInduction</span> <span class="id" title="var">Hinv</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">b</span> <span class="id" title="var">m'</span> <span class="id" title="var">asn'</span> <span class="id" title="var">Hinv</span> <span class="id" title="var">H</span>] "IH".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> (? <span class="id" title="var">Hk</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> (<span class="id" title="var">n'</span> <span class="id" title="var">Hlen</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#eval_asn"><span class="id" title="definition">eval_asn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.id"><span class="id" title="lemma">Nat2Z.id</span></a> <span class="id" title="var">n'</span>) <span class="id" title="var">H'</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">do</span> 3 <span class="id" title="var">wp_pure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">n'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)%<span class="id" title="var">Z</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<span class="id" title="var">n'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)%<span class="id" title="var">nat</span>); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_sub"><span class="id" title="lemma">Nat2Z.inj_sub</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">Hc</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_0_l"><span class="id" title="lemma">Nat.le_0_l</span></a>; <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_eq_cases"><span class="id" title="lemma">Nat.lt_eq_cases</span></a> 0%<span class="id" title="var">nat</span> <span class="id" title="var">n'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H0</span> /= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_0"><span class="id" title="lemma">Nat2Z.inj_0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n'</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n''</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hn'</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_0"><span class="id" title="lemma">Nat2Z.inj_0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[IH]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> "IH".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#cons_length"><span class="id" title="definition">cons_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_lt_add_lt"><span class="id" title="lemma">Nat.le_lt_add_lt</span></a> 1%<span class="id" title="var">nat</span> 1%<span class="id" title="var">nat</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "%Hv"; <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#lookup_total_cons_ne_0"><span class="id" title="lemma">lookup_total_cons_ne_0</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hv</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.pred_succ"><span class="id" title="lemma">Nat.pred_succ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n''</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)%<span class="id" title="var">nat</span> <span class="id" title="keyword">with</span> <span class="id" title="var">n''</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Updates&nbsp;an&nbsp;assignment&nbsp;at&nbsp;a&nbsp;given&nbsp;location&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="update_asn" class="idref" href="#update_asn"><span class="id" title="definition">update_asn</span></a> : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.prob_lang.notation.html#b655cc6b0c09a3d45e15582d945b2696"><span class="id" title="notation">rec</span></a><a class="idref" href="clutch.prob_lang.notation.html#b655cc6b0c09a3d45e15582d945b2696"><span class="id" title="notation">:</span></a> "update_asn'" "asn" "n" "b" <a class="idref" href="clutch.prob_lang.notation.html#b655cc6b0c09a3d45e15582d945b2696"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#a5dc98fcec8b0ae0c09320eefe48d17d"><span class="id" title="notation">match</span></a><a class="idref" href="clutch.prob_lang.notation.html#a5dc98fcec8b0ae0c09320eefe48d17d"><span class="id" title="notation">:</span></a> "asn" <a class="idref" href="clutch.prob_lang.notation.html#a5dc98fcec8b0ae0c09320eefe48d17d"><span class="id" title="notation">with</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#a5dc98fcec8b0ae0c09320eefe48d17d"><span class="id" title="notation">NONE</span></a> <a class="idref" href="clutch.prob_lang.notation.html#a5dc98fcec8b0ae0c09320eefe48d17d"><span class="id" title="notation">=&gt;</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_sampler_lib.html#error"><span class="id" title="definition">error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#a5dc98fcec8b0ae0c09320eefe48d17d"><span class="id" title="notation">|</span></a> <a class="idref" href="clutch.prob_lang.notation.html#a5dc98fcec8b0ae0c09320eefe48d17d"><span class="id" title="notation">SOME</span></a> "R" <a class="idref" href="clutch.prob_lang.notation.html#a5dc98fcec8b0ae0c09320eefe48d17d"><span class="id" title="notation">=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a><a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a>"n" <a class="idref" href="clutch.prob_lang.notation.html#268bceb185e8402e5a254d7b9bacc674"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a>0<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob_lang.notation.html#SOME"><span class="id" title="abbreviation">SOME</span></a> <a class="idref" href="clutch.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">(</span></a>"b"<a class="idref" href="clutch.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Snd"><span class="id" title="constructor">Snd</span></a> "R"<a class="idref" href="clutch.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">))</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">let</span></a><a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:</span></a> "b0" <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Fst"><span class="id" title="constructor">Fst</span></a> "R"<a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">let</span></a><a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:</span></a> "r0" <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">(</span></a>"update_asn'" (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Snd"><span class="id" title="constructor">Snd</span></a> "R") ("n" <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a>1) "b"<a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#SOME"><span class="id" title="abbreviation">SOME</span></a> <a class="idref" href="clutch.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">(</span></a>"b0"<a class="idref" href="clutch.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">,</span></a> "r0"<a class="idref" href="clutch.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#a5dc98fcec8b0ae0c09320eefe48d17d"><span class="id" title="notation">end</span></a>)%<span class="id" title="var">V</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;update_asn&nbsp;spec&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="wp_update_asn" class="idref" href="#wp_update_asn"><span class="id" title="definition">wp_update_asn</span></a> <a id="m:21" class="idref" href="#m:21"><span class="id" title="binder">m</span></a> <a id="asn:22" class="idref" href="#asn:22"><span class="id" title="binder">asn</span></a> <a id="E:23" class="idref" href="#E:23"><span class="id" title="binder">E</span></a> <a id="n:24" class="idref" href="#n:24"><span class="id" title="binder">n</span></a> (<a id="b:25" class="idref" href="#b:25"><span class="id" title="binder">b</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a>(<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#n:24"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:21"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn'"><span class="id" title="inductive">inv_asn'</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:21"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:22"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">WP</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#update_asn"><span class="id" title="definition">update_asn</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:22"><span class="id" title="variable">asn</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#n:24"><span class="id" title="variable">n</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#b:25"><span class="id" title="variable">b</span></a>)%<span class="id" title="var">E</span> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#E:23"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">[{</span></a> <span class="id" title="keyword">fun</span> <a id="asn':26" class="idref" href="#asn':26"><span class="id" title="binder">asn'</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn'"><span class="id" title="inductive">inv_asn'</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#n:24"><span class="id" title="variable">n</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#b:25"><span class="id" title="variable">b</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">m</span></a>) <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn':26"><span class="id" title="variable">asn'</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a><a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">}]</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">N</span> <span class="id" title="var">HN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "%Hn %Hinv".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> (<span class="id" title="var">Hn</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> (<span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInduction</span> <span class="id" title="var">Hinv</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">b'</span> <span class="id" title="var">m'</span> <span class="id" title="var">asn'</span> <span class="id" title="var">Hinv</span> <span class="id" title="var">H</span>] "IH".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> (? <span class="id" title="var">Hk</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> (<span class="id" title="var">n'</span> <span class="id" title="var">Hlen</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#update_asn"><span class="id" title="definition">update_asn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><span class="id" title="var">n'</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><span class="id" title="var">b</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">b'</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">::</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">m'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">m'</span>); [<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_0"><span class="id" title="lemma">Nat2Z.inj_0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj"><span class="id" title="lemma">Nat2Z.inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H'</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">do</span> 6 <span class="id" title="var">wp_pure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.RecV"><span class="id" title="constructor">RecV</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">n'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)%<span class="id" title="var">Z</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<span class="id" title="var">n'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)%<span class="id" title="var">nat</span>); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_sub"><span class="id" title="lemma">Nat2Z.inj_sub</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">Hc</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_0_l"><span class="id" title="lemma">Nat.le_0_l</span></a>; <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_eq_cases"><span class="id" title="lemma">Nat.lt_eq_cases</span></a> 0%<span class="id" title="var">nat</span> <span class="id" title="var">n'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H0</span> /= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_0"><span class="id" title="lemma">Nat2Z.inj_0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[IH]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> "IH".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#cons_length"><span class="id" title="definition">cons_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_lt_add_lt"><span class="id" title="lemma">Nat.le_lt_add_lt</span></a> 1%<span class="id" title="var">nat</span> 1%<span class="id" title="var">nat</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_add"><span class="id" title="lemma">Nat.sub_add</span></a>; [<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n'</span>; [|<span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "%Hv".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">n'</span>)%<span class="id" title="var">nat</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="var">n'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1))%<span class="id" title="var">nat</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">n'</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
3SAT formulas 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="Polarity" class="idref" href="#Polarity"><span class="id" title="definition, inductive"><span id="Polarity_rect" class="id"><span id="Polarity_ind" class="id"><span id="Polarity_rec" class="id"><span id="Polarity_sind" class="id">Polarity</span></span></span></span></span></a> := <a id="Pos" class="idref" href="#Pos"><span class="id" title="constructor">Pos</span></a> | <a id="Neg" class="idref" href="#Neg"><span class="id" title="constructor">Neg</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="clause" class="idref" href="#clause"><span class="id" title="definition, inductive"><span id="clause_rect" class="id"><span id="clause_ind" class="id"><span id="clause_rec" class="id"><span id="clause_sind" class="id">clause</span></span></span></span></span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a id="ClauseV" class="idref" href="#ClauseV"><span class="id" title="constructor">ClauseV</span></a> (<a id="e1:33" class="idref" href="#e1:33"><span class="id" title="binder">e1</span></a> <a id="e2:34" class="idref" href="#e2:34"><span class="id" title="binder">e2</span></a> <a id="e3:35" class="idref" href="#e3:35"><span class="id" title="binder">e3</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar:30"><span class="id" title="inductive">fVar</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> <a id="fVar" class="idref" href="#fVar"><span class="id" title="definition, inductive"><span id="fVar_rect" class="id"><span id="fVar_ind" class="id"><span id="fVar_rec" class="id"><span id="fVar_sind" class="id">fVar</span></span></span></span></span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a id="FvarV" class="idref" href="#FvarV"><span class="id" title="constructor">FvarV</span></a> (<a id="p:36" class="idref" href="#p:36"><span class="id" title="binder">p</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#Polarity"><span class="id" title="inductive">Polarity</span></a>) (<a id="n:37" class="idref" href="#n:37"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="nwf:38" class="idref" href="#nwf:38"><span class="id" title="binder">nwf</span></a> : (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#n:37"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a>)%<span class="id" title="var">nat</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="formula" class="idref" href="#formula"><span class="id" title="definition">formula</span></a> : <span class="id" title="keyword">Type</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause"><span class="id" title="inductive">clause</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="fVar_index" class="idref" href="#fVar_index"><span class="id" title="definition">fVar_index</span></a> (<a id="v:39" class="idref" href="#v:39"><span class="id" title="binder">v</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar"><span class="id" title="inductive">fVar</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:39"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#FvarV"><span class="id" title="constructor">FvarV</span></a> <span class="id" title="var">_</span> <span class="id" title="var">n</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="fVar_in_clause" class="idref" href="#fVar_in_clause"><span class="id" title="definition">fVar_in_clause</span></a> (<a id="v:41" class="idref" href="#v:41"><span class="id" title="binder">v</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar"><span class="id" title="inductive">fVar</span></a>) (<a id="c:42" class="idref" href="#c:42"><span class="id" title="binder">c</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause"><span class="id" title="inductive">clause</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.wp_tactics.html#wptac_mapsto"><span class="id" title="method">match</span></a> <a class="idref" href="clutch.prob_lang.wp_tactics.html#wptac_mapsto"><span class="id" title="method">c</span></a> <a class="idref" href="clutch.prob_lang.wp_tactics.html#wptac_mapsto"><span class="id" title="method">with</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#ClauseV"><span class="id" title="constructor">ClauseV</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">e3</span>  =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:41"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">e1</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:41"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">e2</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:41"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">e3</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="index_in_clause" class="idref" href="#index_in_clause"><span class="id" title="definition">index_in_clause</span></a> (<a id="n:44" class="idref" href="#n:44"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="c:45" class="idref" href="#c:45"><span class="id" title="binder">c</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause"><span class="id" title="inductive">clause</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:45"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#ClauseV"><span class="id" title="constructor">ClauseV</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">e3</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#n:44"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar_index"><span class="id" title="definition">fVar_index</span></a> <span class="id" title="var">e1</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#n:44"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar_index"><span class="id" title="definition">fVar_index</span></a> <span class="id" title="var">e1</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#n:44"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar_index"><span class="id" title="definition">fVar_index</span></a> <span class="id" title="var">e1</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="proj_clause_value" class="idref" href="#proj_clause_value"><span class="id" title="definition">proj_clause_value</span></a> (<a id="c:47" class="idref" href="#c:47"><span class="id" title="binder">c</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause"><span class="id" title="inductive">clause</span></a>) (<a id="target:48" class="idref" href="#target:48"><span class="id" title="binder">target</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> 3) : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar"><span class="id" title="inductive">fVar</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:47"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#ClauseV"><span class="id" title="constructor">ClauseV</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">e3</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#target:48"><span class="id" title="variable">target</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">(</span></a>0%<span class="id" title="var">fin</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> 3<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">nat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">e1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#target:48"><span class="id" title="variable">target</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">(</span></a>1%<span class="id" title="var">fin</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> 3<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">nat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">e2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <span class="id" title="var">e3</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Coq-level formula evaluation 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="fvar_SAT" class="idref" href="#fvar_SAT"><span class="id" title="definition">fvar_SAT</span></a> (<a id="m:50" class="idref" href="#m:50"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="v:51" class="idref" href="#v:51"><span class="id" title="binder">v</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar"><span class="id" title="inductive">fVar</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:51"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#FvarV"><span class="id" title="constructor">FvarV</span></a> <span class="id" title="var">p</span> <span class="id" title="var">n</span> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">p</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#Pos"><span class="id" title="constructor">Pos</span></a> =&gt; (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:50"><span class="id" title="variable">m</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#Neg"><span class="id" title="constructor">Neg</span></a> =&gt; (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:50"><span class="id" title="variable">m</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <span class="id" title="var">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="clause_SAT" class="idref" href="#clause_SAT"><span class="id" title="definition">clause_SAT</span></a> (<a id="m:54" class="idref" href="#m:54"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="c:55" class="idref" href="#c:55"><span class="id" title="binder">c</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause"><span class="id" title="inductive">clause</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:55"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#ClauseV"><span class="id" title="constructor">ClauseV</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">e3</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fvar_SAT"><span class="id" title="definition">fvar_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:54"><span class="id" title="variable">m</span></a> <span class="id" title="var">e1</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fvar_SAT"><span class="id" title="definition">fvar_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:54"><span class="id" title="variable">m</span></a> <span class="id" title="var">e2</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fvar_SAT"><span class="id" title="definition">fvar_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:54"><span class="id" title="variable">m</span></a> <span class="id" title="var">e3</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="formula_SAT" class="idref" href="#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> (<a id="m:57" class="idref" href="#m:57"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="f:58" class="idref" href="#f:58"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula"><span class="id" title="definition">formula</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="l:60" class="idref" href="#l:60"><span class="id" title="binder">l</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#andb"><span class="id" title="definition">andb</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:60"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="c:59" class="idref" href="#c:59"><span class="id" title="binder">c</span></a> =&gt; <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause_SAT"><span class="id" title="definition">clause_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:57"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:59"><span class="id" title="variable">c</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:58"><span class="id" title="variable">f</span></a>.<br/>

<br/>
</div>

<div class="doc">
Lemmas about the existence of progress 
</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*&nbsp;If&nbsp;there&nbsp;exists&nbsp;a&nbsp;solution&nbsp;to&nbsp;the&nbsp;clause,&nbsp;and&nbsp;an&nbsp;assignment&nbsp;is&nbsp;UNSAT,&nbsp;the&nbsp;assignment<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;differs&nbsp;from&nbsp;the&nbsp;solution&nbsp;in&nbsp;at&nbsp;least&nbsp;one&nbsp;variable&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="progress_is_possible_clause" class="idref" href="#progress_is_possible_clause"><span class="id" title="lemma">progress_is_possible_clause</span></a> (<a id="c:61" class="idref" href="#c:61"><span class="id" title="binder">c</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause"><span class="id" title="inductive">clause</span></a>) (<a id="m:62" class="idref" href="#m:62"><span class="id" title="binder">m</span></a> <a id="solution:63" class="idref" href="#solution:63"><span class="id" title="binder">solution</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause_SAT"><span class="id" title="definition">clause_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:63"><span class="id" title="variable">solution</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:61"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause_SAT"><span class="id" title="definition">clause_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:62"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:61"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="v:64" class="idref" href="#v:64"><span class="id" title="binder">v</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar"><span class="id" title="inductive">fVar</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar_in_clause"><span class="id" title="definition">fVar_in_clause</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:64"><span class="id" title="variable">v</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:61"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:62"><span class="id" title="variable">m</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar_index"><span class="id" title="definition">fVar_index</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:64"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:63"><span class="id" title="variable">solution</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar_index"><span class="id" title="definition">fVar_index</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:64"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">)</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsat</span> <span class="id" title="var">Hunsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">e3</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause_SAT"><span class="id" title="definition">clause_SAT</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hsat</span>, <span class="id" title="var">Hunsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#orb_false_elim"><span class="id" title="lemma">orb_false_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunsat</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hunsat'</span> <span class="id" title="var">He3</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#orb_false_elim"><span class="id" title="lemma">orb_false_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunsat'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">He1</span> <span class="id" title="var">He2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#orb_prop"><span class="id" title="lemma">orb_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsat</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsat'</span>|<span class="id" title="var">Hsat</span>]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#orb_prop"><span class="id" title="lemma">orb_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsat'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsat</span>|<span class="id" title="var">Hsat</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">e1</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">n</span> <span class="id" title="var">nwf</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsat</span>, <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsat</span> <span class="id" title="var">He1</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsat</span>, <span class="id" title="var">He1</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#negb_involutive"><span class="id" title="lemma">negb_involutive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsat</span> <span class="id" title="var">He1</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">e2</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">right</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">n</span> <span class="id" title="var">nwf</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsat</span>, <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsat</span> <span class="id" title="var">He2</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsat</span>, <span class="id" title="var">He2</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#negb_involutive"><span class="id" title="lemma">negb_involutive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsat</span> <span class="id" title="var">He2</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">e3</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">right</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e3</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">n</span> <span class="id" title="var">nwf</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsat</span>, <span class="id" title="var">He3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsat</span> <span class="id" title="var">He3</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsat</span>, <span class="id" title="var">He3</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#negb_involutive"><span class="id" title="lemma">negb_involutive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsat</span> <span class="id" title="var">He3</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Transform&nbsp;a&nbsp;fvar&nbsp;into&nbsp;a&nbsp;value&nbsp;which&nbsp;the&nbsp;resampler&nbsp;can&nbsp;sample&nbsp;against&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reflect_progress_to_target" class="idref" href="#reflect_progress_to_target"><span class="id" title="lemma">reflect_progress_to_target</span></a> (<a id="v:65" class="idref" href="#v:65"><span class="id" title="binder">v</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar"><span class="id" title="inductive">fVar</span></a>) (<a id="c:66" class="idref" href="#c:66"><span class="id" title="binder">c</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause"><span class="id" title="inductive">clause</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar_in_clause"><span class="id" title="definition">fVar_in_clause</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:65"><span class="id" title="variable">v</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:66"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="s:67" class="idref" href="#s:67"><span class="id" title="binder">s</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> 3<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#proj_clause_value"><span class="id" title="definition">proj_clause_value</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:66"><span class="id" title="variable">c</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#s:67"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:65"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">e3</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|[<span class="id" title="var">H</span>|<span class="id" title="var">H</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> 0%<span class="id" title="var">fin</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> 1%<span class="id" title="var">fin</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> 2%<span class="id" title="var">fin</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Obtains&nbsp;the&nbsp;first&nbsp;UNSAT&nbsp;clause;&nbsp;the&nbsp;resampler&nbsp;will&nbsp;resample&nbsp;inside&nbsp;this&nbsp;clause&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="find_progress" class="idref" href="#find_progress"><span class="id" title="lemma">find_progress</span></a> <a id="m:68" class="idref" href="#m:68"><span class="id" title="binder">m</span></a> <a id="f:69" class="idref" href="#f:69"><span class="id" title="binder">f</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:68"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:69"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="f1:70" class="idref" href="#f1:70"><span class="id" title="binder">f1</span></a> <a id="f2:71" class="idref" href="#f2:71"><span class="id" title="binder">f2</span></a> <a id="c:72" class="idref" href="#c:72"><span class="id" title="binder">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:69"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f1:70"><span class="id" title="variable">f1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:72"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f2:71"><span class="id" title="variable">f2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="c':73" class="idref" href="#c':73"><span class="id" title="binder">c'</span></a> =&gt; <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause_SAT"><span class="id" title="definition">clause_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:68"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c':73"><span class="id" title="variable">c'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f1:70"><span class="id" title="variable">f1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause_SAT"><span class="id" title="definition">clause_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:68"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:72"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hunsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">f</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">c</span> <span class="id" title="var">f'</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hunsat</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause_SAT"><span class="id" title="definition">clause_SAT</span></a> <span class="id" title="var">m</span> <span class="id" title="var">c</span>) <span class="id" title="keyword">as</span> [|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hunsat'</span> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <span class="id" title="var">m</span> <span class="id" title="var">f'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*&nbsp;true&nbsp;b/c&nbsp;clause_SAT&nbsp;m&nbsp;c&nbsp;is&nbsp;true&nbsp;(another&nbsp;fold&nbsp;commuting&nbsp;problem)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#fold_symmetric"><span class="id" title="lemma">fold_symmetric</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#andb_assoc"><span class="id" title="lemma">andb_assoc</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hunsat</span>; [|<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#andb_comm"><span class="id" title="lemma">andb_comm</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#fmap_cons"><span class="id" title="definition">fmap_cons</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hunsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#andb_false_iff"><span class="id" title="lemma">andb_false_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunsat</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hunsat</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> | <span class="id" title="var">H</span>]; [<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#fold_symmetric"><span class="id" title="lemma">fold_symmetric</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#andb_assoc"><span class="id" title="lemma">andb_assoc</span></a>); [|<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#andb_comm"><span class="id" title="lemma">andb_comm</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IH</span> <span class="id" title="var">Hunsat'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">f1</span> [<span class="id" title="var">f2</span> [<span class="id" title="var">c'</span> (<span class="id" title="var">H</span> &amp; <span class="id" title="var">Hf1</span> &amp; <span class="id" title="var">Hc'</span>)]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">f1</span>), <span class="id" title="var">f2</span>, <span class="id" title="var">c'</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#Forall_cons_2"><span class="id" title="definition">Forall_cons_2</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hc</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">Hc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>, <span class="id" title="var">f'</span>, <span class="id" title="var">c</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#Forall_nil_2"><span class="id" title="definition">Forall_nil_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Progress measurement 
</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*&nbsp;Hamming&nbsp;distance&nbsp;to&nbsp;some&nbsp;fixed&nbsp;solution&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="progress_measure" class="idref" href="#progress_measure"><span class="id" title="definition">progress_measure</span></a> (<a id="f:74" class="idref" href="#f:74"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula"><span class="id" title="definition">formula</span></a>) (<a id="m:75" class="idref" href="#m:75"><span class="id" title="binder">m</span></a> <a id="solution:76" class="idref" href="#solution:76"><span class="id" title="binder">solution</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add"><span class="id" title="definition">Nat.add</span></a> 0%<span class="id" title="var">nat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="p:77" class="idref" href="#p:77"><span class="id" title="binder">p</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#p:77"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span> | <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#eqb"><span class="id" title="definition">eqb</span></a> <span class="id" title="var">s</span> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 0%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 1%<span class="id" title="var">nat</span> <span class="id" title="keyword">end</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#zip"><span class="id" title="abbreviation">zip</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:75"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:76"><span class="id" title="variable">solution</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">)</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Hamming&nbsp;distance&nbsp;0&nbsp;-&gt;&nbsp;assignments&nbsp;are&nbsp;equal&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="progress_complete" class="idref" href="#progress_complete"><span class="id" title="lemma">progress_complete</span></a> <a id="f:79" class="idref" href="#f:79"><span class="id" title="binder">f</span></a> <a id="m:80" class="idref" href="#m:80"><span class="id" title="binder">m</span></a> <a id="solution:81" class="idref" href="#solution:81"><span class="id" title="binder">solution</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:80"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:81"><span class="id" title="variable">solution</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#progress_measure"><span class="id" title="definition">progress_measure</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:79"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:80"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:81"><span class="id" title="variable">solution</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0%<span class="id" title="var">nat</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:80"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:81"><span class="id" title="variable">solution</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">solution</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">m0</span> <span class="id" title="var">ms</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">solution</span> <span class="id" title="var">Hl</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">solution</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>; <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">solution</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">solution</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">s0</span> <span class="id" title="var">ss</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>; <span class="id" title="tactic">discriminate</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#progress_measure"><span class="id" title="definition">progress_measure</span></a> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.eq_add_0"><span class="id" title="lemma">Nat.eq_add_0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hp</span> <span class="id" title="var">Hhp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#eqb_eq"><span class="id" title="lemma">eqb_eq</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#eqb"><span class="id" title="definition">eqb</span></a> <span class="id" title="var">m0</span> <span class="id" title="var">s0</span>); [<span class="id" title="var">done</span>|<span class="id" title="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#cons_length"><span class="id" title="definition">cons_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#progress_measure"><span class="id" title="definition">progress_measure</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="worst_progress_bound" class="idref" href="#worst_progress_bound"><span class="id" title="lemma">worst_progress_bound</span></a> <a id="f:82" class="idref" href="#f:82"><span class="id" title="binder">f</span></a> <a id="m:83" class="idref" href="#m:83"><span class="id" title="binder">m</span></a> <a id="solution:84" class="idref" href="#solution:84"><span class="id" title="binder">solution</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:83"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:84"><span class="id" title="variable">solution</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#progress_measure"><span class="id" title="definition">progress_measure</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:82"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:83"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:84"><span class="id" title="variable">solution</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:84"><span class="id" title="variable">solution</span></a>)%<span class="id" title="var">nat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">solution</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">m0</span> <span class="id" title="var">ms</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">solution</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#nil_length_inv"><span class="id" title="lemma">nil_length_inv</span></a> <span class="id" title="var">solution</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#progress_measure"><span class="id" title="definition">progress_measure</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">solution</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">solution</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">s0</span> <span class="id" title="var">ss</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{  <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">discriminate</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#progress_measure"><span class="id" title="definition">progress_measure</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">ss</span>))%<span class="id" title="var">nat</span> <span class="id" title="keyword">with</span> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">ss</span>)%<span class="id" title="var">nat</span>; [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">simpl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_le_mono"><span class="id" title="lemma">Nat.add_le_mono</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#eqb"><span class="id" title="definition">eqb</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Flipping&nbsp;a&nbsp;variable&nbsp;which&nbsp;is&nbsp;different&nbsp;to&nbsp;the&nbsp;solution&nbsp;decreases&nbsp;the&nbsp;Hamming&nbsp;distance&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="flip_makes_progress" class="idref" href="#flip_makes_progress"><span class="id" title="lemma">flip_makes_progress</span></a> <a id="f:85" class="idref" href="#f:85"><span class="id" title="binder">f</span></a> (<a id="m:86" class="idref" href="#m:86"><span class="id" title="binder">m</span></a> <a id="solution:87" class="idref" href="#solution:87"><span class="id" title="binder">solution</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="v:88" class="idref" href="#v:88"><span class="id" title="binder">v</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar"><span class="id" title="inductive">fVar</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:86"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:87"><span class="id" title="variable">solution</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar_index"><span class="id" title="definition">fVar_index</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:88"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:86"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:86"><span class="id" title="variable">m</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar_index"><span class="id" title="definition">fVar_index</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:88"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:87"><span class="id" title="variable">solution</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar_index"><span class="id" title="definition">fVar_index</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:88"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">)</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#progress_measure"><span class="id" title="definition">progress_measure</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:85"><span class="id" title="variable">f</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar_index"><span class="id" title="definition">fVar_index</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:88"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:86"><span class="id" title="variable">m</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar_index"><span class="id" title="definition">fVar_index</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:88"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">)</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">m</span></a> ) <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:87"><span class="id" title="variable">solution</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#progress_measure"><span class="id" title="definition">progress_measure</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:85"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:86"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:87"><span class="id" title="variable">solution</span></a>)%<span class="id" title="var">nat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hm_d</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="n:89" class="idref" href="#n:89"><span class="id" title="binder"><span id="n:93" class="id">n</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#n:89"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">m</span>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="m1:90" class="idref" href="#m1:90"><span class="id" title="binder"><span id="m1:94" class="id">m1</span></span></a> <a id="x:91" class="idref" href="#x:91"><span class="id" title="binder"><span id="x:95" class="id">x</span></span></a> <a id="m2:92" class="idref" href="#m2:92"><span class="id" title="binder"><span id="m2:96" class="id">m2</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m1:90"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#x:91"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m2:92"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m1:90"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#n:89"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#drop"><span class="id" title="abbreviation">drop</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">d0</span> <span class="id" title="var">ds</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hdrop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HK</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#drop"><span class="id" title="abbreviation">drop</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span>)%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#drop_length"><span class="id" title="lemma">drop_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdrop</span> /= <span class="id" title="tactic">in</span> <span class="id" title="var">HK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#take"><span class="id" title="abbreviation">take</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span>), <span class="id" title="var">d0</span>, <span class="id" title="var">ds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#take_length_le"><span class="id" title="lemma">take_length_le</span></a>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{1}(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#take_drop"><span class="id" title="definition">take_drop</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#app_inv_head_iff"><span class="id" title="lemma">app_inv_head_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span>  (<span class="id" title="var">Hm_d</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">m1</span> [<span class="id" title="var">x</span> [<span class="id" title="var">m2</span> [-&gt; <span class="id" title="var">Hm</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_lookup_total_middle"><span class="id" title="lemma">list_lookup_total_middle</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; [|<span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_lookup_total_middle"><span class="id" title="lemma">list_lookup_total_middle</span></a>; [|<span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hm_d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">solution</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m1</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">m1'</span> <span class="id" title="var">m1's</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#progress_measure"><span class="id" title="definition">progress_measure</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">solution</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">s0</span> <span class="id" title="var">ss</span>]; [<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">s0</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#progress_measure"><span class="id" title="definition">progress_measure</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">solution</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">s0</span> <span class="id" title="var">ss</span>]; [<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_lt_mono_l"><span class="id" title="lemma">Nat.add_lt_mono_l</span></a>, <span class="id" title="var">IH</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Value-level formula evaluation 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Evaluate&nbsp;a&nbsp;single&nbsp;fVar&nbsp;against&nbsp;a&nbsp;value-level&nbsp;assignment&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="evaluate_fvar" class="idref" href="#evaluate_fvar"><span class="id" title="definition">evaluate_fvar</span></a> (<a id="f:97" class="idref" href="#f:97"><span class="id" title="binder">f</span></a>: <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar"><span class="id" title="inductive">fVar</span></a>) : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">λ</span></a><a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">:</span></a> "asn"<a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:97"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#FvarV"><span class="id" title="constructor">FvarV</span></a> <span class="id" title="var">p</span> <span class="id" title="var">n</span> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">let</span></a><a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:</span></a> "b" <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#eval_asn"><span class="id" title="definition">eval_asn</span></a> "asn" <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><span class="id" title="var">n</span><a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">p</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#Pos"><span class="id" title="constructor">Pos</span></a> =&gt; "b"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#Neg"><span class="id" title="constructor">Neg</span></a> =&gt; <a class="idref" href="clutch.prob_lang.notation.html#248e4724632d387f5b93ebbd08ad48f7"><span class="id" title="notation">~</span></a>"b"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;evaluate_fvar&nbsp;spec*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wp_evaluate_fvar" class="idref" href="#wp_evaluate_fvar"><span class="id" title="lemma">wp_evaluate_fvar</span></a> <a id="l:100" class="idref" href="#l:100"><span class="id" title="binder">l</span></a> <a id="asn:101" class="idref" href="#asn:101"><span class="id" title="binder">asn</span></a> <a id="m:102" class="idref" href="#m:102"><span class="id" title="binder">m</span></a> <a id="v:103" class="idref" href="#v:103"><span class="id" title="binder">v</span></a> <a id="E:104" class="idref" href="#E:104"><span class="id" title="binder">E</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn"><span class="id" title="definition">inv_asn</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:102"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:101"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:100"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.eris.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:101"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">WP</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#evaluate_fvar"><span class="id" title="definition">evaluate_fvar</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:103"><span class="id" title="variable">v</span></a>) <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:101"><span class="id" title="variable">asn</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#E:104"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">[{</span></a> <span class="id" title="keyword">fun</span> <a id="v':105" class="idref" href="#v':105"><span class="id" title="binder">v'</span></a> =&gt; <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:100"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.eris.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:101"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v':105"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fvar_SAT"><span class="id" title="definition">fvar_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:102"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:103"><span class="id" title="variable">v</span></a><a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">}]</span></a> )%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "%Hinv Hl".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">v</span> <span class="id" title="var">vwf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#evaluate_fvar"><span class="id" title="definition">evaluate_fvar</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#eval_asn"><span class="id" title="definition">eval_asn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)%<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_eval_asn"><span class="id" title="definition">wp_eval_asn</span></a>; <span class="id" title="var">iPureIntro</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn"><span class="id" title="definition">inv_asn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinv</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">b</span>) "&lt;-".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">wp_pures</span>; <span class="id" title="var">iModIntro</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Evaluate&nbsp;a&nbsp;clause&nbsp;against&nbsp;a&nbsp;value-level&nbsp;assignment&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="evaluate_clause" class="idref" href="#evaluate_clause"><span class="id" title="definition">evaluate_clause</span></a> (<a id="c:106" class="idref" href="#c:106"><span class="id" title="binder">c</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause"><span class="id" title="inductive">clause</span></a>) : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">λ</span></a><a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">:</span></a> "asn"<a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:106"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#ClauseV"><span class="id" title="constructor">ClauseV</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">e3</span> =&gt; (<a class="idref" href="clutch.prob_lang.notation.html#effd9cd5293dd8d8a5b615e18241ea27"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#evaluate_fvar"><span class="id" title="definition">evaluate_fvar</span></a> <span class="id" title="var">e1</span> "asn"<a class="idref" href="clutch.prob_lang.notation.html#effd9cd5293dd8d8a5b615e18241ea27"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob_lang.notation.html#effd9cd5293dd8d8a5b615e18241ea27"><span class="id" title="notation">||</span></a> <a class="idref" href="clutch.prob_lang.notation.html#effd9cd5293dd8d8a5b615e18241ea27"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#evaluate_fvar"><span class="id" title="definition">evaluate_fvar</span></a> <span class="id" title="var">e2</span> "asn"<a class="idref" href="clutch.prob_lang.notation.html#effd9cd5293dd8d8a5b615e18241ea27"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob_lang.notation.html#effd9cd5293dd8d8a5b615e18241ea27"><span class="id" title="notation">||</span></a> <a class="idref" href="clutch.prob_lang.notation.html#effd9cd5293dd8d8a5b615e18241ea27"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#evaluate_fvar"><span class="id" title="definition">evaluate_fvar</span></a> <span class="id" title="var">e3</span> "asn"<a class="idref" href="clutch.prob_lang.notation.html#effd9cd5293dd8d8a5b615e18241ea27"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)%<span class="id" title="var">V</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;evaluate_clause&nbsp;spec&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wp_evaluate_clause" class="idref" href="#wp_evaluate_clause"><span class="id" title="lemma">wp_evaluate_clause</span></a> <a id="l:108" class="idref" href="#l:108"><span class="id" title="binder">l</span></a> <a id="asn:109" class="idref" href="#asn:109"><span class="id" title="binder">asn</span></a> <a id="m:110" class="idref" href="#m:110"><span class="id" title="binder">m</span></a> <a id="c:111" class="idref" href="#c:111"><span class="id" title="binder">c</span></a> <a id="E:112" class="idref" href="#E:112"><span class="id" title="binder">E</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn"><span class="id" title="definition">inv_asn</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:110"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:109"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:108"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.eris.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:109"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">WP</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#evaluate_clause"><span class="id" title="definition">evaluate_clause</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:111"><span class="id" title="variable">c</span></a>) <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:109"><span class="id" title="variable">asn</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#E:112"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">[{</span></a> <span class="id" title="keyword">fun</span> <a id="v:113" class="idref" href="#v:113"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:108"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.eris.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:109"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:113"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause_SAT"><span class="id" title="definition">clause_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:110"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:111"><span class="id" title="variable">c</span></a><a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">}]</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "%Hinv Hl".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">e3</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#evaluate_clause"><span class="id" title="definition">evaluate_clause</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#evaluate_fvar"><span class="id" title="definition">evaluate_fvar</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hl]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_evaluate_fvar"><span class="id" title="lemma">wp_evaluate_fvar</span></a>; [<span class="id" title="tactic">eauto</span>|<span class="id" title="var">iFrame</span>]. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">s1</span>) "(Hl&amp;%Hs1)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fvar_SAT"><span class="id" title="definition">fvar_SAT</span></a> <span class="id" title="var">m</span> <span class="id" title="var">e1</span>) <span class="id" title="keyword">as</span> [|] <span class="id" title="var">eqn</span>:<span class="id" title="var">HeqS1</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hs1</span>; <span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iModIntro</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqS1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#evaluate_fvar"><span class="id" title="definition">evaluate_fvar</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hl]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_evaluate_fvar"><span class="id" title="lemma">wp_evaluate_fvar</span></a>; [<span class="id" title="tactic">eauto</span>|<span class="id" title="var">iFrame</span>]. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">s2</span>) "(Hl&amp;%Hs2)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fvar_SAT"><span class="id" title="definition">fvar_SAT</span></a> <span class="id" title="var">m</span> <span class="id" title="var">e2</span>) <span class="id" title="keyword">as</span> [|] <span class="id" title="var">eqn</span>:<span class="id" title="var">HeqS2</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hs2</span>; <span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iModIntro</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqS2</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#orb_true_r"><span class="id" title="lemma">orb_true_r</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hl]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_evaluate_fvar"><span class="id" title="lemma">wp_evaluate_fvar</span></a>; [<span class="id" title="tactic">eauto</span>|<span class="id" title="var">iFrame</span>]. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">s3</span>) "(Hl&amp;%Hs3)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fvar_SAT"><span class="id" title="definition">fvar_SAT</span></a> <span class="id" title="var">m</span> <span class="id" title="var">e3</span>) <span class="id" title="keyword">as</span> [|] <span class="id" title="var">eqn</span>:<span class="id" title="var">HeqS3</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hs3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iFrame</span>; <span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqS3</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#orb_true_r"><span class="id" title="lemma">orb_true_r</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>; <span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= <span class="id" title="var">HeqS1</span> <span class="id" title="var">HeqS2</span> <span class="id" title="var">HeqS3</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
WALKSAT (simplified version): Find the first UNSAT clause and flip a random variable inside it 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Helper&nbsp;function:&nbsp;turn&nbsp;a&nbsp;sampled&nbsp;index&nbsp;within&nbsp;a&nbsp;clause&nbsp;(1,&nbsp;2,&nbsp;3)&nbsp;into&nbsp;the&nbsp;corresponding&nbsp;fVar&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="clause_to_index" class="idref" href="#clause_to_index"><span class="id" title="definition">clause_to_index</span></a> (<a id="c:114" class="idref" href="#c:114"><span class="id" title="binder">c</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause"><span class="id" title="inductive">clause</span></a>) : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">λ</span></a><a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">:</span></a> "i"<a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:114"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#ClauseV"><span class="id" title="constructor">ClauseV</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">e3</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a><a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a>"i" <a class="idref" href="clutch.prob_lang.notation.html#268bceb185e8402e5a254d7b9bacc674"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a>0<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar_index"><span class="id" title="definition">fVar_index</span></a> <span class="id" title="var">e1</span><a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a><a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a>"i" <a class="idref" href="clutch.prob_lang.notation.html#268bceb185e8402e5a254d7b9bacc674"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a>1<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar_index"><span class="id" title="definition">fVar_index</span></a> <span class="id" title="var">e2</span><a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar_index"><span class="id" title="definition">fVar_index</span></a> <span class="id" title="var">e3</span><a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">E</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)%<span class="id" title="var">V</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;selects&nbsp;a&nbsp;variable&nbsp;references&nbsp;in&nbsp;the&nbsp;clause,&nbsp;and&nbsp;flips&nbsp;it&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="resample_clause" class="idref" href="#resample_clause"><span class="id" title="definition">resample_clause</span></a> (<a id="c:116" class="idref" href="#c:116"><span class="id" title="binder">c</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause"><span class="id" title="inductive">clause</span></a>) : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">λ</span></a><a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">:</span></a> "l"<a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">let</span></a><a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:</span></a> "asn" <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob_lang.notation.html#569b74bc432a2b233b93ae1b45418e26"><span class="id" title="notation">!</span></a> "l"<a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">let</span></a><a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:</span></a> "n" <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause_to_index"><span class="id" title="definition">clause_to_index</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:116"><span class="id" title="variable">c</span></a> (<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'rand'_x"><span class="id" title="notation">rand</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a>2) <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">let</span></a><a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:</span></a> "b" <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#eval_asn"><span class="id" title="definition">eval_asn</span></a> "asn" "n" <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"l" <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:x_'&lt;-'_x"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:x_'&lt;-'_x"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#update_asn"><span class="id" title="definition">update_asn</span></a> "asn" "n" (<a class="idref" href="clutch.prob_lang.notation.html#248e4724632d387f5b93ebbd08ad48f7"><span class="id" title="notation">~</span></a> "b")<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:x_'&lt;-'_x"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">V</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="sampler" class="idref" href="#sampler"><span class="id" title="definition">sampler</span></a> (<a id="f:117" class="idref" href="#f:117"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula"><span class="id" title="definition">formula</span></a>) : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">λ</span></a><a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">:</span></a> "asnV"<a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:117"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.prob_lang.notation.html#3127c6bc552ca21a494fc6e3474a507d"><span class="id" title="notation">()</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">cs</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a><a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">:</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#evaluate_clause"><span class="id" title="definition">evaluate_clause</span></a> <span class="id" title="var">c</span>) (<a class="idref" href="clutch.prob_lang.notation.html#569b74bc432a2b233b93ae1b45418e26"><span class="id" title="notation">!</span></a> "asnV")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#sampler:118"><span class="id" title="definition">sampler</span></a> <span class="id" title="var">cs</span>) "asnV"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#resample_clause"><span class="id" title="definition">resample_clause</span></a> <span class="id" title="var">c</span>) "asnV"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)%<span class="id" title="var">V</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="checker" class="idref" href="#checker"><span class="id" title="definition">checker</span></a> (<a id="f:120" class="idref" href="#f:120"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula"><span class="id" title="definition">formula</span></a>) : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">λ</span></a><a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">:</span></a> "asnV"<a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:120"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">cs</span>) =&gt; <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#evaluate_clause"><span class="id" title="definition">evaluate_clause</span></a> <span class="id" title="var">c</span> (<a class="idref" href="clutch.prob_lang.notation.html#569b74bc432a2b233b93ae1b45418e26"><span class="id" title="notation">!</span></a> "asnV")<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#checker:121"><span class="id" title="definition">checker</span></a> <span class="id" title="var">cs</span> "asnV"<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;spec&nbsp;for&nbsp;helper&nbsp;lemma&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wp_clause_to_index" class="idref" href="#wp_clause_to_index"><span class="id" title="lemma">wp_clause_to_index</span></a> (<a id="c:123" class="idref" href="#c:123"><span class="id" title="binder">c</span></a>: <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause"><span class="id" title="inductive">clause</span></a>) (<a id="target:124" class="idref" href="#target:124"><span class="id" title="binder">target</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> 3) <a id="E:125" class="idref" href="#E:125"><span class="id" title="binder">E</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> (<a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">WP</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause_to_index"><span class="id" title="definition">clause_to_index</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:123"><span class="id" title="variable">c</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#target:124"><span class="id" title="variable">target</span></a>)%<span class="id" title="var">E</span> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#E:125"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">[{</span></a> <span class="id" title="keyword">fun</span> <a id="i:126" class="idref" href="#i:126"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#i:126"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar_index"><span class="id" title="definition">fVar_index</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#proj_clause_value"><span class="id" title="definition">proj_clause_value</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:123"><span class="id" title="variable">c</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#target:124"><span class="id" title="variable">target</span></a>)<a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">}]</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iStartProof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#proj_clause_value"><span class="id" title="definition">proj_clause_value</span></a>/<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause_to_index"><span class="id" title="definition">clause_to_index</span></a> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#proj_clause_value"><span class="id" title="definition">proj_clause_value</span></a> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar_index"><span class="id" title="definition">fVar_index</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">target</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">wp_pures</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">target</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">wp_pures</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_false"><span class="id" title="abbreviation">bool_decide_false</span></a>); <span class="id" title="tactic">first</span> (<span class="id" title="var">wp_pures</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hk</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hk</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Accounting specific to this example 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;need&nbsp;to&nbsp;keep&nbsp;some&nbsp;amount&nbsp;of&nbsp;credit&nbsp;inside&nbsp;the&nbsp;progress&nbsp;invariant&nbsp;so&nbsp;we&nbsp;always&nbsp;have&nbsp;something&nbsp;to&nbsp;amplify&nbsp;against&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="7a481da288009fd152b236bf6845bd5a" class="idref" href="#7a481da288009fd152b236bf6845bd5a"><span class="id" title="definition">εInv</span></a> <a id="523e69092e308d926c16d27a097e1bd5" class="idref" href="#523e69092e308d926c16d27a097e1bd5"><span class="id" title="binder">ε0</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="p:128" class="idref" href="#p:128"><span class="id" title="binder">p</span></a> =&gt; <a class="idref" href="clutch.eris.seq_amplification.html#6bfd88c4fac6097d054463d249fa22f8"><span class="id" title="definition">εR</span></a> 2         <span class="comment">(*&nbsp;amplifying&nbsp;against&nbsp;samples&nbsp;of&nbsp;(S&nbsp;2)&nbsp;=&nbsp;3&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a>         <span class="comment">(*&nbsp;bound&nbsp;on&nbsp;number&nbsp;of&nbsp;correct&nbsp;samples&nbsp;we&nbsp;need&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#p:128"><span class="id" title="variable">p</span></a>)   <span class="comment">(*&nbsp;worst&nbsp;case&nbsp;progress&nbsp;is&nbsp;N,&nbsp;in&nbsp;which&nbsp;case&nbsp;we&nbsp;need&nbsp;↯ε0.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;best&nbsp;case&nbsp;progress&nbsp;is&nbsp;0,&nbsp;in&nbsp;which&nbsp;case&nbsp;we&nbsp;need&nbsp;↯0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#523e69092e308d926c16d27a097e1bd5"><span class="id" title="variable">ε0</span></a>        <span class="comment">(*&nbsp;starting&nbsp;amount&nbsp;of&nbsp;credit&nbsp;given&nbsp;to&nbsp;the&nbsp;amplifier&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Amount&nbsp;of&nbsp;credit&nbsp;we&nbsp;get&nbsp;whenever&nbsp;the&nbsp;resampler&nbsp;picks&nbsp;wrong&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="b8cccb1b5243ef2fc26089f0b9f43385" class="idref" href="#b8cccb1b5243ef2fc26089f0b9f43385"><span class="id" title="definition">εAmplified</span></a> <a id="525f2376f3a7bff9c1db65accc4f08a8" class="idref" href="#525f2376f3a7bff9c1db65accc4f08a8"><span class="id" title="binder">ε0</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="clutch.eris.seq_amplification.html#f663deec0de486e480c51b015962f4a2"><span class="id" title="definition">εAmp</span></a> 2 <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#525f2376f3a7bff9c1db65accc4f08a8"><span class="id" title="variable">ε0</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Excess&nbsp;credit&nbsp;obtained&nbsp;each&nbsp;amplification&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="339908e3b4e4dbd655707b50b2c523c8" class="idref" href="#339908e3b4e4dbd655707b50b2c523c8"><span class="id" title="definition">εExcess</span></a> <a id="135c5159c3cd238782be389a550a7ca3" class="idref" href="#135c5159c3cd238782be389a550a7ca3"><span class="id" title="binder">ε0</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#posreal"><span class="id" title="record">posreal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="clutch.eris.seq_amplification.html#8e94a896a661cf35b065960e4bd6e988"><span class="id" title="definition">Δε</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#135c5159c3cd238782be389a550a7ca3"><span class="id" title="variable">ε0</span></a> 2 <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Accumulated&nbsp;credit&nbsp;after&nbsp;some&nbsp;number&nbsp;of&nbsp;amplifications&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="cf9b452ae1351d635b8af622861f7c62" class="idref" href="#cf9b452ae1351d635b8af622861f7c62"><span class="id" title="definition">εProgress</span></a> <a id="9bc318a844be402097f0332307db8cce" class="idref" href="#9bc318a844be402097f0332307db8cce"><span class="id" title="binder">ε0</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="i:132" class="idref" href="#i:132"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#mknonnegreal"><span class="id" title="constructor">mknonnegreal</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax"><span class="id" title="definition">Rmax</span></a> 0 (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#i:132"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#339908e3b4e4dbd655707b50b2c523c8"><span class="id" title="definition">εExcess</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#9bc318a844be402097f0332307db8cce"><span class="id" title="variable">ε0</span></a>))%<span class="id" title="var">R</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_l"><span class="id" title="lemma">Rmax_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;can&nbsp;start&nbsp;out&nbsp;with&nbsp;some&nbsp;amount&nbsp;of&nbsp;progress&nbsp;for&nbsp;free&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;value&nbsp;is&nbsp;up&nbsp;(1/εExcess...)*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Doing&nbsp;this&nbsp;in&nbsp;a&nbsp;super&nbsp;annoying&nbsp;way&nbsp;because&nbsp;I&nbsp;can't&nbsp;find&nbsp;a&nbsp;good&nbsp;way&nbsp;to&nbsp;round&nbsp;numbers<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that&nbsp;works&nbsp;well&nbsp;with&nbsp;the&nbsp;INR/IZR&nbsp;coercions&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="initial_progress" class="idref" href="#initial_progress"><span class="id" title="lemma">initial_progress</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="f880de3ba2a97fd7303e178cf7565693" class="idref" href="#f880de3ba2a97fd7303e178cf7565693"><span class="id" title="binder">ε0</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="i:134" class="idref" href="#i:134"><span class="id" title="binder">i</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#cf9b452ae1351d635b8af622861f7c62"><span class="id" title="definition">εProgress</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f880de3ba2a97fd7303e178cf7565693"><span class="id" title="variable">ε0</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#i:134"><span class="id" title="variable">i</span></a><a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">ε0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#up"><span class="id" title="definition">up</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#cf9b452ae1351d635b8af622861f7c62"><span class="id" title="definition">εProgress</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_zero"><span class="id" title="definition">nnreal_zero</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.error_credits.html#ec_zero"><span class="id" title="lemma">ec_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_ext"><span class="id" title="lemma">nnreal_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#cf9b452ae1351d635b8af622861f7c62"><span class="id" title="definition">εProgress</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_left"><span class="id" title="lemma">Rmax_left</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_minus"><span class="id" title="lemma">Rle_minus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#INR_IZR_INZ"><span class="id" title="lemma">INR_IZR_INZ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.Znat.html#Z2Nat.id"><span class="id" title="lemma">Z2Nat.id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_l_sym"><span class="id" title="lemma">Rinv_l_sym</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_r"><span class="id" title="lemma">Rmult_le_compat_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> -{2}(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#pos"><span class="id" title="projection">pos</span></a> <span class="id" title="var">_</span>)) -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_minus_distr_l"><span class="id" title="lemma">Rmult_minus_distr_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_le"><span class="id" title="lemma">Rlt_le</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#cond_pos"><span class="id" title="projection">cond_pos</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Reals_ext.html#Rle_0_le_minus"><span class="id" title="lemma">Rle_0_le_minus</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_le"><span class="id" title="lemma">Rlt_le</span></a>, <a class="idref" href="clutch.eris.seq_amplification.html#lt_1_k"><span class="id" title="lemma">lt_1_k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_le"><span class="id" title="lemma">Rlt_le</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rgt_lt"><span class="id" title="lemma">Rgt_lt</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#archimed"><span class="id" title="lemma">archimed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -{2}(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#pos"><span class="id" title="projection">pos</span></a> <span class="id" title="var">_</span>)) -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_minus_distr_l"><span class="id" title="lemma">Rmult_minus_distr_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rgt_not_eq"><span class="id" title="lemma">Rgt_not_eq</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_gt"><span class="id" title="lemma">Rlt_gt</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_lt_0_compat"><span class="id" title="lemma">Rmult_lt_0_compat</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#cond_pos"><span class="id" title="projection">cond_pos</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_0_minus"><span class="id" title="lemma">Rlt_0_minus</span></a>, <a class="idref" href="clutch.eris.seq_amplification.html#lt_1_k"><span class="id" title="lemma">lt_1_k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#le_IZR"><span class="id" title="lemma">le_IZR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rge_le"><span class="id" title="lemma">Rge_le</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rgt_ge"><span class="id" title="lemma">Rgt_ge</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rgt_trans"><span class="id" title="lemma">Rgt_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#archimed"><span class="id" title="lemma">archimed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_gt"><span class="id" title="lemma">Rlt_gt</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_0_lt_compat"><span class="id" title="lemma">Rinv_0_lt_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#pos"><span class="id" title="projection">pos</span></a> <span class="id" title="var">_</span>)) -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_minus_distr_l"><span class="id" title="lemma">Rmult_minus_distr_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_lt_0_compat"><span class="id" title="lemma">Rmult_lt_0_compat</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#cond_pos"><span class="id" title="projection">cond_pos</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_0_minus"><span class="id" title="lemma">Rlt_0_minus</span></a>, <a class="idref" href="clutch.eris.seq_amplification.html#lt_1_k"><span class="id" title="lemma">lt_1_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="final_progress" class="idref" href="#final_progress"><span class="id" title="lemma">final_progress</span></a> <a id="54a394e59ebf262679b010e4b9afb104" class="idref" href="#54a394e59ebf262679b010e4b9afb104"><span class="id" title="binder">ε0</span></a> : (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#cf9b452ae1351d635b8af622861f7c62"><span class="id" title="definition">εProgress</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#54a394e59ebf262679b010e4b9afb104"><span class="id" title="variable">ε0</span></a> 0%<span class="id" title="var">nat</span>)%<span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_0_l"><span class="id" title="lemma">Rmult_0_l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rminus_0_r"><span class="id" title="lemma">Rminus_0_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_r"><span class="id" title="lemma">Rmax_r</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Error&nbsp;distribution&nbsp;for&nbsp;the&nbsp;resampling&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="69376032e32224917dd518d5a554aa69" class="idref" href="#69376032e32224917dd518d5a554aa69"><span class="id" title="definition">εDistr_resampler</span></a> <a id="13a2cead4eb82dba65946f730db7227c" class="idref" href="#13a2cead4eb82dba65946f730db7227c"><span class="id" title="binder">ε0</span></a> <a id="i:137" class="idref" href="#i:137"><span class="id" title="binder">i</span></a> (<a id="Hi:138" class="idref" href="#Hi:138"><span class="id" title="binder">Hi</span></a> : (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#i:137"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a>)%<span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<span class="id" title="keyword">fun</span> <a id="v:139" class="idref" href="#v:139"><span class="id" title="binder">v</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> 3 =&gt; <a class="idref" href="clutch.eris.seq_amplification.html#c11ac757db5d11c8f7f68641fdccd2a2"><span class="id" title="definition">εDistr</span></a> 2 <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#i:137"><span class="id" title="variable">i</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#13a2cead4eb82dba65946f730db7227c"><span class="id" title="variable">ε0</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:139"><span class="id" title="variable">v</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="resample_amplify" class="idref" href="#resample_amplify"><span class="id" title="lemma">resample_amplify</span></a> (<a id="c:140" class="idref" href="#c:140"><span class="id" title="binder">c</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause"><span class="id" title="inductive">clause</span></a>) (<a id="target:141" class="idref" href="#target:141"><span class="id" title="binder">target</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> 3) (<a id="m:142" class="idref" href="#m:142"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="l:143" class="idref" href="#l:143"><span class="id" title="binder">l</span></a>: <a class="idref" href="clutch.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a>) <a id="6deea27da6762d5641919912e8e66629" class="idref" href="#6deea27da6762d5641919912e8e66629"><span class="id" title="binder">ε0</span></a> <a id="p:145" class="idref" href="#p:145"><span class="id" title="binder">p</span></a> (<a id="Hp:146" class="idref" href="#Hp:146"><span class="id" title="binder">Hp</span></a> : (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#p:145"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:142"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">nat</span>) (<a id="asn:147" class="idref" href="#asn:147"><span class="id" title="binder">asn</span></a> : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a>) <a id="E:148" class="idref" href="#E:148"><span class="id" title="binder">E</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn"><span class="id" title="definition">inv_asn</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:142"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:147"><span class="id" title="variable">asn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:143"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.eris.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:147"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#7a481da288009fd152b236bf6845bd5a"><span class="id" title="definition">εInv</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#6deea27da6762d5641919912e8e66629"><span class="id" title="variable">ε0</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#p:145"><span class="id" title="variable">p</span></a>)<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">WP</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#resample_clause"><span class="id" title="definition">resample_clause</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:140"><span class="id" title="variable">c</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:143"><span class="id" title="variable">l</span></a>)%<span class="id" title="var">E</span> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#E:148"><span class="id" title="variable">E</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">[{</span></a> <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="asn':149" class="idref" href="#asn':149"><span class="id" title="binder">asn'</span></a> <a id="m':150" class="idref" href="#m':150"><span class="id" title="binder">m'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:143"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.eris.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn':149"><span class="id" title="variable">asn'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn"><span class="id" title="definition">inv_asn</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m':150"><span class="id" title="variable">m'</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn':149"><span class="id" title="variable">asn'</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a> <span class="comment">(*&nbsp;Flips&nbsp;the&nbsp;target&nbsp;variable&nbsp;and&nbsp;loses&nbsp;some&nbsp;credit,&nbsp;or...&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">(</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#7a481da288009fd152b236bf6845bd5a"><span class="id" title="definition">εInv</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#6deea27da6762d5641919912e8e66629"><span class="id" title="variable">ε0</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#p:145"><span class="id" title="variable">p</span></a><a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m':150"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar_index"><span class="id" title="definition">fVar_index</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#proj_clause_value"><span class="id" title="definition">proj_clause_value</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:140"><span class="id" title="variable">c</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#target:141"><span class="id" title="variable">target</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:142"><span class="id" title="variable">m</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#fVar_index"><span class="id" title="definition">fVar_index</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#proj_clause_value"><span class="id" title="definition">proj_clause_value</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:140"><span class="id" title="variable">c</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#target:141"><span class="id" title="variable">target</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">)</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;...obtains&nbsp;the&nbsp;amplified&nbsp;credit&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#b8cccb1b5243ef2fc26089f0b9f43385"><span class="id" title="definition">εAmplified</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#6deea27da6762d5641919912e8e66629"><span class="id" title="variable">ε0</span></a><a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">}]</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">Hinv</span>) "Hl Hε".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#update_asn"><span class="id" title="definition">update_asn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#resample_clause"><span class="id" title="definition">resample_clause</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_primitive_laws.html#twp_load"><span class="id" title="lemma">twp_load</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hl"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hl".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'rand'_x"><span class="id" title="notation">rand</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">with</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>; [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.error_rules.html#twp_couple_rand_adv_comp1"><span class="id" title="lemma">twp_couple_rand_adv_comp1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#69376032e32224917dd518d5a554aa69"><span class="id" title="definition">εDistr_resampler</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">target</span>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hε"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.eris.seq_amplification.html#0aad826973e712b072deb9e723186f4e"><span class="id" title="lemma">εDistr_mean</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#7a481da288009fd152b236bf6845bd5a"><span class="id" title="definition">εInv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="clutch.eris.seq_amplification.html#fRwf_dec_i"><span class="id" title="lemma">fRwf_dec_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#676a78e794dd8cff3f0611b31a218cf3"><span class="id" title="lemma">εInv_obligation_1</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.eris.seq_amplification.html#fRwf_ext"><span class="id" title="lemma">fRwf_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span>  (<span class="id" title="var">i</span>) "Hcr".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Vectors.Fin.html#eqb"><span class="id" title="definition">Fin.eqb</span></a> <span class="id" title="var">i</span> <span class="id" title="var">target</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hi</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;sampler&nbsp;chooses&nbsp;the&nbsp;target&nbsp;index&nbsp;and&nbsp;flips&nbsp;it&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause_to_index"><span class="id" title="definition">clause_to_index</span></a> <span class="id" title="var">c</span> <span class="id" title="var">_</span>)%<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> (<a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a>); <span class="id" title="tactic">first</span> <span class="id" title="var">iApply</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_clause_to_index"><span class="id" title="lemma">wp_clause_to_index</span></a> <span class="id" title="var">c</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">i'</span>) "-&gt;".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#eval_asn"><span class="id" title="definition">eval_asn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)%<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_eval_asn"><span class="id" title="definition">wp_eval_asn</span></a>; <span class="id" title="var">iPureIntro</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn"><span class="id" title="definition">inv_asn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinv</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#proj_clause_value"><span class="id" title="definition">proj_clause_value</span></a> <span class="id" title="var">c</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [? ? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span> <span class="id" title="keyword">as</span> [? ?] .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "&lt;-".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#update_asn"><span class="id" title="definition">update_asn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_update_asn"><span class="id" title="definition">wp_update_asn</span></a>; <span class="id" title="var">iPureIntro</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn"><span class="id" title="definition">inv_asn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinv</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#proj_clause_value"><span class="id" title="definition">proj_clause_value</span></a> <span class="id" title="var">c</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [? ? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span> <span class="id" title="keyword">as</span> [? ?] .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "%Hinv'".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_store</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hinv'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#insert_length"><span class="id" title="lemma">insert_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iLeft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "Hcr".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Vectors.Fin.html#eqb_eq"><span class="id" title="lemma">Fin.eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#69376032e32224917dd518d5a554aa69"><span class="id" title="definition">εDistr_resampler</span></a> /<a class="idref" href="clutch.eris.seq_amplification.html#c11ac757db5d11c8f7f68641fdccd2a2"><span class="id" title="definition">εDistr</span></a> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#7a481da288009fd152b236bf6845bd5a"><span class="id" title="definition">εInv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_true"><span class="id" title="abbreviation">bool_decide_true</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="clutch.eris.seq_amplification.html#7c0bfcd48c254eac443db30581de484e"><span class="id" title="lemma">εR_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.error_credits.html#ec_spend_irrel"><span class="id" title="lemma">ec_spend_irrel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hcr"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;weird&nbsp;unification&nbsp;thing&nbsp;I&nbsp;guess&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Her</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:151" class="idref" href="#a:151"><span class="id" title="binder"><span id="a:158" class="id">a</span></span></a> <a id="b:152" class="idref" href="#b:152"><span class="id" title="binder"><span id="b:159" class="id">b</span></span></a> <a id="c:153" class="idref" href="#c:153"><span class="id" title="binder"><span id="c:160" class="id">c</span></span></a> <a id="d:154" class="idref" href="#d:154"><span class="id" title="binder"><span id="d:161" class="id">d</span></span></a> <a id="e:155" class="idref" href="#e:155"><span class="id" title="binder"><span id="e:162" class="id">e</span></span></a> <a id="f:156" class="idref" href="#f:156"><span class="id" title="binder"><span id="f:163" class="id">f</span></span></a> <a id="g:157" class="idref" href="#g:157"><span class="id" title="binder"><span id="g:164" class="id">g</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#a:151"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#b:152"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.eris.seq_amplification.html#6bfd88c4fac6097d054463d249fa22f8"><span class="id" title="definition">εR</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:153"><span class="id" title="variable">c</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#d:154"><span class="id" title="variable">d</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#a:151"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#e:155"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:156"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.seq_amplification.html#6bfd88c4fac6097d054463d249fa22f8"><span class="id" title="definition">εR</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#c:153"><span class="id" title="variable">c</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#d:154"><span class="id" title="variable">d</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#b:152"><span class="id" title="variable">b</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#e:155"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#g:157"><span class="id" title="variable">g</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">simplify_eq</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.eris.seq_amplification.html#7c0bfcd48c254eac443db30581de484e"><span class="id" title="lemma">εR_ext</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Her</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Vectors.Fin.html#eqb_eq"><span class="id" title="lemma">Fin.eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;sampler&nbsp;chooses&nbsp;the&nbsp;wrong&nbsp;index,&nbsp;step&nbsp;through&nbsp;and&nbsp;conclude&nbsp;by&nbsp;the&nbsp;amplification&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause_to_index"><span class="id" title="definition">clause_to_index</span></a> <span class="id" title="var">c</span> <span class="id" title="var">_</span>)%<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> (<a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a>); <span class="id" title="tactic">first</span> <span class="id" title="var">iApply</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_clause_to_index"><span class="id" title="lemma">wp_clause_to_index</span></a> <span class="id" title="var">c</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">i'</span>) "-&gt;".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#eval_asn"><span class="id" title="definition">eval_asn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)%<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_eval_asn"><span class="id" title="definition">wp_eval_asn</span></a>; <span class="id" title="var">iPureIntro</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn"><span class="id" title="definition">inv_asn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinv</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#proj_clause_value"><span class="id" title="definition">proj_clause_value</span></a> <span class="id" title="var">c</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [? ? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span> <span class="id" title="keyword">as</span> [? ?] .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "&lt;-".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#update_asn"><span class="id" title="definition">update_asn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_update_asn"><span class="id" title="definition">wp_update_asn</span></a>; <span class="id" title="var">iPureIntro</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn"><span class="id" title="definition">inv_asn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinv</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#proj_clause_value"><span class="id" title="definition">proj_clause_value</span></a> <span class="id" title="var">c</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [? ? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span> <span class="id" title="keyword">as</span> [? ?] .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "%Hinv'".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>; <span class="id" title="var">wp_store</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <span class="id" title="var">target</span>)%<span class="id" title="var">fin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Vectors.Fin.html#eqb"><span class="id" title="definition">Fin.eqb</span></a> <span class="id" title="var">target</span> <span class="id" title="var">target</span>) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>; [<span class="id" title="tactic">discriminate</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Vectors.Fin.html#eqb_eq"><span class="id" title="lemma">Fin.eqb_eq</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#69376032e32224917dd518d5a554aa69"><span class="id" title="definition">εDistr_resampler</span></a> /<a class="idref" href="clutch.eris.seq_amplification.html#c11ac757db5d11c8f7f68641fdccd2a2"><span class="id" title="definition">εDistr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_false"><span class="id" title="abbreviation">bool_decide_false</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hinv'</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#insert_length"><span class="id" title="lemma">insert_length</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRight</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.error_credits.html#ec_spend_irrel"><span class="id" title="lemma">ec_spend_irrel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hcr"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#b8cccb1b5243ef2fc26089f0b9f43385"><span class="id" title="definition">εAmplified</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">constructor</span>; <span class="id" title="var">last</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;running&nbsp;the&nbsp;checker&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wp_check" class="idref" href="#wp_check"><span class="id" title="lemma">wp_check</span></a> <a id="l:165" class="idref" href="#l:165"><span class="id" title="binder">l</span></a> <a id="asn:166" class="idref" href="#asn:166"><span class="id" title="binder">asn</span></a> <a id="m:167" class="idref" href="#m:167"><span class="id" title="binder">m</span></a> <a id="f:168" class="idref" href="#f:168"><span class="id" title="binder">f</span></a> <a id="E:169" class="idref" href="#E:169"><span class="id" title="binder">E</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn"><span class="id" title="definition">inv_asn</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:167"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:166"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:165"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.eris.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:166"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">((</span></a><a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">WP</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">(</span></a>(<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#checker"><span class="id" title="definition">checker</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:168"><span class="id" title="variable">f</span></a>)) <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:165"><span class="id" title="variable">l</span></a><a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#E:169"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">[{</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v':170" class="idref" href="#v':170"><span class="id" title="binder">v'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:165"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.eris.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:166"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v':170"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:167"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:168"><span class="id" title="variable">f</span></a><a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">}]</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">))</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInduction</span> <span class="id" title="var">f</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">c</span> <span class="id" title="var">f'</span>] "IH".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "%Hinv Hl".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#checker"><span class="id" title="definition">checker</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "%Hinv Hl".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.prob_lang.notation.html#569b74bc432a2b233b93ae1b45418e26"><span class="id" title="notation">!</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_load</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#evaluate_clause"><span class="id" title="definition">evaluate_clause</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)%<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hl]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">wp_apply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_evaluate_clause"><span class="id" title="lemma">wp_evaluate_clause</span></a>; [|<span class="id" title="var">iFrame</span>]. <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hinv</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">ev</span>) "(Hl&amp;-&gt;)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause_SAT"><span class="id" title="definition">clause_SAT</span></a> <span class="id" title="var">m</span> <span class="id" title="var">c</span>) <span class="id" title="keyword">as</span> [|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hcsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">wp_pure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hl]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> "IH"; [<span class="id" title="tactic">eauto</span>|<span class="id" title="var">iFrame</span>]. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "(Hl&amp;%Hf')".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>; <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hf'</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> /= <span class="id" title="var">Hcsat</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> /= <span class="id" title="var">Hcsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">f'</span> <span class="id" title="keyword">as</span> [|? ? ?]; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;running&nbsp;the&nbsp;sampler&nbsp;when&nbsp;the&nbsp;formula&nbsp;is&nbsp;SAT&nbsp;(equal&nbsp;to&nbsp;the&nbsp;solution&nbsp;or&nbsp;not)&nbsp;does&nbsp;nothing&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wp_sampler_done" class="idref" href="#wp_sampler_done"><span class="id" title="lemma">wp_sampler_done</span></a> <a id="l:171" class="idref" href="#l:171"><span class="id" title="binder">l</span></a> <a id="asn:172" class="idref" href="#asn:172"><span class="id" title="binder">asn</span></a> <a id="m:173" class="idref" href="#m:173"><span class="id" title="binder">m</span></a> <a id="f:174" class="idref" href="#f:174"><span class="id" title="binder">f</span></a> <a id="E:175" class="idref" href="#E:175"><span class="id" title="binder">E</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:173"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:174"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn"><span class="id" title="definition">inv_asn</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:173"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:172"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:171"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.eris.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:172"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">WP</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">(</span></a>(<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#sampler"><span class="id" title="definition">sampler</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:174"><span class="id" title="variable">f</span></a>)) <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:171"><span class="id" title="variable">l</span></a><a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#E:175"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">[{</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v':176" class="idref" href="#v':176"><span class="id" title="binder">v'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:171"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.eris.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:172"><span class="id" title="variable">asn</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">}]</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInduction</span> <span class="id" title="var">f</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">c</span> <span class="id" title="var">f'</span>] "IHf".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "? ? ?".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#sampler"><span class="id" title="definition">sampler</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "%Hsat %Hinv Hl".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#sampler"><span class="id" title="definition">sampler</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.prob_lang.notation.html#569b74bc432a2b233b93ae1b45418e26"><span class="id" title="notation">!</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_load</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#evaluate_clause"><span class="id" title="definition">evaluate_clause</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)%<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hl]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">wp_apply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_evaluate_clause"><span class="id" title="lemma">wp_evaluate_clause</span></a>; [|<span class="id" title="var">iFrame</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hinv</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "(Hl&amp;-&gt;)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#fold_symmetric"><span class="id" title="lemma">fold_symmetric</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#andb_assoc"><span class="id" title="lemma">andb_assoc</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hsat</span>; [|<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#andb_comm"><span class="id" title="lemma">andb_comm</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#fmap_cons"><span class="id" title="definition">fmap_cons</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#andb_prop"><span class="id" title="lemma">andb_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsat</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsat</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hcsat</span> <span class="id" title="var">Hfsat</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "IHf".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#fold_symmetric"><span class="id" title="lemma">fold_symmetric</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#andb_assoc"><span class="id" title="lemma">andb_assoc</span></a>); [|<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#andb_comm"><span class="id" title="lemma">andb_comm</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iPureIntro</span>; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Running&nbsp;the&nbsp;sampler&nbsp;when&nbsp;we&nbsp;have&nbsp;work&nbsp;to&nbsp;do&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wp_sampler_amplify" class="idref" href="#wp_sampler_amplify"><span class="id" title="lemma">wp_sampler_amplify</span></a> <a id="l:177" class="idref" href="#l:177"><span class="id" title="binder">l</span></a> <a id="asn:178" class="idref" href="#asn:178"><span class="id" title="binder">asn</span></a> <a id="m:179" class="idref" href="#m:179"><span class="id" title="binder">m</span></a> <a id="solution:180" class="idref" href="#solution:180"><span class="id" title="binder">solution</span></a> <a id="f:181" class="idref" href="#f:181"><span class="id" title="binder">f</span></a> <a id="bf9c18849854692dd9e14eb8db684a21" class="idref" href="#bf9c18849854692dd9e14eb8db684a21"><span class="id" title="binder">ε</span></a> <a id="p:183" class="idref" href="#p:183"><span class="id" title="binder">p</span></a> <a id="E:184" class="idref" href="#E:184"><span class="id" title="binder">E</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a>(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#p:183"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a>)%<span class="id" title="var">nat</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:180"><span class="id" title="variable">solution</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:180"><span class="id" title="variable">solution</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:181"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:179"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:181"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn"><span class="id" title="definition">inv_asn</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:179"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:178"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:177"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.eris.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:178"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#7a481da288009fd152b236bf6845bd5a"><span class="id" title="definition">εInv</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#bf9c18849854692dd9e14eb8db684a21"><span class="id" title="variable">ε</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#p:183"><span class="id" title="variable">p</span></a>)<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">WP</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">(</span></a>(<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#sampler"><span class="id" title="definition">sampler</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:181"><span class="id" title="variable">f</span></a>)) <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:177"><span class="id" title="variable">l</span></a><a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#E:184"><span class="id" title="variable">E</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">[{</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v':185" class="idref" href="#v':185"><span class="id" title="binder">v'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="asn':186" class="idref" href="#asn':186"><span class="id" title="binder">asn'</span></a> <a id="m':187" class="idref" href="#m':187"><span class="id" title="binder">m'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:177"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.eris.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn':186"><span class="id" title="variable">asn'</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn"><span class="id" title="definition">inv_asn</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m':187"><span class="id" title="variable">m'</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn':186"><span class="id" title="variable">asn'</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a>(<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#progress_measure"><span class="id" title="definition">progress_measure</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:181"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m':187"><span class="id" title="variable">m'</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:180"><span class="id" title="variable">solution</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#progress_measure"><span class="id" title="definition">progress_measure</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:181"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:179"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:180"><span class="id" title="variable">solution</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#7a481da288009fd152b236bf6845bd5a"><span class="id" title="definition">εInv</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#bf9c18849854692dd9e14eb8db684a21"><span class="id" title="variable">ε</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#p:183"><span class="id" title="variable">p</span></a><a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#b8cccb1b5243ef2fc26089f0b9f43385"><span class="id" title="definition">εAmplified</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#bf9c18849854692dd9e14eb8db684a21"><span class="id" title="variable">ε</span></a><a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">}]</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "%Hp %Hsol_len %Hsol %Hm %Hinv Hl Hε".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#find_progress"><span class="id" title="lemma">find_progress</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hm</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">f1</span> [<span class="id" title="var">f2</span> [<span class="id" title="var">c</span> (-&gt; &amp; <span class="id" title="var">Hf1</span> &amp; <span class="id" title="var">Hc</span>)]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;induct&nbsp;over&nbsp;the&nbsp;SAT&nbsp;clauses&nbsp;doing&nbsp;nothing&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInduction</span> <span class="id" title="var">f1</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">c'</span> <span class="id" title="var">f1'</span>] "IH"; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hc'</span>: <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#clause_SAT"><span class="id" title="definition">clause_SAT</span></a> <span class="id" title="var">m</span> <span class="id" title="var">c'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#Forall_inv"><span class="id" title="lemma">Forall_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hf1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#sampler"><span class="id" title="definition">sampler</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_load</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#evaluate_clause"><span class="id" title="definition">evaluate_clause</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)%<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hl]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_evaluate_clause"><span class="id" title="lemma">wp_evaluate_clause</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[] Hl"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">r</span>) "(Hl&amp;-&gt;)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">f1'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">f2</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">f1'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">f2</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hl Hε]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[] [] [] Hl Hε"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hm</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> /= /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hsol</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> /= /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">c'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">f1'</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">f2</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">c'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">f1'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">f2</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hsol</span>; [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">simpl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#fold_symmetric"><span class="id" title="lemma">fold_symmetric</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#andb_assoc"><span class="id" title="lemma">andb_assoc</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hsol</span>; [|<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#andb_comm"><span class="id" title="lemma">andb_comm</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hsol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#andb_prop"><span class="id" title="lemma">andb_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#Forall_inv_tail"><span class="id" title="lemma">Forall_inv_tail</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hf1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "H". <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#app"><span class="id" title="definition">app</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Now&nbsp;we&nbsp;start&nbsp;with&nbsp;an&nbsp;UNSAT&nbsp;clause,&nbsp;so&nbsp;do&nbsp;the&nbsp;amplification&nbsp;at&nbsp;the&nbsp;resample&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#sampler"><span class="id" title="definition">sampler</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_load</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#evaluate_clause"><span class="id" title="definition">evaluate_clause</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)%<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hl]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_evaluate_clause"><span class="id" title="lemma">wp_evaluate_clause</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[] Hl"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hinv</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">r</span>) "(Hl&amp;-&gt;)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hc</span>; <span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;let's&nbsp;explicitly&nbsp;find&nbsp;the&nbsp;index&nbsp;we're&nbsp;resampling&nbsp;against&nbsp;using&nbsp;Hm&nbsp;and&nbsp;Hsol&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#fmap_cons"><span class="id" title="definition">fmap_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>, <span class="id" title="var">Hsol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#fold_symmetric"><span class="id" title="lemma">fold_symmetric</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#andb_assoc"><span class="id" title="lemma">andb_assoc</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>; [|<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#andb_comm"><span class="id" title="lemma">andb_comm</span></a>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#fold_symmetric"><span class="id" title="lemma">fold_symmetric</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#andb_assoc"><span class="id" title="lemma">andb_assoc</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hsol</span>; [|<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Bool.Bool.html#andb_comm"><span class="id" title="lemma">andb_comm</span></a>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#andb_prop"><span class="id" title="lemma">andb_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsol</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsol</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc_solution</span> <span class="id" title="var">Hf2_solution</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#progress_is_possible_clause"><span class="id" title="lemma">progress_is_possible_clause</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hc_solution</span> <span class="id" title="var">Hc</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">targetFV</span> [<span class="id" title="var">HtargetClause</span> <span class="id" title="var">HtargetFV</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#reflect_progress_to_target"><span class="id" title="lemma">reflect_progress_to_target</span></a> <span class="id" title="var">targetFV</span> <span class="id" title="var">_</span> <span class="id" title="var">HtargetClause</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">target</span> <span class="id" title="var">Htarget</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hε Hl]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">((</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#resample_amplify"><span class="id" title="lemma">resample_amplify</span></a> <span class="id" title="var">_</span> <span class="id" title="var">target</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hl Hε"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">s</span>) "[%asn' [%m' (Hl &amp; %Hasn' &amp; Hs)]]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; [<span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hasn'</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hs" <span class="id" title="keyword">as</span> "[[Hε %H]|Hε]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Flip&nbsp;is&nbsp;lucky&nbsp;and&nbsp;makes&nbsp;progress&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iLeft</span>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#flip_makes_progress"><span class="id" title="lemma">flip_makes_progress</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#proj_clause_value"><span class="id" title="definition">proj_clause_value</span></a> <span class="id" title="var">c</span> <span class="id" title="var">target</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hasn'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#proj_clause_value"><span class="id" title="definition">proj_clause_value</span></a> <span class="id" title="var">c</span> <span class="id" title="var">target</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hasn'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#insert_length"><span class="id" title="lemma">insert_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iRight</span>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="iProgress" class="idref" href="#iProgress"><span class="id" title="definition">iProgress</span></a> <a id="e5e528b9482f460037fd5ff3b0862315" class="idref" href="#e5e528b9482f460037fd5ff3b0862315"><span class="id" title="binder">ε</span></a> (<a id="l:189" class="idref" href="#l:189"><span class="id" title="binder">l</span></a> : <a class="idref" href="clutch.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a>) <a id="solution:190" class="idref" href="#solution:190"><span class="id" title="binder">solution</span></a> <a id="f:191" class="idref" href="#f:191"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#3e402302709772a5fcd46e1c0052f2e8"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="n:192" class="idref" href="#n:192"><span class="id" title="binder">n</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="asn:193" class="idref" href="#asn:193"><span class="id" title="binder">asn</span></a> <a id="m:194" class="idref" href="#m:194"><span class="id" title="binder">m</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:189"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.eris.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:193"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#7a481da288009fd152b236bf6845bd5a"><span class="id" title="definition">εInv</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#e5e528b9482f460037fd5ff3b0862315"><span class="id" title="variable">ε</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#n:192"><span class="id" title="variable">n</span></a><a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn"><span class="id" title="definition">inv_asn</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:194"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:193"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a>(<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#progress_measure"><span class="id" title="definition">progress_measure</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:191"><span class="id" title="variable">f</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#m:194"><span class="id" title="variable">m</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:190"><span class="id" title="variable">solution</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#n:192"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">nat</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FIXME:&nbsp;move&nbsp;or&nbsp;delete&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="len_zip_eq" class="idref" href="#len_zip_eq"><span class="id" title="lemma">len_zip_eq</span></a> `{<a id="T:195" class="idref" href="#T:195"><span class="id" title="binder"><span id="H:196" class="id">T</span></span></a>} : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="A:197" class="idref" href="#A:197"><span class="id" title="binder">A</span></a> <a id="B:198" class="idref" href="#B:198"><span class="id" title="binder">B</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#T:195"><span class="id" title="variable">T</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a>  <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#A:197"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#B:198"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#zip"><span class="id" title="abbreviation">zip</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#A:197"><span class="id" title="variable">A</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#B:198"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#A:197"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">A</span>, <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHA</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="walksat_sampling_scheme" class="idref" href="#walksat_sampling_scheme"><span class="id" title="lemma">walksat_sampling_scheme</span></a> <a id="f:199" class="idref" href="#f:199"><span class="id" title="binder">f</span></a> <a id="solution:200" class="idref" href="#solution:200"><span class="id" title="binder">solution</span></a> <a id="4ca2364509d7e579a022af18d4f78a08" class="idref" href="#4ca2364509d7e579a022af18d4f78a08"><span class="id" title="binder">ε</span></a> (<a id="l:202" class="idref" href="#l:202"><span class="id" title="binder">l</span></a> : <a class="idref" href="clutch.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a>) <a id="HiL:203" class="idref" href="#HiL:203"><span class="id" title="binder">HiL</span></a> <a id="E:204" class="idref" href="#E:204"><span class="id" title="binder">E</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <span class="comment">(*&nbsp;⌜forall&nbsp;w&nbsp;:&nbsp;nat,&nbsp;(w&nbsp;&lt;&nbsp;HiL)R&nbsp;⌝&nbsp;-∗&nbsp;<span class="comment">(*&nbsp;FIXME:&nbsp;Define&nbsp;HiL&nbsp;in&nbsp;terms&nbsp;of&nbsp;ε&nbsp;*)</span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:200"><span class="id" title="variable">solution</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:199"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:200"><span class="id" title="variable">solution</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a>(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:199"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)%<span class="id" title="var">nat</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_higherorder_incremental.html#incr_sampling_scheme_spec"><span class="id" title="definition">incr_sampling_scheme_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">λ</span></a><a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">:</span></a> "_"<a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">,</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#sampler"><span class="id" title="definition">sampler</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:199"><span class="id" title="variable">f</span></a>) <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:202"><span class="id" title="variable">l</span></a>)%<span class="id" title="var">V</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">λ</span></a><a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">:</span></a> "_"<a class="idref" href="clutch.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">,</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#checker"><span class="id" title="definition">checker</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:199"><span class="id" title="variable">f</span></a>) <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:202"><span class="id" title="variable">l</span></a>)%<span class="id" title="var">V</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#iProgress"><span class="id" title="definition">iProgress</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#4ca2364509d7e579a022af18d4f78a08"><span class="id" title="variable">ε</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:202"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:200"><span class="id" title="variable">solution</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:199"><span class="id" title="variable">f</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#cf9b452ae1351d635b8af622861f7c62"><span class="id" title="definition">εProgress</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#4ca2364509d7e579a022af18d4f78a08"><span class="id" title="variable">ε</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#HiL:203"><span class="id" title="variable">HiL</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#E:204"><span class="id" title="variable">E</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="a:205" class="idref" href="#a:205"><span class="id" title="binder">a</span></a> <a id="asn:206" class="idref" href="#asn:206"><span class="id" title="binder">asn</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:202"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.eris.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:206"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn"><span class="id" title="definition">inv_asn</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#a:205"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:206"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#a:205"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:199"><span class="id" title="variable">f</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> ))%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "%Hsolution %Hsl %Hnontrivial".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_higherorder_incremental.html#incr_sampling_scheme_spec"><span class="id" title="definition">incr_sampling_scheme_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "[Hcr | [%asn [%m (Hl &amp; Hcr &amp; %Hinv &amp; %Hp)]]]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;↯&nbsp;1&nbsp;case:&nbsp;spend&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.error_rules.html#twp_ec_spend"><span class="id" title="lemma">twp_ec_spend</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hcr"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; [|<span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#final_progress"><span class="id" title="lemma">final_progress</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Ψ&nbsp;0&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_0_r"><span class="id" title="lemma">Nat.le_0_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#progress_complete"><span class="id" title="lemma">progress_complete</span></a> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>; [|<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span>; <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;using&nbsp;Ψ,&nbsp;asn&nbsp;now&nbsp;equals&nbsp;the&nbsp;solution.&nbsp;step&nbsp;the&nbsp;sampler...&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hl]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">wp_apply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_sampler_done"><span class="id" title="lemma">wp_sampler_done</span></a>; <span class="id" title="var">iFrame</span>; <span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "Hl".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;then&nbsp;step&nbsp;the&nbsp;checker...&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hl]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_check"><span class="id" title="lemma">wp_check</span></a>; [|<span class="id" title="var">iFrame</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hinv</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">r</span>) "(Hl&amp;-&gt;)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitR</span>. { <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> (<span class="id" title="var">i</span> <span class="id" title="var">p</span>) "!&gt; (%Hp_bound &amp; %Hi_bound &amp; Hε &amp; [%asn [%m (Hl &amp; Hcr &amp; %Hinv &amp; %Hp)]])".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;step&nbsp;the&nbsp;sampler&nbsp;differently&nbsp;depending&nbsp;on&nbsp;if&nbsp;it&nbsp;is&nbsp;SAT&nbsp;or&nbsp;not&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <span class="id" title="var">m</span> <span class="id" title="var">f</span>) <span class="id" title="keyword">as</span> [|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;SAT:&nbsp;we&nbsp;can't&nbsp;make&nbsp;progress&nbsp;or&nbsp;amplify,&nbsp;but&nbsp;that&nbsp;is&nbsp;be&nbsp;okay,&nbsp;since&nbsp;we&nbsp;can&nbsp;pass&nbsp;the&nbsp;check&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hl]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">wp_apply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_sampler_done"><span class="id" title="lemma">wp_sampler_done</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">by</span> <span class="id" title="var">iPureIntro</span>. <span class="id" title="var">iFrame</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "Hl".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iLeft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hε Hcr Hl]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_check"><span class="id" title="lemma">wp_check</span></a>; <span class="id" title="var">iFrame</span>. <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hinv</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "[? -&gt;]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitR</span>. { <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;UNSAT&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Step&nbsp;to&nbsp;the&nbsp;resampling&nbsp;step,&nbsp;and&nbsp;amplify&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#sampler"><span class="id" title="definition">sampler</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hl Hcr]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_sampler_amplify"><span class="id" title="lemma">wp_sampler_amplify</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[] [] [] [] [] Hl [Hcr]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">iFrame</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">s</span>) "[%asn' [%m' (Hl &amp; %Hinv' &amp; [(%Hp' &amp; A)|Hamp])]]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="comment">(*&nbsp;makes&nbsp;progress&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRight</span>; <span class="id" title="var">iLeft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span> "Hε".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hl]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_check"><span class="id" title="lemma">wp_check</span></a>; <span class="id" title="var">iFrame</span>. <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "(Hl &amp; -&gt;)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <span class="id" title="var">m'</span> <span class="id" title="var">f</span>) <span class="id" title="keyword">as</span> [|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hsat'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iRight</span>. <span class="id" title="var">iSplitR</span>; [<span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; <span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iLeft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitR</span>; [<span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>. <span class="id" title="var">iSplit</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_succ_r"><span class="id" title="lemma">Nat.lt_succ_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_le_trans"><span class="id" title="lemma">Nat.lt_le_trans</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="comment">(*&nbsp;amplifies&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRight</span>; <span class="id" title="var">iRight</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Revert&nbsp;back&nbsp;to&nbsp;iProgress&nbsp;N&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitR</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Transfer&nbsp;the&nbsp;amplfied&nbsp;credits&nbsp;between&nbsp;the&nbsp;invariants&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssert</span> (<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#7a481da288009fd152b236bf6845bd5a"><span class="id" title="definition">εInv</span></a> <span class="id" title="var">ε</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a><a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prelude.NNRbar.html#pos_to_nn"><span class="id" title="definition">pos_to_nn</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#339908e3b4e4dbd655707b50b2c523c8"><span class="id" title="definition">εExcess</span></a> <span class="id" title="var">ε</span>)<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">)</span></a> )%<span class="id" title="var">I</span> <span class="id" title="keyword">with</span> "[Hamp]" <span class="id" title="keyword">as</span> "[Hinv Hexcess]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.error_credits.html#ec_split"><span class="id" title="lemma">ec_split</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.error_credits.html#ec_spend_le_irrel"><span class="id" title="lemma">ec_spend_le_irrel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hamp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.eris.seq_amplification.html#2f4ec7571dd7096854bed46cd4d2f1a1"><span class="id" title="lemma">εAmp_excess</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssert</span> (<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#cf9b452ae1351d635b8af622861f7c62"><span class="id" title="definition">εProgress</span></a> <span class="id" title="var">ε</span> <span class="id" title="var">i</span><a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> "[Hε Hexcess]" <span class="id" title="keyword">as</span> "Hε".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iAssert</span> (<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#cf9b452ae1351d635b8af622861f7c62"><span class="id" title="definition">εProgress</span></a> <span class="id" title="var">ε</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">i</span>) <a class="idref" href="clutch.prelude.NNRbar.html#30265c7ac6ae445cb8137ba151c23ede"><span class="id" title="notation">+</span></a> <a class="idref" href="clutch.prelude.NNRbar.html#pos_to_nn"><span class="id" title="definition">pos_to_nn</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#339908e3b4e4dbd655707b50b2c523c8"><span class="id" title="definition">εExcess</span></a> <span class="id" title="var">ε</span>)<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">)</span></a>%<span class="id" title="var">NNR</span>) <span class="id" title="keyword">with</span> "[Hε Hexcess]" <span class="id" title="keyword">as</span> "Hε".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.error_credits.html#ec_split"><span class="id" title="lemma">ec_split</span></a>; <span class="id" title="var">iFrame</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.error_credits.html#ec_spend_le_irrel"><span class="id" title="lemma">ec_spend_le_irrel</span></a>; [|<span class="id" title="var">iFrame</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#INR"><span class="id" title="definition">INR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#cf9b452ae1351d635b8af622861f7c62"><span class="id" title="definition">εProgress</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax"><span class="id" title="definition">Rmax</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#S_INR"><span class="id" title="lemma">S_INR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_dec"><span class="id" title="lemma">Rle_dec</span></a> 0 (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">ε</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.eris.seq_amplification.html#k"><span class="id" title="definition">k</span></a> 2 <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#228b4bf1ac04fae1b1503bd78316696b"><span class="id" title="lemma">εExcess_obligation_1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">ε</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">D</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">D</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax"><span class="id" title="definition">Rmax</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_dec"><span class="id" title="lemma">Rle_dec</span></a> 0 (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">ε</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.eris.seq_amplification.html#k"><span class="id" title="definition">k</span></a> 2 <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#228b4bf1ac04fae1b1503bd78316696b"><span class="id" title="lemma">εExcess_obligation_1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">ε</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">D2</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">D2</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -{1}(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a> 0%<span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_l"><span class="id" title="lemma">Rmax_l</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.prelude.Reals_ext.html#Rle_0_le_minus"><span class="id" title="lemma">Rle_0_le_minus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{1}(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#pos"><span class="id" title="projection">pos</span></a> <span class="id" title="var">ε</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_le"><span class="id" title="lemma">Rlt_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_lt_compat_l"><span class="id" title="lemma">Rmult_lt_compat_l</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#cond_pos"><span class="id" title="projection">cond_pos</span></a>| <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.eris.seq_amplification.html#lt_1_k"><span class="id" title="lemma">lt_1_k</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span> "Hε".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hl]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#wp_check"><span class="id" title="lemma">wp_check</span></a>; [|<span class="id" title="var">iFrame</span>]. <span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "[? -&gt;]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <span class="id" title="var">m'</span> <span class="id" title="var">f</span>) <span class="id" title="keyword">as</span> [|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hast'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iRight</span>. <span class="id" title="var">iSplitR</span>; [<span class="id" title="tactic">eauto</span>|]. <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iLeft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitR</span>; [<span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>. <span class="id" title="var">iSplit</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hsl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#worst_progress_bound"><span class="id" title="lemma">worst_progress_bound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WalkSAT" class="idref" href="#WalkSAT"><span class="id" title="definition">WalkSAT</span></a> <a id="f:207" class="idref" href="#f:207"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.expr"><span class="id" title="inductive">expr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">let</span></a><a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:</span></a> "a" <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#mk_init_asn"><span class="id" title="definition">mk_init_asn</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.prob_lang.notation.html#3127c6bc552ca21a494fc6e3474a507d"><span class="id" title="notation">()</span></a> <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">let</span></a><a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:</span></a> "l" <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#::expr_scope:'ref'_x"><span class="id" title="notation">ref</span></a> "a" <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">let</span></a><a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:</span></a> "_" <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_sampler_lib.html#gen_rejection_sampler"><span class="id" title="definition">gen_rejection_sampler</span></a> (<a class="idref" href="clutch.prob_lang.notation.html#d2c3354f6c46df814e66d4c5c9b9c738"><span class="id" title="notation">λ</span></a><a class="idref" href="clutch.prob_lang.notation.html#d2c3354f6c46df814e66d4c5c9b9c738"><span class="id" title="notation">:</span></a> "_"<a class="idref" href="clutch.prob_lang.notation.html#d2c3354f6c46df814e66d4c5c9b9c738"><span class="id" title="notation">,</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#sampler"><span class="id" title="definition">sampler</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:207"><span class="id" title="variable">f</span></a>) "l") (<a class="idref" href="clutch.prob_lang.notation.html#d2c3354f6c46df814e66d4c5c9b9c738"><span class="id" title="notation">λ</span></a><a class="idref" href="clutch.prob_lang.notation.html#d2c3354f6c46df814e66d4c5c9b9c738"><span class="id" title="notation">:</span></a> "_"<a class="idref" href="clutch.prob_lang.notation.html#d2c3354f6c46df814e66d4c5c9b9c738"><span class="id" title="notation">,</span></a> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#checker"><span class="id" title="definition">checker</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:207"><span class="id" title="variable">f</span></a>) "l")<a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"l")%<span class="id" title="var">E</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="initial_credit" class="idref" href="#initial_credit"><span class="id" title="lemma">initial_credit</span></a> (<a id="cf8e6feb1cd10082a6b865b58e4fb686" class="idref" href="#cf8e6feb1cd10082a6b865b58e4fb686"><span class="id" title="binder">ε</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>) <a id="Hpos:209" class="idref" href="#Hpos:209"><span class="id" title="binder">Hpos</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#cf8e6feb1cd10082a6b865b58e4fb686"><span class="id" title="variable">ε</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#7a481da288009fd152b236bf6845bd5a"><span class="id" title="definition">εInv</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#mkposreal"><span class="id" title="constructor">mkposreal</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonneg"><span class="id" title="projection">nonneg</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#cf8e6feb1cd10082a6b865b58e4fb686"><span class="id" title="variable">ε</span></a>) <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#Hpos:209"><span class="id" title="variable">Hpos</span></a>) <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a><a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#7a481da288009fd152b236bf6845bd5a"><span class="id" title="definition">εInv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.error_credits.html#ec_spend_irrel"><span class="id" title="lemma">ec_spend_irrel</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <a class="idref" href="clutch.eris.seq_amplification.html#fR_closed_2"><span class="id" title="lemma">fR_closed_2</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_diag"><span class="id" title="lemma">Nat.sub_diag</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rfunctions.html#pow_O"><span class="id" title="lemma">pow_O</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rminus_diag"><span class="id" title="lemma">Rminus_diag</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_0_l"><span class="id" title="lemma">Rdiv_0_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="walksat_spec_fpos" class="idref" href="#walksat_spec_fpos"><span class="id" title="lemma">walksat_spec_fpos</span></a> <a id="f:210" class="idref" href="#f:210"><span class="id" title="binder">f</span></a> <a id="solution:211" class="idref" href="#solution:211"><span class="id" title="binder">solution</span></a> <a id="E:212" class="idref" href="#E:212"><span class="id" title="binder">E</span></a> (<a id="221857d4a236ac7aa0f47b0410ef7015" class="idref" href="#221857d4a236ac7aa0f47b0410ef7015"><span class="id" title="binder">ε</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:211"><span class="id" title="variable">solution</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:210"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:211"><span class="id" title="variable">solution</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a>(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:210"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)%<span class="id" title="var">nat</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a>(0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#221857d4a236ac7aa0f47b0410ef7015"><span class="id" title="variable">ε</span></a>)%<span class="id" title="var">R</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#221857d4a236ac7aa0f47b0410ef7015"><span class="id" title="variable">ε</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">WP</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#WalkSAT"><span class="id" title="definition">WalkSAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:210"><span class="id" title="variable">f</span></a><a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#E:212"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">[{</span></a> <span class="id" title="keyword">fun</span> <a id="v:214" class="idref" href="#v:214"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">(</span></a><a id="l:215" class="idref" href="#l:215"><span class="id" title="binder">l</span></a> : <a class="idref" href="clutch.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a>) <a id="a:216" class="idref" href="#a:216"><span class="id" title="binder">a</span></a> <a id="asn:217" class="idref" href="#asn:217"><span class="id" title="binder">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:214"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:215"><span class="id" title="variable">l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:215"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.eris.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:217"><span class="id" title="variable">asn</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn"><span class="id" title="definition">inv_asn</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#a:216"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:217"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#a:216"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:210"><span class="id" title="variable">f</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">}]</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "%HF %Hlens %Hlenf %Hε Hcr".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#WalkSAT"><span class="id" title="definition">WalkSAT</span></a> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#mk_init_asn"><span class="id" title="definition">mk_init_asn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#mk_init_asn'"><span class="id" title="definition">mk_init_asn'</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">wp_apply</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#init_asn'_inv"><span class="id" title="lemma">init_asn'_inv</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "[%m %Hinv]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hinv</span> <span class="id" title="var">Hmn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">wp_pure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.prob_lang.notation.html#Alloc"><span class="id" title="abbreviation">Alloc</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="clutch.eris.total_primitive_laws.html#twp_alloc"><span class="id" title="lemma">twp_alloc</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">l</span>) "Hl".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<span class="id" title="var">_</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.Rec"><span class="id" title="constructor">Rec</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.binders.html#BAnon"><span class="id" title="constructor">BAnon</span></a> "_" (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#checker"><span class="id" title="definition">checker</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)))%<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hcr Hl]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">wp_pure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">e1</span> := (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#339908e3b4e4dbd655707b50b2c523c8"><span class="id" title="definition">εExcess</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#mkposreal"><span class="id" title="constructor">mkposreal</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonneg"><span class="id" title="projection">nonneg</span></a> <span class="id" title="var">ε</span>) <span class="id" title="var">Hε</span>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">He1</span> : (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">e1</span>)%<span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_le"><span class="id" title="lemma">Rlt_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_lt_0_compat"><span class="id" title="lemma">Rdiv_lt_0_compat</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#339908e3b4e4dbd655707b50b2c523c8"><span class="id" title="definition">εExcess</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> -&gt; <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rminus_lt_0"><span class="id" title="lemma">Rcomplements.Rminus_lt_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{1}(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonneg"><span class="id" title="projection">nonneg</span></a> <span class="id" title="var">ε</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hε</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_lt_compat_l"><span class="id" title="lemma">Rmult_lt_compat_l</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.eris.seq_amplification.html#lt_1_k"><span class="id" title="lemma">lt_1_k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#nfloor_ex"><span class="id" title="lemma">Rcomplements.nfloor_ex</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">He1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Le</span> [<span class="id" title="var">HLe_lo</span> <span class="id" title="var">Hle_hi</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpos_exc</span>: (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">ε</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.eris.seq_amplification.html#k"><span class="id" title="definition">k</span></a> 2 <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#228b4bf1ac04fae1b1503bd78316696b"><span class="id" title="lemma">εExcess_obligation_1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">ε</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)%<span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_gt"><span class="id" title="lemma">Rlt_gt</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_0_minus"><span class="id" title="lemma">Rlt_0_minus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= -{1}(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonneg"><span class="id" title="projection">nonneg</span></a> <span class="id" title="var">ε</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_lt_compat_l"><span class="id" title="lemma">Rmult_lt_compat_l</span></a>; [<span class="id" title="var">done</span>| <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.eris.seq_amplification.html#lt_1_k"><span class="id" title="lemma">lt_1_k</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="clutch.eris.error_credits.html#ec_zero"><span class="id" title="lemma">ec_zero</span></a> <span class="id" title="keyword">as</span> "He_init".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_higherorder_incremental.html#ho_incremental_ubdd_approx_safe"><span class="id" title="lemma">ho_incremental_ubdd_approx_safe</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Le</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 2) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hcr Hl He_init]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; [|<span class="id" title="var">iSplit</span>; [|<span class="id" title="var">iSplitR</span>; [|<span class="id" title="var">iSplitR</span> "Hcr Hl"]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3: { <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#walksat_sampling_scheme"><span class="id" title="lemma">walksat_sampling_scheme</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#iProgress"><span class="id" title="definition">iProgress</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span>. { <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#initial_credit"><span class="id" title="lemma">initial_credit</span></a>. <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.error_credits.html#ec_spend_irrel"><span class="id" title="lemma">ec_spend_irrel</span></a>; [<span class="id" title="tactic">eauto</span>|<span class="id" title="var">iFrame</span>]. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn"><span class="id" title="definition">inv_asn</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hlens</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#worst_progress_bound"><span class="id" title="lemma">worst_progress_bound</span></a>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">iPureIntro</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.error_credits.html#ec_spend_irrel"><span class="id" title="lemma">ec_spend_irrel</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_left"><span class="id" title="lemma">Rmax_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_minus"><span class="id" title="lemma">Rle_minus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_l_sym"><span class="id" title="lemma">Rinv_l_sym</span></a> (<span class="id" title="var">ε</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="clutch.eris.seq_amplification.html#k"><span class="id" title="definition">k</span></a> 2 <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#228b4bf1ac04fae1b1503bd78316696b"><span class="id" title="lemma">εExcess_obligation_1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">ε</span>)); <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_r"><span class="id" title="lemma">Rmult_le_compat_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_le"><span class="id" title="lemma">Rlt_le</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rgt_lt"><span class="id" title="lemma">Rgt_lt</span></a>. <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_le"><span class="id" title="lemma">Rlt_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#S_INR"><span class="id" title="lemma">S_INR</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle_hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hle_hi</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: { <span class="id" title="var">iPureIntro</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">r</span>) "[% [% (? &amp; % &amp; %)]]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Handles&nbsp;f&nbsp;=&nbsp;<span class="inlinecode"></span>&nbsp;separately&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="walksat_spec" class="idref" href="#walksat_spec"><span class="id" title="lemma">walksat_spec</span></a> <a id="f:218" class="idref" href="#f:218"><span class="id" title="binder">f</span></a> <a id="solution:219" class="idref" href="#solution:219"><span class="id" title="binder">solution</span></a> <a id="E:220" class="idref" href="#E:220"><span class="id" title="binder">E</span></a> (<a id="678afe2dc66f3e7f8ed54b32ef4c5a37" class="idref" href="#678afe2dc66f3e7f8ed54b32ef4c5a37"><span class="id" title="binder">ε</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:219"><span class="id" title="variable">solution</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:218"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:219"><span class="id" title="variable">solution</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a>(0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#678afe2dc66f3e7f8ed54b32ef4c5a37"><span class="id" title="variable">ε</span></a>)%<span class="id" title="var">R</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.eris.error_credits.html#08e29de66e639a50320709004a6b0ae4"><span class="id" title="notation">↯</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#678afe2dc66f3e7f8ed54b32ef4c5a37"><span class="id" title="variable">ε</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">WP</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#WalkSAT"><span class="id" title="definition">WalkSAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:218"><span class="id" title="variable">f</span></a><a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#E:220"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">[{</span></a> <span class="id" title="keyword">fun</span> <a id="v:222" class="idref" href="#v:222"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">(</span></a><a id="l:223" class="idref" href="#l:223"><span class="id" title="binder">l</span></a> : <a class="idref" href="clutch.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a>) <a id="a:224" class="idref" href="#a:224"><span class="id" title="binder">a</span></a> <a id="asn:225" class="idref" href="#asn:225"><span class="id" title="binder">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#v:222"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:223"><span class="id" title="variable">l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#l:223"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.eris.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:225"><span class="id" title="variable">asn</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn"><span class="id" title="definition">inv_asn</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#a:224"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#asn:225"><span class="id" title="variable">asn</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#a:224"><span class="id" title="variable">a</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:218"><span class="id" title="variable">f</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="clutch.bi.weakestpre.html#af3e5fae19739665a91d9c2915a77ce8"><span class="id" title="notation">}]</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "% % % ?".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">f</span>) <span class="id" title="keyword">as</span> [|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hf</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#walksat_spec_fpos"><span class="id" title="lemma">walksat_spec_fpos</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">iPureIntro</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#nil_length_inv"><span class="id" title="lemma">nil_length_inv</span></a> <span class="id" title="var">f</span>); [|<span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#WalkSAT"><span class="id" title="definition">WalkSAT</span></a> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#mk_init_asn"><span class="id" title="definition">mk_init_asn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#mk_init_asn'"><span class="id" title="definition">mk_init_asn'</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">wp_apply</span> (<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#init_asn'_inv"><span class="id" title="lemma">init_asn'_inv</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT.N"><span class="id" title="variable">N</span></a> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "[%m [% %]]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_bind</span> (<a class="idref" href="clutch.prob_lang.notation.html#Alloc"><span class="id" title="abbreviation">Alloc</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="clutch.eris.total_primitive_laws.html#twp_alloc"><span class="id" title="lemma">twp_alloc</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">l</span>) "Hl".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#inv_asn"><span class="id" title="definition">inv_asn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#higherorder_walkSAT"><span class="id" title="section">higherorder_walkSAT</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="walksat_termination_limit" class="idref" href="#walksat_termination_limit"><span class="id" title="lemma">walksat_termination_limit</span></a> <a id="241cf15eb30200e8a4c9ed443b87cbd2" class="idref" href="#241cf15eb30200e8a4c9ed443b87cbd2"><span class="id" title="binder">Σ</span></a> `{<a id="H:227" class="idref" href="#H:227"><span class="id" title="binder">erisGpreS</span></a> <a id="H:227" class="idref" href="#H:227"><span class="id" title="binder">Σ</span></a>} (<a id="N:228" class="idref" href="#N:228"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="HN:229" class="idref" href="#HN:229"><span class="id" title="binder">HN</span></a> : (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#N:228"><span class="id" title="variable">N</span></a>)%<span class="id" title="var">nat</span>) (<a id="2e12aedcbcb60fd78c86a47252bf41fd" class="idref" href="#2e12aedcbcb60fd78c86a47252bf41fd"><span class="id" title="binder">σ</span></a> : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.state"><span class="id" title="record">state</span></a>) (<a id="f:231" class="idref" href="#f:231"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula"><span class="id" title="definition">formula</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#N:228"><span class="id" title="variable">N</span></a>) (<a id="solution:232" class="idref" href="#solution:232"><span class="id" title="binder">solution</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#N:228"><span class="id" title="variable">N</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:232"><span class="id" title="variable">solution</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:231"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:232"><span class="id" title="variable">solution</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#N:228"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.markov.html#lim_exec"><span class="id" title="definition">lim_exec</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#WalkSAT"><span class="id" title="definition">WalkSAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#N:228"><span class="id" title="variable">N</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:231"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#2e12aedcbcb60fd78c86a47252bf41fd"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1)%<span class="id" title="var">R</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="clutch.prob.distribution.html#pmf_SeriesC"><span class="id" title="projection">pmf_SeriesC</span></a> (<a class="idref" href="clutch.prob.markov.html#lim_exec"><span class="id" title="definition">lim_exec</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#WalkSAT"><span class="id" title="definition">WalkSAT</span></a> <span class="id" title="var">N</span> <span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> σ<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HR</span> : (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="clutch.prelude.NNRbar.html#nnreal_zero"><span class="id" title="definition">nnreal_zero</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="clutch.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="clutch.prob.markov.html#lim_exec"><span class="id" title="definition">lim_exec</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#WalkSAT"><span class="id" title="definition">WalkSAT</span></a> <span class="id" title="var">N</span> <span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> σ<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>))%<span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="clutch.eris.total_adequacy.html#twp_mass_lim_exec_limit"><span class="id" title="lemma">twp_mass_lim_exec_limit</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iStartProof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hcr".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hcr]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#walksat_spec"><span class="id" title="lemma">walksat_spec</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "?"; <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rminus_0_r"><span class="id" title="lemma">Rminus_0_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HR</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="walksat_limit" class="idref" href="#walksat_limit"><span class="id" title="lemma">walksat_limit</span></a> <a id="6415288ff3ab9e6abe4d622289bc17a1" class="idref" href="#6415288ff3ab9e6abe4d622289bc17a1"><span class="id" title="binder">Σ</span></a> `{<a id="H:234" class="idref" href="#H:234"><span class="id" title="binder">erisGpreS</span></a> <a id="H:234" class="idref" href="#H:234"><span class="id" title="binder">Σ</span></a>} (<a id="N:235" class="idref" href="#N:235"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="HN:236" class="idref" href="#HN:236"><span class="id" title="binder">HN</span></a> : (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#N:235"><span class="id" title="variable">N</span></a>)%<span class="id" title="var">nat</span>) (<a id="e0fcfaf1d9f99fda691d23f3c3f225b3" class="idref" href="#e0fcfaf1d9f99fda691d23f3c3f225b3"><span class="id" title="binder">σ</span></a> : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.state"><span class="id" title="record">state</span></a>) (<a id="f:238" class="idref" href="#f:238"><span class="id" title="binder">f</span></a> : <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula"><span class="id" title="definition">formula</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#N:235"><span class="id" title="variable">N</span></a>) (<a id="solution:239" class="idref" href="#solution:239"><span class="id" title="binder">solution</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#formula_SAT"><span class="id" title="definition">formula_SAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#N:235"><span class="id" title="variable">N</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:239"><span class="id" title="variable">solution</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:238"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#solution:239"><span class="id" title="variable">solution</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#N:235"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="clutch.prob.graded_predicate_lifting.html#tgl"><span class="id" title="definition">tgl</span></a> (<a class="idref" href="clutch.prob.markov.html#lim_exec"><span class="id" title="definition">lim_exec</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#WalkSAT"><span class="id" title="definition">WalkSAT</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#N:235"><span class="id" title="variable">N</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#f:238"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#e0fcfaf1d9f99fda691d23f3c3f225b3"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a>) <span class="comment">(*&nbsp;Best&nbsp;we&nbsp;can&nbsp;do&nbsp;is&nbsp;prove&nbsp;it&nbsp;terminates?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.prelude.NNRbar.html#nnreal_zero"><span class="id" title="definition">nnreal_zero</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="clutch.eris.total_adequacy.html#twp_tgl_limit"><span class="id" title="lemma">twp_tgl_limit</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iStartProof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hcr".<br/>
&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.eris.total_weakestpre.html#tgl_wp_wand"><span class="id" title="lemma">tgl_wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hcr]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="clutch.eris.examples.approximate_samplers.approx_walkSAT.html#walksat_spec"><span class="id" title="lemma">walksat_spec</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "HR".<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;HR&nbsp;is&nbsp;unused...&nbsp;is&nbsp;there&nbsp;any&nbsp;proposition&nbsp;more&nbsp;interesting&nbsp;that&nbsp;⊤&nbsp;we&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
