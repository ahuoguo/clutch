<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">clutch.rel_logic.model</h1>

<div class="code">
</div>

<div class="doc">
A binary logical relation for System F_mu_ref with tapes 
</div>
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.base_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">na_invariants</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">proofmode</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.program_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="clutch.program_logic.language.html#"><span class="id" title="library">language</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#"><span class="id" title="library">ectxi_language</span></a> <a class="idref" href="clutch.program_logic.weakestpre.html#"><span class="id" title="library">weakestpre</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.prelude</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="clutch.prelude.properness.html#"><span class="id" title="library">properness</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.prob_lang</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="clutch.prob_lang.locations.html#"><span class="id" title="library">locations</span></a> <a class="idref" href="clutch.prob_lang.notation.html#"><span class="id" title="library">notation</span></a> <a class="idref" href="clutch.prob_lang.lang.html#"><span class="id" title="library">lang</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">clutch.rel_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="clutch.rel_logic.spec_ra.html#"><span class="id" title="library">spec_ra</span></a> <a class="idref" href="clutch.rel_logic.primitive_laws.html#"><span class="id" title="library">primitive_laws</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="logN" class="idref" href="#logN"><span class="id" title="definition">logN</span></a> : <span class="id" title="definition">namespace</span> := <span class="id" title="definition">nroot</span> <span class="id" title="notation">.@</span> "logN".<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="clutchRGS" class="idref" href="#clutchRGS"><span class="id" title="record">clutchRGS</span></a> <a id="0101b9beac487b383a5ba2a8f6922788" class="idref" href="#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="binder">Σ</span></a> := <span class="id" title="var">ClutchRGS</span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="clutchRGS_clutchGS" class="idref" href="#clutchRGS_clutchGS"><span class="id" title="projection">clutchRGS_clutchGS</span></a> :&gt; <a class="idref" href="clutch.rel_logic.primitive_laws.html#clutchGS"><span class="id" title="class">clutchGS</span></a> <a class="idref" href="clutch.rel_logic.model.html#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="variable">Σ</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="clutchRGS_na_invG" class="idref" href="#clutchRGS_na_invG"><span class="id" title="projection">clutchRGS_na_invG</span></a> :&gt; <span class="id" title="class">na_invG</span> <a class="idref" href="clutch.rel_logic.model.html#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="variable">Σ</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="clutchRGS_nais" class="idref" href="#clutchRGS_nais"><span class="id" title="projection">clutchRGS_nais</span></a> : <span class="id" title="definition">na_inv_pool_name</span>;<br/>
}.<br/>

<br/>
</div>

<div class="doc">
Semantic intepretation of types 
</div>
<div class="code">
<span class="id" title="keyword">Record</span> <a id="lrel" class="idref" href="#lrel"><span class="id" title="record">lrel</span></a> <a id="f525610baade8c1419220d275a93fff0" class="idref" href="#f525610baade8c1419220d275a93fff0"><span class="id" title="binder">Σ</span></a> := <span class="id" title="var">LRel</span> {<br/>
&nbsp;&nbsp;<a id="lrel_car" class="idref" href="#lrel_car"><span class="id" title="projection">lrel_car</span></a> :&gt; <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="abbreviation">iProp</span> <a class="idref" href="clutch.rel_logic.model.html#f525610baade8c1419220d275a93fff0"><span class="id" title="variable">Σ</span></a>;<br/>
&nbsp;&nbsp;<a id="lrel_persistent" class="idref" href="#lrel_persistent"><span class="id" title="projection">lrel_persistent</span></a> <a id="v1:9" class="idref" href="#v1:9"><span class="id" title="binder">v1</span></a> <a id="v2:10" class="idref" href="#v2:10"><span class="id" title="binder">v2</span></a> : <span class="id" title="class">Persistent</span> (<a class="idref" href="clutch.rel_logic.model.html#lrel_car:8"><span class="id" title="method">lrel_car</span></a> <a class="idref" href="clutch.rel_logic.model.html#v1:9"><span class="id" title="variable">v1</span></a> <a class="idref" href="clutch.rel_logic.model.html#v2:10"><span class="id" title="variable">v2</span></a>)<br/>
}.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="clutch.rel_logic.model.html#LRel"><span class="id" title="constructor">LRel</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span>%<span class="id" title="var">I</span> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="clutch.rel_logic.model.html#lrel_car"><span class="id" title="projection">lrel_car</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>
<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">lrel_scope</span>.<br/>
<span class="id" title="keyword">Bind Scope</span> <span class="id" title="var">lrel_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">lrel</span>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">lrel_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">lrel</span>.<br/>
<span class="id" title="keyword">Global</span> <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">lrel_persistent</span>.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;COFE&nbsp;structure&nbsp;on&nbsp;semantic&nbsp;types&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <a id="lrel_ofe" class="idref" href="#lrel_ofe"><span class="id" title="section">lrel_ofe</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="6065d52c95091350a1253a1d7148d2c7" class="idref" href="#6065d52c95091350a1253a1d7148d2c7"><span class="id" title="binder">Σ</span></a> : <span class="id" title="record">gFunctors</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="lrel_equiv" class="idref" href="#lrel_equiv"><span class="id" title="instance">lrel_equiv</span></a> : <span class="id" title="class">Equiv</span> (<a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#45028620e8118e1866ceba2c4134cd92"><span class="id" title="variable">Σ</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="A:13" class="idref" href="#A:13"><span class="id" title="binder">A</span></a> <a id="B:14" class="idref" href="#B:14"><span class="id" title="binder">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="w1:15" class="idref" href="#w1:15"><span class="id" title="binder">w1</span></a> <a id="w2:16" class="idref" href="#w2:16"><span class="id" title="binder">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:13"><span class="id" title="variable">A</span></a> <a class="idref" href="clutch.rel_logic.model.html#w1:15"><span class="id" title="variable">w1</span></a> <a class="idref" href="clutch.rel_logic.model.html#w2:16"><span class="id" title="variable">w2</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="clutch.rel_logic.model.html#B:14"><span class="id" title="variable">B</span></a> <a class="idref" href="clutch.rel_logic.model.html#w1:15"><span class="id" title="variable">w1</span></a> <a class="idref" href="clutch.rel_logic.model.html#w2:16"><span class="id" title="variable">w2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="lrel_dist" class="idref" href="#lrel_dist"><span class="id" title="instance">lrel_dist</span></a> : <span class="id" title="class">Dist</span> (<a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#45028620e8118e1866ceba2c4134cd92"><span class="id" title="variable">Σ</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:17" class="idref" href="#n:17"><span class="id" title="binder">n</span></a> <a id="A:18" class="idref" href="#A:18"><span class="id" title="binder">A</span></a> <a id="B:19" class="idref" href="#B:19"><span class="id" title="binder">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="w1:20" class="idref" href="#w1:20"><span class="id" title="binder">w1</span></a> <a id="w2:21" class="idref" href="#w2:21"><span class="id" title="binder">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:18"><span class="id" title="variable">A</span></a> <a class="idref" href="clutch.rel_logic.model.html#w1:20"><span class="id" title="variable">w1</span></a> <a class="idref" href="clutch.rel_logic.model.html#w2:21"><span class="id" title="variable">w2</span></a> <span class="id" title="notation">≡{</span><a class="idref" href="clutch.rel_logic.model.html#n:17"><span class="id" title="variable">n</span></a><span class="id" title="notation">}≡</span> <a class="idref" href="clutch.rel_logic.model.html#B:19"><span class="id" title="variable">B</span></a> <a class="idref" href="clutch.rel_logic.model.html#w1:20"><span class="id" title="variable">w1</span></a> <a class="idref" href="clutch.rel_logic.model.html#w2:21"><span class="id" title="variable">w2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lrel_ofe_mixin" class="idref" href="#lrel_ofe_mixin"><span class="id" title="lemma">lrel_ofe_mixin</span></a> : <span class="id" title="record">OfeMixin</span> (<a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#45028620e8118e1866ceba2c4134cd92"><span class="id" title="variable">Σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="lemma">iso_ofe_mixin</span> (<a class="idref" href="clutch.rel_logic.model.html#lrel_car"><span class="id" title="projection">lrel_car</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#45028620e8118e1866ceba2c4134cd92"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> <span class="id" title="notation">-</span><span class="id" title="notation">d</span><span class="id" title="notation">&gt;</span> <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> <span class="id" title="notation">-</span><span class="id" title="notation">d</span><span class="id" title="notation">&gt;</span> <span class="id" title="abbreviation">iPropO</span> <a class="idref" href="clutch.rel_logic.model.html#45028620e8118e1866ceba2c4134cd92"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a>)). <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="lrelC" class="idref" href="#lrelC"><span class="id" title="definition">lrelC</span></a> := <span class="id" title="constructor">Ofe</span> (<a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#45028620e8118e1866ceba2c4134cd92"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="clutch.rel_logic.model.html#lrel_ofe_mixin"><span class="id" title="lemma">lrel_ofe_mixin</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="lrel_cofe" class="idref" href="#lrel_cofe"><span class="id" title="instance">lrel_cofe</span></a> : <span class="id" title="class">Cofe</span> <a class="idref" href="clutch.rel_logic.model.html#lrelC"><span class="id" title="definition">lrelC</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">iso_cofe_subtype'</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="A:25" class="idref" href="#A:25"><span class="id" title="binder">A</span></a> : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> <span class="id" title="notation">-</span><span class="id" title="notation">d</span><span class="id" title="notation">&gt;</span> <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> <span class="id" title="notation">-</span><span class="id" title="notation">d</span><span class="id" title="notation">&gt;</span> <span class="id" title="abbreviation">iPropO</span> <a class="idref" href="clutch.rel_logic.model.html#45028620e8118e1866ceba2c4134cd92"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="w1:26" class="idref" href="#w1:26"><span class="id" title="binder">w1</span></a> <a id="w2:27" class="idref" href="#w2:27"><span class="id" title="binder">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="class">Persistent</span> (<a class="idref" href="clutch.rel_logic.model.html#A:22"><span class="id" title="variable">A</span></a> <a class="idref" href="clutch.rel_logic.model.html#w1:23"><span class="id" title="variable">w1</span></a> <a class="idref" href="clutch.rel_logic.model.html#w2:24"><span class="id" title="variable">w2</span></a>)) (@<a class="idref" href="clutch.rel_logic.model.html#LRel"><span class="id" title="constructor">LRel</span></a> <span class="id" title="var">_</span>) <a class="idref" href="clutch.rel_logic.model.html#lrel_car"><span class="id" title="projection">lrel_car</span></a>)=&gt;//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">limit_preserving_forall</span>=&gt; <span class="id" title="var">w1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">limit_preserving_forall</span>=&gt; <span class="id" title="var">w2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">bi.limit_preserving_Persistent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">HPQ</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">HPQ</span> <span class="id" title="var">w1</span> <span class="id" title="var">w2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="lrel_inhabited" class="idref" href="#lrel_inhabited"><span class="id" title="instance">lrel_inhabited</span></a> : <span class="id" title="class">Inhabited</span> (<a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#45028620e8118e1866ceba2c4134cd92"><span class="id" title="variable">Σ</span></a>) := <span class="id" title="constructor">populate</span> (<a class="idref" href="clutch.rel_logic.model.html#LRel"><span class="id" title="constructor">LRel</span></a> <span class="id" title="method">inhabitant</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="lrel_car_ne" class="idref" href="#lrel_car_ne"><span class="id" title="instance">lrel_car_ne</span></a> <a id="n:28" class="idref" href="#n:28"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="definition">dist</span> <a class="idref" href="clutch.rel_logic.model.html#n:28"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(=)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(=)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="definition">dist</span> <a class="idref" href="clutch.rel_logic.model.html#n:28"><span class="id" title="variable">n</span></a>) <a class="idref" href="clutch.rel_logic.model.html#lrel_car"><span class="id" title="projection">lrel_car</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">A'</span> ? <span class="id" title="var">w1</span> <span class="id" title="var">w2</span> &lt;- ? ? &lt;-. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="lrel_car_proper" class="idref" href="#lrel_car_proper"><span class="id" title="instance">lrel_car_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="notation">(≡)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(=)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(=)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(≡)</span>) <a class="idref" href="clutch.rel_logic.model.html#lrel_car"><span class="id" title="projection">lrel_car</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper_from_ne</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.rel_logic.model.html#lrel_ofe"><span class="id" title="section">lrel_ofe</span></a>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="clutch.rel_logic.model.html#lrelC"><span class="id" title="definition">lrelC</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>

<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="ectx_itemO" class="idref" href="#ectx_itemO"><span class="id" title="definition">ectx_itemO</span></a> := <span class="id" title="abbreviation">leibnizO</span> <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.ectx_item"><span class="id" title="inductive">ectx_item</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="na_ownP" class="idref" href="#na_ownP"><span class="id" title="definition">na_ownP</span></a> `{<a id="clutchRGS0:30" class="idref" href="#clutchRGS0:30"><span class="id" title="binder">!</span></a><a id="clutchRGS0:30" class="idref" href="#clutchRGS0:30"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:30" class="idref" href="#clutchRGS0:30"><span class="id" title="binder">Σ</span></a>} := <span class="id" title="definition">na_own</span> <a class="idref" href="clutch.rel_logic.model.html#clutchRGS_nais"><span class="id" title="method">clutchRGS_nais</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="na_invP" class="idref" href="#na_invP"><span class="id" title="definition">na_invP</span></a> `{<a id="clutchRGS0:32" class="idref" href="#clutchRGS0:32"><span class="id" title="binder">!</span></a><a id="clutchRGS0:32" class="idref" href="#clutchRGS0:32"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:32" class="idref" href="#clutchRGS0:32"><span class="id" title="binder">Σ</span></a>} := <span class="id" title="definition">na_inv</span> <a class="idref" href="clutch.rel_logic.model.html#clutchRGS_nais"><span class="id" title="method">clutchRGS_nais</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="na_closeP" class="idref" href="#na_closeP"><span class="id" title="definition">na_closeP</span></a> `{<a id="clutchRGS0:34" class="idref" href="#clutchRGS0:34"><span class="id" title="binder">!</span></a><a id="clutchRGS0:34" class="idref" href="#clutchRGS0:34"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:34" class="idref" href="#clutchRGS0:34"><span class="id" title="binder">Σ</span></a>} <a id="P:35" class="idref" href="#P:35"><span class="id" title="binder">P</span></a> <a id="N:36" class="idref" href="#N:36"><span class="id" title="binder">N</span></a> <a id="E:37" class="idref" href="#E:37"><span class="id" title="binder">E</span></a> := (<span class="id" title="notation">▷</span> <a class="idref" href="clutch.rel_logic.model.html#P:35"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="clutch.rel_logic.model.html#na_ownP"><span class="id" title="definition">na_ownP</span></a> (<a class="idref" href="clutch.rel_logic.model.html#E:37"><span class="id" title="variable">E</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">↑</span><a class="idref" href="clutch.rel_logic.model.html#N:36"><span class="id" title="variable">N</span></a>) <span class="id" title="notation">={</span><span class="id" title="notation">⊤</span><span class="id" title="notation">}=∗</span> <a class="idref" href="clutch.rel_logic.model.html#na_ownP"><span class="id" title="definition">na_ownP</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:37"><span class="id" title="variable">E</span></a>)%<span class="id" title="var">I</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="semtypes" class="idref" href="#semtypes"><span class="id" title="section">semtypes</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="clutchRGS0:39" class="idref" href="#clutchRGS0:39"><span class="id" title="binder">!</span></a><a id="clutchRGS0:39" class="idref" href="#clutchRGS0:39"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:39" class="idref" href="#clutchRGS0:39"><span class="id" title="binder">Σ</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">e</span> : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.expr"><span class="id" title="inductive">expr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">E</span> : <span class="id" title="definition">coPset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Set</span> <span class="id" title="var">Primitive</span> <span class="id" title="var">Projections</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="refines_def" class="idref" href="#refines_def"><span class="id" title="definition">refines_def</span></a> (<a id="E:40" class="idref" href="#E:40"><span class="id" title="binder">E</span></a> : <span class="id" title="definition">coPset</span>) (<a id="e:41" class="idref" href="#e:41"><span class="id" title="binder">e</span></a> : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.expr"><span class="id" title="inductive">expr</span></a>) (<a id="e':42" class="idref" href="#e':42"><span class="id" title="binder">e'</span></a> : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.expr"><span class="id" title="inductive">expr</span></a>) (<a id="A:43" class="idref" href="#A:43"><span class="id" title="binder">A</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="abbreviation">iProp</span> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">∀</span> <a id="K:44" class="idref" href="#K:44"><span class="id" title="binder">K</span></a><span class="id" title="notation">,</span> <a class="idref" href="clutch.rel_logic.spec_ra.html#refines_right"><span class="id" title="definition">refines_right</span></a> <a class="idref" href="clutch.rel_logic.model.html#K:44"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.rel_logic.model.html#e':42"><span class="id" title="variable">e'</span></a> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.model.html#na_ownP"><span class="id" title="definition">na_ownP</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:40"><span class="id" title="variable">E</span></a> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">WP</span> <a class="idref" href="clutch.rel_logic.model.html#e:41"><span class="id" title="variable">e</span></a> <span class="id" title="notation">{{</span> <a id="v:45" class="idref" href="#v:45"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span> <span class="id" title="notation">∃</span> <a id="v':46" class="idref" href="#v':46"><span class="id" title="binder">v'</span></a><span class="id" title="notation">,</span> <a class="idref" href="clutch.rel_logic.spec_ra.html#refines_right"><span class="id" title="definition">refines_right</span></a> <a class="idref" href="clutch.rel_logic.model.html#K:44"><span class="id" title="variable">K</span></a> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.of_val"><span class="id" title="abbreviation">of_val</span></a> <a class="idref" href="clutch.rel_logic.model.html#v':46"><span class="id" title="variable">v'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="clutch.rel_logic.model.html#na_ownP"><span class="id" title="definition">na_ownP</span></a> <span class="id" title="notation">⊤</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="clutch.rel_logic.model.html#A:43"><span class="id" title="variable">A</span></a> <a class="idref" href="clutch.rel_logic.model.html#v:45"><span class="id" title="variable">v</span></a> <a class="idref" href="clutch.rel_logic.model.html#v':46"><span class="id" title="variable">v'</span></a> <span class="id" title="notation">}}</span>)%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="refines_aux" class="idref" href="#refines_aux"><span class="id" title="definition">refines_aux</span></a> : <span class="id" title="record">seal</span> <a class="idref" href="clutch.rel_logic.model.html#refines_def"><span class="id" title="definition">refines_def</span></a>. <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="refines" class="idref" href="#refines"><span class="id" title="definition">refines</span></a> := <span class="id" title="projection">unseal</span> <a class="idref" href="clutch.rel_logic.model.html#refines_aux"><span class="id" title="definition">refines_aux</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="refines_eq" class="idref" href="#refines_eq"><span class="id" title="definition">refines_eq</span></a> : <a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.rel_logic.model.html#refines_def"><span class="id" title="definition">refines_def</span></a> := <span class="id" title="projection">seal_eq</span> <a class="idref" href="clutch.rel_logic.model.html#refines_aux"><span class="id" title="definition">refines_aux</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="refines_ne" class="idref" href="#refines_ne"><span class="id" title="instance">refines_ne</span></a> <a id="E:47" class="idref" href="#E:47"><span class="id" title="binder">E</span></a> <a id="n:48" class="idref" href="#n:48"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="notation">(=)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(=)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><span class="id" title="definition">dist</span> <a class="idref" href="clutch.rel_logic.model.html#n:48"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><span class="id" title="definition">dist</span> <a class="idref" href="clutch.rel_logic.model.html#n:48"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a>) (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:47"><span class="id" title="variable">E</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.rel_logic.model.html#refines_eq"><span class="id" title="definition">refines_eq</span></a> /<a class="idref" href="clutch.rel_logic.model.html#refines_def"><span class="id" title="definition">refines_def</span></a>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="refines_proper" class="idref" href="#refines_proper"><span class="id" title="instance">refines_proper</span></a> <a id="E:49" class="idref" href="#E:49"><span class="id" title="binder">E</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="notation">(=)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(=)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(≡)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(≡)</span>) (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:49"><span class="id" title="variable">E</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper_from_ne</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lrel_unit" class="idref" href="#lrel_unit"><span class="id" title="definition">lrel_unit</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> := <a class="idref" href="clutch.rel_logic.model.html#LRel"><span class="id" title="constructor">LRel</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w1:50" class="idref" href="#w1:50"><span class="id" title="binder">w1</span></a> <a id="w2:51" class="idref" href="#w2:51"><span class="id" title="binder">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">⌜</span> <a class="idref" href="clutch.rel_logic.model.html#w1:50"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.prob_lang.notation.html#3127c6bc552ca21a494fc6e3474a507d"><span class="id" title="notation">()</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.rel_logic.model.html#w2:51"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.prob_lang.notation.html#3127c6bc552ca21a494fc6e3474a507d"><span class="id" title="notation">()</span></a> <span class="id" title="notation">⌝</span>%<span class="id" title="var">I</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lrel_bool" class="idref" href="#lrel_bool"><span class="id" title="definition">lrel_bool</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> := <a class="idref" href="clutch.rel_logic.model.html#LRel"><span class="id" title="constructor">LRel</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w1:52" class="idref" href="#w1:52"><span class="id" title="binder">w1</span></a> <a id="w2:53" class="idref" href="#w2:53"><span class="id" title="binder">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">∃</span> <a id="b:54" class="idref" href="#b:54"><span class="id" title="binder">b</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><span class="id" title="notation">,</span> <span class="id" title="notation">⌜</span> <a class="idref" href="clutch.rel_logic.model.html#w1:52"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.model.html#b:54"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.rel_logic.model.html#w2:53"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.model.html#b:54"><span class="id" title="variable">b</span></a> <span class="id" title="notation">⌝</span>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lrel_nat" class="idref" href="#lrel_nat"><span class="id" title="definition">lrel_nat</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> := <a class="idref" href="clutch.rel_logic.model.html#LRel"><span class="id" title="constructor">LRel</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w1:55" class="idref" href="#w1:55"><span class="id" title="binder">w1</span></a> <a id="w2:56" class="idref" href="#w2:56"><span class="id" title="binder">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">∃</span> <a id="n:57" class="idref" href="#n:57"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><span class="id" title="notation">,</span> <span class="id" title="notation">⌜</span> <a class="idref" href="clutch.rel_logic.model.html#w1:55"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.model.html#n:57"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.rel_logic.model.html#w2:56"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.model.html#n:57"><span class="id" title="variable">n</span></a> <span class="id" title="notation">⌝</span>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lrel_int" class="idref" href="#lrel_int"><span class="id" title="definition">lrel_int</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> := <a class="idref" href="clutch.rel_logic.model.html#LRel"><span class="id" title="constructor">LRel</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w1:58" class="idref" href="#w1:58"><span class="id" title="binder">w1</span></a> <a id="w2:59" class="idref" href="#w2:59"><span class="id" title="binder">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">∃</span> <a id="n:60" class="idref" href="#n:60"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a><span class="id" title="notation">,</span> <span class="id" title="notation">⌜</span> <a class="idref" href="clutch.rel_logic.model.html#w1:58"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.model.html#n:60"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="clutch.rel_logic.model.html#w2:59"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.model.html#n:60"><span class="id" title="variable">n</span></a> <span class="id" title="notation">⌝</span>)%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lrel_arr" class="idref" href="#lrel_arr"><span class="id" title="definition">lrel_arr</span></a> (<a id="A1:61" class="idref" href="#A1:61"><span class="id" title="binder">A1</span></a> <a id="A2:62" class="idref" href="#A2:62"><span class="id" title="binder">A2</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a>) : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> := <a class="idref" href="clutch.rel_logic.model.html#LRel"><span class="id" title="constructor">LRel</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w1:63" class="idref" href="#w1:63"><span class="id" title="binder">w1</span></a> <a id="w2:64" class="idref" href="#w2:64"><span class="id" title="binder">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">□</span> <span class="id" title="notation">∀</span> <a id="v1:65" class="idref" href="#v1:65"><span class="id" title="binder">v1</span></a> <a id="v2:66" class="idref" href="#v2:66"><span class="id" title="binder">v2</span></a><span class="id" title="notation">,</span> <a class="idref" href="clutch.rel_logic.model.html#A1:61"><span class="id" title="variable">A1</span></a> <a class="idref" href="clutch.rel_logic.model.html#v1:65"><span class="id" title="variable">v1</span></a> <a class="idref" href="clutch.rel_logic.model.html#v2:66"><span class="id" title="variable">v2</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <span class="id" title="notation">⊤</span> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.App"><span class="id" title="constructor">App</span></a> <a class="idref" href="clutch.rel_logic.model.html#w1:63"><span class="id" title="variable">w1</span></a> <a class="idref" href="clutch.rel_logic.model.html#v1:65"><span class="id" title="variable">v1</span></a>) (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.App"><span class="id" title="constructor">App</span></a> <a class="idref" href="clutch.rel_logic.model.html#w2:64"><span class="id" title="variable">w2</span></a> <a class="idref" href="clutch.rel_logic.model.html#v2:66"><span class="id" title="variable">v2</span></a>) <a class="idref" href="clutch.rel_logic.model.html#A2:62"><span class="id" title="variable">A2</span></a>)%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lrel_ref" class="idref" href="#lrel_ref"><span class="id" title="definition">lrel_ref</span></a> (<a id="A:67" class="idref" href="#A:67"><span class="id" title="binder">A</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a>) : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> := <a class="idref" href="clutch.rel_logic.model.html#LRel"><span class="id" title="constructor">LRel</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w1:68" class="idref" href="#w1:68"><span class="id" title="binder">w1</span></a> <a id="w2:69" class="idref" href="#w2:69"><span class="id" title="binder">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="l1:70" class="idref" href="#l1:70"><span class="id" title="binder">l1</span></a> <a id="l2:71" class="idref" href="#l2:71"><span class="id" title="binder">l2</span></a>: <a class="idref" href="clutch.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a><span class="id" title="notation">,</span> <span class="id" title="notation">⌜</span><a class="idref" href="clutch.rel_logic.model.html#w1:68"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.model.html#l1:70"><span class="id" title="variable">l1</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∧</span> <span class="id" title="notation">⌜</span><a class="idref" href="clutch.rel_logic.model.html#w2:69"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.model.html#l2:71"><span class="id" title="variable">l2</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">inv</span> (<a class="idref" href="clutch.rel_logic.model.html#logN"><span class="id" title="definition">logN</span></a> <span class="id" title="notation">.@</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.model.html#l1:70"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="clutch.rel_logic.model.html#l2:71"><span class="id" title="variable">l2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) (<span class="id" title="notation">∃</span> <a id="v1:72" class="idref" href="#v1:72"><span class="id" title="binder">v1</span></a> <a id="v2:73" class="idref" href="#v2:73"><span class="id" title="binder">v2</span></a><span class="id" title="notation">,</span> <a class="idref" href="clutch.rel_logic.model.html#l1:70"><span class="id" title="variable">l1</span></a> <a class="idref" href="clutch.rel_logic.primitive_laws.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="clutch.rel_logic.model.html#v1:72"><span class="id" title="variable">v1</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="clutch.rel_logic.model.html#l2:71"><span class="id" title="variable">l2</span></a> <a class="idref" href="clutch.rel_logic.spec_ra.html#0326014f985dcbdf069e6962e826748b"><span class="id" title="notation">↦ₛ</span></a> <a class="idref" href="clutch.rel_logic.model.html#v2:73"><span class="id" title="variable">v2</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="clutch.rel_logic.model.html#A:67"><span class="id" title="variable">A</span></a> <a class="idref" href="clutch.rel_logic.model.html#v1:72"><span class="id" title="variable">v1</span></a> <a class="idref" href="clutch.rel_logic.model.html#v2:73"><span class="id" title="variable">v2</span></a>))%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Both&nbsp;tapes&nbsp;are&nbsp;empty&nbsp;and&nbsp;are&nbsp;sampled&nbsp;from&nbsp;the&nbsp;same&nbsp;distribution&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lrel_tape" class="idref" href="#lrel_tape"><span class="id" title="definition">lrel_tape</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> := <a class="idref" href="clutch.rel_logic.model.html#LRel"><span class="id" title="constructor">LRel</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w1:74" class="idref" href="#w1:74"><span class="id" title="binder">w1</span></a> <a id="w2:75" class="idref" href="#w2:75"><span class="id" title="binder">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <span class="id" title="notation">(</span><a id="a5cfaca694cf8ff7ae9a09b96a7d4452" class="idref" href="#a5cfaca694cf8ff7ae9a09b96a7d4452"><span class="id" title="binder">α1</span></a> <a id="f1af2075680e7afcafa25b155e28b632" class="idref" href="#f1af2075680e7afcafa25b155e28b632"><span class="id" title="binder">α2</span></a> : <a class="idref" href="clutch.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a>) (<a id="N:78" class="idref" href="#N:78"><span class="id" title="binder">N</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><span class="id" title="notation">),</span> <span class="id" title="notation">⌜</span><a class="idref" href="clutch.rel_logic.model.html#w1:74"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">lbl</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">:</span></a><a class="idref" href="clutch.rel_logic.model.html#a5cfaca694cf8ff7ae9a09b96a7d4452"><span class="id" title="variable">α1</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∧</span> <span class="id" title="notation">⌜</span><a class="idref" href="clutch.rel_logic.model.html#w2:75"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">lbl</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">:</span></a><a class="idref" href="clutch.rel_logic.model.html#f1af2075680e7afcafa25b155e28b632"><span class="id" title="variable">α2</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">inv</span> (<a class="idref" href="clutch.rel_logic.model.html#logN"><span class="id" title="definition">logN</span></a> <span class="id" title="notation">.@</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.model.html#a5cfaca694cf8ff7ae9a09b96a7d4452"><span class="id" title="variable">α1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="clutch.rel_logic.model.html#f1af2075680e7afcafa25b155e28b632"><span class="id" title="variable">α2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) (<a class="idref" href="clutch.rel_logic.model.html#a5cfaca694cf8ff7ae9a09b96a7d4452"><span class="id" title="variable">α1</span></a> <a class="idref" href="clutch.rel_logic.primitive_laws.html#52c0998123349fcc3e1f8d05ae50419f"><span class="id" title="notation">↪</span></a> <a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.model.html#N:78"><span class="id" title="variable">N</span></a><a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="clutch.rel_logic.model.html#f1af2075680e7afcafa25b155e28b632"><span class="id" title="variable">α2</span></a> <a class="idref" href="clutch.rel_logic.spec_ra.html#537f9bfe1a4246c42baec6fa8e98c8aa"><span class="id" title="notation">↪ₛ</span></a> <a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.model.html#N:78"><span class="id" title="variable">N</span></a><a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="clutch.prelude.stdpp_ext.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>))%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lrel_prod" class="idref" href="#lrel_prod"><span class="id" title="definition">lrel_prod</span></a> (<a id="A:79" class="idref" href="#A:79"><span class="id" title="binder">A</span></a> <a id="B:80" class="idref" href="#B:80"><span class="id" title="binder">B</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a>) : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> := <a class="idref" href="clutch.rel_logic.model.html#LRel"><span class="id" title="constructor">LRel</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w1:81" class="idref" href="#w1:81"><span class="id" title="binder">w1</span></a> <a id="w2:82" class="idref" href="#w2:82"><span class="id" title="binder">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="v1:83" class="idref" href="#v1:83"><span class="id" title="binder">v1</span></a> <a id="v2:84" class="idref" href="#v2:84"><span class="id" title="binder">v2</span></a> <a id="v1':85" class="idref" href="#v1':85"><span class="id" title="binder">v1'</span></a> <a id="v2':86" class="idref" href="#v2':86"><span class="id" title="binder">v2'</span></a><span class="id" title="notation">,</span> <span class="id" title="notation">⌜</span><a class="idref" href="clutch.rel_logic.model.html#w1:81"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#cc14470b8443804ba405fa710525256d"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.model.html#v1:83"><span class="id" title="variable">v1</span></a><a class="idref" href="clutch.prob_lang.notation.html#cc14470b8443804ba405fa710525256d"><span class="id" title="notation">,</span></a><a class="idref" href="clutch.rel_logic.model.html#v1':85"><span class="id" title="variable">v1'</span></a><a class="idref" href="clutch.prob_lang.notation.html#cc14470b8443804ba405fa710525256d"><span class="id" title="notation">)</span></a>%<span class="id" title="var">V</span><span class="id" title="notation">⌝</span> <span class="id" title="notation">∧</span> <span class="id" title="notation">⌜</span><a class="idref" href="clutch.rel_logic.model.html#w2:82"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.notation.html#cc14470b8443804ba405fa710525256d"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.model.html#v2:84"><span class="id" title="variable">v2</span></a><a class="idref" href="clutch.prob_lang.notation.html#cc14470b8443804ba405fa710525256d"><span class="id" title="notation">,</span></a><a class="idref" href="clutch.rel_logic.model.html#v2':86"><span class="id" title="variable">v2'</span></a><a class="idref" href="clutch.prob_lang.notation.html#cc14470b8443804ba405fa710525256d"><span class="id" title="notation">)</span></a>%<span class="id" title="var">V</span><span class="id" title="notation">⌝</span> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.model.html#A:79"><span class="id" title="variable">A</span></a> <a class="idref" href="clutch.rel_logic.model.html#v1:83"><span class="id" title="variable">v1</span></a> <a class="idref" href="clutch.rel_logic.model.html#v2:84"><span class="id" title="variable">v2</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="clutch.rel_logic.model.html#B:80"><span class="id" title="variable">B</span></a> <a class="idref" href="clutch.rel_logic.model.html#v1':85"><span class="id" title="variable">v1'</span></a> <a class="idref" href="clutch.rel_logic.model.html#v2':86"><span class="id" title="variable">v2'</span></a>)%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lrel_sum" class="idref" href="#lrel_sum"><span class="id" title="definition">lrel_sum</span></a> (<a id="A:87" class="idref" href="#A:87"><span class="id" title="binder">A</span></a> <a id="B:88" class="idref" href="#B:88"><span class="id" title="binder">B</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a>) : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> := <a class="idref" href="clutch.rel_logic.model.html#LRel"><span class="id" title="constructor">LRel</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w1:89" class="idref" href="#w1:89"><span class="id" title="binder">w1</span></a> <a id="w2:90" class="idref" href="#w2:90"><span class="id" title="binder">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="v1:91" class="idref" href="#v1:91"><span class="id" title="binder">v1</span></a> <a id="v2:92" class="idref" href="#v2:92"><span class="id" title="binder">v2</span></a><span class="id" title="notation">,</span> <span class="id" title="notation">(</span><span class="id" title="notation">⌜</span><a class="idref" href="clutch.rel_logic.model.html#w1:89"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.InjLV"><span class="id" title="constructor">InjLV</span></a> <a class="idref" href="clutch.rel_logic.model.html#v1:91"><span class="id" title="variable">v1</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∧</span> <span class="id" title="notation">⌜</span><a class="idref" href="clutch.rel_logic.model.html#w2:90"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.InjLV"><span class="id" title="constructor">InjLV</span></a> <a class="idref" href="clutch.rel_logic.model.html#v2:92"><span class="id" title="variable">v2</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∧</span> <a class="idref" href="clutch.rel_logic.model.html#A:87"><span class="id" title="variable">A</span></a> <a class="idref" href="clutch.rel_logic.model.html#v1:91"><span class="id" title="variable">v1</span></a> <a class="idref" href="clutch.rel_logic.model.html#v2:92"><span class="id" title="variable">v2</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∨</span>  <span class="id" title="notation">(</span><span class="id" title="notation">⌜</span><a class="idref" href="clutch.rel_logic.model.html#w1:89"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.InjRV"><span class="id" title="constructor">InjRV</span></a> <a class="idref" href="clutch.rel_logic.model.html#v1:91"><span class="id" title="variable">v1</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∧</span> <span class="id" title="notation">⌜</span><a class="idref" href="clutch.rel_logic.model.html#w2:90"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.InjRV"><span class="id" title="constructor">InjRV</span></a> <a class="idref" href="clutch.rel_logic.model.html#v2:92"><span class="id" title="variable">v2</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∧</span> <a class="idref" href="clutch.rel_logic.model.html#B:88"><span class="id" title="variable">B</span></a> <a class="idref" href="clutch.rel_logic.model.html#v1:91"><span class="id" title="variable">v1</span></a> <a class="idref" href="clutch.rel_logic.model.html#v2:92"><span class="id" title="variable">v2</span></a><span class="id" title="notation">)</span>)%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lrel_rec1" class="idref" href="#lrel_rec1"><span class="id" title="definition">lrel_rec1</span></a> (<a id="C:93" class="idref" href="#C:93"><span class="id" title="binder">C</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrelC"><span class="id" title="definition">lrelC</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> <span class="id" title="notation">-</span><span class="id" title="notation">n</span><span class="id" title="notation">&gt;</span> <a class="idref" href="clutch.rel_logic.model.html#lrelC"><span class="id" title="definition">lrelC</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a>) (<a id="rec:94" class="idref" href="#rec:94"><span class="id" title="binder">rec</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a>) : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.model.html#LRel"><span class="id" title="constructor">LRel</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w1:95" class="idref" href="#w1:95"><span class="id" title="binder">w1</span></a> <a id="w2:96" class="idref" href="#w2:96"><span class="id" title="binder">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">▷</span> <a class="idref" href="clutch.rel_logic.model.html#C:93"><span class="id" title="variable">C</span></a> <a class="idref" href="clutch.rel_logic.model.html#rec:94"><span class="id" title="variable">rec</span></a> <a class="idref" href="clutch.rel_logic.model.html#w1:95"><span class="id" title="variable">w1</span></a> <a class="idref" href="clutch.rel_logic.model.html#w2:96"><span class="id" title="variable">w2</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="lrel_rec1_contractive" class="idref" href="#lrel_rec1_contractive"><span class="id" title="instance">lrel_rec1_contractive</span></a> <a id="C:97" class="idref" href="#C:97"><span class="id" title="binder">C</span></a> : <span class="id" title="abbreviation">Contractive</span> (<a class="idref" href="clutch.rel_logic.model.html#lrel_rec1"><span class="id" title="definition">lrel_rec1</span></a> <a class="idref" href="clutch.rel_logic.model.html#C:97"><span class="id" title="variable">C</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">HPQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="clutch.rel_logic.model.html#lrel_rec1"><span class="id" title="definition">lrel_rec1</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">w1</span> <span class="id" title="var">w2</span>. <span class="id" title="tactic">rewrite</span> {1 4}/<a class="idref" href="clutch.rel_logic.model.html#lrel_car"><span class="id" title="projection">lrel_car</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f_contractive</span>. <span class="id" title="var">f_equiv</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lrel_rec" class="idref" href="#lrel_rec"><span class="id" title="definition">lrel_rec</span></a> (<a id="C:98" class="idref" href="#C:98"><span class="id" title="binder">C</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrelC"><span class="id" title="definition">lrelC</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> <span class="id" title="notation">-</span><span class="id" title="notation">n</span><span class="id" title="notation">&gt;</span> <a class="idref" href="clutch.rel_logic.model.html#lrelC"><span class="id" title="definition">lrelC</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a>) : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> := <span class="id" title="definition">fixpoint</span> (<a class="idref" href="clutch.rel_logic.model.html#lrel_rec1"><span class="id" title="definition">lrel_rec1</span></a> <a class="idref" href="clutch.rel_logic.model.html#C:98"><span class="id" title="variable">C</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lrel_exists" class="idref" href="#lrel_exists"><span class="id" title="definition">lrel_exists</span></a> (<a id="C:99" class="idref" href="#C:99"><span class="id" title="binder">C</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a>) : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> := <a class="idref" href="clutch.rel_logic.model.html#LRel"><span class="id" title="constructor">LRel</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w1:100" class="idref" href="#w1:100"><span class="id" title="binder">w1</span></a> <a id="w2:101" class="idref" href="#w2:101"><span class="id" title="binder">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="A:102" class="idref" href="#A:102"><span class="id" title="binder">A</span></a><span class="id" title="notation">,</span> <a class="idref" href="clutch.rel_logic.model.html#C:99"><span class="id" title="variable">C</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:102"><span class="id" title="variable">A</span></a> <a class="idref" href="clutch.rel_logic.model.html#w1:100"><span class="id" title="variable">w1</span></a> <a class="idref" href="clutch.rel_logic.model.html#w2:101"><span class="id" title="variable">w2</span></a>)%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lrel_forall" class="idref" href="#lrel_forall"><span class="id" title="definition">lrel_forall</span></a> (<a id="C:103" class="idref" href="#C:103"><span class="id" title="binder">C</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a>) : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> := <a class="idref" href="clutch.rel_logic.model.html#LRel"><span class="id" title="constructor">LRel</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w1:104" class="idref" href="#w1:104"><span class="id" title="binder">w1</span></a> <a id="w2:105" class="idref" href="#w2:105"><span class="id" title="binder">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∀</span> <a id="A:106" class="idref" href="#A:106"><span class="id" title="binder">A</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a><span class="id" title="notation">,</span> (<a class="idref" href="clutch.rel_logic.model.html#lrel_arr"><span class="id" title="definition">lrel_arr</span></a> <a class="idref" href="clutch.rel_logic.model.html#lrel_unit"><span class="id" title="definition">lrel_unit</span></a> (<a class="idref" href="clutch.rel_logic.model.html#C:103"><span class="id" title="variable">C</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:106"><span class="id" title="variable">A</span></a>))%<span class="id" title="var">lrel</span> <a class="idref" href="clutch.rel_logic.model.html#w1:104"><span class="id" title="variable">w1</span></a> <a class="idref" href="clutch.rel_logic.model.html#w2:105"><span class="id" title="variable">w2</span></a>)%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lrel_true" class="idref" href="#lrel_true"><span class="id" title="definition">lrel_true</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> := <a class="idref" href="clutch.rel_logic.model.html#LRel"><span class="id" title="constructor">LRel</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w1:107" class="idref" href="#w1:107"><span class="id" title="binder">w1</span></a> <a id="w2:108" class="idref" href="#w2:108"><span class="id" title="binder">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">True</span>)%<span class="id" title="var">I</span>.<br/>

<br/>
</div>

<div class="doc">
The lrel constructors are non-expansive 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="lrel_prod_ne" class="idref" href="#lrel_prod_ne"><span class="id" title="instance">lrel_prod_ne</span></a> <a id="n:109" class="idref" href="#n:109"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="definition">dist</span> <a class="idref" href="clutch.rel_logic.model.html#n:109"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="definition">dist</span> <a class="idref" href="clutch.rel_logic.model.html#n:109"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="definition">dist</span> <a class="idref" href="clutch.rel_logic.model.html#n:109"><span class="id" title="variable">n</span></a>) <a class="idref" href="clutch.rel_logic.model.html#lrel_prod"><span class="id" title="definition">lrel_prod</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="lrel_sum_ne" class="idref" href="#lrel_sum_ne"><span class="id" title="instance">lrel_sum_ne</span></a> <a id="n:110" class="idref" href="#n:110"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="definition">dist</span> <a class="idref" href="clutch.rel_logic.model.html#n:110"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="definition">dist</span> <a class="idref" href="clutch.rel_logic.model.html#n:110"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="definition">dist</span> <a class="idref" href="clutch.rel_logic.model.html#n:110"><span class="id" title="variable">n</span></a>) <a class="idref" href="clutch.rel_logic.model.html#lrel_sum"><span class="id" title="definition">lrel_sum</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="lrel_arr_ne" class="idref" href="#lrel_arr_ne"><span class="id" title="instance">lrel_arr_ne</span></a> <a id="n:111" class="idref" href="#n:111"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="definition">dist</span> <a class="idref" href="clutch.rel_logic.model.html#n:111"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="definition">dist</span> <a class="idref" href="clutch.rel_logic.model.html#n:111"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="definition">dist</span> <a class="idref" href="clutch.rel_logic.model.html#n:111"><span class="id" title="variable">n</span></a>) (<a class="idref" href="clutch.rel_logic.model.html#lrel_arr"><span class="id" title="definition">lrel_arr</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="lrel_rec_ne" class="idref" href="#lrel_rec_ne"><span class="id" title="instance">lrel_rec_ne</span></a> <a id="n:112" class="idref" href="#n:112"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="definition">dist</span> <a class="idref" href="clutch.rel_logic.model.html#n:112"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="definition">dist</span> <a class="idref" href="clutch.rel_logic.model.html#n:112"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.rel_logic.model.html#lrel_rec"><span class="id" title="definition">lrel_rec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.model.html#lrelC"><span class="id" title="definition">lrelC</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> <span class="id" title="notation">-</span><span class="id" title="notation">n</span><span class="id" title="notation">&gt;</span> <a class="idref" href="clutch.rel_logic.model.html#lrelC"><span class="id" title="definition">lrelC</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="clutch.rel_logic.model.html#lrelC"><span class="id" title="definition">lrelC</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">F</span> <span class="id" title="var">F'</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="clutch.rel_logic.model.html#lrel_rec"><span class="id" title="definition">lrel_rec</span></a>, <a class="idref" href="clutch.rel_logic.model.html#lrel_car"><span class="id" title="projection">lrel_car</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">fixpoint_ne</span>=&gt; <span class="id" title="var">X</span> <span class="id" title="var">w1</span> <span class="id" title="var">w2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="clutch.rel_logic.model.html#lrel_rec1"><span class="id" title="definition">lrel_rec1</span></a>, <a class="idref" href="clutch.rel_logic.model.html#lrel_car"><span class="id" title="projection">lrel_car</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="clutch.rel_logic.model.html#lrel_car_ne"><span class="id" title="instance">lrel_car_ne</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lrel_rec_unfold" class="idref" href="#lrel_rec_unfold"><span class="id" title="lemma">lrel_rec_unfold</span></a> (<a id="C:113" class="idref" href="#C:113"><span class="id" title="binder">C</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrelC"><span class="id" title="definition">lrelC</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a> <span class="id" title="notation">-</span><span class="id" title="notation">n</span><span class="id" title="notation">&gt;</span> <a class="idref" href="clutch.rel_logic.model.html#lrelC"><span class="id" title="definition">lrelC</span></a> <a class="idref" href="clutch.rel_logic.model.html#78d4ec9631c71746dc2de6b01b8e163e"><span class="id" title="variable">Σ</span></a>) : <a class="idref" href="clutch.rel_logic.model.html#lrel_rec"><span class="id" title="definition">lrel_rec</span></a> <a class="idref" href="clutch.rel_logic.model.html#C:113"><span class="id" title="variable">C</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="clutch.rel_logic.model.html#lrel_rec1"><span class="id" title="definition">lrel_rec1</span></a> <a class="idref" href="clutch.rel_logic.model.html#C:113"><span class="id" title="variable">C</span></a> (<a class="idref" href="clutch.rel_logic.model.html#lrel_rec"><span class="id" title="definition">lrel_rec</span></a> <a class="idref" href="clutch.rel_logic.model.html#C:113"><span class="id" title="variable">C</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">fixpoint_unfold</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.rel_logic.model.html#semtypes"><span class="id" title="section">semtypes</span></a>.<br/>

<br/>
</div>

<div class="doc">
Nice notations 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a id="0926557fff3a7c5de6f38fcac599a96f" class="idref" href="#0926557fff3a7c5de6f38fcac599a96f"><span class="id" title="notation">&quot;</span></a>()" := <a class="idref" href="clutch.rel_logic.model.html#lrel_unit"><span class="id" title="definition">lrel_unit</span></a> : <span class="id" title="var">lrel_scope</span>.<br/>
<span class="id" title="keyword">Infix</span> <a id="198b3df6111d1e335bfbd02615def5fc" class="idref" href="#198b3df6111d1e335bfbd02615def5fc"><span class="id" title="notation">&quot;</span></a>→" := (<a class="idref" href="clutch.rel_logic.model.html#lrel_arr"><span class="id" title="definition">lrel_arr</span></a> <span class="id" title="notation">⊤</span>) : <span class="id" title="var">lrel_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="198b3df6111d1e335bfbd02615def5fc" class="idref" href="#198b3df6111d1e335bfbd02615def5fc"><span class="id" title="notation">&quot;</span></a>A1 → A2" := (<a class="idref" href="clutch.rel_logic.model.html#lrel_arr"><span class="id" title="definition">lrel_arr</span></a> <span class="id" title="var">A1</span> <span class="id" title="var">A2</span>) : <span class="id" title="var">lrel_scope</span>.<br/>
<span class="id" title="keyword">Infix</span> <a id="ff8576311e921c25920cc153affc3c5e" class="idref" href="#ff8576311e921c25920cc153affc3c5e"><span class="id" title="notation">&quot;</span></a>*" := <a class="idref" href="clutch.rel_logic.model.html#lrel_prod"><span class="id" title="definition">lrel_prod</span></a> : <span class="id" title="var">lrel_scope</span>.<br/>
<span class="id" title="keyword">Infix</span> <a id="952b32b7bba24b7eee4a974ec810fdbc" class="idref" href="#952b32b7bba24b7eee4a974ec810fdbc"><span class="id" title="notation">&quot;</span></a>+" := <a class="idref" href="clutch.rel_logic.model.html#lrel_sum"><span class="id" title="definition">lrel_sum</span></a> : <span class="id" title="var">lrel_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="::lrel_scope:'ref'_x" class="idref" href="#::lrel_scope:'ref'_x"><span class="id" title="notation">&quot;</span></a>'ref' A" := (<a class="idref" href="clutch.rel_logic.model.html#lrel_ref"><span class="id" title="definition">lrel_ref</span></a> <span class="id" title="var">A</span>) : <span class="id" title="var">lrel_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="c85958424964bfa5a447e1ee32b16574" class="idref" href="#c85958424964bfa5a447e1ee32b16574"><span class="id" title="notation">&quot;</span></a>∃ A1 .. An , C" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="clutch.rel_logic.model.html#lrel_exists"><span class="id" title="definition">lrel_exists</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="A1:114" class="idref" href="#A1:114"><span class="id" title="binder">A1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> .. (<a class="idref" href="clutch.rel_logic.model.html#lrel_exists"><span class="id" title="definition">lrel_exists</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="An:115" class="idref" href="#An:115"><span class="id" title="binder">An</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">C</span>%<span class="id" title="var">lrel</span>)) ..)) : <span class="id" title="var">lrel_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="e3c1c90c83b93a5a9cdbb1b19954a374" class="idref" href="#e3c1c90c83b93a5a9cdbb1b19954a374"><span class="id" title="notation">&quot;</span></a>∀ A1 .. An , C" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="clutch.rel_logic.model.html#lrel_forall"><span class="id" title="definition">lrel_forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="A1:116" class="idref" href="#A1:116"><span class="id" title="binder">A1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> .. (<a class="idref" href="clutch.rel_logic.model.html#lrel_forall"><span class="id" title="definition">lrel_forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="An:117" class="idref" href="#An:117"><span class="id" title="binder">An</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">C</span>%<span class="id" title="var">lrel</span>)) ..)) : <span class="id" title="var">lrel_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="semtypes_properties" class="idref" href="#semtypes_properties"><span class="id" title="section">semtypes_properties</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="clutchRGS0:119" class="idref" href="#clutchRGS0:119"><span class="id" title="binder">!</span></a><a id="clutchRGS0:119" class="idref" href="#clutchRGS0:119"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:119" class="idref" href="#clutchRGS0:119"><span class="id" title="binder">Σ</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;reference&nbsp;type&nbsp;relation&nbsp;is&nbsp;functional&nbsp;and&nbsp;injective.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;Amin.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="interp_ref_funct" class="idref" href="#interp_ref_funct"><span class="id" title="lemma">interp_ref_funct</span></a> <a id="E:120" class="idref" href="#E:120"><span class="id" title="binder">E</span></a> (<a id="A:121" class="idref" href="#A:121"><span class="id" title="binder">A</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#5e906adf4d65bad17adb21cc458f5f03"><span class="id" title="variable">Σ</span></a>) (<a id="l:122" class="idref" href="#l:122"><span class="id" title="binder">l</span></a> <a id="l1:123" class="idref" href="#l1:123"><span class="id" title="binder">l1</span></a> <a id="l2:124" class="idref" href="#l2:124"><span class="id" title="binder">l2</span></a> : <a class="idref" href="clutch.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">↑</span><a class="idref" href="clutch.rel_logic.model.html#logN"><span class="id" title="definition">logN</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="clutch.rel_logic.model.html#E:120"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.rel_logic.model.html#::lrel_scope:'ref'_x"><span class="id" title="notation">ref</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:121"><span class="id" title="variable">A</span></a>)%<span class="id" title="var">lrel</span> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.model.html#l:122"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.model.html#l1:123"><span class="id" title="variable">l1</span></a> <span class="id" title="notation">∗</span> (<a class="idref" href="clutch.rel_logic.model.html#::lrel_scope:'ref'_x"><span class="id" title="notation">ref</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:121"><span class="id" title="variable">A</span></a>)%<span class="id" title="var">lrel</span> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.model.html#l:122"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.model.html#l2:124"><span class="id" title="variable">l2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">={</span><a class="idref" href="clutch.rel_logic.model.html#E:120"><span class="id" title="variable">E</span></a><span class="id" title="notation">}=∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="clutch.rel_logic.model.html#l1:123"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.rel_logic.model.html#l2:124"><span class="id" title="variable">l2</span></a><span class="id" title="notation">⌝</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "[Hl1 Hl2] /=".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hl1" <span class="id" title="keyword">as</span> (<span class="id" title="var">l'</span> <span class="id" title="var">l1'</span>) "[% [% #Hl1]]". <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hl2" <span class="id" title="keyword">as</span> (<span class="id" title="var">l</span> <span class="id" title="var">l2'</span>) "[% [% #Hl2]]". <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">l1'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">l2'</span>)) <span class="id" title="keyword">as</span> [-&gt;|?]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInv</span> (<a class="idref" href="clutch.rel_logic.model.html#logN"><span class="id" title="definition">logN</span></a><span class="id" title="notation">.@</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l1'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> (? ?) "[&gt;Hl ?]" "Hcl".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInv</span> (<a class="idref" href="clutch.rel_logic.model.html#logN"><span class="id" title="definition">logN</span></a><span class="id" title="notation">.@</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l2'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> (? ?) "[&gt;Hl' ?]" "Hcl'".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">iExFalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">ghost_map_elem_valid_2</span> <span class="id" title="notation">with</span> "Hl Hl'"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %[<span class="id" title="var">Hfoo</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfoo</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="interp_ref_inj" class="idref" href="#interp_ref_inj"><span class="id" title="lemma">interp_ref_inj</span></a> <a id="E:125" class="idref" href="#E:125"><span class="id" title="binder">E</span></a> (<a id="A:126" class="idref" href="#A:126"><span class="id" title="binder">A</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#5e906adf4d65bad17adb21cc458f5f03"><span class="id" title="variable">Σ</span></a>) (<a id="l:127" class="idref" href="#l:127"><span class="id" title="binder">l</span></a> <a id="l1:128" class="idref" href="#l1:128"><span class="id" title="binder">l1</span></a> <a id="l2:129" class="idref" href="#l2:129"><span class="id" title="binder">l2</span></a> : <a class="idref" href="clutch.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">↑</span><a class="idref" href="clutch.rel_logic.model.html#logN"><span class="id" title="definition">logN</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="clutch.rel_logic.model.html#E:125"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.rel_logic.model.html#::lrel_scope:'ref'_x"><span class="id" title="notation">ref</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:126"><span class="id" title="variable">A</span></a>)%<span class="id" title="var">lrel</span> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.model.html#l1:128"><span class="id" title="variable">l1</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.model.html#l:127"><span class="id" title="variable">l</span></a> <span class="id" title="notation">∗</span> (<a class="idref" href="clutch.rel_logic.model.html#::lrel_scope:'ref'_x"><span class="id" title="notation">ref</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:126"><span class="id" title="variable">A</span></a>)%<span class="id" title="var">lrel</span> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.model.html#l2:129"><span class="id" title="variable">l2</span></a> <a class="idref" href="clutch.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.rel_logic.model.html#l:127"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">={</span><a class="idref" href="clutch.rel_logic.model.html#E:125"><span class="id" title="variable">E</span></a><span class="id" title="notation">}=∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="clutch.rel_logic.model.html#l1:128"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.rel_logic.model.html#l2:129"><span class="id" title="variable">l2</span></a><span class="id" title="notation">⌝</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "[Hl1 Hl2] /=".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hl1" <span class="id" title="keyword">as</span> (<span class="id" title="var">l1'</span> <span class="id" title="var">l'</span>) "[% [% #Hl1]]". <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hl2" <span class="id" title="keyword">as</span> (<span class="id" title="var">l2'</span> <span class="id" title="var">l</span>) "[% [% #Hl2]]". <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">l1'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">l2'</span>)) <span class="id" title="keyword">as</span> [-&gt;|?]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInv</span> (<a class="idref" href="clutch.rel_logic.model.html#logN"><span class="id" title="definition">logN</span></a><span class="id" title="notation">.@</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">l1'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> (? ?) "(? &amp; &gt;Hl &amp; ?)" "Hcl".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInv</span> (<a class="idref" href="clutch.rel_logic.model.html#logN"><span class="id" title="definition">logN</span></a><span class="id" title="notation">.@</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">l2'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> (? ?) "(? &amp; &gt;Hl' &amp; ?)" "Hcl'".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">iExFalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">ghost_map_elem_valid_2</span> <span class="id" title="notation">with</span> "Hl Hl'"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %[<span class="id" title="var">Hfoo</span> &lt;-].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfoo</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="interp_tape_funct" class="idref" href="#interp_tape_funct"><span class="id" title="lemma">interp_tape_funct</span></a> <a id="E:130" class="idref" href="#E:130"><span class="id" title="binder">E</span></a> (<a id="l:131" class="idref" href="#l:131"><span class="id" title="binder">l</span></a> <a id="l1:132" class="idref" href="#l1:132"><span class="id" title="binder">l1</span></a> <a id="l2:133" class="idref" href="#l2:133"><span class="id" title="binder">l2</span></a> : <a class="idref" href="clutch.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">↑</span><a class="idref" href="clutch.rel_logic.model.html#logN"><span class="id" title="definition">logN</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="clutch.rel_logic.model.html#E:130"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.model.html#lrel_tape"><span class="id" title="definition">lrel_tape</span></a> <a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">lbl</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">:</span></a><a class="idref" href="clutch.rel_logic.model.html#l:131"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">lbl</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">:</span></a><a class="idref" href="clutch.rel_logic.model.html#l1:132"><span class="id" title="variable">l1</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="clutch.rel_logic.model.html#lrel_tape"><span class="id" title="definition">lrel_tape</span></a> <a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">lbl</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">:</span></a><a class="idref" href="clutch.rel_logic.model.html#l:131"><span class="id" title="variable">l</span></a> <a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">lbl</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">:</span></a><a class="idref" href="clutch.rel_logic.model.html#l2:133"><span class="id" title="variable">l2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">={</span><a class="idref" href="clutch.rel_logic.model.html#E:130"><span class="id" title="variable">E</span></a><span class="id" title="notation">}=∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="clutch.rel_logic.model.html#l1:132"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.rel_logic.model.html#l2:133"><span class="id" title="variable">l2</span></a><span class="id" title="notation">⌝</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "[Hl1 Hl2] /=".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hl1" <span class="id" title="keyword">as</span> (<span class="id" title="var">l'</span> <span class="id" title="var">l1'</span> <span class="id" title="var">n1</span>) "[% [% #Hl1]]". <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hl2" <span class="id" title="keyword">as</span> (<span class="id" title="var">l</span> <span class="id" title="var">l2'</span> <span class="id" title="var">n2</span>) "[% [% #Hl2]]". <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">l1'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">l2'</span>)) <span class="id" title="keyword">as</span> [-&gt;|?]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInv</span> (<a class="idref" href="clutch.rel_logic.model.html#logN"><span class="id" title="definition">logN</span></a><span class="id" title="notation">.@</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l1'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> "[&gt;Hl ?]" "Hcl".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInv</span> (<a class="idref" href="clutch.rel_logic.model.html#logN"><span class="id" title="definition">logN</span></a><span class="id" title="notation">.@</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l2'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> "[&gt;Hl' ?]" "Hcl'".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">iExFalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">ghost_map_elem_valid_2</span> <span class="id" title="notation">with</span> "Hl Hl'"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %[<span class="id" title="var">Hfoo</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfoo</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="interp_tape_inj" class="idref" href="#interp_tape_inj"><span class="id" title="lemma">interp_tape_inj</span></a> <a id="E:134" class="idref" href="#E:134"><span class="id" title="binder">E</span></a> (<a id="A:135" class="idref" href="#A:135"><span class="id" title="binder">A</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#5e906adf4d65bad17adb21cc458f5f03"><span class="id" title="variable">Σ</span></a>) (<a id="l:136" class="idref" href="#l:136"><span class="id" title="binder">l</span></a> <a id="l1:137" class="idref" href="#l1:137"><span class="id" title="binder">l1</span></a> <a id="l2:138" class="idref" href="#l2:138"><span class="id" title="binder">l2</span></a> : <a class="idref" href="clutch.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">↑</span><a class="idref" href="clutch.rel_logic.model.html#logN"><span class="id" title="definition">logN</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="clutch.rel_logic.model.html#E:134"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.model.html#lrel_tape"><span class="id" title="definition">lrel_tape</span></a> <a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">lbl</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">:</span></a><a class="idref" href="clutch.rel_logic.model.html#l1:137"><span class="id" title="variable">l1</span></a> <a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">lbl</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">:</span></a><a class="idref" href="clutch.rel_logic.model.html#l:136"><span class="id" title="variable">l</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="clutch.rel_logic.model.html#lrel_tape"><span class="id" title="definition">lrel_tape</span></a> <a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">lbl</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">:</span></a><a class="idref" href="clutch.rel_logic.model.html#l2:138"><span class="id" title="variable">l2</span></a> <a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">#</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">lbl</span></a><a class="idref" href="clutch.prob_lang.notation.html#3c0d92df4cb553f56e51c75fd64a5753"><span class="id" title="notation">:</span></a><a class="idref" href="clutch.rel_logic.model.html#l:136"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">={</span><a class="idref" href="clutch.rel_logic.model.html#E:134"><span class="id" title="variable">E</span></a><span class="id" title="notation">}=∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="clutch.rel_logic.model.html#l1:137"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="clutch.rel_logic.model.html#l2:138"><span class="id" title="variable">l2</span></a><span class="id" title="notation">⌝</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "[Hl1 Hl2] /=".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hl1" <span class="id" title="keyword">as</span> (<span class="id" title="var">l1'</span> <span class="id" title="var">l'</span> <span class="id" title="var">n1</span>) "[% [% #Hl1]]". <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hl2" <span class="id" title="keyword">as</span> (<span class="id" title="var">l2'</span> <span class="id" title="var">l</span> <span class="id" title="var">n2</span>) "[% [% #Hl2]]". <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">l1'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">l2'</span>)) <span class="id" title="keyword">as</span> [-&gt;|?]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInv</span> (<a class="idref" href="clutch.rel_logic.model.html#logN"><span class="id" title="definition">logN</span></a><span class="id" title="notation">.@</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">l1'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> "(? &amp; &gt;Hl)" "Hcl".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInv</span> (<a class="idref" href="clutch.rel_logic.model.html#logN"><span class="id" title="definition">logN</span></a><span class="id" title="notation">.@</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">l2'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> "(? &amp; &gt;Hl')" "Hcl'".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">iExFalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">ghost_map_elem_valid_2</span> <span class="id" title="notation">with</span> "Hl Hl'"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[%Hfoo _]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfoo</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.rel_logic.model.html#semtypes_properties"><span class="id" title="section">semtypes_properties</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="d3c268bd640b3c62d79ad39eb13de4cf" class="idref" href="#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">&quot;</span></a>'REL' e1 '&lt;&lt;' e2 '@' E ':' A" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <span class="id" title="var">E</span> <span class="id" title="var">e1</span>%<span class="id" title="var">E</span> <span class="id" title="var">e2</span>%<span class="id" title="var">E</span> (<span class="id" title="var">A</span>)%<span class="id" title="var">lrel</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 100, <span class="id" title="var">E</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>, <span class="id" title="var">e1</span>, <span class="id" title="var">e2</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">A</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">format</span> "'[hv' 'REL'  e1  '/' '&lt;&lt;'  '/  ' e2  '@'  E  :  A ']'").<br/>
<span class="id" title="keyword">Notation</span> <a id=":::'REL'_x_'&lt;&lt;'_x_':'_x" class="idref" href="#:::'REL'_x_'&lt;&lt;'_x_':'_x"><span class="id" title="notation">&quot;</span></a>'REL' e1 '&lt;&lt;' t ':' A" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <span class="id" title="notation">⊤</span> <span class="id" title="var">e1</span>%<span class="id" title="var">E</span> <span class="id" title="var">t</span>%<span class="id" title="var">E</span> (<span class="id" title="var">A</span>)%<span class="id" title="var">lrel</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 100, <span class="id" title="var">e1</span>, <span class="id" title="var">t</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">A</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">format</span> "'[hv' 'REL'  e1  '/' '&lt;&lt;'  '/  ' t  :  A ']'").<br/>

<br/>
</div>

<div class="doc">
Properties of the relational interpretation 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="related_facts" class="idref" href="#related_facts"><span class="id" title="section">related_facts</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="clutchRGS0:140" class="idref" href="#clutchRGS0:140"><span class="id" title="binder">!</span></a><a id="clutchRGS0:140" class="idref" href="#clutchRGS0:140"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:140" class="idref" href="#clutchRGS0:140"><span class="id" title="binder">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">e</span> : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.expr"><span class="id" title="inductive">expr</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fupd_refines" class="idref" href="#fupd_refines"><span class="id" title="lemma">fupd_refines</span></a> <a id="E:141" class="idref" href="#E:141"><span class="id" title="binder">E</span></a> <a id="e:142" class="idref" href="#e:142"><span class="id" title="binder">e</span></a> <a id="t:143" class="idref" href="#t:143"><span class="id" title="binder">t</span></a> <a id="A:144" class="idref" href="#A:144"><span class="id" title="binder">A</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">|={</span><span class="id" title="notation">⊤</span><span class="id" title="notation">}=&gt;</span> <a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:141"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#e:142"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.model.html#t:143"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:144"><span class="id" title="variable">A</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">-∗</span> <a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:141"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#e:142"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.model.html#t:143"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:144"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.rel_logic.model.html#refines_eq"><span class="id" title="definition">refines_eq</span></a> /<a class="idref" href="clutch.rel_logic.model.html#refines_def"><span class="id" title="definition">refines_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H". <span class="id" title="var">iIntros</span> (<span class="id" title="var">j</span>) "Hr Hna /=".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> "H" <span class="id" title="keyword">as</span> "H". <span class="id" title="var">iApply</span> <span class="id" title="notation">(</span>"H" <span class="id" title="notation">with</span> "Hr Hna"<span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="elim_fupd_refines" class="idref" href="#elim_fupd_refines"><span class="id" title="instance">elim_fupd_refines</span></a> <a id="p:145" class="idref" href="#p:145"><span class="id" title="binder">p</span></a> <a id="E:146" class="idref" href="#E:146"><span class="id" title="binder">E</span></a> <a id="e:147" class="idref" href="#e:147"><span class="id" title="binder">e</span></a> <a id="t:148" class="idref" href="#t:148"><span class="id" title="binder">t</span></a> <a id="P:149" class="idref" href="#P:149"><span class="id" title="binder">P</span></a> <a id="A:150" class="idref" href="#A:150"><span class="id" title="binder">A</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="class">ElimModal</span> <span class="id" title="notation">True</span> <a class="idref" href="clutch.rel_logic.model.html#p:145"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<span class="id" title="notation">|={</span><span class="id" title="notation">⊤</span><span class="id" title="notation">}=&gt;</span> <a class="idref" href="clutch.rel_logic.model.html#P:149"><span class="id" title="variable">P</span></a>) <a class="idref" href="clutch.rel_logic.model.html#P:149"><span class="id" title="variable">P</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:146"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#e:147"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.model.html#t:148"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:150"><span class="id" title="variable">A</span></a>) (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:146"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#e:147"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.model.html#t:148"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:150"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="class">ElimModal</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[HP HI]". <span class="id" title="var">iApply</span> <a class="idref" href="clutch.rel_logic.model.html#fupd_refines"><span class="id" title="lemma">fupd_refines</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">bi.intuitionistically_elim</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> "HP"; <span class="id" title="var">iModIntro</span>; <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "HI".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="elim_bupd_logrel" class="idref" href="#elim_bupd_logrel"><span class="id" title="instance">elim_bupd_logrel</span></a> <a id="p:151" class="idref" href="#p:151"><span class="id" title="binder">p</span></a> <a id="E:152" class="idref" href="#E:152"><span class="id" title="binder">E</span></a> <a id="e:153" class="idref" href="#e:153"><span class="id" title="binder">e</span></a> <a id="t:154" class="idref" href="#t:154"><span class="id" title="binder">t</span></a> <a id="P:155" class="idref" href="#P:155"><span class="id" title="binder">P</span></a> <a id="A:156" class="idref" href="#A:156"><span class="id" title="binder">A</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="class">ElimModal</span> <span class="id" title="notation">True</span> <a class="idref" href="clutch.rel_logic.model.html#p:151"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<span class="id" title="notation">|==&gt;</span> <a class="idref" href="clutch.rel_logic.model.html#P:155"><span class="id" title="variable">P</span></a>) <a class="idref" href="clutch.rel_logic.model.html#P:155"><span class="id" title="variable">P</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:152"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#e:153"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.model.html#t:154"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:156"><span class="id" title="variable">A</span></a>) (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:152"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#e:153"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.model.html#t:154"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:156"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="class">ElimModal</span> (<span class="id" title="definition">bupd_fupd</span> <span class="id" title="notation">⊤</span>). <span class="id" title="tactic">apply</span>: <a class="idref" href="clutch.rel_logic.model.html#elim_fupd_refines"><span class="id" title="instance">elim_fupd_refines</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;+&nbsp;elim_modal_timless_bupd'&nbsp;is&nbsp;useful&nbsp;for&nbsp;stripping&nbsp;off&nbsp;laters&nbsp;of&nbsp;timeless&nbsp;propositions.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="is_except_0_logrel" class="idref" href="#is_except_0_logrel"><span class="id" title="instance">is_except_0_logrel</span></a> <a id="E:157" class="idref" href="#E:157"><span class="id" title="binder">E</span></a> <a id="e:158" class="idref" href="#e:158"><span class="id" title="binder">e</span></a> <a id="t:159" class="idref" href="#t:159"><span class="id" title="binder">t</span></a> <a id="A:160" class="idref" href="#A:160"><span class="id" title="binder">A</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">IsExcept0</span> (<a class="idref" href="clutch.rel_logic.model.html#refines"><span class="id" title="definition">refines</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:157"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#e:158"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.model.html#t:159"><span class="id" title="variable">t</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:160"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="class">IsExcept0</span>. <span class="id" title="var">iIntros</span> "HL".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="clutch.rel_logic.model.html#fupd_refines"><span class="id" title="lemma">fupd_refines</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iMod</span> "HL".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="refines_na_alloc" class="idref" href="#refines_na_alloc"><span class="id" title="lemma">refines_na_alloc</span></a> <a id="P:161" class="idref" href="#P:161"><span class="id" title="binder">P</span></a> <a id="N:162" class="idref" href="#N:162"><span class="id" title="binder">N</span></a> <a id="E:163" class="idref" href="#E:163"><span class="id" title="binder">E</span></a> <a id="e1:164" class="idref" href="#e1:164"><span class="id" title="binder">e1</span></a> <a id="e2:165" class="idref" href="#e2:165"><span class="id" title="binder">e2</span></a> <a id="A:166" class="idref" href="#A:166"><span class="id" title="binder">A</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">▷</span> <a class="idref" href="clutch.rel_logic.model.html#P:161"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><a class="idref" href="clutch.rel_logic.model.html#na_invP"><span class="id" title="definition">na_invP</span></a> <a class="idref" href="clutch.rel_logic.model.html#N:162"><span class="id" title="variable">N</span></a> <a class="idref" href="clutch.rel_logic.model.html#P:161"><span class="id" title="variable">P</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">REL</span></a> <a class="idref" href="clutch.rel_logic.model.html#e1:164"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="clutch.rel_logic.model.html#e2:165"><span class="id" title="variable">e2</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:163"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:166"><span class="id" title="variable">A</span></a><span class="id" title="notation">)</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">REL</span></a> <a class="idref" href="clutch.rel_logic.model.html#e1:164"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="clutch.rel_logic.model.html#e2:165"><span class="id" title="variable">e2</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:163"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:166"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[HP Hcont]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span><span class="id" title="lemma">na_inv_alloc</span> <span class="id" title="notation">with</span> "HP"<span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="notation">(</span>"Hcont" <span class="id" title="notation">with</span> "[$]"<span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="refines_na_inv" class="idref" href="#refines_na_inv"><span class="id" title="lemma">refines_na_inv</span></a> <a id="P:167" class="idref" href="#P:167"><span class="id" title="binder">P</span></a> <a id="E:168" class="idref" href="#E:168"><span class="id" title="binder">E</span></a> <a id="N:169" class="idref" href="#N:169"><span class="id" title="binder">N</span></a> <a id="e1:170" class="idref" href="#e1:170"><span class="id" title="binder">e1</span></a> <a id="e2:171" class="idref" href="#e2:171"><span class="id" title="binder">e2</span></a> <a id="A:172" class="idref" href="#A:172"><span class="id" title="binder">A</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">↑</span><a class="idref" href="clutch.rel_logic.model.html#N:169"><span class="id" title="variable">N</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="clutch.rel_logic.model.html#E:168"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.model.html#na_invP"><span class="id" title="definition">na_invP</span></a> <a class="idref" href="clutch.rel_logic.model.html#N:169"><span class="id" title="variable">N</span></a> <a class="idref" href="clutch.rel_logic.model.html#P:167"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">▷</span> <a class="idref" href="clutch.rel_logic.model.html#P:167"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="clutch.rel_logic.model.html#na_closeP"><span class="id" title="definition">na_closeP</span></a> <a class="idref" href="clutch.rel_logic.model.html#P:167"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.rel_logic.model.html#N:169"><span class="id" title="variable">N</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:168"><span class="id" title="variable">E</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">REL</span></a> <a class="idref" href="clutch.rel_logic.model.html#e1:170"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="clutch.rel_logic.model.html#e2:171"><span class="id" title="variable">e2</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.model.html#E:168"><span class="id" title="variable">E</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">↑</span><a class="idref" href="clutch.rel_logic.model.html#N:169"><span class="id" title="variable">N</span></a><a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:172"><span class="id" title="variable">A</span></a>)%<span class="id" title="var">I</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">REL</span></a> <a class="idref" href="clutch.rel_logic.model.html#e1:170"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="clutch.rel_logic.model.html#e2:171"><span class="id" title="variable">e2</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:168"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:172"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">NE</span>) "[Hinv IH]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.rel_logic.model.html#refines_eq"><span class="id" title="definition">refines_eq</span></a> /<a class="idref" href="clutch.rel_logic.model.html#refines_def"><span class="id" title="definition">refines_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">K</span>) "Hs Hnais".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span><span class="id" title="lemma">na_inv_acc</span> <span class="id" title="notation">with</span> "Hinv Hnais"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "(HP &amp; Hnais &amp; Hclose)" ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span>"IH" <span class="id" title="notation">with</span> "[HP Hclose]"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "IH". 1: <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="notation">(</span>"IH" <span class="id" title="notation">$!</span> <span class="id" title="var">K</span> <span class="id" title="notation">with</span> "Hs Hnais"<span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="refines_na_close" class="idref" href="#refines_na_close"><span class="id" title="lemma">refines_na_close</span></a> <a id="P:173" class="idref" href="#P:173"><span class="id" title="binder">P</span></a> <a id="E:174" class="idref" href="#E:174"><span class="id" title="binder">E</span></a> <a id="N:175" class="idref" href="#N:175"><span class="id" title="binder">N</span></a> <a id="e1:176" class="idref" href="#e1:176"><span class="id" title="binder">e1</span></a> <a id="e2:177" class="idref" href="#e2:177"><span class="id" title="binder">e2</span></a> <a id="A:178" class="idref" href="#A:178"><span class="id" title="binder">A</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">▷</span> <a class="idref" href="clutch.rel_logic.model.html#P:173"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="clutch.rel_logic.model.html#na_closeP"><span class="id" title="definition">na_closeP</span></a> <a class="idref" href="clutch.rel_logic.model.html#P:173"><span class="id" title="variable">P</span></a> <a class="idref" href="clutch.rel_logic.model.html#N:175"><span class="id" title="variable">N</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:174"><span class="id" title="variable">E</span></a> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">REL</span></a> <a class="idref" href="clutch.rel_logic.model.html#e1:176"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="clutch.rel_logic.model.html#e2:177"><span class="id" title="variable">e2</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:174"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:178"><span class="id" title="variable">A</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">REL</span></a> <a class="idref" href="clutch.rel_logic.model.html#e1:176"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="clutch.rel_logic.model.html#e2:177"><span class="id" title="variable">e2</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.rel_logic.model.html#E:174"><span class="id" title="variable">E</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">↑</span><a class="idref" href="clutch.rel_logic.model.html#N:175"><span class="id" title="variable">N</span></a><a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:178"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "(HP &amp; Hclose &amp; IH)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.rel_logic.model.html#refines_eq"><span class="id" title="definition">refines_eq</span></a> /<a class="idref" href="clutch.rel_logic.model.html#refines_def"><span class="id" title="definition">refines_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">K</span>) "Hs own_FN".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span>"Hclose" <span class="id" title="notation">with</span> "[$HP $own_FN]"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "own_F".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> "own_F". <span class="id" title="var">iApply</span> <span class="id" title="notation">(</span>"IH" <span class="id" title="notation">with</span> "Hs own_F"<span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.rel_logic.model.html#related_facts"><span class="id" title="section">related_facts</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="monadic" class="idref" href="#monadic"><span class="id" title="section">monadic</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="clutchRGS0:180" class="idref" href="#clutchRGS0:180"><span class="id" title="binder">!</span></a><a id="clutchRGS0:180" class="idref" href="#clutchRGS0:180"><span class="id" title="binder">clutchRGS</span></a> <a id="clutchRGS0:180" class="idref" href="#clutchRGS0:180"><span class="id" title="binder">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">e</span> : <a class="idref" href="clutch.prob_lang.lang.html#prob_lang.expr"><span class="id" title="inductive">expr</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="refines_bind" class="idref" href="#refines_bind"><span class="id" title="lemma">refines_bind</span></a> <a id="K:181" class="idref" href="#K:181"><span class="id" title="binder">K</span></a> <a id="K':182" class="idref" href="#K':182"><span class="id" title="binder">K'</span></a> <a id="E:183" class="idref" href="#E:183"><span class="id" title="binder">E</span></a> <a id="A:184" class="idref" href="#A:184"><span class="id" title="binder">A</span></a> <a id="A':185" class="idref" href="#A':185"><span class="id" title="binder">A'</span></a> <a id="e:186" class="idref" href="#e:186"><span class="id" title="binder">e</span></a> <a id="e':187" class="idref" href="#e':187"><span class="id" title="binder">e'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">REL</span></a> <a class="idref" href="clutch.rel_logic.model.html#e:186"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="clutch.rel_logic.model.html#e':187"><span class="id" title="variable">e'</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:183"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:184"><span class="id" title="variable">A</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∀</span> <a id="v:188" class="idref" href="#v:188"><span class="id" title="binder">v</span></a> <a id="v':189" class="idref" href="#v':189"><span class="id" title="binder">v'</span></a><span class="id" title="notation">,</span> <a class="idref" href="clutch.rel_logic.model.html#A:184"><span class="id" title="variable">A</span></a> <a class="idref" href="clutch.rel_logic.model.html#v:188"><span class="id" title="variable">v</span></a> <a class="idref" href="clutch.rel_logic.model.html#v':189"><span class="id" title="variable">v'</span></a> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.model.html#:::'REL'_x_'&lt;&lt;'_x_':'_x"><span class="id" title="notation">REL</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.model.html#K:181"><span class="id" title="variable">K</span></a> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.of_val"><span class="id" title="abbreviation">of_val</span></a> <a class="idref" href="clutch.rel_logic.model.html#v:188"><span class="id" title="variable">v</span></a>) <a class="idref" href="clutch.rel_logic.model.html#:::'REL'_x_'&lt;&lt;'_x_':'_x"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="clutch.rel_logic.model.html#:::'REL'_x_'&lt;&lt;'_x_':'_x"><span class="id" title="notation">(</span></a><a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.model.html#K':182"><span class="id" title="variable">K'</span></a> (<a class="idref" href="clutch.prob_lang.lang.html#prob_lang.of_val"><span class="id" title="abbreviation">of_val</span></a> <a class="idref" href="clutch.rel_logic.model.html#v':189"><span class="id" title="variable">v'</span></a>)<a class="idref" href="clutch.rel_logic.model.html#:::'REL'_x_'&lt;&lt;'_x_':'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="clutch.rel_logic.model.html#:::'REL'_x_'&lt;&lt;'_x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.model.html#A':185"><span class="id" title="variable">A'</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">REL</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.model.html#K:181"><span class="id" title="variable">K</span></a> <a class="idref" href="clutch.rel_logic.model.html#e:186"><span class="id" title="variable">e</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="clutch.rel_logic.model.html#K':182"><span class="id" title="variable">K'</span></a> <a class="idref" href="clutch.rel_logic.model.html#e':187"><span class="id" title="variable">e'</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:183"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.model.html#A':185"><span class="id" title="variable">A'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hm Hf".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.rel_logic.model.html#refines_eq"><span class="id" title="definition">refines_eq</span></a> /<a class="idref" href="clutch.rel_logic.model.html#refines_def"><span class="id" title="definition">refines_def</span></a> /<a class="idref" href="clutch.rel_logic.spec_ra.html#refines_right"><span class="id" title="definition">refines_right</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">K''</span>) "(#Hs &amp; Hj) Hnais /=".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="clutch.program_logic.ectxi_language.html#fill_app"><span class="id" title="lemma">fill_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <span class="id" title="notation">(</span>"Hm" <span class="id" title="notation">$!</span> <span class="id" title="notation">(</span><span class="id" title="var">K'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">K''</span><span class="id" title="notation">)</span> <span class="id" title="notation">with</span> "[$Hs $Hj] Hnais"<span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="clutch.program_logic.weakestpre.html#wp_bind"><span class="id" title="lemma">wp_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="notation">(</span><a class="idref" href="clutch.program_logic.weakestpre.html#wp_wand"><span class="id" title="lemma">wp_wand</span></a> <span class="id" title="notation">with</span> "Hm"<span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>). <span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">v'</span>) "[Hj [Hnais HA]]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.program_logic.ectxi_language.html#fill_app"><span class="id" title="lemma">fill_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="notation">(</span>"Hf" <span class="id" title="notation">with</span> "HA Hj Hnais"<span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="refines_ret_na" class="idref" href="#refines_ret_na"><span class="id" title="lemma">refines_ret_na</span></a> <a id="E:190" class="idref" href="#E:190"><span class="id" title="binder">E</span></a> <a id="e1:191" class="idref" href="#e1:191"><span class="id" title="binder">e1</span></a> <a id="e2:192" class="idref" href="#e2:192"><span class="id" title="binder">e2</span></a> <a id="v1:193" class="idref" href="#v1:193"><span class="id" title="binder">v1</span></a> <a id="v2:194" class="idref" href="#v2:194"><span class="id" title="binder">v2</span></a> (<a id="A:195" class="idref" href="#A:195"><span class="id" title="binder">A</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#fa95a555ad79d68a1adb975ef273b4b9"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#IntoVal"><span class="id" title="class">IntoVal</span></a> <a class="idref" href="clutch.rel_logic.model.html#e1:191"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.rel_logic.model.html#v1:193"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#IntoVal"><span class="id" title="class">IntoVal</span></a> <a class="idref" href="clutch.rel_logic.model.html#e2:192"><span class="id" title="variable">e2</span></a> <a class="idref" href="clutch.rel_logic.model.html#v2:194"><span class="id" title="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="clutch.rel_logic.model.html#na_ownP"><span class="id" title="definition">na_ownP</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:190"><span class="id" title="variable">E</span></a> <span class="id" title="notation">={</span><span class="id" title="notation">⊤</span><span class="id" title="notation">}=∗</span> <a class="idref" href="clutch.rel_logic.model.html#na_ownP"><span class="id" title="definition">na_ownP</span></a> <span class="id" title="notation">⊤</span> <span class="id" title="notation">∗</span> <a class="idref" href="clutch.rel_logic.model.html#A:195"><span class="id" title="variable">A</span></a> <a class="idref" href="clutch.rel_logic.model.html#v1:193"><span class="id" title="variable">v1</span></a> <a class="idref" href="clutch.rel_logic.model.html#v2:194"><span class="id" title="variable">v2</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">REL</span></a> <a class="idref" href="clutch.rel_logic.model.html#e1:191"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="clutch.rel_logic.model.html#e2:192"><span class="id" title="variable">e2</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:190"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:195"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.program_logic.language.html#IntoVal"><span class="id" title="class">IntoVal</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.rel_logic.model.html#refines_eq"><span class="id" title="definition">refines_eq</span></a> /<a class="idref" href="clutch.rel_logic.model.html#refines_def"><span class="id" title="definition">refines_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (&lt;-&lt;-) "HFA". <span class="id" title="var">iIntros</span> (<span class="id" title="var">K</span>) "HK Hnais /=".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span>"HFA" <span class="id" title="notation">with</span> "Hnais"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[HF HA]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="clutch.program_logic.weakestpre.html#wp_value"><span class="id" title="lemma">wp_value</span></a>. <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="refines_ret_na'" class="idref" href="#refines_ret_na'"><span class="id" title="lemma">refines_ret_na'</span></a> <a id="E:196" class="idref" href="#E:196"><span class="id" title="binder">E</span></a> <a id="e1:197" class="idref" href="#e1:197"><span class="id" title="binder">e1</span></a> <a id="e2:198" class="idref" href="#e2:198"><span class="id" title="binder">e2</span></a> <a id="v1:199" class="idref" href="#v1:199"><span class="id" title="binder">v1</span></a> <a id="v2:200" class="idref" href="#v2:200"><span class="id" title="binder">v2</span></a> (<a id="A:201" class="idref" href="#A:201"><span class="id" title="binder">A</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#fa95a555ad79d68a1adb975ef273b4b9"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#IntoVal"><span class="id" title="class">IntoVal</span></a> <a class="idref" href="clutch.rel_logic.model.html#e1:197"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.rel_logic.model.html#v1:199"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#IntoVal"><span class="id" title="class">IntoVal</span></a> <a class="idref" href="clutch.rel_logic.model.html#e2:198"><span class="id" title="variable">e2</span></a> <a class="idref" href="clutch.rel_logic.model.html#v2:200"><span class="id" title="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">|={</span><span class="id" title="notation">⊤</span><span class="id" title="notation">}=&gt;</span> <a class="idref" href="clutch.rel_logic.model.html#na_ownP"><span class="id" title="definition">na_ownP</span></a> (<span class="id" title="notation">⊤</span> <span class="id" title="notation">∖</span> <a class="idref" href="clutch.rel_logic.model.html#E:196"><span class="id" title="variable">E</span></a>) <span class="id" title="notation">∗</span> <a class="idref" href="clutch.rel_logic.model.html#A:201"><span class="id" title="variable">A</span></a> <a class="idref" href="clutch.rel_logic.model.html#v1:199"><span class="id" title="variable">v1</span></a> <a class="idref" href="clutch.rel_logic.model.html#v2:200"><span class="id" title="variable">v2</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">REL</span></a> <a class="idref" href="clutch.rel_logic.model.html#e1:197"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="clutch.rel_logic.model.html#e2:198"><span class="id" title="variable">e2</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">@</span></a> <a class="idref" href="clutch.rel_logic.model.html#E:196"><span class="id" title="variable">E</span></a> <a class="idref" href="clutch.rel_logic.model.html#d3c268bd640b3c62d79ad39eb13de4cf"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:201"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="clutch.program_logic.language.html#IntoVal"><span class="id" title="class">IntoVal</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="clutch.rel_logic.model.html#refines_eq"><span class="id" title="definition">refines_eq</span></a> /<a class="idref" href="clutch.rel_logic.model.html#refines_def"><span class="id" title="definition">refines_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (&lt;-&lt;-) "HFA". <span class="id" title="var">iIntros</span> (<span class="id" title="var">j</span>) "Hj Hnais /=".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> "HFA" <span class="id" title="keyword">as</span> "[HF HA]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="clutch.program_logic.weakestpre.html#wp_value"><span class="id" title="lemma">wp_value</span></a>. <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">E</span> <span class="id" title="notation">##</span> <span class="id" title="notation">(</span><span class="id" title="notation">⊤</span> <span class="id" title="notation">∖</span> <span class="id" title="var">E</span><span class="id" title="notation">)</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span> <span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPoseProof</span> <span class="id" title="notation">(</span><span class="id" title="lemma">na_own_union</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="notation">with</span> "[$HF $Hnais]"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "HL".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">E</span> <span class="id" title="notation">∪</span> <span class="id" title="notation">(</span><span class="id" title="notation">⊤</span> <span class="id" title="notation">∖</span> <span class="id" title="var">E</span><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">⊤</span>) <span class="id" title="keyword">as</span> -&gt;. 2: <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="instance">union_comm_L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">difference_union_L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="refines_ret" class="idref" href="#refines_ret"><span class="id" title="lemma">refines_ret</span></a> <a id="e1:202" class="idref" href="#e1:202"><span class="id" title="binder">e1</span></a> <a id="e2:203" class="idref" href="#e2:203"><span class="id" title="binder">e2</span></a> <a id="v1:204" class="idref" href="#v1:204"><span class="id" title="binder">v1</span></a> <a id="v2:205" class="idref" href="#v2:205"><span class="id" title="binder">v2</span></a> (<a id="A:206" class="idref" href="#A:206"><span class="id" title="binder">A</span></a> : <a class="idref" href="clutch.rel_logic.model.html#lrel"><span class="id" title="record">lrel</span></a> <a class="idref" href="clutch.rel_logic.model.html#fa95a555ad79d68a1adb975ef273b4b9"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#IntoVal"><span class="id" title="class">IntoVal</span></a> <a class="idref" href="clutch.rel_logic.model.html#e1:202"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.rel_logic.model.html#v1:204"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.program_logic.language.html#IntoVal"><span class="id" title="class">IntoVal</span></a> <a class="idref" href="clutch.rel_logic.model.html#e2:203"><span class="id" title="variable">e2</span></a> <a class="idref" href="clutch.rel_logic.model.html#v2:205"><span class="id" title="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">|={</span><span class="id" title="notation">⊤</span><span class="id" title="notation">}=&gt;</span> <a class="idref" href="clutch.rel_logic.model.html#A:206"><span class="id" title="variable">A</span></a> <a class="idref" href="clutch.rel_logic.model.html#v1:204"><span class="id" title="variable">v1</span></a> <a class="idref" href="clutch.rel_logic.model.html#v2:205"><span class="id" title="variable">v2</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="clutch.rel_logic.model.html#:::'REL'_x_'&lt;&lt;'_x_':'_x"><span class="id" title="notation">REL</span></a> <a class="idref" href="clutch.rel_logic.model.html#e1:202"><span class="id" title="variable">e1</span></a> <a class="idref" href="clutch.rel_logic.model.html#:::'REL'_x_'&lt;&lt;'_x_':'_x"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="clutch.rel_logic.model.html#e2:203"><span class="id" title="variable">e2</span></a> <a class="idref" href="clutch.rel_logic.model.html#:::'REL'_x_'&lt;&lt;'_x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="clutch.rel_logic.model.html#A:206"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">hv1</span> <span class="id" title="var">hv2</span>) "HA".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="clutch.rel_logic.model.html#refines_ret_na"><span class="id" title="lemma">refines_ret_na</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hnais". <span class="id" title="var">iMod</span> "HA". <span class="id" title="var">now</span> <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="clutch.rel_logic.model.html#monadic"><span class="id" title="section">monadic</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
