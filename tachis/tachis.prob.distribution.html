<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/logsem/clutch">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">tachis.prob.distribution</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Reals.html#"><span class="id" title="library">Reals</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.micromega.Psatz.html#"><span class="id" title="library">Psatz</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq.ssr</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coquelicot</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#"><span class="id" title="library">Rcomplements</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rbar.html#"><span class="id" title="library">Rbar</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#"><span class="id" title="library">Series</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#"><span class="id" title="library">Lim_seq</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#"><span class="id" title="library">Hierarchy</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#"><span class="id" title="library">countable</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#"><span class="id" title="library">finite</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">tachis.prelude</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="tachis.prelude.base.html#"><span class="id" title="library">base</span></a> <a class="idref" href="tachis.prelude.stdpp_ext.html#"><span class="id" title="library">stdpp_ext</span></a> <a class="idref" href="tachis.prelude.Reals_ext.html#"><span class="id" title="library">Reals_ext</span></a> <a class="idref" href="tachis.prelude.Coquelicot_ext.html#"><span class="id" title="library">Coquelicot_ext</span></a> <a class="idref" href="tachis.prelude.Series_ext.html#"><span class="id" title="library">Series_ext</span></a> <a class="idref" href="tachis.prelude.classical.html#"><span class="id" title="library">classical</span></a> <a class="idref" href="tachis.prelude.uniform_list.html#"><span class="id" title="library">uniform_list</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">tachis.prob</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="tachis.prob.countable_sum.html#"><span class="id" title="library">countable_sum</span></a>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="distr" class="idref" href="#distr"><span class="id" title="record">distr</span></a> (<a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) `{<a id="H:3" class="idref" href="#H:3"><span class="id" title="binder">Countable</span></a> <a id="H:3" class="idref" href="#H:3"><span class="id" title="binder">A</span></a>} := <span class="id" title="var">MkDistr</span> {<br/>
&nbsp;&nbsp;<a id="pmf" class="idref" href="#pmf"><span class="id" title="projection">pmf</span></a> :&gt; <a class="idref" href="tachis.prob.distribution.html#A:1"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>;<br/>
&nbsp;&nbsp;<a id="pmf_pos" class="idref" href="#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:6" class="idref" href="#a:6"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#pmf:5"><span class="id" title="method">pmf</span></a> <a class="idref" href="tachis.prob.distribution.html#a:6"><span class="id" title="variable">a</span></a>;<br/>
&nbsp;&nbsp;<a id="pmf_ex_seriesC" class="idref" href="#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> : <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#pmf:5"><span class="id" title="method">pmf</span></a>;<br/>
&nbsp;&nbsp;<a id="pmf_SeriesC" class="idref" href="#pmf_SeriesC"><span class="id" title="projection">pmf_SeriesC</span></a> : <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#pmf:5"><span class="id" title="method">pmf</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="tachis.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="tachis.prob.distribution.html#pmf_SeriesC"><span class="id" title="projection">pmf_SeriesC</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">pmf_pos</span> <span class="id" title="var">pmf_ex_seriesC</span> <span class="id" title="var">pmf_SeriesC</span> : <span class="id" title="var">core</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="distributions" class="idref" href="#distributions"><span class="id" title="section">distributions</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:12" class="idref" href="#H:12"><span class="id" title="binder">Countable</span></a> <a id="A:10" class="idref" href="#A:10"><span class="id" title="binder"><span id="H:12" class="id">A</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">μ</span> <span class="id" title="var">d</span> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="distr_dec" class="idref" href="#distr_dec"><span class="id" title="instance">distr_dec</span></a> <a id="46e20c87cf076939d880dd5152987a0e" class="idref" href="#46e20c87cf076939d880dd5152987a0e"><span class="id" title="binder">μ1</span></a> <a id="6816787de3d81e12652728d0efce690d" class="idref" href="#6816787de3d81e12652728d0efce690d"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Decision"><span class="id" title="class">Decision</span></a> (<a class="idref" href="tachis.prob.distribution.html#46e20c87cf076939d880dd5152987a0e"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#6816787de3d81e12652728d0efce690d"><span class="id" title="variable">μ2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.classical.html#make_decision"><span class="id" title="lemma">make_decision</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_le_1" class="idref" href="#pmf_le_1"><span class="id" title="lemma">pmf_le_1</span></a> <a id="b00ab9843263666e5fa0e80e7f537612" class="idref" href="#b00ab9843263666e5fa0e80e7f537612"><span class="id" title="binder">μ</span></a> <a id="a:16" class="idref" href="#a:16"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#b00ab9843263666e5fa0e80e7f537612"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:16"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':17" class="idref" href="#a':17"><span class="id" title="binder"><span id="a':18" class="id">a'</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a':17"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; [|<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_SeriesC"><span class="id" title="projection">pmf_SeriesC</span></a> <span class="id" title="var">μ</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_SeriesC_ge_0" class="idref" href="#pmf_SeriesC_ge_0"><span class="id" title="lemma">pmf_SeriesC_ge_0</span></a> <a id="40be0ccef18ee2ad161184284316daf3" class="idref" href="#40be0ccef18ee2ad161184284316daf3"><span class="id" title="binder">μ</span></a> : 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#40be0ccef18ee2ad161184284316daf3"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> : <a class="idref" href="tachis.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0"><span class="id" title="lemma">SeriesC_ge_0</span></a>; [<span class="id" title="var">done</span>|]. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_0"><span class="id" title="lemma">ex_seriesC_0</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le'"><span class="id" title="lemma">SeriesC_le'</span></a>; [<span class="id" title="var">done</span>| |<span class="id" title="var">done</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_0"><span class="id" title="lemma">ex_seriesC_0</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">pmf_le_1</span> : <span class="id" title="var">core</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">pmf_SeriesC_ge_0</span> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_ex_seriesC_mult_fn" class="idref" href="#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a> <a id="9a5f82bf14e2d9fa7ef57f7e19185de2" class="idref" href="#9a5f82bf14e2d9fa7ef57f7e19185de2"><span class="id" title="binder">μ</span></a> (<a id="f:21" class="idref" href="#f:21"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="n:22" class="idref" href="#n:22"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:23" class="idref" href="#a:23"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:21"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:23"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#n:22"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:24" class="idref" href="#a:24"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#9a5f82bf14e2d9fa7ef57f7e19185de2"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:24"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:21"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:24"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">n</span> <span class="id" title="var">Hf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:25" class="idref" href="#a:25"><span class="id" title="binder"><span id="a:26" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:25"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">n</span>)); [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_ex_seriesC_mult" class="idref" href="#pmf_ex_seriesC_mult"><span class="id" title="lemma">pmf_ex_seriesC_mult</span></a> (<a id="5c26eec22e6f9f21e49df9b0e7197da4" class="idref" href="#5c26eec22e6f9f21e49df9b0e7197da4"><span class="id" title="binder">μ1</span></a> <a id="179f0da0159eb860ffce1f34a1ccce0c" class="idref" href="#179f0da0159eb860ffce1f34a1ccce0c"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:29" class="idref" href="#a:29"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#5c26eec22e6f9f21e49df9b0e7197da4"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#a:29"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#179f0da0159eb860ffce1f34a1ccce0c"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.distribution.html#a:29"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> 1. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_le_SeriesC" class="idref" href="#pmf_le_SeriesC"><span class="id" title="lemma">pmf_le_SeriesC</span></a> `{<a id="H0:31" class="idref" href="#H0:31"><span class="id" title="binder">Countable</span></a> <a id="H0:31" class="idref" href="#H0:31"><span class="id" title="binder">A</span></a>} (<a id="ef4ae7934778aeed4bf39382b8b5f724" class="idref" href="#ef4ae7934778aeed4bf39382b8b5f724"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) (<a id="a:33" class="idref" href="#a:33"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ef4ae7934778aeed4bf39382b8b5f724"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:33"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#ef4ae7934778aeed4bf39382b8b5f724"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_elem"><span class="id" title="lemma">SeriesC_ge_elem</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_1_eq_SeriesC" class="idref" href="#pmf_1_eq_SeriesC"><span class="id" title="lemma">pmf_1_eq_SeriesC</span></a> (<a id="bcccfa00454396b394dc5b13cbd521a8" class="idref" href="#bcccfa00454396b394dc5b13cbd521a8"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) (<a id="a:35" class="idref" href="#a:35"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#bcccfa00454396b394dc5b13cbd521a8"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:35"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#bcccfa00454396b394dc5b13cbd521a8"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:35"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#bcccfa00454396b394dc5b13cbd521a8"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hμ</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_le_SeriesC"><span class="id" title="lemma">pmf_le_SeriesC</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_SeriesC"><span class="id" title="projection">pmf_SeriesC</span></a> <span class="id" title="var">μ</span>). <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_plus_neq_SeriesC" class="idref" href="#pmf_plus_neq_SeriesC"><span class="id" title="lemma">pmf_plus_neq_SeriesC</span></a> `{<a id="H0:37" class="idref" href="#H0:37"><span class="id" title="binder">Countable</span></a> <a id="H0:37" class="idref" href="#H0:37"><span class="id" title="binder">A</span></a>} (<a id="857527bcfb5911404b587ad2f1e079e7" class="idref" href="#857527bcfb5911404b587ad2f1e079e7"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) (<a id="a:39" class="idref" href="#a:39"><span class="id" title="binder">a</span></a> <a id="a':40" class="idref" href="#a':40"><span class="id" title="binder">a'</span></a> : <a class="idref" href="tachis.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#a:39"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="tachis.prob.distribution.html#a':40"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#857527bcfb5911404b587ad2f1e079e7"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:39"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.distribution.html#857527bcfb5911404b587ad2f1e079e7"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a':40"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#857527bcfb5911404b587ad2f1e079e7"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_split_elem"><span class="id" title="lemma">SeriesC_split_elem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a</span>); [|<span class="id" title="var">done</span>|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prelude.Reals_ext.html#Rle_plus_plus"><span class="id" title="lemma">Rle_plus_plus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="var">a</span> (<span class="id" title="var">μ</span> <span class="id" title="var">a</span>))|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_split_elem"><span class="id" title="lemma">SeriesC_split_elem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a'</span>); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a>; [|<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> <span class="id" title="var">μ</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Reals_ext.html#Rle_plus_l"><span class="id" title="lemma">Rle_plus_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="var">a'</span> (<span class="id" title="var">μ</span> <span class="id" title="var">a'</span>))|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0"><span class="id" title="lemma">SeriesC_ge_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a>; [|<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> <span class="id" title="var">μ</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_1_supp_eq" class="idref" href="#pmf_1_supp_eq"><span class="id" title="lemma">pmf_1_supp_eq</span></a> (<a id="097b8060c48d1509e2273bce6bb2e7d6" class="idref" href="#097b8060c48d1509e2273bce6bb2e7d6"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) (<a id="a:42" class="idref" href="#a:42"><span class="id" title="binder">a</span></a> <a id="a':43" class="idref" href="#a':43"><span class="id" title="binder">a'</span></a> : <a class="idref" href="tachis.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#097b8060c48d1509e2273bce6bb2e7d6"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:42"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#097b8060c48d1509e2273bce6bb2e7d6"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a':43"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#a:42"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#a':43"><span class="id" title="variable">a'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ha</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a'</span>)) <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hneq</span>]; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_le_SeriesC"><span class="id" title="lemma">pmf_le_SeriesC</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_1_eq_SeriesC"><span class="id" title="lemma">pmf_1_eq_SeriesC</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ha</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_plus_neq_SeriesC"><span class="id" title="lemma">pmf_plus_neq_SeriesC</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span> <span class="id" title="var">Hneq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;N.B.&nbsp;uses&nbsp;<span class="inlinecode"><span class="id" title="var">functional_extensionality</span></span>&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">proof_irrelevance</span></span>&nbsp;axioms&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_ext" class="idref" href="#distr_ext"><span class="id" title="lemma">distr_ext</span></a> (<a id="d1:44" class="idref" href="#d1:44"><span class="id" title="binder">d1</span></a> <a id="d2:45" class="idref" href="#d2:45"><span class="id" title="binder">d2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:46" class="idref" href="#a:46"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#d1:44"><span class="id" title="variable">d1</span></a>.(<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="tachis.prob.distribution.html#a:46"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#d2:45"><span class="id" title="variable">d2</span></a>.(<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="tachis.prob.distribution.html#a:46"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#d1:44"><span class="id" title="variable">d1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#d2:45"><span class="id" title="variable">d2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pmf1</span> ?], <span class="id" title="var">d2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pmf2</span> ?] =&gt;/=. <span class="id" title="tactic">intros</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">pmf1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">pmf2</span>) <span class="id" title="keyword">as</span> -&gt;; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">extensionality</span> <span class="id" title="var">b</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Logic.PropExtensionality.html#proof_irrelevance"><span class="id" title="lemma">proof_irrelevance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_ext_pmf" class="idref" href="#distr_ext_pmf"><span class="id" title="lemma">distr_ext_pmf</span></a> (<a id="d1:47" class="idref" href="#d1:47"><span class="id" title="binder">d1</span></a> <a id="d2:48" class="idref" href="#d2:48"><span class="id" title="binder">d2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#d1:47"><span class="id" title="variable">d1</span></a>.(<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>)  <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#d2:48"><span class="id" title="variable">d2</span></a>.(<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#d1:47"><span class="id" title="variable">d1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#d2:48"><span class="id" title="variable">d2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pmf1</span> ?], <span class="id" title="var">d2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pmf2</span> ?] =&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>. <span class="id" title="tactic">intros</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Logic.PropExtensionality.html#proof_irrelevance"><span class="id" title="lemma">proof_irrelevance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_eq_0_le" class="idref" href="#pmf_eq_0_le"><span class="id" title="lemma">pmf_eq_0_le</span></a> (<a id="b6654d0c1bd9ffdd8b574f57429b81b9" class="idref" href="#b6654d0c1bd9ffdd8b574f57429b81b9"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) (<a id="a:50" class="idref" href="#a:50"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#b6654d0c1bd9ffdd8b574f57429b81b9"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:50"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#b6654d0c1bd9ffdd8b574f57429b81b9"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:50"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hlt</span>%(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_not_gt"><span class="id" title="lemma">Rle_not_gt</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span>)) |]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_eq_0_not_gt_0" class="idref" href="#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a> (<a id="acaa67bc50c55f9c6b8f076fb21cb4a0" class="idref" href="#acaa67bc50c55f9c6b8f076fb21cb4a0"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>) (<a id="a:52" class="idref" href="#a:52"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#distributions.A"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#acaa67bc50c55f9c6b8f076fb21cb4a0"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:52"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#acaa67bc50c55f9c6b8f076fb21cb4a0"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:52"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?%<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rnot_gt_ge"><span class="id" title="lemma">Rnot_gt_ge</span></a>%<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rge_le"><span class="id" title="lemma">Rge_le</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_eq_0_le"><span class="id" title="lemma">pmf_eq_0_le</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#distributions"><span class="id" title="section">distributions</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">pmf_le_1</span> : <span class="id" title="var">core</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">pmf_SeriesC_ge_0</span> : <span class="id" title="var">core</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1"></a><h1 class="section">Sum-swapping equalities for distributions</h1>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="distr_double_swap_ex" class="idref" href="#distr_double_swap_ex"><span class="id" title="lemma">distr_double_swap_ex</span></a> `{<a id="H:55" class="idref" href="#H:55"><span class="id" title="binder">Countable</span></a> <a id="A:53" class="idref" href="#A:53"><span class="id" title="binder"><span id="H:55" class="id">A</span></span></a>, <a id="H0:58" class="idref" href="#H0:58"><span class="id" title="binder">Countable</span></a> <a id="B:56" class="idref" href="#B:56"><span class="id" title="binder"><span id="H0:58" class="id">B</span></span></a>} (<a id="f:59" class="idref" href="#f:59"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:53"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:56"><span class="id" title="variable">B</span></a>) (<a id="066337ab41c121e2134e09daaf3da79d" class="idref" href="#066337ab41c121e2134e09daaf3da79d"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:53"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:61" class="idref" href="#a:61"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:53"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:62" class="idref" href="#b:62"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:56"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#066337ab41c121e2134e09daaf3da79d"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:61"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:59"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:61"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:62"><span class="id" title="variable">b</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:63" class="idref" href="#b:63"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:56"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:64" class="idref" href="#a:64"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:53"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#066337ab41c121e2134e09daaf3da79d"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:64"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:59"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:64"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:63"><span class="id" title="variable">b</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC_ex_double"><span class="id" title="lemma">fubini_pos_seriesC_ex_double</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:67" class="idref" href="#pat:67"><span class="id" title="binder"><span id="pat:70" class="id">(</span></span></a><a id="a:66" class="idref" href="#a:66"><span class="id" title="binder"><span id="pat:67" class="id"><span id="a:69" class="id"><span id="pat:70" class="id">a</span></span></span></span></a><a id="pat:67" class="idref" href="#pat:67"><span class="id" title="binder"><span id="pat:70" class="id">,</span></span></a> <a id="b:65" class="idref" href="#b:65"><span class="id" title="binder"><span id="pat:67" class="id"><span id="b:68" class="id"><span id="pat:70" class="id">b</span></span></span></span></a><a id="pat:67" class="idref" href="#pat:67"><span class="id" title="binder"><span id="pat:70" class="id">)</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:66"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a:66"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:65"><span class="id" title="variable">b</span></a>)); [| |<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_swap" class="idref" href="#distr_double_swap"><span class="id" title="lemma">distr_double_swap</span></a> `{<a id="H:73" class="idref" href="#H:73"><span class="id" title="binder">Countable</span></a> <a id="A:71" class="idref" href="#A:71"><span class="id" title="binder"><span id="H:73" class="id">A</span></span></a>, <a id="H0:76" class="idref" href="#H0:76"><span class="id" title="binder">Countable</span></a> <a id="B:74" class="idref" href="#B:74"><span class="id" title="binder"><span id="H0:76" class="id">B</span></span></a>} (<a id="f:77" class="idref" href="#f:77"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:71"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:74"><span class="id" title="variable">B</span></a>) (<a id="ac6cfe8e089a1ca26383433e291b4d25" class="idref" href="#ac6cfe8e089a1ca26383433e291b4d25"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:71"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:79" class="idref" href="#b:79"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:74"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:80" class="idref" href="#a:80"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:71"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#ac6cfe8e089a1ca26383433e291b4d25"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:80"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:77"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:80"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:79"><span class="id" title="variable">b</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:81" class="idref" href="#a:81"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:71"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:82" class="idref" href="#b:82"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:74"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#ac6cfe8e089a1ca26383433e291b4d25"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:81"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:77"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:81"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:82"><span class="id" title="variable">b</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:85" class="idref" href="#pat:85"><span class="id" title="binder"><span id="pat:88" class="id">(</span></span></a><a id="a:84" class="idref" href="#a:84"><span class="id" title="binder"><span id="pat:85" class="id"><span id="a:87" class="id"><span id="pat:88" class="id">a</span></span></span></span></a><a id="pat:85" class="idref" href="#pat:85"><span class="id" title="binder"><span id="pat:88" class="id">,</span></span></a> <a id="b:83" class="idref" href="#b:83"><span class="id" title="binder"><span id="pat:85" class="id"><span id="b:86" class="id"><span id="pat:88" class="id">b</span></span></span></span></a><a id="pat:85" class="idref" href="#pat:85"><span class="id" title="binder"><span id="pat:88" class="id">)</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:84"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a:84"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:83"><span class="id" title="variable">b</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_ext"><span class="id" title="lemma">ex_seriesC_ext</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="j:89" class="idref" href="#j:89"><span class="id" title="binder"><span id="j:91" class="id">j</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#j:89"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="k:90" class="idref" href="#k:90"><span class="id" title="binder"><span id="k:92" class="id">k</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#j:89"><span class="id" title="variable">j</span></a> <a class="idref" href="tachis.prob.distribution.html#k:90"><span class="id" title="variable">k</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:93" class="idref" href="#a:93"><span class="id" title="binder"><span id="a:94" class="id">a</span></span></a> : <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:93"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> 1)); [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_lr" class="idref" href="#distr_double_lr"><span class="id" title="lemma">distr_double_lr</span></a> `{<a id="H:97" class="idref" href="#H:97"><span class="id" title="binder">Countable</span></a> <a id="A:95" class="idref" href="#A:95"><span class="id" title="binder"><span id="H:97" class="id">A</span></span></a>, <a id="H0:100" class="idref" href="#H0:100"><span class="id" title="binder">Countable</span></a> <a id="B:98" class="idref" href="#B:98"><span class="id" title="binder"><span id="H0:100" class="id">B</span></span></a>} (<a id="f:101" class="idref" href="#f:101"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:95"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:98"><span class="id" title="variable">B</span></a>) (<a id="3e2f7d798f846264ceb3a701650f3bd2" class="idref" href="#3e2f7d798f846264ceb3a701650f3bd2"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:95"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:105" class="idref" href="#pat:105"><span class="id" title="binder">(</span></a><a id="a:104" class="idref" href="#a:104"><span class="id" title="binder"><span id="pat:105" class="id">a</span></span></a><a id="pat:105" class="idref" href="#pat:105"><span class="id" title="binder">,</span></a> <a id="b:103" class="idref" href="#b:103"><span class="id" title="binder"><span id="pat:105" class="id">b</span></span></a><a id="pat:105" class="idref" href="#pat:105"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#3e2f7d798f846264ceb3a701650f3bd2"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:104"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:101"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:104"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:103"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:106" class="idref" href="#a:106"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:95"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:107" class="idref" href="#b:107"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:98"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#3e2f7d798f846264ceb3a701650f3bd2"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:106"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:101"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:106"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:107"><span class="id" title="variable">b</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC_prod_lr"><span class="id" title="lemma">fubini_pos_seriesC_prod_lr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:110" class="idref" href="#pat:110"><span class="id" title="binder"><span id="pat:113" class="id">(</span></span></a><a id="a:109" class="idref" href="#a:109"><span class="id" title="binder"><span id="pat:110" class="id"><span id="a:112" class="id"><span id="pat:113" class="id">a</span></span></span></span></a><a id="pat:110" class="idref" href="#pat:110"><span class="id" title="binder"><span id="pat:113" class="id">,</span></span></a> <a id="b:108" class="idref" href="#b:108"><span class="id" title="binder"><span id="pat:110" class="id"><span id="b:111" class="id"><span id="pat:113" class="id">b</span></span></span></span></a><a id="pat:110" class="idref" href="#pat:110"><span class="id" title="binder"><span id="pat:113" class="id">)</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:109"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a:109"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:108"><span class="id" title="variable">b</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_prod"><span class="id" title="lemma">ex_seriesC_prod</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_rl" class="idref" href="#distr_double_rl"><span class="id" title="lemma">distr_double_rl</span></a> `{<a id="H:116" class="idref" href="#H:116"><span class="id" title="binder">Countable</span></a> <a id="A:114" class="idref" href="#A:114"><span class="id" title="binder"><span id="H:116" class="id">A</span></span></a>, <a id="H0:119" class="idref" href="#H0:119"><span class="id" title="binder">Countable</span></a> <a id="B:117" class="idref" href="#B:117"><span class="id" title="binder"><span id="H0:119" class="id">B</span></span></a>} (<a id="f:120" class="idref" href="#f:120"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:114"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:117"><span class="id" title="variable">B</span></a>) (<a id="da87514debb40ff8be292808732d208e" class="idref" href="#da87514debb40ff8be292808732d208e"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:114"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:124" class="idref" href="#pat:124"><span class="id" title="binder">(</span></a><a id="a:123" class="idref" href="#a:123"><span class="id" title="binder"><span id="pat:124" class="id">a</span></span></a><a id="pat:124" class="idref" href="#pat:124"><span class="id" title="binder">,</span></a> <a id="b:122" class="idref" href="#b:122"><span class="id" title="binder"><span id="pat:124" class="id">b</span></span></a><a id="pat:124" class="idref" href="#pat:124"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#da87514debb40ff8be292808732d208e"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:123"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:120"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:123"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:122"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:125" class="idref" href="#b:125"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:117"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:126" class="idref" href="#a:126"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:114"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#da87514debb40ff8be292808732d208e"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:126"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:120"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:126"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:125"><span class="id" title="variable">b</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC_prod_rl"><span class="id" title="lemma">fubini_pos_seriesC_prod_rl</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:129" class="idref" href="#pat:129"><span class="id" title="binder"><span id="pat:132" class="id">(</span></span></a><a id="a:128" class="idref" href="#a:128"><span class="id" title="binder"><span id="pat:129" class="id"><span id="a:131" class="id"><span id="pat:132" class="id">a</span></span></span></span></a><a id="pat:129" class="idref" href="#pat:129"><span class="id" title="binder"><span id="pat:132" class="id">,</span></span></a> <a id="b:127" class="idref" href="#b:127"><span class="id" title="binder"><span id="pat:129" class="id"><span id="b:130" class="id"><span id="pat:132" class="id">b</span></span></span></span></a><a id="pat:129" class="idref" href="#pat:129"><span class="id" title="binder"><span id="pat:132" class="id">)</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:128"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a:128"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:127"><span class="id" title="variable">b</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_prod"><span class="id" title="lemma">ex_seriesC_prod</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_swap_rmarg_ex" class="idref" href="#distr_double_swap_rmarg_ex"><span class="id" title="lemma">distr_double_swap_rmarg_ex</span></a> `{<a id="H:135" class="idref" href="#H:135"><span class="id" title="binder">Countable</span></a> <a id="A:133" class="idref" href="#A:133"><span class="id" title="binder"><span id="H:135" class="id">A</span></span></a>, <a id="H0:138" class="idref" href="#H0:138"><span class="id" title="binder">Countable</span></a> <a id="B:136" class="idref" href="#B:136"><span class="id" title="binder"><span id="H0:138" class="id">B</span></span></a>, <a id="H1:141" class="idref" href="#H1:141"><span class="id" title="binder">Countable</span></a> <a id="B':139" class="idref" href="#B':139"><span class="id" title="binder"><span id="H1:141" class="id">B'</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="f:142" class="idref" href="#f:142"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:133"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.prob.distribution.html#B:136"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#B':139"><span class="id" title="variable">B'</span></a>)) (<a id="c9f20476bf704c70b518d4f918fbc8a3" class="idref" href="#c9f20476bf704c70b518d4f918fbc8a3"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:133"><span class="id" title="variable">A</span></a>) <a id="b':144" class="idref" href="#b':144"><span class="id" title="binder">b'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:145" class="idref" href="#a:145"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:133"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:146" class="idref" href="#b:146"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:136"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#c9f20476bf704c70b518d4f918fbc8a3"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:145"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:142"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:145"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#b:146"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b':144"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:147" class="idref" href="#b:147"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:136"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:148" class="idref" href="#a:148"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:133"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#c9f20476bf704c70b518d4f918fbc8a3"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:148"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:142"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:148"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#b:147"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b':144"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC_ex_double"><span class="id" title="lemma">fubini_pos_seriesC_ex_double</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:151" class="idref" href="#pat:151"><span class="id" title="binder"><span id="pat:154" class="id">(</span></span></a><a id="a:150" class="idref" href="#a:150"><span class="id" title="binder"><span id="pat:151" class="id"><span id="a:153" class="id"><span id="pat:154" class="id">a</span></span></span></span></a><a id="pat:151" class="idref" href="#pat:151"><span class="id" title="binder"><span id="pat:154" class="id">,</span></span></a> <a id="b:149" class="idref" href="#b:149"><span class="id" title="binder"><span id="pat:151" class="id"><span id="b:152" class="id"><span id="pat:154" class="id">b</span></span></span></span></a><a id="pat:151" class="idref" href="#pat:151"><span class="id" title="binder"><span id="pat:154" class="id">)</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:150"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a:150"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#b:149"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); [| |<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_rmarg"><span class="id" title="lemma">ex_seriesC_rmarg</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_swap_rmarg" class="idref" href="#distr_double_swap_rmarg"><span class="id" title="lemma">distr_double_swap_rmarg</span></a> `{<a id="H:157" class="idref" href="#H:157"><span class="id" title="binder">Countable</span></a> <a id="A:155" class="idref" href="#A:155"><span class="id" title="binder"><span id="H:157" class="id">A</span></span></a>, <a id="H0:160" class="idref" href="#H0:160"><span class="id" title="binder">Countable</span></a> <a id="B:158" class="idref" href="#B:158"><span class="id" title="binder"><span id="H0:160" class="id">B</span></span></a>, <a id="H1:163" class="idref" href="#H1:163"><span class="id" title="binder">Countable</span></a> <a id="B':161" class="idref" href="#B':161"><span class="id" title="binder"><span id="H1:163" class="id">B'</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="f:164" class="idref" href="#f:164"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:155"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.prob.distribution.html#B:158"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#B':161"><span class="id" title="variable">B'</span></a>)) (<a id="1e3099c1c57b0baccb352c40201950dc" class="idref" href="#1e3099c1c57b0baccb352c40201950dc"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:155"><span class="id" title="variable">A</span></a>) <a id="b':166" class="idref" href="#b':166"><span class="id" title="binder">b'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:167" class="idref" href="#a:167"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:155"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:168" class="idref" href="#b:168"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:158"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#1e3099c1c57b0baccb352c40201950dc"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:167"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:164"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:167"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#b:168"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b':166"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:169" class="idref" href="#b:169"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:158"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:170" class="idref" href="#a:170"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:155"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#1e3099c1c57b0baccb352c40201950dc"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:170"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:164"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:170"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#b:169"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b':166"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:173" class="idref" href="#pat:173"><span class="id" title="binder"><span id="pat:176" class="id"><span id="pat:179" class="id">(</span></span></span></a><a id="a:172" class="idref" href="#a:172"><span class="id" title="binder"><span id="pat:173" class="id"><span id="a:175" class="id"><span id="pat:176" class="id"><span id="a:178" class="id"><span id="pat:179" class="id">a</span></span></span></span></span></span></a><a id="pat:173" class="idref" href="#pat:173"><span class="id" title="binder"><span id="pat:176" class="id"><span id="pat:179" class="id">,</span></span></span></a> <a id="b:171" class="idref" href="#b:171"><span class="id" title="binder"><span id="pat:173" class="id"><span id="b:174" class="id"><span id="pat:176" class="id"><span id="b:177" class="id"><span id="pat:179" class="id">b</span></span></span></span></span></span></a><a id="pat:173" class="idref" href="#pat:173"><span class="id" title="binder"><span id="pat:176" class="id"><span id="pat:179" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:172"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a:172"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#b:171"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); [<span class="id" title="var">done</span>| | |].<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_rmarg"><span class="id" title="lemma">ex_seriesC_rmarg</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [<span class="id" title="var">real_solver</span>|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0"><span class="id" title="lemma">SeriesC_ge_0</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_rmarg"><span class="id" title="lemma">ex_seriesC_rmarg</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -{2}(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (<span class="id" title="var">μ</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>))); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#seriesC_rmarg_le"><span class="id" title="lemma">seriesC_rmarg_le</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [<span class="id" title="var">real_solver</span>|<span class="id" title="var">done</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_swap_lmarg_ex" class="idref" href="#distr_double_swap_lmarg_ex"><span class="id" title="lemma">distr_double_swap_lmarg_ex</span></a> `{<a id="H:182" class="idref" href="#H:182"><span class="id" title="binder">Countable</span></a> <a id="A:180" class="idref" href="#A:180"><span class="id" title="binder"><span id="H:182" class="id">A</span></span></a>, <a id="H0:185" class="idref" href="#H0:185"><span class="id" title="binder">Countable</span></a> <a id="B:183" class="idref" href="#B:183"><span class="id" title="binder"><span id="H0:185" class="id">B</span></span></a>, <a id="H1:188" class="idref" href="#H1:188"><span class="id" title="binder">Countable</span></a> <a id="B':186" class="idref" href="#B':186"><span class="id" title="binder"><span id="H1:188" class="id">B'</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="f:189" class="idref" href="#f:189"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:180"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.prob.distribution.html#B:183"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#B':186"><span class="id" title="variable">B'</span></a>)) (<a id="d6292f7c8173b89be0815f24d8c6c12f" class="idref" href="#d6292f7c8173b89be0815f24d8c6c12f"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:180"><span class="id" title="variable">A</span></a>) (<a id="b:191" class="idref" href="#b:191"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:183"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:192" class="idref" href="#a:192"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:180"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':193" class="idref" href="#b':193"><span class="id" title="binder">b'</span></a> : <a class="idref" href="tachis.prob.distribution.html#B':186"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#d6292f7c8173b89be0815f24d8c6c12f"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:192"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:189"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:192"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#b:191"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b':193"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':194" class="idref" href="#b':194"><span class="id" title="binder">b'</span></a> : <a class="idref" href="tachis.prob.distribution.html#B':186"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:195" class="idref" href="#a:195"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:180"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#d6292f7c8173b89be0815f24d8c6c12f"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:195"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:189"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:195"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#b:191"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b':194"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC_ex_double"><span class="id" title="lemma">fubini_pos_seriesC_ex_double</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:198" class="idref" href="#pat:198"><span class="id" title="binder"><span id="pat:201" class="id">(</span></span></a><a id="a:197" class="idref" href="#a:197"><span class="id" title="binder"><span id="pat:198" class="id"><span id="a:200" class="id"><span id="pat:201" class="id">a</span></span></span></span></a><a id="pat:198" class="idref" href="#pat:198"><span class="id" title="binder"><span id="pat:201" class="id">,</span></span></a> <a id="b':196" class="idref" href="#b':196"><span class="id" title="binder"><span id="pat:198" class="id"><span id="b':199" class="id"><span id="pat:201" class="id">b'</span></span></span></span></a><a id="pat:198" class="idref" href="#pat:198"><span class="id" title="binder"><span id="pat:201" class="id">)</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:197"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a:197"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b':196"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_lmarg"><span class="id" title="lemma">ex_seriesC_lmarg</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [<span class="id" title="var">real_solver</span>|<span class="id" title="var">done</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distr_double_swap_lmarg" class="idref" href="#distr_double_swap_lmarg"><span class="id" title="lemma">distr_double_swap_lmarg</span></a> `{<a id="H:204" class="idref" href="#H:204"><span class="id" title="binder">Countable</span></a> <a id="A:202" class="idref" href="#A:202"><span class="id" title="binder"><span id="H:204" class="id">A</span></span></a>, <a id="H0:207" class="idref" href="#H0:207"><span class="id" title="binder">Countable</span></a> <a id="B:205" class="idref" href="#B:205"><span class="id" title="binder"><span id="H0:207" class="id">B</span></span></a>, <a id="H1:210" class="idref" href="#H1:210"><span class="id" title="binder">Countable</span></a> <a id="B':208" class="idref" href="#B':208"><span class="id" title="binder"><span id="H1:210" class="id">B'</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="f:211" class="idref" href="#f:211"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:202"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.prob.distribution.html#B:205"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#B':208"><span class="id" title="variable">B'</span></a>)) (<a id="735a86cd0fdf7d8f8bedd1fed15de70a" class="idref" href="#735a86cd0fdf7d8f8bedd1fed15de70a"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:202"><span class="id" title="variable">A</span></a>) (<a id="b:213" class="idref" href="#b:213"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:205"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:214" class="idref" href="#a:214"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:202"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':215" class="idref" href="#b':215"><span class="id" title="binder">b'</span></a> : <a class="idref" href="tachis.prob.distribution.html#B':208"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#735a86cd0fdf7d8f8bedd1fed15de70a"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:214"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:211"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:214"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#b:213"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b':215"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':216" class="idref" href="#b':216"><span class="id" title="binder">b'</span></a> : <a class="idref" href="tachis.prob.distribution.html#B':208"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:217" class="idref" href="#a:217"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:202"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#735a86cd0fdf7d8f8bedd1fed15de70a"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:217"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:211"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:217"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#b:213"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b':216"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:220" class="idref" href="#pat:220"><span class="id" title="binder"><span id="pat:223" class="id"><span id="pat:226" class="id">(</span></span></span></a><a id="a:219" class="idref" href="#a:219"><span class="id" title="binder"><span id="pat:220" class="id"><span id="a:222" class="id"><span id="pat:223" class="id"><span id="a:225" class="id"><span id="pat:226" class="id">a</span></span></span></span></span></span></a><a id="pat:220" class="idref" href="#pat:220"><span class="id" title="binder"><span id="pat:223" class="id"><span id="pat:226" class="id">,</span></span></span></a> <a id="b':218" class="idref" href="#b':218"><span class="id" title="binder"><span id="pat:220" class="id"><span id="b':221" class="id"><span id="pat:223" class="id"><span id="b':224" class="id"><span id="pat:226" class="id">b'</span></span></span></span></span></span></a><a id="pat:220" class="idref" href="#pat:220"><span class="id" title="binder"><span id="pat:223" class="id"><span id="pat:226" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:219"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a:219"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b':218"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); [<span class="id" title="var">done</span>| | |].<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> . <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_lmarg"><span class="id" title="lemma">ex_seriesC_lmarg</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [<span class="id" title="var">real_solver</span>|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0"><span class="id" title="lemma">SeriesC_ge_0</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_lmarg"><span class="id" title="lemma">ex_seriesC_lmarg</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -{2}(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (<span class="id" title="var">μ</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>))); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#seriesC_lmarg_le"><span class="id" title="lemma">seriesC_lmarg_le</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [<span class="id" title="var">real_solver</span>|<span class="id" title="var">done</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab2"></a><h1 class="section">Monadic return</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="dret_pmf" class="idref" href="#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> `{<a id="H:229" class="idref" href="#H:229"><span class="id" title="binder">Countable</span></a> <a id="A:227" class="idref" href="#A:227"><span class="id" title="binder"><span id="H:229" class="id">A</span></span></a>} (<a id="a:230" class="idref" href="#a:230"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:227"><span class="id" title="variable">A</span></a>) : <a class="idref" href="tachis.prob.distribution.html#A:227"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="a':231" class="idref" href="#a':231"><span class="id" title="binder">a'</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:227"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a':231"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#a:230"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="dret" class="idref" href="#dret"><span class="id" title="definition">dret</span></a> `{<a id="H:234" class="idref" href="#H:234"><span class="id" title="binder">Countable</span></a> <a id="A:232" class="idref" href="#A:232"><span class="id" title="binder"><span id="H:234" class="id">A</span></span></a>} (<a id="a:235" class="idref" href="#a:235"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:232"><span class="id" title="variable">A</span></a>) : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:232"><span class="id" title="variable">A</span></a> := <a class="idref" href="tachis.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> <a class="idref" href="tachis.prob.distribution.html#a:235"><span class="id" title="variable">a</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">nra</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_singleton"><span class="id" title="lemma">ex_seriesC_singleton</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="dret" class="idref" href="#dret"><span class="id" title="section">dret</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:238" class="idref" href="#H:238"><span class="id" title="binder">Countable</span></a> <a id="A:236" class="idref" href="#A:236"><span class="id" title="binder"><span id="H:238" class="id">A</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_1" class="idref" href="#dret_1"><span class="id" title="lemma">dret_1</span></a> (<a id="a:239" class="idref" href="#a:239"><span class="id" title="binder">a</span></a> <a id="a':240" class="idref" href="#a':240"><span class="id" title="binder">a'</span></a> : <a class="idref" href="tachis.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#a:239"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#a':240"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:239"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#a':240"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> -&gt;. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_true_2"><span class="id" title="lemma">bool_decide_eq_true_2</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>. <span class="id" title="var">case_bool_decide</span>; [<span class="id" title="var">done</span>|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_1_1" class="idref" href="#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> (<a id="a:241" class="idref" href="#a:241"><span class="id" title="binder">a</span></a> <a id="a':242" class="idref" href="#a':242"><span class="id" title="binder">a'</span></a> : <a class="idref" href="tachis.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#a:241"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#a':242"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:241"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#a':242"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dret_1"><span class="id" title="lemma">dret_1</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_1_2" class="idref" href="#dret_1_2"><span class="id" title="lemma">dret_1_2</span></a> (<a id="a:243" class="idref" href="#a:243"><span class="id" title="binder">a</span></a> <a id="a':244" class="idref" href="#a':244"><span class="id" title="binder">a'</span></a> : <a class="idref" href="tachis.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:243"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#a':244"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#a:243"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#a':244"><span class="id" title="variable">a'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dret_1"><span class="id" title="lemma">dret_1</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_0" class="idref" href="#dret_0"><span class="id" title="lemma">dret_0</span></a> (<a id="a:245" class="idref" href="#a:245"><span class="id" title="binder">a</span></a> <a id="a':246" class="idref" href="#a':246"><span class="id" title="binder">a'</span></a> : <a class="idref" href="tachis.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#a':246"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="tachis.prob.distribution.html#a:245"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:245"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#a':246"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_false_2"><span class="id" title="lemma">bool_decide_eq_false_2</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_pos" class="idref" href="#dret_pos"><span class="id" title="lemma">dret_pos</span></a> (<a id="a:247" class="idref" href="#a:247"><span class="id" title="binder">a</span></a> <a id="a':248" class="idref" href="#a':248"><span class="id" title="binder">a'</span></a> : <a class="idref" href="tachis.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:247"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#a':248"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#a':248"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#a:247"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>. <span class="id" title="tactic">intros</span> ?. <span class="id" title="var">case_bool_decide</span>; [<span class="id" title="var">done</span>|<span class="id" title="var">lra</span>]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_pmf_map" class="idref" href="#dret_pmf_map"><span class="id" title="lemma">dret_pmf_map</span></a> (<a id="f:249" class="idref" href="#f:249"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>)  `{<a id="H0:250" class="idref" href="#H0:250"><span class="id" title="binder">Inj</span></a> <a id="H0:250" class="idref" href="#H0:250"><span class="id" title="binder">A</span></a> <a id="H0:250" class="idref" href="#H0:250"><span class="id" title="binder">A</span></a> <a id="H0:250" class="idref" href="#H0:250"><span class="id" title="binder">(=)</span></a> <a id="H0:250" class="idref" href="#H0:250"><span class="id" title="binder">(=)</span></a> <a id="H0:250" class="idref" href="#H0:250"><span class="id" title="binder">f</span></a>} (<a id="a:251" class="idref" href="#a:251"><span class="id" title="binder">a</span></a> <a id="a':252" class="idref" href="#a':252"><span class="id" title="binder">a'</span></a> : <a class="idref" href="tachis.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:249"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:251"><span class="id" title="variable">a</span></a>) (<a class="idref" href="tachis.prob.distribution.html#f:249"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a':252"><span class="id" title="variable">a'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:251"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#a':252"><span class="id" title="variable">a'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>. <span class="id" title="var">case_bool_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hcase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#inj"><span class="id" title="definition">inj</span></a> <span class="id" title="var">f</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hcase</span> <span class="id" title="keyword">as</span> -&gt;. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_true_2"><span class="id" title="lemma">bool_decide_eq_true_2</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">case_bool_decide</span>; [|<span class="id" title="var">done</span>]. <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_1_eq_dret" class="idref" href="#pmf_1_eq_dret"><span class="id" title="lemma">pmf_1_eq_dret</span></a> (<a id="616a5e1630b61b46bb65840584fe9544" class="idref" href="#616a5e1630b61b46bb65840584fe9544"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) (<a id="a:254" class="idref" href="#a:254"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#616a5e1630b61b46bb65840584fe9544"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:254"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#616a5e1630b61b46bb65840584fe9544"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:254"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a'</span>)) <span class="id" title="keyword">as</span> [&lt;- | <span class="id" title="var">Hneq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">μ</span> <span class="id" title="var">a'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha'</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_1_supp_eq"><span class="id" title="lemma">pmf_1_supp_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hμ</span> <span class="id" title="var">Ha'</span>) // <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pmf_1_not_eq" class="idref" href="#pmf_1_not_eq"><span class="id" title="lemma">pmf_1_not_eq</span></a> (<a id="fb01bc2a39fb80877a4770fb320ce93c" class="idref" href="#fb01bc2a39fb80877a4770fb320ce93c"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) (<a id="a:256" class="idref" href="#a:256"><span class="id" title="binder">a</span></a> <a id="a':257" class="idref" href="#a':257"><span class="id" title="binder">a'</span></a> : <a class="idref" href="tachis.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#a:256"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="tachis.prob.distribution.html#a':257"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#fb01bc2a39fb80877a4770fb320ce93c"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:256"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#fb01bc2a39fb80877a4770fb320ce93c"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a':257"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span> -&gt;%<a class="idref" href="tachis.prob.distribution.html#pmf_1_eq_dret"><span class="id" title="lemma">pmf_1_eq_dret</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_mass" class="idref" href="#dret_mass"><span class="id" title="lemma">dret_mass</span></a> (<a id="a:258" class="idref" href="#a:258"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#dret.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:258"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="section">dret</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab3"></a><h1 class="section">Monadic bind</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="dbind_pmf" class="idref" href="#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> `{<a id="H:261" class="idref" href="#H:261"><span class="id" title="binder">Countable</span></a> <a id="A:259" class="idref" href="#A:259"><span class="id" title="binder"><span id="H:261" class="id">A</span></span></a>, <a id="H0:264" class="idref" href="#H0:264"><span class="id" title="binder">Countable</span></a> <a id="B:262" class="idref" href="#B:262"><span class="id" title="binder"><span id="H0:264" class="id">B</span></span></a>} (<a id="f:265" class="idref" href="#f:265"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:259"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:262"><span class="id" title="variable">B</span></a>) (<a id="5415efed2458e4e5b4cc3f51a68ab3b4" class="idref" href="#5415efed2458e4e5b4cc3f51a68ab3b4"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:259"><span class="id" title="variable">A</span></a>) : <a class="idref" href="tachis.prob.distribution.html#B:262"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="b:267" class="idref" href="#b:267"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:262"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="a:268" class="idref" href="#a:268"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:259"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <a class="idref" href="tachis.prob.distribution.html#5415efed2458e4e5b4cc3f51a68ab3b4"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:268"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:265"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:268"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:267"><span class="id" title="variable">b</span></a>).<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="dbind" class="idref" href="#dbind"><span class="id" title="definition">dbind</span></a> `{<a id="H:271" class="idref" href="#H:271"><span class="id" title="binder">Countable</span></a> <a id="A:269" class="idref" href="#A:269"><span class="id" title="binder"><span id="H:271" class="id">A</span></span></a>, <a id="H0:274" class="idref" href="#H0:274"><span class="id" title="binder">Countable</span></a> <a id="B:272" class="idref" href="#B:272"><span class="id" title="binder"><span id="H0:274" class="id">B</span></span></a>} (<a id="f:275" class="idref" href="#f:275"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:269"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:272"><span class="id" title="variable">B</span></a>) (<a id="577780eac0367d8bd14f4603abe9a69e" class="idref" href="#577780eac0367d8bd14f4603abe9a69e"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:269"><span class="id" title="variable">A</span></a>) : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:272"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> <a class="idref" href="tachis.prob.distribution.html#f:275"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#577780eac0367d8bd14f4603abe9a69e"><span class="id" title="variable">μ</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?????? <span class="id" title="var">f</span> <span class="id" title="var">μ</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0"><span class="id" title="lemma">SeriesC_ge_0</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:277" class="idref" href="#a:277"><span class="id" title="binder"><span id="a:278" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:277"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> 1)); [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?????? <span class="id" title="var">f</span> <span class="id" title="var">μ</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.distribution.html#distr_double_swap_ex"><span class="id" title="lemma">distr_double_swap_ex</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_ext"><span class="id" title="lemma">ex_seriesC_ext</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="j:279" class="idref" href="#j:279"><span class="id" title="binder"><span id="j:281" class="id">j</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#j:279"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="k:280" class="idref" href="#k:280"><span class="id" title="binder"><span id="k:282" class="id">k</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#j:279"><span class="id" title="variable">j</span></a> <a class="idref" href="tachis.prob.distribution.html#k:280"><span class="id" title="variable">k</span></a>))).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:283" class="idref" href="#a:283"><span class="id" title="binder"><span id="a:284" class="id">a</span></span></a> : <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:283"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> 1)); [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?????? <span class="id" title="var">f</span> <span class="id" title="var">μ</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#distr_double_swap"><span class="id" title="lemma">distr_double_swap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="k:285" class="idref" href="#k:285"><span class="id" title="binder"><span id="k:287" class="id"><span id="k:289" class="id">k</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#k:285"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="j:286" class="idref" href="#j:286"><span class="id" title="binder"><span id="j:288" class="id"><span id="j:290" class="id">j</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#k:285"><span class="id" title="variable">k</span></a> <a class="idref" href="tachis.prob.distribution.html#j:286"><span class="id" title="variable">j</span></a>))); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dbind_pmf_ext" class="idref" href="#dbind_pmf_ext"><span class="id" title="lemma">dbind_pmf_ext</span></a> `{<a id="H:293" class="idref" href="#H:293"><span class="id" title="binder">Countable</span></a> <a id="A:291" class="idref" href="#A:291"><span class="id" title="binder"><span id="H:293" class="id">A</span></span></a>, <a id="H0:296" class="idref" href="#H0:296"><span class="id" title="binder">Countable</span></a> <a id="B:294" class="idref" href="#B:294"><span class="id" title="binder"><span id="H0:296" class="id">B</span></span></a>} (<a id="4caa8d351b68874172f604481c1cae11" class="idref" href="#4caa8d351b68874172f604481c1cae11"><span class="id" title="binder">μ1</span></a> <a id="e028a277d24761d63d1a7472485136dc" class="idref" href="#e028a277d24761d63d1a7472485136dc"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:291"><span class="id" title="variable">A</span></a>) (<a id="f:299" class="idref" href="#f:299"><span class="id" title="binder">f</span></a> <a id="g:300" class="idref" href="#g:300"><span class="id" title="binder">g</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:291"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:294"><span class="id" title="variable">B</span></a>) (<a id="b1:301" class="idref" href="#b1:301"><span class="id" title="binder">b1</span></a> <a id="b2:302" class="idref" href="#b2:302"><span class="id" title="binder">b2</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:294"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:303" class="idref" href="#a:303"><span class="id" title="binder">a</span></a> <a id="b:304" class="idref" href="#b:304"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#f:299"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:303"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:304"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#g:300"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#a:303"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:304"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#4caa8d351b68874172f604481c1cae11"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#e028a277d24761d63d1a7472485136dc"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#b1:301"><span class="id" title="variable">b1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#b2:302"><span class="id" title="variable">b2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.distribution.html#f:299"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#4caa8d351b68874172f604481c1cae11"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#b1:301"><span class="id" title="variable">b1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.distribution.html#g:300"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#e028a277d24761d63d1a7472485136dc"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.distribution.html#b2:302"><span class="id" title="variable">b2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfg</span> -&gt; -&gt;=&gt;/=. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>=&gt;<span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfg</span> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dbind_ext_right" class="idref" href="#dbind_ext_right"><span class="id" title="lemma">dbind_ext_right</span></a> `{<a id="H:307" class="idref" href="#H:307"><span class="id" title="binder">Countable</span></a> <a id="A:305" class="idref" href="#A:305"><span class="id" title="binder"><span id="H:307" class="id">A</span></span></a>, <a id="H0:310" class="idref" href="#H0:310"><span class="id" title="binder">Countable</span></a> <a id="B:308" class="idref" href="#B:308"><span class="id" title="binder"><span id="H0:310" class="id">B</span></span></a>} (<a id="bba90cb087f9cd36baadfe5df056f89c" class="idref" href="#bba90cb087f9cd36baadfe5df056f89c"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:305"><span class="id" title="variable">A</span></a>) (<a id="f:312" class="idref" href="#f:312"><span class="id" title="binder">f</span></a> <a id="g:313" class="idref" href="#g:313"><span class="id" title="binder">g</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:305"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:308"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:314" class="idref" href="#a:314"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#f:312"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:314"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#g:313"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#a:314"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.distribution.html#f:312"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#bba90cb087f9cd36baadfe5df056f89c"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.distribution.html#g:313"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#bba90cb087f9cd36baadfe5df056f89c"><span class="id" title="variable">μ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dbind_pmf_ext"><span class="id" title="lemma">dbind_pmf_ext</span></a>; [|<span class="id" title="var">done</span>|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Proper_dbind" class="idref" href="#Proper_dbind"><span class="id" title="instance">Proper_dbind</span></a> `{<a id="H:317" class="idref" href="#H:317"><span class="id" title="binder">Countable</span></a> <a id="A:315" class="idref" href="#A:315"><span class="id" title="binder"><span id="H:317" class="id">A</span></span></a>, <a id="H0:320" class="idref" href="#H0:320"><span class="id" title="binder">Countable</span></a> <a id="B:318" class="idref" href="#B:318"><span class="id" title="binder"><span id="H0:320" class="id">B</span></span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <a class="idref" href="tachis.prob.distribution.html#A:315"><span class="id" title="variable">A</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a>) (@<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.distribution.html#A:315"><span class="id" title="variable">A</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="tachis.prob.distribution.html#B:318"><span class="id" title="variable">B</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?? <span class="id" title="var">Hp</span> ?? -&gt;. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">extensionality</span> <span class="id" title="var">a</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="1ec27ecb4da8da3d3cbd85a2394dc835" class="idref" href="#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">&quot;</span></a>m ≫= f" := (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 60, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="27be3c25384be1368f69e51ebbeaa1ef" class="idref" href="#27be3c25384be1368f69e51ebbeaa1ef"><span class="id" title="notation">&quot;</span></a>( m ≫=.)" := (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="f:321" class="idref" href="#f:321"><span class="id" title="binder">f</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.distribution.html#f:321"><span class="id" title="variable">f</span></a> <span class="id" title="var">m</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="0dfffc14bf40552c0ccad26ec57bc9e1" class="idref" href="#0dfffc14bf40552c0ccad26ec57bc9e1"><span class="id" title="notation">&quot;</span></a>(.≫= f )" := (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">f</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="a6b19bc2fd6428fb3cd52bf7cb387362" class="idref" href="#a6b19bc2fd6428fb3cd52bf7cb387362"><span class="id" title="notation">&quot;</span></a>(≫=)" := (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="m:322" class="idref" href="#m:322"><span class="id" title="binder">m</span></a> <a id="f:323" class="idref" href="#f:323"><span class="id" title="binder">f</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.distribution.html#f:323"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#m:322"><span class="id" title="variable">m</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="9da4aba7941cc4e4d0a41a64124b61db" class="idref" href="#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">&quot;</span></a>x ← y ; z" := (<span class="id" title="var">y</span> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:324" class="idref" href="#x:324"><span class="id" title="binder">x</span></a> : <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">z</span><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="var">y</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 100, <span class="id" title="var">z</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="cae09eb95ff0bce4de0aa08b94690459" class="idref" href="#cae09eb95ff0bce4de0aa08b94690459"><span class="id" title="notation">&quot;</span></a>' x ← y ; z" := (<span class="id" title="var">y</span> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:325" class="idref" href="#x:325"><span class="id" title="binder">x</span></a> : <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">z</span><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="var">x</span> <span class="id" title="tactic">pattern</span>, <span class="id" title="var">y</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 100, <span class="id" title="var">z</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab4"></a><h1 class="section">Lemmas about the interplay of monadic bind and return</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="monadic" class="idref" href="#monadic"><span class="id" title="section">monadic</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:328" class="idref" href="#H:328"><span class="id" title="binder">Countable</span></a> <a id="A:326" class="idref" href="#A:326"><span class="id" title="binder"><span id="H:328" class="id">A</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_id_right_pmf" class="idref" href="#dret_id_right_pmf"><span class="id" title="lemma">dret_id_right_pmf</span></a> (<a id="8dcc03ea4c3a60e056676ea36fc2f8d5" class="idref" href="#8dcc03ea4c3a60e056676ea36fc2f8d5"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="a:330" class="idref" href="#a:330"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a:331" class="idref" href="#a:331"><span class="id" title="binder">a</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#8dcc03ea4c3a60e056676ea36fc2f8d5"><span class="id" title="variable">μ</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:331"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#8dcc03ea4c3a60e056676ea36fc2f8d5"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:330"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> {2}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':332" class="idref" href="#a':332"><span class="id" title="binder"><span id="a':333" class="id"><span id="a':334" class="id">a'</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a':332"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_id_right" class="idref" href="#dret_id_right"><span class="id" title="lemma">dret_id_right</span></a> (<a id="3350f89335b8791d6e15c52a3c784fb5" class="idref" href="#3350f89335b8791d6e15c52a3c784fb5"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a:336" class="idref" href="#a:336"><span class="id" title="binder">a</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#3350f89335b8791d6e15c52a3c784fb5"><span class="id" title="variable">μ</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:336"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#3350f89335b8791d6e15c52a3c784fb5"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="tachis.prob.distribution.html#dret_id_right_pmf"><span class="id" title="lemma">dret_id_right_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H0:339" class="idref" href="#H0:339"><span class="id" title="binder">Countable</span></a> <a id="B:337" class="idref" href="#B:337"><span class="id" title="binder"><span id="H0:339" class="id">B</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_unfold_pmf" class="idref" href="#dbind_unfold_pmf"><span class="id" title="lemma">dbind_unfold_pmf</span></a> <a id="7db1e09d96452d3b96a4b48755b8ae75" class="idref" href="#7db1e09d96452d3b96a4b48755b8ae75"><span class="id" title="binder">μ1</span></a> (<a id="836c46c39d91a86127d610950aed14f7" class="idref" href="#836c46c39d91a86127d610950aed14f7"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="b:342" class="idref" href="#b:342"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#7db1e09d96452d3b96a4b48755b8ae75"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#836c46c39d91a86127d610950aed14f7"><span class="id" title="variable">μ2</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:343" class="idref" href="#a:343"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#7db1e09d96452d3b96a4b48755b8ae75"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#a:343"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#836c46c39d91a86127d610950aed14f7"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.distribution.html#a:343"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:342"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_id_left_pmf" class="idref" href="#dret_id_left_pmf"><span class="id" title="lemma">dret_id_left_pmf</span></a> (<a id="f:344" class="idref" href="#f:344"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="a:345" class="idref" href="#a:345"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="b:346" class="idref" href="#b:346"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a':347" class="idref" href="#a':347"><span class="id" title="binder">a'</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:345"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob.distribution.html#f:344"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a':347"><span class="id" title="variable">a'</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:344"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:345"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:346"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':348" class="idref" href="#a':348"><span class="id" title="binder"><span id="a':349" class="id"><span id="a':350" class="id">a'</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a':348"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_id_left" class="idref" href="#dret_id_left"><span class="id" title="lemma">dret_id_left</span></a> (<a id="f:351" class="idref" href="#f:351"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="a:352" class="idref" href="#a:352"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a':353" class="idref" href="#a':353"><span class="id" title="binder">a'</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:352"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob.distribution.html#f:351"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a':353"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:351"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:352"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="tachis.prob.distribution.html#dret_id_left_pmf"><span class="id" title="lemma">dret_id_left_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_id_left'" class="idref" href="#dret_id_left'"><span class="id" title="lemma">dret_id_left'</span></a> (<a id="f:354" class="idref" href="#f:354"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="a:355" class="idref" href="#a:355"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:355"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:354"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:354"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:355"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="tachis.prob.distribution.html#dret_id_left_pmf"><span class="id" title="lemma">dret_id_left_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_const" class="idref" href="#dret_const"><span class="id" title="lemma">dret_const</span></a> (<a id="ed6e5614ffb7b7d83cfbc2956b039b7d" class="idref" href="#ed6e5614ffb7b7d83cfbc2956b039b7d"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="b:357" class="idref" href="#b:357"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#ed6e5614ffb7b7d83cfbc2956b039b7d"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a:358" class="idref" href="#a:358"><span class="id" title="binder">a</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#ed6e5614ffb7b7d83cfbc2956b039b7d"><span class="id" title="variable">μ</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#b:357"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#b:357"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HSeries</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a> <span class="id" title="var">HSeries</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dret_pmf_map" class="idref" href="#dbind_dret_pmf_map"><span class="id" title="lemma">dbind_dret_pmf_map</span></a> (<a id="0d9bc11418c4f5060e275c6cb8fa5da2" class="idref" href="#0d9bc11418c4f5060e275c6cb8fa5da2"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="a:360" class="idref" href="#a:360"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="f:361" class="idref" href="#f:361"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) `{<a id="H1:362" class="idref" href="#H1:362"><span class="id" title="binder">Inj</span></a> <a id="H1:362" class="idref" href="#H1:362"><span class="id" title="binder">A</span></a> <a id="H1:362" class="idref" href="#H1:362"><span class="id" title="binder">B</span></a> <a id="H1:362" class="idref" href="#H1:362"><span class="id" title="binder">(=)</span></a> <a id="H1:362" class="idref" href="#H1:362"><span class="id" title="binder">(=)</span></a> <a id="H1:362" class="idref" href="#H1:362"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#0d9bc11418c4f5060e275c6cb8fa5da2"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':363" class="idref" href="#a':363"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:361"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a':363"><span class="id" title="variable">a'</span></a>)<a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">))</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">f</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">a</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#0d9bc11418c4f5060e275c6cb8fa5da2"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:360"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> {2}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':364" class="idref" href="#a':364"><span class="id" title="binder"><span id="a':365" class="id"><span id="a':366" class="id">a'</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a':364"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dret_pmf_map_ne" class="idref" href="#dbind_dret_pmf_map_ne"><span class="id" title="lemma">dbind_dret_pmf_map_ne</span></a> (<a id="9c2590cd7f2c286735eecfc33b3a0707" class="idref" href="#9c2590cd7f2c286735eecfc33b3a0707"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="b:368" class="idref" href="#b:368"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="f:369" class="idref" href="#f:369"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) `{<a id="H1:370" class="idref" href="#H1:370"><span class="id" title="binder">Inj</span></a> <a id="H1:370" class="idref" href="#H1:370"><span class="id" title="binder">A</span></a> <a id="H1:370" class="idref" href="#H1:370"><span class="id" title="binder">B</span></a> <a id="H1:370" class="idref" href="#H1:370"><span class="id" title="binder">(=)</span></a> <a id="H1:370" class="idref" href="#H1:370"><span class="id" title="binder">(=)</span></a> <a id="H1:370" class="idref" href="#H1:370"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a:371" class="idref" href="#a:371"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#9c2590cd7f2c286735eecfc33b3a0707"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:371"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="tachis.prob.distribution.html#f:369"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:371"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#b:368"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#9c2590cd7f2c286735eecfc33b3a0707"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:372" class="idref" href="#a:372"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:369"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:372"><span class="id" title="variable">a</span></a>)<a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">))</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hnex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> {2}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; [|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">μ</span> <span class="id" title="var">a'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hn</span>]; [<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span> <span class="id" title="keyword">as</span> -&gt;; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_assoc_pmf" class="idref" href="#dbind_assoc_pmf"><span class="id" title="lemma">dbind_assoc_pmf</span></a> `{<a id="H1:375" class="idref" href="#H1:375"><span class="id" title="binder">Countable</span></a> <a id="B':373" class="idref" href="#B':373"><span class="id" title="binder"><span id="H1:375" class="id">B'</span></span></a>} (<a id="f:376" class="idref" href="#f:376"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="g:377" class="idref" href="#g:377"><span class="id" title="binder">g</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B':373"><span class="id" title="variable">B'</span></a>) (<a id="5df7dbc576eb66ab4f2053d67e0339d8" class="idref" href="#5df7dbc576eb66ab4f2053d67e0339d8"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) <a id="c:379" class="idref" href="#c:379"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a:380" class="idref" href="#a:380"><span class="id" title="binder">a</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#5df7dbc576eb66ab4f2053d67e0339d8"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a id="b:381" class="idref" href="#b:381"><span class="id" title="binder">b</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#f:376"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:380"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob.distribution.html#g:377"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#b:381"><span class="id" title="variable">b</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="b:382" class="idref" href="#b:382"><span class="id" title="binder">b</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a:383" class="idref" href="#a:383"><span class="id" title="binder">a</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#5df7dbc576eb66ab4f2053d67e0339d8"><span class="id" title="variable">μ</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob.distribution.html#f:376"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:383"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">);</span></a> <a class="idref" href="tachis.prob.distribution.html#g:377"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#b:382"><span class="id" title="variable">b</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">c</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:384" class="idref" href="#a:384"><span class="id" title="binder"><span id="a:388" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:384"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:385" class="idref" href="#a0:385"><span class="id" title="binder"><span id="a0:389" class="id">a0</span></span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a:384"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#a0:385"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.distribution.html#a0:385"><span class="id" title="variable">a0</span></a> <span class="id" title="var">c</span>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:386" class="idref" href="#a:386"><span class="id" title="binder"><span id="a:390" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:387" class="idref" href="#a0:387"><span class="id" title="binder"><span id="a0:391" class="id">a0</span></span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:386"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a:386"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#a0:387"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.distribution.html#a0:387"><span class="id" title="variable">a0</span></a> <span class="id" title="var">c</span>))) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:394" class="idref" href="#pat:394"><span class="id" title="binder"><span id="pat:397" class="id"><span id="pat:400" class="id">(</span></span></span></a><a id="a:393" class="idref" href="#a:393"><span class="id" title="binder"><span id="pat:394" class="id"><span id="a:396" class="id"><span id="pat:397" class="id"><span id="a:399" class="id"><span id="pat:400" class="id">a</span></span></span></span></span></span></a> <a id="pat:394" class="idref" href="#pat:394"><span class="id" title="binder"><span id="pat:397" class="id"><span id="pat:400" class="id">,</span></span></span></a><a id="a0:392" class="idref" href="#a0:392"><span class="id" title="binder"><span id="pat:394" class="id"><span id="a0:395" class="id"><span id="pat:397" class="id"><span id="a0:398" class="id"><span id="pat:400" class="id">a0</span></span></span></span></span></span></a><a id="pat:394" class="idref" href="#pat:394"><span class="id" title="binder"><span id="pat:397" class="id"><span id="pat:400" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:393"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a:393"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#a0:392"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.distribution.html#a0:392"><span class="id" title="variable">a0</span></a> <span class="id" title="var">c</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>=&gt; <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {4}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>=&gt; <span class="id" title="var">b</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">transitivity</span> (<span class="id" title="var">μ</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">n</span>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>; [<span class="id" title="var">done</span>| |<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>=&gt;<span class="id" title="var">b</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>]. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_assoc" class="idref" href="#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a> `{<a id="H1:403" class="idref" href="#H1:403"><span class="id" title="binder">Countable</span></a> <a id="B':401" class="idref" href="#B':401"><span class="id" title="binder"><span id="H1:403" class="id">B'</span></span></a>} (<a id="f:404" class="idref" href="#f:404"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="g:405" class="idref" href="#g:405"><span class="id" title="binder">g</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B':401"><span class="id" title="variable">B'</span></a>) (<a id="a0bc693af5dd1c6c719097a11699addd" class="idref" href="#a0bc693af5dd1c6c719097a11699addd"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a:407" class="idref" href="#a:407"><span class="id" title="binder">a</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#a0bc693af5dd1c6c719097a11699addd"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a id="b:408" class="idref" href="#b:408"><span class="id" title="binder">b</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#f:404"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:407"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob.distribution.html#g:405"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#b:408"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="b:409" class="idref" href="#b:409"><span class="id" title="binder">b</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a:410" class="idref" href="#a:410"><span class="id" title="binder">a</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#a0bc693af5dd1c6c719097a11699addd"><span class="id" title="variable">μ</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob.distribution.html#f:404"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:410"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">);</span></a> <a class="idref" href="tachis.prob.distribution.html#g:405"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#b:409"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="tachis.prob.distribution.html#dbind_assoc_pmf"><span class="id" title="lemma">dbind_assoc_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_assoc'" class="idref" href="#dbind_assoc'"><span class="id" title="lemma">dbind_assoc'</span></a> `{<a id="H1:413" class="idref" href="#H1:413"><span class="id" title="binder">Countable</span></a> <a id="B':411" class="idref" href="#B':411"><span class="id" title="binder"><span id="H1:413" class="id">B'</span></span></a>} (<a id="f:414" class="idref" href="#f:414"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="g:415" class="idref" href="#g:415"><span class="id" title="binder">g</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B':411"><span class="id" title="variable">B'</span></a>) (<a id="843f87997d21c254533825754ad4bad4" class="idref" href="#843f87997d21c254533825754ad4bad4"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#843f87997d21c254533825754ad4bad4"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:417" class="idref" href="#a:417"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#f:414"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:417"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#g:415"><span class="id" title="variable">g</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#843f87997d21c254533825754ad4bad4"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:414"><span class="id" title="variable">f</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#g:415"><span class="id" title="variable">g</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_comm" class="idref" href="#dbind_comm"><span class="id" title="lemma">dbind_comm</span></a> `{<a id="H1:420" class="idref" href="#H1:420"><span class="id" title="binder">Countable</span></a> <a id="B':418" class="idref" href="#B':418"><span class="id" title="binder"><span id="H1:420" class="id">B'</span></span></a>} (<a id="f:421" class="idref" href="#f:421"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B':418"><span class="id" title="variable">B'</span></a>) (<a id="41e0c96fdace660ec1e5072e5497cb22" class="idref" href="#41e0c96fdace660ec1e5072e5497cb22"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="47e3437510542c235382bf86aabf5a38" class="idref" href="#47e3437510542c235382bf86aabf5a38"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a:424" class="idref" href="#a:424"><span class="id" title="binder">a</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#41e0c96fdace660ec1e5072e5497cb22"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a id="b:425" class="idref" href="#b:425"><span class="id" title="binder">b</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#47e3437510542c235382bf86aabf5a38"><span class="id" title="variable">μ2</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob.distribution.html#f:421"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:424"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:425"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="b:426" class="idref" href="#b:426"><span class="id" title="binder">b</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#47e3437510542c235382bf86aabf5a38"><span class="id" title="variable">μ2</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a id="a:427" class="idref" href="#a:427"><span class="id" title="binder">a</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#41e0c96fdace660ec1e5072e5497cb22"><span class="id" title="variable">μ1</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob.distribution.html#f:421"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:427"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:426"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">b'</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;-<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a> (<span class="id" title="var">μ2</span> <span class="id" title="var">_</span>) (<span class="id" title="var">μ1</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:430" class="idref" href="#pat:430"><span class="id" title="binder"><span id="pat:433" class="id">(</span></span></a><a id="a:429" class="idref" href="#a:429"><span class="id" title="binder"><span id="pat:430" class="id"><span id="a:432" class="id"><span id="pat:433" class="id">a</span></span></span></span></a><a id="pat:430" class="idref" href="#pat:430"><span class="id" title="binder"><span id="pat:433" class="id">,</span></span></a> <a id="b:428" class="idref" href="#b:428"><span class="id" title="binder"><span id="pat:430" class="id"><span id="b:431" class="id"><span id="pat:433" class="id">b</span></span></span></span></a><a id="pat:430" class="idref" href="#pat:430"><span class="id" title="binder"><span id="pat:433" class="id">)</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.distribution.html#a:429"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.distribution.html#b:428"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a:429"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:428"><span class="id" title="variable">b</span></a> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ2</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>=&gt; <span class="id" title="var">b</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (<span class="id" title="var">μ1</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>; [<span class="id" title="var">done</span>| |<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>=&gt; <span class="id" title="var">b</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ2</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_pos" class="idref" href="#dbind_pos"><span class="id" title="lemma">dbind_pos</span></a> (<a id="f:434" class="idref" href="#f:434"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="b618aa58adb3d1c20c16d50e96eea94b" class="idref" href="#b618aa58adb3d1c20c16d50e96eea94b"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="b:436" class="idref" href="#b:436"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.distribution.html#f:434"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#b618aa58adb3d1c20c16d50e96eea94b"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#b:436"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a:437" class="idref" href="#a:437"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#f:434"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:437"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:436"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="tachis.prob.distribution.html#b618aa58adb3d1c20c16d50e96eea94b"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:437"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prelude.classical.html#contrapositive"><span class="id" title="lemma">contrapositive</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hna</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:438" class="idref" href="#a:438"><span class="id" title="binder"><span id="a:439" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:438"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a:438"><span class="id" title="variable">a</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0) <span class="id" title="keyword">as</span> <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prelude.classical.html#not_exists_forall_not"><span class="id" title="lemma">not_exists_forall_not</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hna</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hne</span> | <span class="id" title="var">Hne</span>]%<a class="idref" href="tachis.prelude.classical.html#not_and_or_not"><span class="id" title="lemma">not_and_or_not</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span>). <span class="id" title="tactic">assert</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0) <span class="id" title="keyword">as</span> -&gt;; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">assert</span> (<span class="id" title="var">μ</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0) <span class="id" title="keyword">as</span> -&gt;; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rge_not_gt"><span class="id" title="lemma">Rge_not_gt</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">a</span> &amp; <span class="id" title="var">Hf</span> &amp; <span class="id" title="var">Hμ</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_gt"><span class="id" title="lemma">Rlt_gt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_le_trans"><span class="id" title="lemma">Rlt_le_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':440" class="idref" href="#a':440"><span class="id" title="binder"><span id="a':441" class="id">a'</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a':440"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>. <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:442" class="idref" href="#a:442"><span class="id" title="binder"><span id="a:443" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:442"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> 1)); [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_eq" class="idref" href="#dbind_eq"><span class="id" title="lemma">dbind_eq</span></a> (<a id="f:444" class="idref" href="#f:444"><span class="id" title="binder">f</span></a> <a id="g:445" class="idref" href="#g:445"><span class="id" title="binder">g</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="b0354380bdb225ff2094d70f6d57682b" class="idref" href="#b0354380bdb225ff2094d70f6d57682b"><span class="id" title="binder">μ1</span></a> <a id="35f8f54c3321dd43de74ef184058ce85" class="idref" href="#35f8f54c3321dd43de74ef184058ce85"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:448" class="idref" href="#a:448"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b0354380bdb225ff2094d70f6d57682b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#a:448"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#f:444"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:448"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#g:445"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#a:448"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:449" class="idref" href="#a:449"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b0354380bdb225ff2094d70f6d57682b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#a:449"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#35f8f54c3321dd43de74ef184058ce85"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.distribution.html#a:449"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.distribution.html#f:444"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#b0354380bdb225ff2094d70f6d57682b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.distribution.html#g:445"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#35f8f54c3321dd43de74ef184058ce85"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hngt</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hngt</span> <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_inhabited" class="idref" href="#dbind_inhabited"><span class="id" title="lemma">dbind_inhabited</span></a> (<a id="f:450" class="idref" href="#f:450"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="9020ef88550ab26c4c39b8d1a66073cc" class="idref" href="#9020ef88550ab26c4c39b8d1a66073cc"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#9020ef88550ab26c4c39b8d1a66073cc"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:452" class="idref" href="#a:452"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:450"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:452"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.distribution.html#f:450"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#9020ef88550ab26c4c39b8d1a66073cc"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hμ</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.distribution.html#distr_double_swap"><span class="id" title="lemma">distr_double_swap</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_gt"><span class="id" title="lemma">Rlt_gt</span></a>. <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 0)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_lt"><span class="id" title="lemma">SeriesC_lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_gtz_ex"><span class="id" title="lemma">SeriesC_gtz_ex</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hμ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">Ha</span>]; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_inhabited_ex" class="idref" href="#dbind_inhabited_ex"><span class="id" title="lemma">dbind_inhabited_ex</span></a> (<a id="f:453" class="idref" href="#f:453"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="04df482aaa867cce7216c871bb745bd8" class="idref" href="#04df482aaa867cce7216c871bb745bd8"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a:455" class="idref" href="#a:455"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#04df482aaa867cce7216c871bb745bd8"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:455"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:453"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:455"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.distribution.html#f:453"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#04df482aaa867cce7216c871bb745bd8"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> [<span class="id" title="var">Ha1</span> <span class="id" title="var">Ha2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.distribution.html#distr_double_swap"><span class="id" title="lemma">distr_double_swap</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_gt"><span class="id" title="lemma">Rlt_gt</span></a>. <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 0)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_lt"><span class="id" title="lemma">SeriesC_lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dret_pair_left" class="idref" href="#dbind_dret_pair_left"><span class="id" title="lemma">dbind_dret_pair_left</span></a> `{<a id="H1:458" class="idref" href="#H1:458"><span class="id" title="binder">Countable</span></a> <a id="A':456" class="idref" href="#A':456"><span class="id" title="binder"><span id="H1:458" class="id">A'</span></span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="4d4e03704c710a86c84d3a624b27674d" class="idref" href="#4d4e03704c710a86c84d3a624b27674d"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="a':460" class="idref" href="#a':460"><span class="id" title="binder">a'</span></a> : <a class="idref" href="tachis.prob.distribution.html#A':456"><span class="id" title="variable">A'</span></a>) (<a id="b:461" class="idref" href="#b:461"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#4d4e03704c710a86c84d3a624b27674d"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:462" class="idref" href="#a:462"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#a:462"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#a':460"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">))</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">a'</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#4d4e03704c710a86c84d3a624b27674d"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#b:461"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dret_pair_right" class="idref" href="#dbind_dret_pair_right"><span class="id" title="lemma">dbind_dret_pair_right</span></a> `{<a id="H1:465" class="idref" href="#H1:465"><span class="id" title="binder">Countable</span></a> <a id="A':463" class="idref" href="#A':463"><span class="id" title="binder"><span id="H1:465" class="id">A'</span></span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a1c37144a2aa2dba69c8e3d4c7bcef72" class="idref" href="#a1c37144a2aa2dba69c8e3d4c7bcef72"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A':463"><span class="id" title="variable">A'</span></a>) (<a id="a:467" class="idref" href="#a:467"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="b:468" class="idref" href="#b:468"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#A':463"><span class="id" title="variable">A'</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#a1c37144a2aa2dba69c8e3d4c7bcef72"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':469" class="idref" href="#a':469"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#a:467"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#a':469"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">))</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">a</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#a1c37144a2aa2dba69c8e3d4c7bcef72"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#b:468"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_mass" class="idref" href="#dbind_mass"><span class="id" title="lemma">dbind_mass</span></a> (<a id="8d6eaa555c1d07a92a8cef32bdb53331" class="idref" href="#8d6eaa555c1d07a92a8cef32bdb53331"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="f:471" class="idref" href="#f:471"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#8d6eaa555c1d07a92a8cef32bdb53331"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:471"><span class="id" title="variable">f</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:472" class="idref" href="#a:472"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#8d6eaa555c1d07a92a8cef32bdb53331"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:472"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:471"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:472"><span class="id" title="variable">a</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#distr_double_swap"><span class="id" title="lemma">distr_double_swap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_det" class="idref" href="#dbind_det"><span class="id" title="lemma">dbind_det</span></a> (<a id="d9db152a57e2314b6fbfc711579fba4a" class="idref" href="#d9db152a57e2314b6fbfc711579fba4a"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="f:474" class="idref" href="#f:474"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#d9db152a57e2314b6fbfc711579fba4a"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:475" class="idref" href="#a:475"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#d9db152a57e2314b6fbfc711579fba4a"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:475"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:474"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:475"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#d9db152a57e2314b6fbfc711579fba4a"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:474"><span class="id" title="variable">f</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hμ</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dbind_mass"><span class="id" title="lemma">dbind_mass</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> =&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">μ</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hgt</span> | -&gt;%<a class="idref" href="tachis.prob.distribution.html#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a>]; [|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hf</span> //. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_det_inv_l" class="idref" href="#dbind_det_inv_l"><span class="id" title="lemma">dbind_det_inv_l</span></a> (<a id="18711fec594def025348b22be6313d8f" class="idref" href="#18711fec594def025348b22be6313d8f"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="f:477" class="idref" href="#f:477"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="b:478" class="idref" href="#b:478"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#18711fec594def025348b22be6313d8f"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:477"><span class="id" title="variable">f</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#18711fec594def025348b22be6313d8f"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hbind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_antisym"><span class="id" title="lemma">Rle_antisym</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hbind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_det_inv_r" class="idref" href="#dbind_det_inv_r"><span class="id" title="lemma">dbind_det_inv_r</span></a> (<a id="b4b13e3642486e6325655a08d95d1366" class="idref" href="#b4b13e3642486e6325655a08d95d1366"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a>) (<a id="f:480" class="idref" href="#f:480"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) (<a id="b:481" class="idref" href="#b:481"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#b4b13e3642486e6325655a08d95d1366"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:480"><span class="id" title="variable">f</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:482" class="idref" href="#a:482"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b4b13e3642486e6325655a08d95d1366"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#a:482"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#f:480"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:482"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:481"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hbind</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':483" class="idref" href="#a':483"><span class="id" title="binder"><span id="a':485" class="id">a'</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.distribution.html#a':483"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a':483"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a':483"><span class="id" title="variable">a'</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':484" class="idref" href="#a':484"><span class="id" title="binder"><span id="a':486" class="id">a'</span></span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.distribution.html#a':484"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a':484"><span class="id" title="variable">a'</span></a> <span class="id" title="var">b</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_antisym"><span class="id" title="lemma">Rle_antisym</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hbind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ1</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); [|<span class="id" title="var">done</span>]. <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_split_elem"><span class="id" title="lemma">SeriesC_split_elem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">last</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); [|<span class="id" title="var">done</span>]. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_split_elem"><span class="id" title="lemma">SeriesC_split_elem</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':487" class="idref" href="#a':487"><span class="id" title="binder"><span id="a':488" class="id"><span id="a':489" class="id">a'</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.distribution.html#a':487"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a':487"><span class="id" title="variable">a'</span></a> <span class="id" title="var">b</span>) <span class="id" title="var">a</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">last</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); [|<span class="id" title="var">done</span>]. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;We&nbsp;do&nbsp;this&nbsp;kind&nbsp;of&nbsp;rewrite&nbsp;often&nbsp;enough&nbsp;that&nbsp;it&nbsp;could&nbsp;be&nbsp;a&nbsp;lemma&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:490" class="idref" href="#a0:490"><span class="id" title="binder"><span id="a0:492" class="id">a0</span></span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a0:490"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.distribution.html#a0:490"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a0:490"><span class="id" title="variable">a0</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:491" class="idref" href="#a0:491"><span class="id" title="binder"><span id="a0:493" class="id">a0</span></span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a0:491"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrw1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>. <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrw1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:494" class="idref" href="#a0:494"><span class="id" title="binder"><span id="a0:496" class="id">a0</span></span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a0:494"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.distribution.html#a0:494"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a0:494"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a0:494"><span class="id" title="variable">a0</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:495" class="idref" href="#a0:495"><span class="id" title="binder"><span id="a0:497" class="id">a0</span></span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a0:495"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrw2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrw2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:498" class="idref" href="#a0:498"><span class="id" title="binder"><span id="a0:500" class="id">a0</span></span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a0:498"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.distribution.html#a0:498"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a0:498"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a0:498"><span class="id" title="variable">a0</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:499" class="idref" href="#a0:499"><span class="id" title="binder"><span id="a0:501" class="id">a0</span></span></a> : <a class="idref" href="tachis.prob.distribution.html#monadic.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a0:499"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.distribution.html#a0:499"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a0:499"><span class="id" title="variable">a0</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrw3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrw3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#monadic"><span class="id" title="section">monadic</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="probabilities" class="idref" href="#probabilities"><span class="id" title="section">probabilities</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:504" class="idref" href="#H:504"><span class="id" title="binder">Countable</span></a> <a id="A:502" class="idref" href="#A:502"><span class="id" title="binder"><span id="H:504" class="id">A</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">μ</span> <span class="id" title="var">d</span> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#probabilities.A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="prob" class="idref" href="#prob"><span class="id" title="definition">prob</span></a> (<a id="2d96b5ed2f0fcff4b9b7d988448744cb" class="idref" href="#2d96b5ed2f0fcff4b9b7d988448744cb"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#probabilities.A"><span class="id" title="variable">A</span></a>) (<a id="P:506" class="idref" href="#P:506"><span class="id" title="binder">P</span></a> : <a class="idref" href="tachis.prob.distribution.html#probabilities.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:507" class="idref" href="#a:507"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#probabilities.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#P:506"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.distribution.html#a:507"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="tachis.prob.distribution.html#2d96b5ed2f0fcff4b9b7d988448744cb"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:507"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="prob_le_1" class="idref" href="#prob_le_1"><span class="id" title="lemma">prob_le_1</span></a> (<a id="add22486553a1b096aecb60421a982fe" class="idref" href="#add22486553a1b096aecb60421a982fe"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#probabilities.A"><span class="id" title="variable">A</span></a>) (<a id="P:509" class="idref" href="#P:509"><span class="id" title="binder">P</span></a> : <a class="idref" href="tachis.prob.distribution.html#probabilities.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a> <a class="idref" href="tachis.prob.distribution.html#add22486553a1b096aecb60421a982fe"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#P:509"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="prob_ge_0" class="idref" href="#prob_ge_0"><span class="id" title="lemma">prob_ge_0</span></a> (<a id="7e6d71c1e1775434ff32975a216e1bbc" class="idref" href="#7e6d71c1e1775434ff32975a216e1bbc"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#probabilities.A"><span class="id" title="variable">A</span></a>) (<a id="P:511" class="idref" href="#P:511"><span class="id" title="binder">P</span></a> : <a class="idref" href="tachis.prob.distribution.html#probabilities.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a> <a class="idref" href="tachis.prob.distribution.html#7e6d71c1e1775434ff32975a216e1bbc"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#P:511"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>=&gt; <span class="id" title="var">a</span>. <span class="id" title="var">real_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#probabilities"><span class="id" title="section">probabilities</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="probability_lemmas" class="idref" href="#probability_lemmas"><span class="id" title="section">probability_lemmas</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:514" class="idref" href="#H:514"><span class="id" title="binder">Countable</span></a> <a id="A:512" class="idref" href="#A:512"><span class="id" title="binder"><span id="H:514" class="id">A</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="prob_dret_true" class="idref" href="#prob_dret_true"><span class="id" title="lemma">prob_dret_true</span></a> (<a id="a:515" class="idref" href="#a:515"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a>) (<a id="P:516" class="idref" href="#P:516"><span class="id" title="binder">P</span></a> : <a class="idref" href="tachis.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#P:516"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.distribution.html#a:515"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a> (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:515"><span class="id" title="variable">a</span></a>) <a class="idref" href="tachis.prob.distribution.html#P:516"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a>/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="prob_dret_false" class="idref" href="#prob_dret_false"><span class="id" title="lemma">prob_dret_false</span></a> (<a id="a:517" class="idref" href="#a:517"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a>) (<a id="P:518" class="idref" href="#P:518"><span class="id" title="binder">P</span></a> : <a class="idref" href="tachis.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#P:518"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.distribution.html#a:517"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a> (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:517"><span class="id" title="variable">a</span></a>) <a class="idref" href="tachis.prob.distribution.html#P:518"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a>/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="prob_dbind" class="idref" href="#prob_dbind"><span class="id" title="lemma">prob_dbind</span></a> `{<a id="H0:521" class="idref" href="#H0:521"><span class="id" title="binder">Countable</span></a> <a id="B:519" class="idref" href="#B:519"><span class="id" title="binder"><span id="H0:521" class="id">B</span></span></a>} (<a id="dd92cb37fa62fdd5175d7480de25982f" class="idref" href="#dd92cb37fa62fdd5175d7480de25982f"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a>) (<a id="f:523" class="idref" href="#f:523"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:519"><span class="id" title="variable">B</span></a>) (<a id="P:524" class="idref" href="#P:524"><span class="id" title="binder">P</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:519"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.distribution.html#f:523"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#dd92cb37fa62fdd5175d7480de25982f"><span class="id" title="variable">μ</span></a>) <a class="idref" href="tachis.prob.distribution.html#P:524"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:525" class="idref" href="#a:525"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#dd92cb37fa62fdd5175d7480de25982f"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:525"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:523"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:525"><span class="id" title="variable">a</span></a>) <a class="idref" href="tachis.prob.distribution.html#P:524"><span class="id" title="variable">P</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a>{1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:526" class="idref" href="#a:526"><span class="id" title="binder"><span id="a:529" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="var">P</span> <a class="idref" href="tachis.prob.distribution.html#a:526"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:527" class="idref" href="#a0:527"><span class="id" title="binder"><span id="a0:530" class="id">a0</span></span></a> : <a class="idref" href="tachis.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a0:527"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a0:527"><span class="id" title="variable">a0</span></a> <a class="idref" href="tachis.prob.distribution.html#a:526"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:528" class="idref" href="#a0:528"><span class="id" title="binder"><span id="a0:531" class="id">a0</span></span></a> : <a class="idref" href="tachis.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="var">P</span> <a class="idref" href="tachis.prob.distribution.html#a:526"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a0:528"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a0:528"><span class="id" title="variable">a0</span></a> <a class="idref" href="tachis.prob.distribution.html#a:526"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">a</span>); [<span class="id" title="var">done</span>|]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:534" class="idref" href="#pat:534"><span class="id" title="binder"><span id="pat:537" class="id"><span id="pat:540" class="id">(</span></span></span></a><a id="a:533" class="idref" href="#a:533"><span class="id" title="binder"><span id="pat:534" class="id"><span id="a:536" class="id"><span id="pat:537" class="id"><span id="a:539" class="id"><span id="pat:540" class="id">a</span></span></span></span></span></span></a><a id="pat:534" class="idref" href="#pat:534"><span class="id" title="binder"><span id="pat:537" class="id"><span id="pat:540" class="id">,</span></span></span></a> <a id="a0:532" class="idref" href="#a0:532"><span class="id" title="binder"><span id="pat:534" class="id"><span id="a0:535" class="id"><span id="pat:537" class="id"><span id="a0:538" class="id"><span id="pat:540" class="id">a0</span></span></span></span></span></span></a><a id="pat:534" class="idref" href="#pat:534"><span class="id" title="binder"><span id="pat:537" class="id"><span id="pat:540" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="var">P</span> <a class="idref" href="tachis.prob.distribution.html#a:533"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a0:532"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a0:532"><span class="id" title="variable">a0</span></a> <a class="idref" href="tachis.prob.distribution.html#a:533"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:541" class="idref" href="#a:541"><span class="id" title="binder"><span id="a:543" class="id">a</span></span></a> : <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:542" class="idref" href="#b:542"><span class="id" title="binder"><span id="b:544" class="id">b</span></span></a> : <a class="idref" href="tachis.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#b:542"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#b:542"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.distribution.html#a:541"><span class="id" title="variable">a</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [<span class="id" title="var">real_solver</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> 1. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="union_bound" class="idref" href="#union_bound"><span class="id" title="lemma">union_bound</span></a> (<a id="01b8a13d34177a90006317df5724e5ba" class="idref" href="#01b8a13d34177a90006317df5724e5ba"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a>) (<a id="P:546" class="idref" href="#P:546"><span class="id" title="binder">P</span></a> <a id="Q:547" class="idref" href="#Q:547"><span class="id" title="binder">Q</span></a> : <a class="idref" href="tachis.prob.distribution.html#probability_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a> <a class="idref" href="tachis.prob.distribution.html#01b8a13d34177a90006317df5724e5ba"><span class="id" title="variable">μ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:548" class="idref" href="#a:548"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#orb"><span class="id" title="definition">orb</span></a> (<a class="idref" href="tachis.prob.distribution.html#P:546"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.distribution.html#a:548"><span class="id" title="variable">a</span></a>) (<a class="idref" href="tachis.prob.distribution.html#Q:547"><span class="id" title="variable">Q</span></a> <a class="idref" href="tachis.prob.distribution.html#a:548"><span class="id" title="variable">a</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a> <a class="idref" href="tachis.prob.distribution.html#01b8a13d34177a90006317df5724e5ba"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#P:546"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a> <a class="idref" href="tachis.prob.distribution.html#01b8a13d34177a90006317df5724e5ba"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#Q:547"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">n</span>); <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Q</span> <span class="id" title="var">n</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:549" class="idref" href="#x:549"><span class="id" title="binder"><span id="x:550" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#x:549"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">n</span>); <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Q</span> <span class="id" title="var">n</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_filter_bool_pos"><span class="id" title="lemma">ex_seriesC_filter_bool_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_filter_bool_pos"><span class="id" title="lemma">ex_seriesC_filter_bool_pos</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#probability_lemmas"><span class="id" title="section">probability_lemmas</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="probabilities_prop" class="idref" href="#probabilities_prop"><span class="id" title="section">probabilities_prop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:553" class="idref" href="#H:553"><span class="id" title="binder">Countable</span></a> <a id="A:551" class="idref" href="#A:551"><span class="id" title="binder"><span id="H:553" class="id">A</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="213ada3c7b8a77f18f0514c44cb6bed0" class="idref" href="#213ada3c7b8a77f18f0514c44cb6bed0"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#probabilities_prop.A"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="P:555" class="idref" href="#P:555"><span class="id" title="binder">P</span></a> : <a class="idref" href="tachis.prob.distribution.html#probabilities_prop.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H0:557" class="idref" href="#H0:557"><span class="id" title="binder">forall</span></a> <a id="a:556" class="idref" href="#a:556"><span class="id" title="binder"><span id="H0:557" class="id">a</span></span></a><a id="H0:557" class="idref" href="#H0:557"><span class="id" title="binder">,</span></a> <a id="H0:557" class="idref" href="#H0:557"><span class="id" title="binder">Decision</span></a> <a id="H0:557" class="idref" href="#H0:557"><span class="id" title="binder">(</span></a><a id="H0:557" class="idref" href="#H0:557"><span class="id" title="binder">P</span></a> <a id="H0:557" class="idref" href="#H0:557"><span class="id" title="binder">a</span></a><a id="H0:557" class="idref" href="#H0:557"><span class="id" title="binder">)</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="probp" class="idref" href="#probp"><span class="id" title="definition">probp</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:558" class="idref" href="#a:558"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#probabilities_prop.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#probabilities_prop.P"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.distribution.html#a:558"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="tachis.prob.distribution.html#0f8db302a640429907c497940d8012f6"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:558"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="probp_le_1" class="idref" href="#probp_le_1"><span class="id" title="lemma">probp_le_1</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#0f8db302a640429907c497940d8012f6"><span class="id" title="variable">μ</span></a>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="probp_ge_0" class="idref" href="#probp_ge_0"><span class="id" title="lemma">probp_ge_0</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>=&gt; <span class="id" title="var">a</span>. <span class="id" title="var">real_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#probabilities_prop"><span class="id" title="section">probabilities_prop</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="probability_prop_lemmas" class="idref" href="#probability_prop_lemmas"><span class="id" title="section">probability_prop_lemmas</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:561" class="idref" href="#H:561"><span class="id" title="binder">Countable</span></a> <a id="A:559" class="idref" href="#A:559"><span class="id" title="binder"><span id="H:561" class="id">A</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="probp_dret_true" class="idref" href="#probp_dret_true"><span class="id" title="lemma">probp_dret_true</span></a> (<a id="a:562" class="idref" href="#a:562"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a>) (<a id="P:563" class="idref" href="#P:563"><span class="id" title="binder">P</span></a> : <a class="idref" href="tachis.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) `{<a id="H0:565" class="idref" href="#H0:565"><span class="id" title="binder">forall</span></a> <a id="a:564" class="idref" href="#a:564"><span class="id" title="binder"><span id="H0:565" class="id">a</span></span></a><a id="H0:565" class="idref" href="#H0:565"><span class="id" title="binder">,</span></a> <a id="H0:565" class="idref" href="#H0:565"><span class="id" title="binder">Decision</span></a> <a id="H0:565" class="idref" href="#H0:565"><span class="id" title="binder">(</span></a><a id="H0:565" class="idref" href="#H0:565"><span class="id" title="binder">P</span></a> <a id="H0:565" class="idref" href="#H0:565"><span class="id" title="binder">a</span></a><a id="H0:565" class="idref" href="#H0:565"><span class="id" title="binder">)</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#P:563"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.distribution.html#a:562"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a> (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:562"><span class="id" title="variable">a</span></a>) <a class="idref" href="tachis.prob.distribution.html#P:563"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a>/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="probp_dret_false" class="idref" href="#probp_dret_false"><span class="id" title="lemma">probp_dret_false</span></a> (<a id="a:566" class="idref" href="#a:566"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a>) (<a id="P:567" class="idref" href="#P:567"><span class="id" title="binder">P</span></a> : <a class="idref" href="tachis.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) `{<a id="H0:569" class="idref" href="#H0:569"><span class="id" title="binder">forall</span></a> <a id="a:568" class="idref" href="#a:568"><span class="id" title="binder"><span id="H0:569" class="id">a</span></span></a><a id="H0:569" class="idref" href="#H0:569"><span class="id" title="binder">,</span></a> <a id="H0:569" class="idref" href="#H0:569"><span class="id" title="binder">Decision</span></a> <a id="H0:569" class="idref" href="#H0:569"><span class="id" title="binder">(</span></a><a id="H0:569" class="idref" href="#H0:569"><span class="id" title="binder">P</span></a> <a id="H0:569" class="idref" href="#H0:569"><span class="id" title="binder">a</span></a><a id="H0:569" class="idref" href="#H0:569"><span class="id" title="binder">)</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#P:567"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.distribution.html#a:566"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a> (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:566"><span class="id" title="variable">a</span></a>) <a class="idref" href="tachis.prob.distribution.html#P:567"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a>/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="probp_dbind" class="idref" href="#probp_dbind"><span class="id" title="lemma">probp_dbind</span></a> `{<a id="H0:572" class="idref" href="#H0:572"><span class="id" title="binder">Countable</span></a> <a id="B:570" class="idref" href="#B:570"><span class="id" title="binder"><span id="H0:572" class="id">B</span></span></a>} (<a id="00057284cd2fb20d55b7791ff759bce4" class="idref" href="#00057284cd2fb20d55b7791ff759bce4"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a>) (<a id="f:574" class="idref" href="#f:574"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:570"><span class="id" title="variable">B</span></a>) (<a id="P:575" class="idref" href="#P:575"><span class="id" title="binder">P</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:570"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) `{<a id="H1:577" class="idref" href="#H1:577"><span class="id" title="binder">forall</span></a> <a id="a:576" class="idref" href="#a:576"><span class="id" title="binder"><span id="H1:577" class="id">a</span></span></a><a id="H1:577" class="idref" href="#H1:577"><span class="id" title="binder">,</span></a> <a id="H1:577" class="idref" href="#H1:577"><span class="id" title="binder">Decision</span></a> <a id="H1:577" class="idref" href="#H1:577"><span class="id" title="binder">(</span></a><a id="H1:577" class="idref" href="#H1:577"><span class="id" title="binder">P</span></a> <a id="H1:577" class="idref" href="#H1:577"><span class="id" title="binder">a</span></a><a id="H1:577" class="idref" href="#H1:577"><span class="id" title="binder">)</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.distribution.html#f:574"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#00057284cd2fb20d55b7791ff759bce4"><span class="id" title="variable">μ</span></a>) <a class="idref" href="tachis.prob.distribution.html#P:575"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:578" class="idref" href="#a:578"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#00057284cd2fb20d55b7791ff759bce4"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:578"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:574"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:578"><span class="id" title="variable">a</span></a>) <a class="idref" href="tachis.prob.distribution.html#P:575"><span class="id" title="variable">P</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a>{1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:579" class="idref" href="#a:579"><span class="id" title="binder"><span id="a:582" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="tachis.prob.distribution.html#a:579"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:580" class="idref" href="#a0:580"><span class="id" title="binder"><span id="a0:583" class="id">a0</span></span></a> : <a class="idref" href="tachis.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a0:580"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a0:580"><span class="id" title="variable">a0</span></a> <a class="idref" href="tachis.prob.distribution.html#a:579"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:581" class="idref" href="#a0:581"><span class="id" title="binder"><span id="a0:584" class="id">a0</span></span></a> : <a class="idref" href="tachis.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="tachis.prob.distribution.html#a:579"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a0:581"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a0:581"><span class="id" title="variable">a0</span></a> <a class="idref" href="tachis.prob.distribution.html#a:579"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="var">case_bool_decide</span>; [<span class="id" title="var">done</span>|]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:587" class="idref" href="#pat:587"><span class="id" title="binder"><span id="pat:590" class="id"><span id="pat:593" class="id">(</span></span></span></a><a id="a:586" class="idref" href="#a:586"><span class="id" title="binder"><span id="pat:587" class="id"><span id="a:589" class="id"><span id="pat:590" class="id"><span id="a:592" class="id"><span id="pat:593" class="id">a</span></span></span></span></span></span></a><a id="pat:587" class="idref" href="#pat:587"><span class="id" title="binder"><span id="pat:590" class="id"><span id="pat:593" class="id">,</span></span></span></a> <a id="a0:585" class="idref" href="#a0:585"><span class="id" title="binder"><span id="pat:587" class="id"><span id="a0:588" class="id"><span id="pat:590" class="id"><span id="a0:591" class="id"><span id="pat:593" class="id">a0</span></span></span></span></span></span></a><a id="pat:587" class="idref" href="#pat:587"><span class="id" title="binder"><span id="pat:590" class="id"><span id="pat:593" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="tachis.prob.distribution.html#a:586"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a0:585"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a0:585"><span class="id" title="variable">a0</span></a> <a class="idref" href="tachis.prob.distribution.html#a:586"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:594" class="idref" href="#a:594"><span class="id" title="binder"><span id="a:596" class="id">a</span></span></a> : <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:595" class="idref" href="#b:595"><span class="id" title="binder"><span id="b:597" class="id">b</span></span></a> : <a class="idref" href="tachis.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#b:595"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#b:595"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.distribution.html#a:594"><span class="id" title="variable">a</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [<span class="id" title="var">real_solver</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> 1. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="union_bound_prop" class="idref" href="#union_bound_prop"><span class="id" title="lemma">union_bound_prop</span></a> (<a id="2790cbb538751d4cb23c9cc555558be9" class="idref" href="#2790cbb538751d4cb23c9cc555558be9"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a>) (<a id="P:599" class="idref" href="#P:599"><span class="id" title="binder">P</span></a> <a id="Q:600" class="idref" href="#Q:600"><span class="id" title="binder">Q</span></a> : <a class="idref" href="tachis.prob.distribution.html#probability_prop_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) `{<a id="H0:602" class="idref" href="#H0:602"><span class="id" title="binder">forall</span></a> <a id="a:601" class="idref" href="#a:601"><span class="id" title="binder"><span id="H0:602" class="id">a</span></span></a><a id="H0:602" class="idref" href="#H0:602"><span class="id" title="binder">,</span></a> <a id="H0:602" class="idref" href="#H0:602"><span class="id" title="binder">Decision</span></a> <a id="H0:602" class="idref" href="#H0:602"><span class="id" title="binder">(</span></a><a id="H0:602" class="idref" href="#H0:602"><span class="id" title="binder">P</span></a> <a id="H0:602" class="idref" href="#H0:602"><span class="id" title="binder">a</span></a><a id="H0:602" class="idref" href="#H0:602"><span class="id" title="binder">)</span></a>} `{<a id="H1:604" class="idref" href="#H1:604"><span class="id" title="binder">forall</span></a> <a id="a:603" class="idref" href="#a:603"><span class="id" title="binder"><span id="H1:604" class="id">a</span></span></a><a id="H1:604" class="idref" href="#H1:604"><span class="id" title="binder">,</span></a> <a id="H1:604" class="idref" href="#H1:604"><span class="id" title="binder">Decision</span></a> <a id="H1:604" class="idref" href="#H1:604"><span class="id" title="binder">(</span></a><a id="H1:604" class="idref" href="#H1:604"><span class="id" title="binder">Q</span></a> <a id="H1:604" class="idref" href="#H1:604"><span class="id" title="binder">a</span></a><a id="H1:604" class="idref" href="#H1:604"><span class="id" title="binder">)</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a> <a class="idref" href="tachis.prob.distribution.html#2790cbb538751d4cb23c9cc555558be9"><span class="id" title="variable">μ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:605" class="idref" href="#a:605"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#P:599"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.distribution.html#a:605"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#Q:600"><span class="id" title="variable">Q</span></a> <a class="idref" href="tachis.prob.distribution.html#a:605"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a> <a class="idref" href="tachis.prob.distribution.html#2790cbb538751d4cb23c9cc555558be9"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#P:599"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a> <a class="idref" href="tachis.prob.distribution.html#2790cbb538751d4cb23c9cc555558be9"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#Q:600"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#probp"><span class="id" title="definition">probp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_or</span>?; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:606" class="idref" href="#x:606"><span class="id" title="binder"><span id="x:607" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#x:606"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_filter_bool_pos"><span class="id" title="lemma">ex_seriesC_filter_bool_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_filter_bool_pos"><span class="id" title="lemma">ex_seriesC_filter_bool_pos</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#probability_prop_lemmas"><span class="id" title="section">probability_prop_lemmas</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="subset_distribution" class="idref" href="#subset_distribution"><span class="id" title="section">subset_distribution</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:610" class="idref" href="#H:610"><span class="id" title="binder">Countable</span></a> <a id="A:608" class="idref" href="#A:608"><span class="id" title="binder"><span id="H:610" class="id">A</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="P:611" class="idref" href="#P:611"><span class="id" title="binder">P</span></a> : <a class="idref" href="tachis.prob.distribution.html#subset_distribution.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">μ</span> <span class="id" title="var">d</span> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#subset_distribution.A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="ssd_pmf" class="idref" href="#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a> (<a id="f82decb78294eedaed806d9c4d1e48fb" class="idref" href="#f82decb78294eedaed806d9c4d1e48fb"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#subset_distribution.A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:613" class="idref" href="#a:613"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#subset_distribution.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="tachis.prob.distribution.html#subset_distribution.P"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.distribution.html#a:613"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="tachis.prob.distribution.html#f82decb78294eedaed806d9c4d1e48fb"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:613"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="ssd" class="idref" href="#ssd"><span class="id" title="definition">ssd</span></a> (<a id="895a6a90527ffe0fce99661ccfd65d48" class="idref" href="#895a6a90527ffe0fce99661ccfd65d48"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#subset_distribution.A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="tachis.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="tachis.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a> <a class="idref" href="tachis.prob.distribution.html#895a6a90527ffe0fce99661ccfd65d48"><span class="id" title="variable">μ</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">μ</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a>. <span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.prob.distribution.html#subset_distribution.P"><span class="id" title="variable">P</span></a> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">μ</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">n</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.prob.distribution.html#subset_distribution.P"><span class="id" title="variable">P</span></a> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">μ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.prob.distribution.html#subset_distribution.P"><span class="id" title="variable">P</span></a> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#subset_distribution"><span class="id" title="section">subset_distribution</span></a>.<br/>

<br/>
<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">predicate_scope</span>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">predicate_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">P</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="53797020b35359960f059fea5400d198" class="idref" href="#53797020b35359960f059fea5400d198"><span class="id" title="notation">&quot;</span></a>∽ K " := (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:615" class="idref" href="#a:615"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<span class="id" title="var">K</span> <a class="idref" href="tachis.prob.distribution.html#a:615"><span class="id" title="variable">a</span></a>)) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">predicate_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="subset_distribution_lemmas" class="idref" href="#subset_distribution_lemmas"><span class="id" title="section">subset_distribution_lemmas</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:618" class="idref" href="#H:618"><span class="id" title="binder">Countable</span></a> <a id="A:616" class="idref" href="#A:616"><span class="id" title="binder"><span id="H:618" class="id">A</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">P</span> : <a class="idref" href="tachis.prob.distribution.html#subset_distribution_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">μ</span> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#subset_distribution_lemmas.A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ssd_ret_pos" class="idref" href="#ssd_ret_pos"><span class="id" title="lemma">ssd_ret_pos</span></a> <a id="P:619" class="idref" href="#P:619"><span class="id" title="binder">P</span></a> <a id="220be38e849f1461a9a9a96e2b076293" class="idref" href="#220be38e849f1461a9a9a96e2b076293"><span class="id" title="binder">μ</span></a> (<a id="a:621" class="idref" href="#a:621"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#subset_distribution_lemmas.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> <a class="idref" href="tachis.prob.distribution.html#P:619"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.distribution.html#220be38e849f1461a9a9a96e2b076293"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:621"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.distribution.html#P:619"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.distribution.html#a:621"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> /<a class="idref" href="tachis.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>. <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">a</span>); [<span class="id" title="var">done</span>|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ssd_sum" class="idref" href="#ssd_sum"><span class="id" title="lemma">ssd_sum</span></a> <a id="P:622" class="idref" href="#P:622"><span class="id" title="binder">P</span></a> <a id="7509ea059daf62408c7b0acadce66cfb" class="idref" href="#7509ea059daf62408c7b0acadce66cfb"><span class="id" title="binder">μ</span></a> (<a id="a:624" class="idref" href="#a:624"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#subset_distribution_lemmas.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="tachis.prob.distribution.html#7509ea059daf62408c7b0acadce66cfb"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:624"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> <a class="idref" href="tachis.prob.distribution.html#P:622"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.distribution.html#7509ea059daf62408c7b0acadce66cfb"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:624"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> (<a class="idref" href="tachis.prob.distribution.html#53797020b35359960f059fea5400d198"><span class="id" title="notation">∽</span></a> <a class="idref" href="tachis.prob.distribution.html#P:622"><span class="id" title="variable">P</span></a>)%<span class="id" title="var">P</span> <a class="idref" href="tachis.prob.distribution.html#7509ea059daf62408c7b0acadce66cfb"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:624"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> /<a class="idref" href="tachis.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">a</span>) =&gt; /=; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ssd_remove" class="idref" href="#ssd_remove"><span class="id" title="lemma">ssd_remove</span></a> <a id="P:625" class="idref" href="#P:625"><span class="id" title="binder">P</span></a> <a id="bc4f1ab672dca31fc054b5b59c8c31a3" class="idref" href="#bc4f1ab672dca31fc054b5b59c8c31a3"><span class="id" title="binder">μ</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:627" class="idref" href="#a:627"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="tachis.prob.distribution.html#P:625"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.distribution.html#a:627"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.distribution.html#bc4f1ab672dca31fc054b5b59c8c31a3"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:627"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> <a class="idref" href="tachis.prob.distribution.html#P:625"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.distribution.html#bc4f1ab672dca31fc054b5b59c8c31a3"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#bc4f1ab672dca31fc054b5b59c8c31a3"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>. <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">a</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a>{1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/<a class="idref" href="tachis.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a>{1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/<a class="idref" href="tachis.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a> <span class="id" title="var">H'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>; [<span class="id" title="var">done</span>|<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#subset_distribution_lemmas"><span class="id" title="section">subset_distribution_lemmas</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="bind_lemmas" class="idref" href="#bind_lemmas"><span class="id" title="section">bind_lemmas</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:630" class="idref" href="#H:630"><span class="id" title="binder">Countable</span></a> <a id="A:628" class="idref" href="#A:628"><span class="id" title="binder"><span id="H:630" class="id">A</span></span></a>, <a id="H0:633" class="idref" href="#H0:633"><span class="id" title="binder">Countable</span></a> <a id="B:631" class="idref" href="#B:631"><span class="id" title="binder"><span id="H0:633" class="id">B</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">μ</span>: <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#bind_lemmas.A"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">ν</span>: <a class="idref" href="tachis.prob.distribution.html#bind_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#bind_lemmas.B"><span class="id" title="variable">B</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="bind_split_sum" class="idref" href="#bind_split_sum"><span class="id" title="lemma">bind_split_sum</span></a> (<a id="27cdf17b0eb15326d7eec31387d9a1db" class="idref" href="#27cdf17b0eb15326d7eec31387d9a1db"><span class="id" title="binder">μ</span></a> <a id="db7c689fd5373e9590fd891c92c168c6" class="idref" href="#db7c689fd5373e9590fd891c92c168c6"><span class="id" title="binder">μ1</span></a> <a id="ea56f717a693391e86302238b251f168" class="idref" href="#ea56f717a693391e86302238b251f168"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#bind_lemmas.A"><span class="id" title="variable">A</span></a>) <a id="5efb7f8953b9ea307603304cec7f1e15" class="idref" href="#5efb7f8953b9ea307603304cec7f1e15"><span class="id" title="binder">ν</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:638" class="idref" href="#a:638"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#27cdf17b0eb15326d7eec31387d9a1db"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:638"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#db7c689fd5373e9590fd891c92c168c6"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#a:638"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.distribution.html#ea56f717a693391e86302238b251f168"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.distribution.html#a:638"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:639" class="idref" href="#b:639"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#27cdf17b0eb15326d7eec31387d9a1db"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':640" class="idref" href="#a':640"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#5efb7f8953b9ea307603304cec7f1e15"><span class="id" title="variable">ν</span></a> <a class="idref" href="tachis.prob.distribution.html#a':640"><span class="id" title="variable">a'</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#db7c689fd5373e9590fd891c92c168c6"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':641" class="idref" href="#a':641"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#5efb7f8953b9ea307603304cec7f1e15"><span class="id" title="variable">ν</span></a> <a class="idref" href="tachis.prob.distribution.html#a':641"><span class="id" title="variable">a'</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#ea56f717a693391e86302238b251f168"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':642" class="idref" href="#a':642"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#5efb7f8953b9ea307603304cec7f1e15"><span class="id" title="variable">ν</span></a> <a class="idref" href="tachis.prob.distribution.html#a':642"><span class="id" title="variable">a'</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">H1</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:643" class="idref" href="#a:643"><span class="id" title="binder"><span id="a:644" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.distribution.html#a:643"><span class="id" title="variable">a</span></a>)); [<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">split</span>|<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:645" class="idref" href="#a:645"><span class="id" title="binder"><span id="a:646" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.distribution.html#a:645"><span class="id" title="variable">a</span></a>)); [<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">split</span>|<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep"><span class="id" title="axiom">functional_extensionality_dep</span></a> =&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a><span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">μ2</span> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">ν</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>); <span class="id" title="var">last</span> <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ssd_bind_split_sum" class="idref" href="#ssd_bind_split_sum"><span class="id" title="lemma">ssd_bind_split_sum</span></a> <a id="62573edd8b06f87dd65f0527a6232b1b" class="idref" href="#62573edd8b06f87dd65f0527a6232b1b"><span class="id" title="binder">μ</span></a> <a id="1580a9d3361e5658beb51c9f27c1152c" class="idref" href="#1580a9d3361e5658beb51c9f27c1152c"><span class="id" title="binder">ν</span></a> <a id="P:649" class="idref" href="#P:649"><span class="id" title="binder">P</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:650" class="idref" href="#b:650"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#62573edd8b06f87dd65f0527a6232b1b"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':651" class="idref" href="#a':651"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#1580a9d3361e5658beb51c9f27c1152c"><span class="id" title="variable">ν</span></a> <a class="idref" href="tachis.prob.distribution.html#a':651"><span class="id" title="variable">a'</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> <a class="idref" href="tachis.prob.distribution.html#P:649"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.distribution.html#62573edd8b06f87dd65f0527a6232b1b"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':652" class="idref" href="#a':652"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#1580a9d3361e5658beb51c9f27c1152c"><span class="id" title="variable">ν</span></a> <a class="idref" href="tachis.prob.distribution.html#a':652"><span class="id" title="variable">a'</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> (<a class="idref" href="tachis.prob.distribution.html#53797020b35359960f059fea5400d198"><span class="id" title="notation">∽</span></a> <a class="idref" href="tachis.prob.distribution.html#P:649"><span class="id" title="variable">P</span></a>)%<span class="id" title="var">P</span> <a class="idref" href="tachis.prob.distribution.html#62573edd8b06f87dd65f0527a6232b1b"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':653" class="idref" href="#a':653"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#1580a9d3361e5658beb51c9f27c1152c"><span class="id" title="variable">ν</span></a> <a class="idref" href="tachis.prob.distribution.html#a':653"><span class="id" title="variable">a'</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;-<a class="idref" href="tachis.prob.distribution.html#bind_split_sum"><span class="id" title="lemma">bind_split_sum</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#ssd_sum"><span class="id" title="lemma">ssd_sum</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
*strengthen following lemma? 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ssd_bind_constant" class="idref" href="#ssd_bind_constant"><span class="id" title="lemma">ssd_bind_constant</span></a> <a id="P:654" class="idref" href="#P:654"><span class="id" title="binder">P</span></a> <a id="f54afc119276206bf6fc7d4372ccf8f7" class="idref" href="#f54afc119276206bf6fc7d4372ccf8f7"><span class="id" title="binder">μ</span></a> <a id="faf8206779cfe948bd0332e0415648f6" class="idref" href="#faf8206779cfe948bd0332e0415648f6"><span class="id" title="binder">ν</span></a> (<a id="b:657" class="idref" href="#b:657"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#bind_lemmas.B"><span class="id" title="variable">B</span></a>) <a id="k:658" class="idref" href="#k:658"><span class="id" title="binder">k</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:659" class="idref" href="#a:659"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#P:654"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.distribution.html#a:659"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.distribution.html#faf8206779cfe948bd0332e0415648f6"><span class="id" title="variable">ν</span></a> <a class="idref" href="tachis.prob.distribution.html#a:659"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:657"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#k:658"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> <a class="idref" href="tachis.prob.distribution.html#P:654"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.distribution.html#f54afc119276206bf6fc7d4372ccf8f7"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':660" class="idref" href="#a':660"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#faf8206779cfe948bd0332e0415648f6"><span class="id" title="variable">ν</span></a> <a class="idref" href="tachis.prob.distribution.html#a':660"><span class="id" title="variable">a'</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#k:658"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> <a class="idref" href="tachis.prob.distribution.html#P:654"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.distribution.html#f54afc119276206bf6fc7d4372ccf8f7"><span class="id" title="variable">μ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep"><span class="id" title="axiom">functional_extensionality_dep</span></a> =&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H'</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /<a class="idref" href="tachis.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a> <span class="id" title="var">H'</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ssd_fix_value" class="idref" href="#ssd_fix_value"><span class="id" title="lemma">ssd_fix_value</span></a> <a id="3e7d4a54ca6199b28d3f3d4d7e3d4212" class="idref" href="#3e7d4a54ca6199b28d3f3d4d7e3d4212"><span class="id" title="binder">μ</span></a> (<a id="v:662" class="idref" href="#v:662"><span class="id" title="binder">v</span></a> : <a class="idref" href="tachis.prob.distribution.html#bind_lemmas.A"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:663" class="idref" href="#a:663"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a:663"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#v:662"><span class="id" title="variable">v</span></a>)) <a class="idref" href="tachis.prob.distribution.html#3e7d4a54ca6199b28d3f3d4d7e3d4212"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#3e7d4a54ca6199b28d3f3d4d7e3d4212"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#v:662"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;-(<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep"><span class="id" title="axiom">functional_extensionality_dep</span></a> =&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a>/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/<a class="idref" href="tachis.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a>/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ssd_chain" class="idref" href="#ssd_chain"><span class="id" title="lemma">ssd_chain</span></a> <a id="7b148283444ca97963c29ada1d56701c" class="idref" href="#7b148283444ca97963c29ada1d56701c"><span class="id" title="binder">μ</span></a> (<a id="P:665" class="idref" href="#P:665"><span class="id" title="binder">P</span></a> <a id="Q:666" class="idref" href="#Q:666"><span class="id" title="binder">Q</span></a>: <a class="idref" href="tachis.prob.distribution.html#bind_lemmas.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> <a class="idref" href="tachis.prob.distribution.html#P:665"><span class="id" title="variable">P</span></a> (<a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> <a class="idref" href="tachis.prob.distribution.html#Q:666"><span class="id" title="variable">Q</span></a> <a class="idref" href="tachis.prob.distribution.html#7b148283444ca97963c29ada1d56701c"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:667" class="idref" href="#a:667"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#P:665"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.distribution.html#a:667"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="tachis.prob.distribution.html#Q:666"><span class="id" title="variable">Q</span></a> <a class="idref" href="tachis.prob.distribution.html#a:667"><span class="id" title="variable">a</span></a>) <a class="idref" href="tachis.prob.distribution.html#7b148283444ca97963c29ada1d56701c"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a> =&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a>/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/<a class="idref" href="tachis.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a>/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">H1</span>; <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Q</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#bind_lemmas"><span class="id" title="section">bind_lemmas</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="exp_val" class="idref" href="#exp_val"><span class="id" title="section">exp_val</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:670" class="idref" href="#H:670"><span class="id" title="binder">Countable</span></a> <a id="A:668" class="idref" href="#A:668"><span class="id" title="binder"><span id="H:670" class="id">A</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">μ</span> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#exp_val.A"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">f</span> : <a class="idref" href="tachis.prob.distribution.html#exp_val.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="ex_expval" class="idref" href="#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a id="2a5a73c8c8f5b11a09b408a153d807fe" class="idref" href="#2a5a73c8c8f5b11a09b408a153d807fe"><span class="id" title="binder">μ</span></a> <a id="f:672" class="idref" href="#f:672"><span class="id" title="binder">f</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:673" class="idref" href="#a:673"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#2a5a73c8c8f5b11a09b408a153d807fe"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:673"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:672"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:673"><span class="id" title="variable">a</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Expval" class="idref" href="#Expval"><span class="id" title="definition">Expval</span></a> <a id="378a0bc68c25dd2885eae8cdef7703e9" class="idref" href="#378a0bc68c25dd2885eae8cdef7703e9"><span class="id" title="binder">μ</span></a> <a id="f:675" class="idref" href="#f:675"><span class="id" title="binder">f</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:676" class="idref" href="#a:676"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#378a0bc68c25dd2885eae8cdef7703e9"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:676"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:675"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:676"><span class="id" title="variable">a</span></a>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#exp_val"><span class="id" title="section">exp_val</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="exp_val_prop" class="idref" href="#exp_val_prop"><span class="id" title="section">exp_val_prop</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:679" class="idref" href="#H:679"><span class="id" title="binder">Countable</span></a> <a id="A:677" class="idref" href="#A:677"><span class="id" title="binder"><span id="H:679" class="id">A</span></span></a>, <a id="H0:682" class="idref" href="#H0:682"><span class="id" title="binder">Countable</span></a> <a id="B:680" class="idref" href="#B:680"><span class="id" title="binder"><span id="H0:682" class="id">B</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">μ</span> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#exp_val_prop.A"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">f</span> : <a class="idref" href="tachis.prob.distribution.html#exp_val_prop.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ex_expval_dret" class="idref" href="#ex_expval_dret"><span class="id" title="lemma">ex_expval_dret</span></a> <a id="f:683" class="idref" href="#f:683"><span class="id" title="binder">f</span></a> <a id="a:684" class="idref" href="#a:684"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:684"><span class="id" title="variable">a</span></a>) <a class="idref" href="tachis.prob.distribution.html#f:683"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a>/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a0:685" class="idref" href="#a0:685"><span class="id" title="binder"><span id="a0:686" class="id">a0</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a0:685"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a0:685"><span class="id" title="variable">a0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a0:685"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_singleton"><span class="id" title="lemma">ex_seriesC_singleton</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_dret" class="idref" href="#Expval_dret"><span class="id" title="lemma">Expval_dret</span></a> <a id="f:687" class="idref" href="#f:687"><span class="id" title="binder">f</span></a> <a id="a:688" class="idref" href="#a:688"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:688"><span class="id" title="variable">a</span></a>) <a class="idref" href="tachis.prob.distribution.html#f:687"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:687"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:688"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a>/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a0:689" class="idref" href="#a0:689"><span class="id" title="binder"><span id="a0:690" class="id">a0</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a0:689"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a0:689"><span class="id" title="variable">a0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a0:689"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ex_expval_const" class="idref" href="#ex_expval_const"><span class="id" title="lemma">ex_expval_const</span></a> <a id="eef40d656f709d1bc2e0b63569f0ce97" class="idref" href="#eef40d656f709d1bc2e0b63569f0ce97"><span class="id" title="binder">μ</span></a> <a id="c:692" class="idref" href="#c:692"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="tachis.prob.distribution.html#eef40d656f709d1bc2e0b63569f0ce97"><span class="id" title="variable">μ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:693" class="idref" href="#x:693"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#c:692"><span class="id" title="variable">c</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_const" class="idref" href="#Expval_const"><span class="id" title="lemma">Expval_const</span></a> <a id="b05ab903f7b593a5768b35f6915beb92" class="idref" href="#b05ab903f7b593a5768b35f6915beb92"><span class="id" title="binder">μ</span></a> <a id="c:695" class="idref" href="#c:695"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#c:695"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#b05ab903f7b593a5768b35f6915beb92"><span class="id" title="variable">μ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:696" class="idref" href="#x:696"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#c:695"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#c:695"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#b05ab903f7b593a5768b35f6915beb92"><span class="id" title="variable">μ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hpos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ex_expval_le" class="idref" href="#ex_expval_le"><span class="id" title="lemma">ex_expval_le</span></a> <a id="c86b27c6180d240ac02b686d162c0fea" class="idref" href="#c86b27c6180d240ac02b686d162c0fea"><span class="id" title="binder">μ</span></a> <a id="f:698" class="idref" href="#f:698"><span class="id" title="binder">f</span></a> <a id="g:699" class="idref" href="#g:699"><span class="id" title="binder">g</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="x:700" class="idref" href="#x:700"><span class="id" title="binder">x</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:698"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#x:700"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#g:699"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#x:700"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="tachis.prob.distribution.html#c86b27c6180d240ac02b686d162c0fea"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#g:699"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="tachis.prob.distribution.html#c86b27c6180d240ac02b686d162c0fea"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f:698"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:701" class="idref" href="#x:701"><span class="id" title="binder"><span id="x:702" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#x:701"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.distribution.html#x:701"><span class="id" title="variable">x</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hleq</span> <span class="id" title="var">x</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_le" class="idref" href="#Expval_le"><span class="id" title="lemma">Expval_le</span></a> <a id="a76d268eeafd1483378861cf4513925f" class="idref" href="#a76d268eeafd1483378861cf4513925f"><span class="id" title="binder">μ</span></a> <a id="f:704" class="idref" href="#f:704"><span class="id" title="binder">f</span></a> <a id="g:705" class="idref" href="#g:705"><span class="id" title="binder">g</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="x:706" class="idref" href="#x:706"><span class="id" title="binder">x</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:704"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#x:706"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#g:705"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#x:706"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="tachis.prob.distribution.html#a76d268eeafd1483378861cf4513925f"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#g:705"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#a76d268eeafd1483378861cf4513925f"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f:704"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#a76d268eeafd1483378861cf4513925f"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#g:705"><span class="id" title="variable">g</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hleq</span> <span class="id" title="var">x</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ex_expval_bounded" class="idref" href="#ex_expval_bounded"><span class="id" title="lemma">ex_expval_bounded</span></a> <a id="5a22f68524e1fbf9bc75c67c75153c51" class="idref" href="#5a22f68524e1fbf9bc75c67c75153c51"><span class="id" title="binder">μ</span></a> <a id="f:708" class="idref" href="#f:708"><span class="id" title="binder">f</span></a> <a id="c:709" class="idref" href="#c:709"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="x:710" class="idref" href="#x:710"><span class="id" title="binder">x</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:708"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#x:710"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#c:709"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="tachis.prob.distribution.html#5a22f68524e1fbf9bc75c67c75153c51"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f:708"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.distribution.html#ex_expval_le"><span class="id" title="lemma">ex_expval_le</span></a>; [ | <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.distribution.html#ex_expval_const"><span class="id" title="lemma">ex_expval_const</span></a> <span class="id" title="var">_</span> <span class="id" title="var">c</span>) ]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_bounded" class="idref" href="#Expval_bounded"><span class="id" title="lemma">Expval_bounded</span></a> <a id="d89625e8f265c5aa97068e6acfb5a4d6" class="idref" href="#d89625e8f265c5aa97068e6acfb5a4d6"><span class="id" title="binder">μ</span></a> <a id="f:712" class="idref" href="#f:712"><span class="id" title="binder">f</span></a> <a id="c:713" class="idref" href="#c:713"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#c:713"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="x:714" class="idref" href="#x:714"><span class="id" title="binder">x</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:712"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#x:714"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#c:713"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#d89625e8f265c5aa97068e6acfb5a4d6"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f:712"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#c:713"><span class="id" title="variable">c</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hpos</span> <span class="id" title="var">Hleq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#Expval_le"><span class="id" title="lemma">Expval_le</span></a>; [ | <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.distribution.html#ex_expval_const"><span class="id" title="lemma">ex_expval_const</span></a> <span class="id" title="var">_</span> <span class="id" title="var">c</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#Expval_const"><span class="id" title="lemma">Expval_const</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ex_expval_dbind" class="idref" href="#ex_expval_dbind"><span class="id" title="lemma">ex_expval_dbind</span></a> (<a id="3593e78cce4ab3d6d7d4a61873e8eea9" class="idref" href="#3593e78cce4ab3d6d7d4a61873e8eea9"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#exp_val_prop.A"><span class="id" title="variable">A</span></a>) (<a id="f:716" class="idref" href="#f:716"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#exp_val_prop.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#exp_val_prop.B"><span class="id" title="variable">B</span></a>) <a id="h:717" class="idref" href="#h:717"><span class="id" title="binder">h</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:718" class="idref" href="#a:718"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#h:717"><span class="id" title="variable">h</span></a> <a class="idref" href="tachis.prob.distribution.html#a:718"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="tachis.prob.distribution.html#3593e78cce4ab3d6d7d4a61873e8eea9"><span class="id" title="variable">μ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:719" class="idref" href="#a:719"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:716"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:719"><span class="id" title="variable">a</span></a>) <a class="idref" href="tachis.prob.distribution.html#h:717"><span class="id" title="variable">h</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:720" class="idref" href="#a:720"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:716"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:720"><span class="id" title="variable">a</span></a>) <a class="idref" href="tachis.prob.distribution.html#h:717"><span class="id" title="variable">h</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> (<a class="idref" href="tachis.prob.distribution.html#3593e78cce4ab3d6d7d4a61873e8eea9"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:716"><span class="id" title="variable">f</span></a>) <a class="idref" href="tachis.prob.distribution.html#h:717"><span class="id" title="variable">h</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hh</span> <span class="id" title="var">Hμ</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC_ex_double"><span class="id" title="lemma">fubini_pos_seriesC_ex_double</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:723" class="idref" href="#pat:723"><span class="id" title="binder"><span id="pat:726" class="id">(</span></span></a><a id="x:722" class="idref" href="#x:722"><span class="id" title="binder"><span id="pat:723" class="id"><span id="x:725" class="id"><span id="pat:726" class="id">x</span></span></span></span></a><a id="pat:723" class="idref" href="#pat:723"><span class="id" title="binder"><span id="pat:726" class="id">,</span></span></a> <a id="a:721" class="idref" href="#a:721"><span class="id" title="binder"><span id="pat:723" class="id"><span id="a:724" class="id"><span id="pat:726" class="id">a</span></span></span></span></a><a id="pat:723" class="idref" href="#pat:723"><span class="id" title="binder"><span id="pat:726" class="id">)</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#x:722"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#x:722"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.prob.distribution.html#a:721"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h</span> <a class="idref" href="tachis.prob.distribution.html#a:721"><span class="id" title="variable">a</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hf</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Should&nbsp;hold&nbsp;without&nbsp;the&nbsp;positivity&nbsp;assumption,&nbsp;but&nbsp;then<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;don't&nbsp;get&nbsp;Fubini<br/>
&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_dbind" class="idref" href="#Expval_dbind"><span class="id" title="lemma">Expval_dbind</span></a> <a id="8020b6cf9179dff3af507d82a037f7e3" class="idref" href="#8020b6cf9179dff3af507d82a037f7e3"><span class="id" title="binder">μ</span></a> (<a id="k:728" class="idref" href="#k:728"><span class="id" title="binder">k</span></a> : <a class="idref" href="tachis.prob.distribution.html#exp_val_prop.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#exp_val_prop.B"><span class="id" title="variable">B</span></a>) (<a id="f:729" class="idref" href="#f:729"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#exp_val_prop.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="b:730" class="idref" href="#b:730"><span class="id" title="binder">b</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:729"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#b:730"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> (<a class="idref" href="tachis.prob.distribution.html#8020b6cf9179dff3af507d82a037f7e3"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#k:728"><span class="id" title="variable">k</span></a>) <a class="idref" href="tachis.prob.distribution.html#f:729"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> (<a class="idref" href="tachis.prob.distribution.html#8020b6cf9179dff3af507d82a037f7e3"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#k:728"><span class="id" title="variable">k</span></a>) <a class="idref" href="tachis.prob.distribution.html#f:729"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#8020b6cf9179dff3af507d82a037f7e3"><span class="id" title="variable">μ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:731" class="idref" href="#a:731"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> (<a class="idref" href="tachis.prob.distribution.html#k:728"><span class="id" title="variable">k</span></a> <a class="idref" href="tachis.prob.distribution.html#a:731"><span class="id" title="variable">a</span></a>) <a class="idref" href="tachis.prob.distribution.html#f:729"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hpos</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:734" class="idref" href="#pat:734"><span class="id" title="binder"><span id="pat:737" class="id"><span id="pat:740" class="id">(</span></span></span></a><a id="a:733" class="idref" href="#a:733"><span class="id" title="binder"><span id="pat:734" class="id"><span id="a:736" class="id"><span id="pat:737" class="id"><span id="a:739" class="id"><span id="pat:740" class="id">a</span></span></span></span></span></span></a><a id="pat:734" class="idref" href="#pat:734"><span class="id" title="binder"><span id="pat:737" class="id"><span id="pat:740" class="id">,</span></span></span></a><a id="x:732" class="idref" href="#x:732"><span class="id" title="binder"><span id="pat:734" class="id"><span id="x:735" class="id"><span id="pat:737" class="id"><span id="x:738" class="id"><span id="pat:740" class="id">x</span></span></span></span></span></span></a><a id="pat:734" class="idref" href="#pat:734"><span class="id" title="binder"><span id="pat:737" class="id"><span id="pat:740" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#x:732"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span> <a class="idref" href="tachis.prob.distribution.html#x:732"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.prob.distribution.html#a:733"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a:733"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_scal_l" class="idref" href="#Expval_scal_l"><span class="id" title="lemma">Expval_scal_l</span></a> <a id="4a9772e0308aada51e2c141aab2c9bf6" class="idref" href="#4a9772e0308aada51e2c141aab2c9bf6"><span class="id" title="binder">μ</span></a> <a id="f:742" class="idref" href="#f:742"><span class="id" title="binder">f</span></a> <a id="c:743" class="idref" href="#c:743"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#4a9772e0308aada51e2c141aab2c9bf6"><span class="id" title="variable">μ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:744" class="idref" href="#x:744"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#c:743"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:742"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#x:744"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#c:743"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#4a9772e0308aada51e2c141aab2c9bf6"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f:742"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_scal_r" class="idref" href="#Expval_scal_r"><span class="id" title="lemma">Expval_scal_r</span></a> <a id="17e8c17483d7d88d79be02afc01ab409" class="idref" href="#17e8c17483d7d88d79be02afc01ab409"><span class="id" title="binder">μ</span></a> <a id="f:746" class="idref" href="#f:746"><span class="id" title="binder">f</span></a> <a id="c:747" class="idref" href="#c:747"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#17e8c17483d7d88d79be02afc01ab409"><span class="id" title="variable">μ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:748" class="idref" href="#x:748"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#f:746"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#x:748"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#c:747"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#17e8c17483d7d88d79be02afc01ab409"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f:746"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#c:747"><span class="id" title="variable">c</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_plus" class="idref" href="#Expval_plus"><span class="id" title="lemma">Expval_plus</span></a> <a id="145f666230b28849ee56bdccfe9eba21" class="idref" href="#145f666230b28849ee56bdccfe9eba21"><span class="id" title="binder">μ</span></a> <a id="f:750" class="idref" href="#f:750"><span class="id" title="binder">f</span></a> <a id="g:751" class="idref" href="#g:751"><span class="id" title="binder">g</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="tachis.prob.distribution.html#145f666230b28849ee56bdccfe9eba21"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f:750"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="tachis.prob.distribution.html#145f666230b28849ee56bdccfe9eba21"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#g:751"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#145f666230b28849ee56bdccfe9eba21"><span class="id" title="variable">μ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:752" class="idref" href="#x:752"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#f:750"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#x:752"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.distribution.html#g:751"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#x:752"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#145f666230b28849ee56bdccfe9eba21"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f:750"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#145f666230b28849ee56bdccfe9eba21"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#g:751"><span class="id" title="variable">g</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hex1</span> <span class="id" title="var">Hex2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_ge_0" class="idref" href="#Expval_ge_0"><span class="id" title="lemma">Expval_ge_0</span></a> <a id="36280a9c504ccbf593f1502e8e6c5cb7" class="idref" href="#36280a9c504ccbf593f1502e8e6c5cb7"><span class="id" title="binder">μ</span></a> <a id="f:754" class="idref" href="#f:754"><span class="id" title="binder">f</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:755" class="idref" href="#a:755"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:754"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:755"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="tachis.prob.distribution.html#36280a9c504ccbf593f1502e8e6c5cb7"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f:754"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#36280a9c504ccbf593f1502e8e6c5cb7"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f:754"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0"><span class="id" title="lemma">SeriesC_ge_0</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_convex_le" class="idref" href="#Expval_convex_le"><span class="id" title="lemma">Expval_convex_le</span></a> <a id="b70eae282e1a3f5f375b7140af01afab" class="idref" href="#b70eae282e1a3f5f375b7140af01afab"><span class="id" title="binder">μ</span></a> <a id="f:757" class="idref" href="#f:757"><span class="id" title="binder">f</span></a> <a id="r:758" class="idref" href="#r:758"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:759" class="idref" href="#a:759"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#r:758"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:757"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:759"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="tachis.prob.distribution.html#b70eae282e1a3f5f375b7140af01afab"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f:757"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#b70eae282e1a3f5f375b7140af01afab"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#r:758"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#b70eae282e1a3f5f375b7140af01afab"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f:757"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">Hex</span> <span class="id" title="var">Htot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">r</span> <span class="id" title="keyword">with</span> (<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <span class="id" title="var">μ</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:760" class="idref" href="#a:760"><span class="id" title="binder"><span id="a:761" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">r</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hleq</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>; <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_convex_lt" class="idref" href="#Expval_convex_lt"><span class="id" title="lemma">Expval_convex_lt</span></a> <a id="0488254e2dda78887da2d07db62d17ba" class="idref" href="#0488254e2dda78887da2d07db62d17ba"><span class="id" title="binder">μ</span></a> <a id="f:763" class="idref" href="#f:763"><span class="id" title="binder">f</span></a> <a id="r:764" class="idref" href="#r:764"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:765" class="idref" href="#a:765"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#r:764"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.prob.distribution.html#f:763"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:765"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="tachis.prob.distribution.html#0488254e2dda78887da2d07db62d17ba"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f:763"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#0488254e2dda78887da2d07db62d17ba"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#r:764"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#0488254e2dda78887da2d07db62d17ba"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f:763"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">Hex</span> <span class="id" title="var">Htot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">r</span> <span class="id" title="keyword">with</span> (<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <span class="id" title="var">μ</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:766" class="idref" href="#a:766"><span class="id" title="binder"><span id="a:767" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">r</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_lt"><span class="id" title="lemma">SeriesC_lt</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hleq</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a:768" class="idref" href="#a:768"><span class="id" title="binder"><span id="a:769" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:768"><span class="id" title="variable">a</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">Ha</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_gtz_ex"><span class="id" title="lemma">SeriesC_gtz_ex</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hleq</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>; <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_convex_ex_le" class="idref" href="#Expval_convex_ex_le"><span class="id" title="lemma">Expval_convex_ex_le</span></a> <a id="e146c8769232cc6cb6cd9fe684467ff0" class="idref" href="#e146c8769232cc6cb6cd9fe684467ff0"><span class="id" title="binder">μ</span></a> <a id="f:771" class="idref" href="#f:771"><span class="id" title="binder">f</span></a> <a id="r:772" class="idref" href="#r:772"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:773" class="idref" href="#a:773"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:771"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:773"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="tachis.prob.distribution.html#e146c8769232cc6cb6cd9fe684467ff0"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f:771"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#e146c8769232cc6cb6cd9fe684467ff0"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#e146c8769232cc6cb6cd9fe684467ff0"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f:771"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#r:772"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a':774" class="idref" href="#a':774"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.prob.distribution.html#e146c8769232cc6cb6cd9fe684467ff0"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a':774"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="tachis.prob.distribution.html#f:771"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a':774"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#r:772"><span class="id" title="variable">r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">Hex</span> <span class="id" title="var">Htot</span> <span class="id" title="var">Hub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.classical.html#NNP_P"><span class="id" title="lemma">NNP_P</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:775" class="idref" href="#a:775"><span class="id" title="binder"><span id="a:776" class="id">a</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:775"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a:775"><span class="id" title="variable">a</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hleq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prelude.classical.html#not_exists_forall_not"><span class="id" title="lemma">not_exists_forall_not</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:777" class="idref" href="#a:777"><span class="id" title="binder"><span id="a:778" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:777"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a:777"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">r</span>) <span class="id" title="var">H2</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.classical.html#not_and_or_not"><span class="id" title="lemma">not_and_or_not</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Haux</span> <span class="id" title="keyword">as</span> [? | ?]; [<span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span>); <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; [ | <span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a>; [ <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.distribution.html#Expval_ge_0"><span class="id" title="lemma">Expval_ge_0</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">f</span>) | ]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">f</span>); [ | <span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">r</span> <span class="id" title="keyword">with</span> (<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <span class="id" title="var">μ</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:779" class="idref" href="#a:779"><span class="id" title="binder"><span id="a:780" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">r</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ | <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>; <span class="id" title="var">nra</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_lt"><span class="id" title="lemma">SeriesC_lt</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hleq'</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> [-&gt;| ]; [<span class="id" title="var">lra</span> | <span class="id" title="var">real_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a:781" class="idref" href="#a:781"><span class="id" title="binder"><span id="a:782" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:781"><span class="id" title="variable">a</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">Ha</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_gtz_ex"><span class="id" title="lemma">SeriesC_gtz_ex</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hleq'</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> [|]; [<span class="id" title="var">lra</span> | <span class="id" title="var">real_solver</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_convex_ge" class="idref" href="#Expval_convex_ge"><span class="id" title="lemma">Expval_convex_ge</span></a> <a id="8f3cd6db5b9b2f713e09961d9a8193b2" class="idref" href="#8f3cd6db5b9b2f713e09961d9a8193b2"><span class="id" title="binder">μ</span></a> <a id="f:784" class="idref" href="#f:784"><span class="id" title="binder">f</span></a> <a id="r:785" class="idref" href="#r:785"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:786" class="idref" href="#a:786"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:784"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:786"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#r:785"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="tachis.prob.distribution.html#8f3cd6db5b9b2f713e09961d9a8193b2"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f:784"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#8f3cd6db5b9b2f713e09961d9a8193b2"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#8f3cd6db5b9b2f713e09961d9a8193b2"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f:784"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#r:785"><span class="id" title="variable">r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">Hex</span> <span class="id" title="var">Htot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">r</span> <span class="id" title="keyword">with</span> (<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <span class="id" title="var">μ</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:787" class="idref" href="#a:787"><span class="id" title="binder"><span id="a:788" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">r</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hleq</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>; <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="markov_ineq" class="idref" href="#markov_ineq"><span class="id" title="lemma">markov_ineq</span></a> <a id="45f977125fd175ae96c7e12d57995331" class="idref" href="#45f977125fd175ae96c7e12d57995331"><span class="id" title="binder">μ</span></a> <a id="f:790" class="idref" href="#f:790"><span class="id" title="binder">f</span></a> <a id="r:791" class="idref" href="#r:791"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:792" class="idref" href="#a:792"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:790"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:792"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#r:791"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="tachis.prob.distribution.html#45f977125fd175ae96c7e12d57995331"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f:790"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#r:791"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#45f977125fd175ae96c7e12d57995331"><span class="id" title="variable">μ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:793" class="idref" href="#a:793"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#r:791"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:790"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:793"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#45f977125fd175ae96c7e12d57995331"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f:790"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hpos</span> <span class="id" title="var">Hr</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:794" class="idref" href="#x:794"><span class="id" title="binder"><span id="x:795" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#x:794"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#x:794"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">))</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#x:794"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#x:794"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#exp_val_prop"><span class="id" title="section">exp_val_prop</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab5"></a><h1 class="section">Monadic map</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="dmap" class="idref" href="#dmap"><span class="id" title="definition">dmap</span></a> `{<a id="H:798" class="idref" href="#H:798"><span class="id" title="binder">Countable</span></a> <a id="A:796" class="idref" href="#A:796"><span class="id" title="binder"><span id="H:798" class="id">A</span></span></a>, <a id="H0:801" class="idref" href="#H0:801"><span class="id" title="binder">Countable</span></a> <a id="B:799" class="idref" href="#B:799"><span class="id" title="binder"><span id="H0:801" class="id">B</span></span></a>} (<a id="f:802" class="idref" href="#f:802"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:796"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#B:799"><span class="id" title="variable">B</span></a>) (<a id="98bd8137b0fcfc3498ce0485174ccb05" class="idref" href="#98bd8137b0fcfc3498ce0485174ccb05"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:796"><span class="id" title="variable">A</span></a>) : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:799"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="a:804" class="idref" href="#a:804"><span class="id" title="binder">a</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#98bd8137b0fcfc3498ce0485174ccb05"><span class="id" title="variable">μ</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:802"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:804"><span class="id" title="variable">a</span></a>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="dmap" class="idref" href="#dmap"><span class="id" title="section">dmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:807" class="idref" href="#H:807"><span class="id" title="binder">Countable</span></a> <a id="A:805" class="idref" href="#A:805"><span class="id" title="binder"><span id="H:807" class="id">A</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_id" class="idref" href="#dmap_id"><span class="id" title="lemma">dmap_id</span></a> (<a id="2f253ad359795dee71fba044642634de" class="idref" href="#2f253ad359795dee71fba044642634de"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:809" class="idref" href="#x:809"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#x:809"><span class="id" title="variable">x</span></a>) <a class="idref" href="tachis.prob.distribution.html#2f253ad359795dee71fba044642634de"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#2f253ad359795dee71fba044642634de"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#dret_id_right"><span class="id" title="lemma">dret_id_right</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H0:812" class="idref" href="#H0:812"><span class="id" title="binder">Countable</span></a> <a id="B:810" class="idref" href="#B:810"><span class="id" title="binder"><span id="H0:812" class="id">B</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_unfold_pmf" class="idref" href="#dmap_unfold_pmf"><span class="id" title="lemma">dmap_unfold_pmf</span></a> (<a id="f:813" class="idref" href="#f:813"><span class="id" title="binder">f</span></a>: <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) <a id="ee7afcbc2911213549646eec03363208" class="idref" href="#ee7afcbc2911213549646eec03363208"><span class="id" title="binder">μ</span></a> (<a id="b:815" class="idref" href="#b:815"><span class="id" title="binder">b</span></a>:<a class="idref" href="tachis.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:813"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#ee7afcbc2911213549646eec03363208"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#b:815"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:816" class="idref" href="#a:816"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#ee7afcbc2911213549646eec03363208"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:816"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#b:815"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:813"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:816"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H1:819" class="idref" href="#H1:819"><span class="id" title="binder">Countable</span></a> <a id="X:817" class="idref" href="#X:817"><span class="id" title="binder"><span id="H1:819" class="id">X</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_dret_pmf" class="idref" href="#dmap_dret_pmf"><span class="id" title="lemma">dmap_dret_pmf</span></a> (<a id="f:820" class="idref" href="#f:820"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="a:821" class="idref" href="#a:821"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="b:822" class="idref" href="#b:822"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:820"><span class="id" title="variable">f</span></a> (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:821"><span class="id" title="variable">a</span></a>) <a class="idref" href="tachis.prob.distribution.html#b:822"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:820"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:821"><span class="id" title="variable">a</span></a>) <a class="idref" href="tachis.prob.distribution.html#b:822"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#dret_id_left_pmf"><span class="id" title="lemma">dret_id_left_pmf</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_dret" class="idref" href="#dmap_dret"><span class="id" title="lemma">dmap_dret</span></a> (<a id="f:823" class="idref" href="#f:823"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) <a id="a:824" class="idref" href="#a:824"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:823"><span class="id" title="variable">f</span></a> (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:824"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:823"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:824"><span class="id" title="variable">a</span></a>) .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="tachis.prob.distribution.html#dmap_dret_pmf"><span class="id" title="lemma">dmap_dret_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_dbind_pmf" class="idref" href="#dmap_dbind_pmf"><span class="id" title="lemma">dmap_dbind_pmf</span></a> (<a id="f:825" class="idref" href="#f:825"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.X"><span class="id" title="variable">X</span></a>) (<a id="g:826" class="idref" href="#g:826"><span class="id" title="binder">g</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="5eb405dfa97100c47bedc270e5ba89d5" class="idref" href="#5eb405dfa97100c47bedc270e5ba89d5"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="x:828" class="idref" href="#x:828"><span class="id" title="binder">x</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.X"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:825"><span class="id" title="variable">f</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.distribution.html#g:826"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#5eb405dfa97100c47bedc270e5ba89d5"><span class="id" title="variable">μ</span></a>) <a class="idref" href="tachis.prob.distribution.html#x:828"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:829" class="idref" href="#a:829"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:825"><span class="id" title="variable">f</span></a> (<a class="idref" href="tachis.prob.distribution.html#g:826"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#a:829"><span class="id" title="variable">a</span></a>)) <a class="idref" href="tachis.prob.distribution.html#5eb405dfa97100c47bedc270e5ba89d5"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#x:828"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#dbind_assoc_pmf"><span class="id" title="lemma">dbind_assoc_pmf</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_dbind" class="idref" href="#dmap_dbind"><span class="id" title="lemma">dmap_dbind</span></a> (<a id="f:830" class="idref" href="#f:830"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.X"><span class="id" title="variable">X</span></a>) (<a id="g:831" class="idref" href="#g:831"><span class="id" title="binder">g</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="40b2245b7fcb025de2dfc40b29388320" class="idref" href="#40b2245b7fcb025de2dfc40b29388320"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:830"><span class="id" title="variable">f</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.distribution.html#g:831"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#40b2245b7fcb025de2dfc40b29388320"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:833" class="idref" href="#a:833"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:830"><span class="id" title="variable">f</span></a> (<a class="idref" href="tachis.prob.distribution.html#g:831"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#a:833"><span class="id" title="variable">a</span></a>)) <a class="idref" href="tachis.prob.distribution.html#40b2245b7fcb025de2dfc40b29388320"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="tachis.prob.distribution.html#dmap_dbind_pmf"><span class="id" title="lemma">dmap_dbind_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_comp" class="idref" href="#dmap_comp"><span class="id" title="lemma">dmap_comp</span></a> `{<a id="H2:836" class="idref" href="#H2:836"><span class="id" title="binder">Countable</span></a> <a id="D:834" class="idref" href="#D:834"><span class="id" title="binder"><span id="H2:836" class="id">D</span></span></a>} (<a id="f:837" class="idref" href="#f:837"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="g:838" class="idref" href="#g:838"><span class="id" title="binder">g</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#D:834"><span class="id" title="variable">D</span></a>) (<a id="ff5461616b3bb9e53d89852b4904cb8c" class="idref" href="#ff5461616b3bb9e53d89852b4904cb8c"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#g:838"><span class="id" title="variable">g</span></a> (<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:837"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#ff5461616b3bb9e53d89852b4904cb8c"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> (<a class="idref" href="tachis.prob.distribution.html#g:838"><span class="id" title="variable">g</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="tachis.prob.distribution.html#f:837"><span class="id" title="variable">f</span></a>) <a class="idref" href="tachis.prob.distribution.html#ff5461616b3bb9e53d89852b4904cb8c"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.distribution.html#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dbind_eq"><span class="id" title="lemma">dbind_eq</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ??. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dret_id_left"><span class="id" title="lemma">dret_id_left</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_eq" class="idref" href="#dmap_eq"><span class="id" title="lemma">dmap_eq</span></a> (<a id="f:840" class="idref" href="#f:840"><span class="id" title="binder">f</span></a> <a id="g:841" class="idref" href="#g:841"><span class="id" title="binder">g</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="a05fe60931571facdd54d84703ce42ca" class="idref" href="#a05fe60931571facdd54d84703ce42ca"><span class="id" title="binder">μ1</span></a> <a id="7740fa7644c2033d8bb227fc43a5616d" class="idref" href="#7740fa7644c2033d8bb227fc43a5616d"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:844" class="idref" href="#a:844"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#a05fe60931571facdd54d84703ce42ca"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#a:844"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#f:840"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:844"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#g:841"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#a:844"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:845" class="idref" href="#a:845"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#a05fe60931571facdd54d84703ce42ca"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#a:845"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#7740fa7644c2033d8bb227fc43a5616d"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.distribution.html#a:845"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:840"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a05fe60931571facdd54d84703ce42ca"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#g:841"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#7740fa7644c2033d8bb227fc43a5616d"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dbind_eq"><span class="id" title="lemma">dbind_eq</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfg</span> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_mass" class="idref" href="#dmap_mass"><span class="id" title="lemma">dmap_mass</span></a> (<a id="8671d80b59e8353f6e6d1df432c202db" class="idref" href="#8671d80b59e8353f6e6d1df432c202db"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="f:847" class="idref" href="#f:847"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:847"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#8671d80b59e8353f6e6d1df432c202db"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#8671d80b59e8353f6e6d1df432c202db"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.distribution.html#distr_double_swap"><span class="id" title="lemma">distr_double_swap</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:848" class="idref" href="#a:848"><span class="id" title="binder"><span id="a:849" class="id"><span id="a:850" class="id">a</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a:848"><span class="id" title="variable">a</span></a>)) <span class="id" title="var">μ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_pos" class="idref" href="#dmap_pos"><span class="id" title="lemma">dmap_pos</span></a> (<a id="4a96a0f65e89545b9ea8e266d80e36c3" class="idref" href="#4a96a0f65e89545b9ea8e266d80e36c3"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="f:852" class="idref" href="#f:852"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="b:853" class="idref" href="#b:853"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:852"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#4a96a0f65e89545b9ea8e266d80e36c3"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#b:853"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a:854" class="idref" href="#a:854"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b:853"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:852"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:854"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="tachis.prob.distribution.html#4a96a0f65e89545b9ea8e266d80e36c3"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:854"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> [<span class="id" title="var">Hr</span>%<a class="idref" href="tachis.prob.distribution.html#dret_pos"><span class="id" title="lemma">dret_pos</span></a> ?]]%<a class="idref" href="tachis.prob.distribution.html#dbind_pos"><span class="id" title="lemma">dbind_pos</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> [-&gt; <span class="id" title="var">Ha</span>]]. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dbind_pos"><span class="id" title="lemma">dbind_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> //. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_elem_eq" class="idref" href="#dmap_elem_eq"><span class="id" title="lemma">dmap_elem_eq</span></a> (<a id="b6c6efff7e75cc07b843ddbedbeec73c" class="idref" href="#b6c6efff7e75cc07b843ddbedbeec73c"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="a:856" class="idref" href="#a:856"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="b:857" class="idref" href="#b:857"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="f:858" class="idref" href="#f:858"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) `{<a id="H2:859" class="idref" href="#H2:859"><span class="id" title="binder">Inj</span></a> <a id="H2:859" class="idref" href="#H2:859"><span class="id" title="binder">A</span></a> <a id="H2:859" class="idref" href="#H2:859"><span class="id" title="binder">B</span></a> <a id="H2:859" class="idref" href="#H2:859"><span class="id" title="binder">(=)</span></a> <a id="H2:859" class="idref" href="#H2:859"><span class="id" title="binder">(=)</span></a> <a id="H2:859" class="idref" href="#H2:859"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#b:857"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:858"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:856"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:858"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#b6c6efff7e75cc07b843ddbedbeec73c"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#b:857"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#b6c6efff7e75cc07b843ddbedbeec73c"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:856"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> -&gt;. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dbind_dret_pmf_map"><span class="id" title="lemma">dbind_dret_pmf_map</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_elem_ne" class="idref" href="#dmap_elem_ne"><span class="id" title="lemma">dmap_elem_ne</span></a> (<a id="763bdb8b2b4ffb6eb7e6bbb8542e02dc" class="idref" href="#763bdb8b2b4ffb6eb7e6bbb8542e02dc"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="b:861" class="idref" href="#b:861"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) (<a id="f:862" class="idref" href="#f:862"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.B"><span class="id" title="variable">B</span></a>) `{<a id="H2:863" class="idref" href="#H2:863"><span class="id" title="binder">Inj</span></a> <a id="H2:863" class="idref" href="#H2:863"><span class="id" title="binder">A</span></a> <a id="H2:863" class="idref" href="#H2:863"><span class="id" title="binder">B</span></a> <a id="H2:863" class="idref" href="#H2:863"><span class="id" title="binder">(=)</span></a> <a id="H2:863" class="idref" href="#H2:863"><span class="id" title="binder">(=)</span></a> <a id="H2:863" class="idref" href="#H2:863"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a:864" class="idref" href="#a:864"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#763bdb8b2b4ffb6eb7e6bbb8542e02dc"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:864"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="tachis.prob.distribution.html#f:862"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:864"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#b:861"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:862"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#763bdb8b2b4ffb6eb7e6bbb8542e02dc"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#b:861"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#dbind_dret_pmf_map_ne"><span class="id" title="lemma">dbind_dret_pmf_map_ne</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_rearrange" class="idref" href="#dmap_rearrange"><span class="id" title="lemma">dmap_rearrange</span></a> `{<a id="H2:866" class="idref" href="#H2:866"><span class="id" title="binder">Countable</span></a> <a id="H2:866" class="idref" href="#H2:866"><span class="id" title="binder">A</span></a>} (<a id="e0a2a0fded061b6b79a1ec9245536d2b" class="idref" href="#e0a2a0fded061b6b79a1ec9245536d2b"><span class="id" title="binder">μ1</span></a> <a id="771a11f346353a82bdc81bfd8229c8b3" class="idref" href="#771a11f346353a82bdc81bfd8229c8b3"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) (<a id="f:869" class="idref" href="#f:869"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap.A"><span class="id" title="variable">A</span></a>) `{<a id="H3:870" class="idref" href="#H3:870"><span class="id" title="binder">Inj</span></a> <a id="H3:870" class="idref" href="#H3:870"><span class="id" title="binder">A</span></a> <a id="H3:870" class="idref" href="#H3:870"><span class="id" title="binder">A</span></a> <a id="H3:870" class="idref" href="#H3:870"><span class="id" title="binder">(=)</span></a> <a id="H3:870" class="idref" href="#H3:870"><span class="id" title="binder">(=)</span></a> <a id="H3:870" class="idref" href="#H3:870"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:871" class="idref" href="#a:871"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#e0a2a0fded061b6b79a1ec9245536d2b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#a:871"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a':872" class="idref" href="#a':872"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#f:869"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a':872"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#a:871"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:873" class="idref" href="#a:873"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#e0a2a0fded061b6b79a1ec9245536d2b"><span class="id" title="variable">μ1</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:869"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:873"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#771a11f346353a82bdc81bfd8229c8b3"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.distribution.html#a:873"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#e0a2a0fded061b6b79a1ec9245536d2b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:869"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#771a11f346353a82bdc81bfd8229c8b3"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcov</span> <span class="id" title="var">Hμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> {2}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.prelude.classical.html#ExcludedMiddle"><span class="id" title="lemma">ExcludedMiddle</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a':874" class="idref" href="#a':874"><span class="id" title="binder"><span id="a':875" class="id">a'</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a':874"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> [[<span class="id" title="var">a'</span> &lt;-]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:876" class="idref" href="#a:876"><span class="id" title="binder"><span id="a:877" class="id"><span id="a:878" class="id">a</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a:876"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a'</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ2</span> <span class="id" title="var">a'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> //; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a> //; [<span class="id" title="var">lra</span>|]. <span class="id" title="tactic">intros</span> [=]; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hz</span>|<span class="id" title="var">Hz</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hcov</span> <span class="id" title="var">a</span> <span class="id" title="var">Hz</span>)|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">a</span>). <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a>; [<span class="id" title="var">lra</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [=]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="section">dmap</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab6"></a><h1 class="section">Monadic strength</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="strength_l" class="idref" href="#strength_l"><span class="id" title="definition">strength_l</span></a> `{<a id="H:881" class="idref" href="#H:881"><span class="id" title="binder">Countable</span></a> <a id="A:879" class="idref" href="#A:879"><span class="id" title="binder"><span id="H:881" class="id">A</span></span></a>, <a id="H0:884" class="idref" href="#H0:884"><span class="id" title="binder">Countable</span></a> <a id="B:882" class="idref" href="#B:882"><span class="id" title="binder"><span id="H0:884" class="id">B</span></span></a>} (<a id="a:885" class="idref" href="#a:885"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:879"><span class="id" title="variable">A</span></a>) (<a id="5c0834c266917ac2a9fe8b1240d075ba" class="idref" href="#5c0834c266917ac2a9fe8b1240d075ba"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:882"><span class="id" title="variable">B</span></a>) : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.prob.distribution.html#A:879"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#B:882"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:887" class="idref" href="#b:887"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#a:885"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b:887"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="tachis.prob.distribution.html#5c0834c266917ac2a9fe8b1240d075ba"><span class="id" title="variable">μ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="strength_r" class="idref" href="#strength_r"><span class="id" title="definition">strength_r</span></a> `{<a id="H:890" class="idref" href="#H:890"><span class="id" title="binder">Countable</span></a> <a id="A:888" class="idref" href="#A:888"><span class="id" title="binder"><span id="H:890" class="id">A</span></span></a>, <a id="H0:893" class="idref" href="#H0:893"><span class="id" title="binder">Countable</span></a> <a id="B:891" class="idref" href="#B:891"><span class="id" title="binder"><span id="H0:893" class="id">B</span></span></a>} (<a id="0b2197383f8bfdc998a893993f16ea97" class="idref" href="#0b2197383f8bfdc998a893993f16ea97"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:888"><span class="id" title="variable">A</span></a>) (<a id="b:895" class="idref" href="#b:895"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:891"><span class="id" title="variable">B</span></a>) : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.prob.distribution.html#A:888"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#B:891"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:896" class="idref" href="#a:896"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#a:896"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b:895"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="tachis.prob.distribution.html#0b2197383f8bfdc998a893993f16ea97"><span class="id" title="variable">μ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dbind_strength_l" class="idref" href="#dbind_strength_l"><span class="id" title="lemma">dbind_strength_l</span></a> `{<a id="H:899" class="idref" href="#H:899"><span class="id" title="binder">Countable</span></a> <a id="A:897" class="idref" href="#A:897"><span class="id" title="binder"><span id="H:899" class="id">A</span></span></a>, <a id="H0:902" class="idref" href="#H0:902"><span class="id" title="binder">Countable</span></a> <a id="B:900" class="idref" href="#B:900"><span class="id" title="binder"><span id="H0:902" class="id">B</span></span></a>, <a id="H1:905" class="idref" href="#H1:905"><span class="id" title="binder">Countable</span></a> <a id="D:903" class="idref" href="#D:903"><span class="id" title="binder"><span id="H1:905" class="id">D</span></span></a>} (<a id="f:906" class="idref" href="#f:906"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:897"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="tachis.prob.distribution.html#B:900"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#D:903"><span class="id" title="variable">D</span></a>) (<a id="a:907" class="idref" href="#a:907"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:897"><span class="id" title="variable">A</span></a>) (<a id="5d0a4e9e17198e51bf71cb1840d80ab1" class="idref" href="#5d0a4e9e17198e51bf71cb1840d80ab1"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:900"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> <a class="idref" href="tachis.prob.distribution.html#a:907"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#5d0a4e9e17198e51bf71cb1840d80ab1"><span class="id" title="variable">μ</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:906"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#5d0a4e9e17198e51bf71cb1840d80ab1"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:909" class="idref" href="#b:909"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#f:906"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#a:907"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b:909"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> /<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.distribution.html#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="tachis.prob.distribution.html#dret_id_left"><span class="id" title="lemma">dret_id_left</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dbind_strength_r" class="idref" href="#dbind_strength_r"><span class="id" title="lemma">dbind_strength_r</span></a> `{<a id="H:912" class="idref" href="#H:912"><span class="id" title="binder">Countable</span></a> <a id="A:910" class="idref" href="#A:910"><span class="id" title="binder"><span id="H:912" class="id">A</span></span></a>, <a id="H0:915" class="idref" href="#H0:915"><span class="id" title="binder">Countable</span></a> <a id="B:913" class="idref" href="#B:913"><span class="id" title="binder"><span id="H0:915" class="id">B</span></span></a>, <a id="H1:918" class="idref" href="#H1:918"><span class="id" title="binder">Countable</span></a> <a id="D:916" class="idref" href="#D:916"><span class="id" title="binder"><span id="H1:918" class="id">D</span></span></a>} (<a id="f:919" class="idref" href="#f:919"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:910"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#B:913"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#D:916"><span class="id" title="variable">D</span></a>)<br/>
&nbsp;&nbsp;(<a id="dc0c2511222094c79d13009cbe4fe39a" class="idref" href="#dc0c2511222094c79d13009cbe4fe39a"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:910"><span class="id" title="variable">A</span></a>) (<a id="b:921" class="idref" href="#b:921"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:913"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> <a class="idref" href="tachis.prob.distribution.html#dc0c2511222094c79d13009cbe4fe39a"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#b:921"><span class="id" title="variable">b</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:919"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dc0c2511222094c79d13009cbe4fe39a"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:922" class="idref" href="#a:922"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#f:919"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#a:922"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b:921"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> /<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.distribution.html#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="tachis.prob.distribution.html#dret_id_left"><span class="id" title="lemma">dret_id_left</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) .<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="strength_l_dbind" class="idref" href="#strength_l_dbind"><span class="id" title="lemma">strength_l_dbind</span></a> `{<a id="H:925" class="idref" href="#H:925"><span class="id" title="binder">Countable</span></a> <a id="A:923" class="idref" href="#A:923"><span class="id" title="binder"><span id="H:925" class="id">A</span></span></a>, <a id="H0:928" class="idref" href="#H0:928"><span class="id" title="binder">Countable</span></a> <a id="B:926" class="idref" href="#B:926"><span class="id" title="binder"><span id="H0:928" class="id">B</span></span></a>, <a id="H1:931" class="idref" href="#H1:931"><span class="id" title="binder">Countable</span></a> <a id="D:929" class="idref" href="#D:929"><span class="id" title="binder"><span id="H1:931" class="id">D</span></span></a>} (<a id="f:932" class="idref" href="#f:932"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:926"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#D:929"><span class="id" title="variable">D</span></a>) (<a id="a:933" class="idref" href="#a:933"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:923"><span class="id" title="variable">A</span></a>) (<a id="f408e75a063dea23a594b620fba9bf49" class="idref" href="#f408e75a063dea23a594b620fba9bf49"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:926"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> <a class="idref" href="tachis.prob.distribution.html#a:933"><span class="id" title="variable">a</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.distribution.html#f:932"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#f408e75a063dea23a594b620fba9bf49"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#f408e75a063dea23a594b620fba9bf49"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:935" class="idref" href="#b:935"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> <a class="idref" href="tachis.prob.distribution.html#a:933"><span class="id" title="variable">a</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:932"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#b:935"><span class="id" title="variable">b</span></a>)<a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> /<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> -<a class="idref" href="tachis.prob.distribution.html#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="strength_r_dbind" class="idref" href="#strength_r_dbind"><span class="id" title="lemma">strength_r_dbind</span></a> `{<a id="H:938" class="idref" href="#H:938"><span class="id" title="binder">Countable</span></a> <a id="A:936" class="idref" href="#A:936"><span class="id" title="binder"><span id="H:938" class="id">A</span></span></a>, <a id="H0:941" class="idref" href="#H0:941"><span class="id" title="binder">Countable</span></a> <a id="B:939" class="idref" href="#B:939"><span class="id" title="binder"><span id="H0:941" class="id">B</span></span></a>, <a id="H1:944" class="idref" href="#H1:944"><span class="id" title="binder">Countable</span></a> <a id="D:942" class="idref" href="#D:942"><span class="id" title="binder"><span id="H1:944" class="id">D</span></span></a>} (<a id="f:945" class="idref" href="#f:945"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:936"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#D:942"><span class="id" title="variable">D</span></a>) (<a id="c6296e2a8786de9a4df61ada3386310e" class="idref" href="#c6296e2a8786de9a4df61ada3386310e"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:936"><span class="id" title="variable">A</span></a>) (<a id="b:947" class="idref" href="#b:947"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:939"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.distribution.html#f:945"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#c6296e2a8786de9a4df61ada3386310e"><span class="id" title="variable">μ</span></a>) <a class="idref" href="tachis.prob.distribution.html#b:947"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#c6296e2a8786de9a4df61ada3386310e"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:948" class="idref" href="#a:948"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:945"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:948"><span class="id" title="variable">a</span></a>) <a class="idref" href="tachis.prob.distribution.html#b:947"><span class="id" title="variable">b</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> /<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> -<a class="idref" href="tachis.prob.distribution.html#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="strength_comm" class="idref" href="#strength_comm"><span class="id" title="lemma">strength_comm</span></a> `{<a id="H:951" class="idref" href="#H:951"><span class="id" title="binder">Countable</span></a> <a id="A:949" class="idref" href="#A:949"><span class="id" title="binder"><span id="H:951" class="id">A</span></span></a>, <a id="H0:954" class="idref" href="#H0:954"><span class="id" title="binder">Countable</span></a> <a id="B:952" class="idref" href="#B:952"><span class="id" title="binder"><span id="H0:954" class="id">B</span></span></a>} (<a id="f:955" class="idref" href="#f:955"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:949"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:949"><span class="id" title="variable">A</span></a>) (<a id="g:956" class="idref" href="#g:956"><span class="id" title="binder">g</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:952"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:952"><span class="id" title="variable">B</span></a>) (<a id="a:957" class="idref" href="#a:957"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:949"><span class="id" title="variable">A</span></a>) (<a id="b:958" class="idref" href="#b:958"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:952"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> <a class="idref" href="tachis.prob.distribution.html#a:957"><span class="id" title="variable">a</span></a> (<a class="idref" href="tachis.prob.distribution.html#g:956"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#b:958"><span class="id" title="variable">b</span></a>) <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:961" class="idref" href="#pat:961"><span class="id" title="binder">(</span></a><a id="a':960" class="idref" href="#a':960"><span class="id" title="binder"><span id="pat:961" class="id">a'</span></span></a><a id="pat:961" class="idref" href="#pat:961"><span class="id" title="binder">,</span></a><a id="b':959" class="idref" href="#b':959"><span class="id" title="binder"><span id="pat:961" class="id">b'</span></span></a><a id="pat:961" class="idref" href="#pat:961"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:955"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a':960"><span class="id" title="variable">a'</span></a>) <a class="idref" href="tachis.prob.distribution.html#b':959"><span class="id" title="variable">b'</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:955"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:957"><span class="id" title="variable">a</span></a>) <a class="idref" href="tachis.prob.distribution.html#b:958"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:964" class="idref" href="#pat:964"><span class="id" title="binder">(</span></a><a id="a':963" class="idref" href="#a':963"><span class="id" title="binder"><span id="pat:964" class="id">a'</span></span></a><a id="pat:964" class="idref" href="#pat:964"><span class="id" title="binder">,</span></a><a id="b':962" class="idref" href="#b':962"><span class="id" title="binder"><span id="pat:964" class="id">b'</span></span></a><a id="pat:964" class="idref" href="#pat:964"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> <a class="idref" href="tachis.prob.distribution.html#a':963"><span class="id" title="variable">a'</span></a> (<a class="idref" href="tachis.prob.distribution.html#g:956"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#b':962"><span class="id" title="variable">b'</span></a>)<a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dbind_strength_l"><span class="id" title="lemma">dbind_strength_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dbind_strength_r"><span class="id" title="lemma">dbind_strength_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#strength_l"><span class="id" title="definition">strength_l</span></a> /<a class="idref" href="tachis.prob.distribution.html#strength_r"><span class="id" title="definition">strength_r</span></a> /<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">a'</span> &amp; <span class="id" title="var">b'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {2 4}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:967" class="idref" href="#pat:967"><span class="id" title="binder"><span id="pat:970" class="id"><span id="pat:973" class="id">(</span></span></span></a><a id="x:966" class="idref" href="#x:966"><span class="id" title="binder"><span id="pat:967" class="id"><span id="x:969" class="id"><span id="pat:970" class="id"><span id="x:972" class="id"><span id="pat:973" class="id">x</span></span></span></span></span></span></a><a id="pat:967" class="idref" href="#pat:967"><span class="id" title="binder"><span id="pat:970" class="id"><span id="pat:973" class="id">,</span></span></span></a> <a id="a0:965" class="idref" href="#a0:965"><span class="id" title="binder"><span id="pat:967" class="id"><span id="a0:968" class="id"><span id="pat:970" class="id"><span id="a0:971" class="id"><span id="pat:973" class="id">a0</span></span></span></span></span></span></a><a id="pat:967" class="idref" href="#pat:967"><span class="id" title="binder"><span id="pat:970" class="id"><span id="pat:973" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <span class="id" title="var">b</span> <a class="idref" href="tachis.prob.distribution.html#a0:965"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span> <span class="id" title="var">a</span> <a class="idref" href="tachis.prob.distribution.html#x:966"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#x:966"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#a0:965"><span class="id" title="variable">a0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> =&gt; <span class="id" title="var">a''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> =&gt; <span class="id" title="var">b''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /=; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)); [|<span class="id" title="var">done</span>]. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:974" class="idref" href="#a0:974"><span class="id" title="binder"><span id="a0:976" class="id">a0</span></span></a> : <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b0:975" class="idref" href="#b0:975"><span class="id" title="binder"><span id="b0:977" class="id">b0</span></span></a> : <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <span class="id" title="var">b</span> <a class="idref" href="tachis.prob.distribution.html#b0:975"><span class="id" title="variable">b0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span> <span class="id" title="var">a</span> <a class="idref" href="tachis.prob.distribution.html#a0:974"><span class="id" title="variable">a0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0"><span class="id" title="lemma">SeriesC_ge_0</span></a>; [<span class="id" title="var">real_solver</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; [<span class="id" title="var">real_solver</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab7"></a><h1 class="section">Monadic fold left</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="foldlM" class="idref" href="#foldlM"><span class="id" title="definition">foldlM</span></a> {<a id="A:978" class="idref" href="#A:978"><span class="id" title="binder">A</span></a> <a id="B:979" class="idref" href="#B:979"><span class="id" title="binder">B</span></a>} `{<a id="H:981" class="idref" href="#H:981"><span class="id" title="binder">Countable</span></a> <a id="H:981" class="idref" href="#H:981"><span class="id" title="binder">B</span></a>} (<a id="f:982" class="idref" href="#f:982"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:979"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#A:978"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:979"><span class="id" title="variable">B</span></a>) (<a id="b:983" class="idref" href="#b:983"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:979"><span class="id" title="variable">B</span></a>) (<a id="xs:984" class="idref" href="#xs:984"><span class="id" title="binder">xs</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="tachis.prob.distribution.html#A:978"><span class="id" title="variable">A</span></a>) : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:979"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:985" class="idref" href="#a:985"><span class="id" title="binder">a</span></a> <a id="m:986" class="idref" href="#m:986"><span class="id" title="binder">m</span></a> <a id="b:987" class="idref" href="#b:987"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#f:982"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#b:987"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.distribution.html#a:985"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#m:986"><span class="id" title="variable">m</span></a>) <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#xs:984"><span class="id" title="variable">xs</span></a> <a class="idref" href="tachis.prob.distribution.html#b:983"><span class="id" title="variable">b</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="foldlM" class="idref" href="#foldlM"><span class="id" title="section">foldlM</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="A:988" class="idref" href="#A:988"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="H:991" class="idref" href="#H:991"><span class="id" title="binder">Countable</span></a> <a id="B:989" class="idref" href="#B:989"><span class="id" title="binder"><span id="H:991" class="id">B</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldlM_nil" class="idref" href="#foldlM_nil"><span class="id" title="lemma">foldlM_nil</span></a> (<a id="f:992" class="idref" href="#f:992"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#foldlM.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#foldlM.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#foldlM.B"><span class="id" title="variable">B</span></a>) (<a id="b:993" class="idref" href="#b:993"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#foldlM.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#foldlM"><span class="id" title="definition">foldlM</span></a> <a class="idref" href="tachis.prob.distribution.html#f:992"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#b:993"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#b:993"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldlM_cons" class="idref" href="#foldlM_cons"><span class="id" title="lemma">foldlM_cons</span></a> (<a id="f:994" class="idref" href="#f:994"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#foldlM.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#foldlM.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#foldlM.B"><span class="id" title="variable">B</span></a>) (<a id="b:995" class="idref" href="#b:995"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#foldlM.B"><span class="id" title="variable">B</span></a>) (<a id="x:996" class="idref" href="#x:996"><span class="id" title="binder">x</span></a> : <a class="idref" href="tachis.prob.distribution.html#foldlM.A"><span class="id" title="variable">A</span></a>) (<a id="xs:997" class="idref" href="#xs:997"><span class="id" title="binder">xs</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="tachis.prob.distribution.html#foldlM.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#foldlM"><span class="id" title="definition">foldlM</span></a> <a class="idref" href="tachis.prob.distribution.html#f:994"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#b:995"><span class="id" title="variable">b</span></a> (<a class="idref" href="tachis.prob.distribution.html#x:996"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="tachis.prob.distribution.html#xs:997"><span class="id" title="variable">xs</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:994"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#b:995"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.distribution.html#x:996"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':998" class="idref" href="#b':998"><span class="id" title="binder">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#foldlM"><span class="id" title="definition">foldlM</span></a> <a class="idref" href="tachis.prob.distribution.html#f:994"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#b':998"><span class="id" title="variable">b'</span></a> <a class="idref" href="tachis.prob.distribution.html#xs:997"><span class="id" title="variable">xs</span></a><a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#foldlM"><span class="id" title="section">foldlM</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab8"></a><h1 class="section">Monadic itereration</h1>

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="iterM" class="idref" href="#iterM"><span class="id" title="definition">iterM</span></a> {<a id="A:999" class="idref" href="#A:999"><span class="id" title="binder">A</span></a>} `{<a id="H:1001" class="idref" href="#H:1001"><span class="id" title="binder">Countable</span></a> <a id="H:1001" class="idref" href="#H:1001"><span class="id" title="binder">A</span></a>} (<a id="n:1002" class="idref" href="#n:1002"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="f:1003" class="idref" href="#f:1003"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:999"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:999"><span class="id" title="variable">A</span></a>) (<a id="a:1004" class="idref" href="#a:1004"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:999"><span class="id" title="variable">A</span></a>) : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:999"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="tachis.prob.distribution.html#n:1002"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1004"><span class="id" title="variable">a</span></a> | <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="tachis.prob.distribution.html#f:1003"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1004"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#iterM:1005"><span class="id" title="definition">iterM</span></a> <a class="idref" href="tachis.prob.distribution.html#n:1002"><span class="id" title="variable">n</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1003"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="iterM" class="idref" href="#iterM"><span class="id" title="section">iterM</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:1009" class="idref" href="#H:1009"><span class="id" title="binder">Countable</span></a> <a id="A:1007" class="idref" href="#A:1007"><span class="id" title="binder"><span id="H:1009" class="id">A</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="iterM_O" class="idref" href="#iterM_O"><span class="id" title="lemma">iterM_O</span></a> (<a id="f:1010" class="idref" href="#f:1010"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a>) (<a id="a:1011" class="idref" href="#a:1011"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> 0 <a class="idref" href="tachis.prob.distribution.html#f:1010"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1011"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1011"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="iterM_Sn" class="idref" href="#iterM_Sn"><span class="id" title="lemma">iterM_Sn</span></a> (<a id="f:1012" class="idref" href="#f:1012"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a>) (<a id="a:1013" class="idref" href="#a:1013"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a>) (<a id="n:1014" class="idref" href="#n:1014"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="tachis.prob.distribution.html#n:1014"><span class="id" title="variable">n</span></a>) <a class="idref" href="tachis.prob.distribution.html#f:1012"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1013"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1012"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1013"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> <a class="idref" href="tachis.prob.distribution.html#n:1014"><span class="id" title="variable">n</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1012"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="iterM_plus" class="idref" href="#iterM_plus"><span class="id" title="lemma">iterM_plus</span></a> (<a id="f:1015" class="idref" href="#f:1015"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a>) (<a id="a:1016" class="idref" href="#a:1016"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a>) (<a id="n:1017" class="idref" href="#n:1017"><span class="id" title="binder">n</span></a> <a id="m:1018" class="idref" href="#m:1018"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> (<a class="idref" href="tachis.prob.distribution.html#n:1017"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.distribution.html#m:1018"><span class="id" title="variable">m</span></a>) <a class="idref" href="tachis.prob.distribution.html#f:1015"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1016"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> <a class="idref" href="tachis.prob.distribution.html#n:1017"><span class="id" title="variable">n</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1015"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1016"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> <a class="idref" href="tachis.prob.distribution.html#m:1018"><span class="id" title="variable">m</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1015"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#plus_O_n"><span class="id" title="lemma">plus_O_n</span></a> <a class="idref" href="tachis.prob.distribution.html#iterM_O"><span class="id" title="lemma">iterM_O</span></a> <a class="idref" href="tachis.prob.distribution.html#dret_id_left"><span class="id" title="lemma">dret_id_left</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.distribution.html#dbind_assoc"><span class="id" title="lemma">dbind_assoc</span></a> -/<a class="idref" href="tachis.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">extensionality</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="iterM_mono" class="idref" href="#iterM_mono"><span class="id" title="lemma">iterM_mono</span></a> (<a id="f:1019" class="idref" href="#f:1019"><span class="id" title="binder">f</span></a> <a id="g:1020" class="idref" href="#g:1020"><span class="id" title="binder">g</span></a> : <a class="idref" href="tachis.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#iterM.A"><span class="id" title="variable">A</span></a>) <a id="n:1021" class="idref" href="#n:1021"><span class="id" title="binder">n</span></a> <a id="a:1022" class="idref" href="#a:1022"><span class="id" title="binder">a</span></a> <a id="a':1023" class="idref" href="#a':1023"><span class="id" title="binder">a'</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:1024" class="idref" href="#a:1024"><span class="id" title="binder">a</span></a> <a id="a':1025" class="idref" href="#a':1025"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1019"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1024"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#a':1025"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#g:1020"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1024"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#a':1025"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> <a class="idref" href="tachis.prob.distribution.html#n:1021"><span class="id" title="variable">n</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1019"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1022"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#a':1023"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#iterM"><span class="id" title="definition">iterM</span></a> <a class="idref" href="tachis.prob.distribution.html#n:1021"><span class="id" title="variable">n</span></a> <a class="idref" href="tachis.prob.distribution.html#g:1020"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1022"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#a':1023"><span class="id" title="variable">a'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span> <span class="id" title="var">Ha</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a>/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>. <span class="id" title="tactic">exists</span> 1. <span class="id" title="var">naive_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#iterM"><span class="id" title="section">iterM</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab9"></a><h1 class="section">Coins</h1>

</div>
<div class="code">
<span class="id" title="keyword">Program Definition</span> <a id="fair_coin" class="idref" href="#fair_coin"><span class="id" title="definition">fair_coin</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> := <a class="idref" href="tachis.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 0.5) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span> []; <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_finite_mass"><span class="id" title="lemma">SeriesC_finite_mass</span></a> /=. <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fair_coin_mass" class="idref" href="#fair_coin_mass"><span class="id" title="lemma">fair_coin_mass</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_finite_mass"><span class="id" title="lemma">SeriesC_finite_mass</span></a> /=. <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fair_coin_pmf" class="idref" href="#fair_coin_pmf"><span class="id" title="lemma">fair_coin_pmf</span></a> <a id="b:1026" class="idref" href="#b:1026"><span class="id" title="binder">b</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1026"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.5.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fair_coin_dbind_mass" class="idref" href="#fair_coin_dbind_mass"><span class="id" title="lemma">fair_coin_dbind_mass</span></a> `{<a id="H:1029" class="idref" href="#H:1029"><span class="id" title="binder">Countable</span></a> <a id="A:1027" class="idref" href="#A:1027"><span class="id" title="binder"><span id="H:1029" class="id">A</span></span></a>} (<a id="f:1030" class="idref" href="#f:1030"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:1027"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1030"><span class="id" title="variable">f</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:1030"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:1030"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:1033" class="idref" href="#pat:1033"><span class="id" title="binder"><span id="pat:1036" class="id"><span id="pat:1039" class="id">(</span></span></span></a><a id="a:1032" class="idref" href="#a:1032"><span class="id" title="binder"><span id="pat:1033" class="id"><span id="a:1035" class="id"><span id="pat:1036" class="id"><span id="a:1038" class="id"><span id="pat:1039" class="id">a</span></span></span></span></span></span></a><a id="pat:1033" class="idref" href="#pat:1033"><span class="id" title="binder"><span id="pat:1036" class="id"><span id="pat:1039" class="id">,</span></span></span></a> <a id="b:1031" class="idref" href="#b:1031"><span class="id" title="binder"><span id="pat:1033" class="id"><span id="b:1034" class="id"><span id="pat:1036" class="id"><span id="b:1037" class="id"><span id="pat:1039" class="id">b</span></span></span></span></span></span></a><a id="pat:1033" class="idref" href="#pat:1033"><span class="id" title="binder"><span id="pat:1036" class="id"><span id="pat:1039" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1032"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#a:1032"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1031"><span class="id" title="variable">b</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_bool"><span class="id" title="lemma">SeriesC_bool</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1 3}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /=. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ex_expval_fair_coin_dbind" class="idref" href="#ex_expval_fair_coin_dbind"><span class="id" title="lemma">ex_expval_fair_coin_dbind</span></a> `{<a id="H:1042" class="idref" href="#H:1042"><span class="id" title="binder">Countable</span></a> <a id="A:1040" class="idref" href="#A:1040"><span class="id" title="binder"><span id="H:1042" class="id">A</span></span></a>} (<a id="f:1043" class="idref" href="#f:1043"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:1040"><span class="id" title="variable">A</span></a>) <a id="h:1044" class="idref" href="#h:1044"><span class="id" title="binder">h</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:1045" class="idref" href="#b:1045"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:1043"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1045"><span class="id" title="variable">b</span></a>) <a class="idref" href="tachis.prob.distribution.html#h:1044"><span class="id" title="variable">h</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> (<a class="idref" href="tachis.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1043"><span class="id" title="variable">f</span></a>) <a class="idref" href="tachis.prob.distribution.html#h:1044"><span class="id" title="variable">h</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_bool"><span class="id" title="lemma">SeriesC_bool</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="tachis.prob.distribution.html#fair_coin_pmf"><span class="id" title="lemma">fair_coin_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_plus_distr_r"><span class="id" title="lemma">Rmult_plus_distr_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_plus"><span class="id" title="lemma">ex_seriesC_plus</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hf</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Expval_fair_coin" class="idref" href="#Expval_fair_coin"><span class="id" title="lemma">Expval_fair_coin</span></a> <a id="f:1046" class="idref" href="#f:1046"><span class="id" title="binder">f</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1046"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1046"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1046"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a>/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/= <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_bool"><span class="id" title="lemma">SeriesC_bool</span></a>; <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;may&nbsp;need&nbsp;this&nbsp;generality&nbsp;later,&nbsp;but&nbsp;I&nbsp;think&nbsp;it&nbsp;is&nbsp;better&nbsp;to&nbsp;define&nbsp;the&nbsp;fair&nbsp;coin&nbsp;explicitly&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="biased_coin_pmf" class="idref" href="#biased_coin_pmf"><span class="id" title="definition">biased_coin_pmf</span></a> <a id="r:1047" class="idref" href="#r:1047"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:1048" class="idref" href="#b:1048"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1048"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="tachis.prob.distribution.html#r:1047"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="tachis.prob.distribution.html#r:1047"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Program Definition</span> <a id="biased_coin" class="idref" href="#biased_coin"><span class="id" title="definition">biased_coin</span></a> <a id="r:1049" class="idref" href="#r:1049"><span class="id" title="binder">r</span></a> (<a id="P:1050" class="idref" href="#P:1050"><span class="id" title="binder">P</span></a> : 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#r:1049"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> 1) : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> := <a class="idref" href="tachis.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="tachis.prob.distribution.html#biased_coin_pmf"><span class="id" title="definition">biased_coin_pmf</span></a> <a class="idref" href="tachis.prob.distribution.html#r:1049"><span class="id" title="variable">r</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">P</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#biased_coin_pmf"><span class="id" title="definition">biased_coin_pmf</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_ext"><span class="id" title="lemma">ex_seriesC_ext</span></a>  (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:1051" class="idref" href="#b:1051"><span class="id" title="binder"><span id="b:1052" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#b:1051"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#b:1051"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#biased_coin_pmf"><span class="id" title="definition">biased_coin_pmf</span></a> /=; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_plus"><span class="id" title="lemma">ex_seriesC_plus</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_singleton"><span class="id" title="lemma">ex_seriesC_singleton</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:1053" class="idref" href="#b:1053"><span class="id" title="binder"><span id="b:1054" class="id"><span id="b:1055" class="id">b</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#b:1053"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#b:1053"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;2 : { <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#biased_coin_pmf"><span class="id" title="definition">biased_coin_pmf</span></a> /= ; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>; [|<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_singleton"><span class="id" title="lemma">ex_seriesC_singleton</span></a>.. ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>. <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Convex&nbsp;combinations&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="fair_conv_comb" class="idref" href="#fair_conv_comb"><span class="id" title="definition">fair_conv_comb</span></a> `{<a id="H:1058" class="idref" href="#H:1058"><span class="id" title="binder">Countable</span></a> <a id="A:1056" class="idref" href="#A:1056"><span class="id" title="binder"><span id="H:1058" class="id">A</span></span></a>} (<a id="ed3c9d26912bd74065a639c8589f9366" class="idref" href="#ed3c9d26912bd74065a639c8589f9366"><span class="id" title="binder">μ1</span></a> <a id="9b41b80d5ce8bd35a8d323a900f5f7ad" class="idref" href="#9b41b80d5ce8bd35a8d323a900f5f7ad"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:1056"><span class="id" title="variable">A</span></a>) : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:1056"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:1061" class="idref" href="#b:1061"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1061"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="tachis.prob.distribution.html#ed3c9d26912bd74065a639c8589f9366"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="tachis.prob.distribution.html#9b41b80d5ce8bd35a8d323a900f5f7ad"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="tachis.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="conv_prop" class="idref" href="#conv_prop"><span class="id" title="section">conv_prop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:1064" class="idref" href="#H:1064"><span class="id" title="binder">Countable</span></a> <a id="A:1062" class="idref" href="#A:1062"><span class="id" title="binder"><span id="H:1064" class="id">A</span></span></a>, <a id="H0:1067" class="idref" href="#H0:1067"><span class="id" title="binder">Countable</span></a> <a id="B:1065" class="idref" href="#B:1065"><span class="id" title="binder"><span id="H0:1067" class="id">B</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fair_conv_comb_pmf" class="idref" href="#fair_conv_comb_pmf"><span class="id" title="lemma">fair_conv_comb_pmf</span></a> `{<a id="H1:1070" class="idref" href="#H1:1070"><span class="id" title="binder">Countable</span></a> <a id="D:1068" class="idref" href="#D:1068"><span class="id" title="binder"><span id="H1:1070" class="id">D</span></span></a>} (<a id="c128e21a4fd9f8ccb12bfade0cc6d6a7" class="idref" href="#c128e21a4fd9f8ccb12bfade0cc6d6a7"><span class="id" title="binder">μ1</span></a> <a id="ba2005d8cb31d1d853cd1b9d2b93eedb" class="idref" href="#ba2005d8cb31d1d853cd1b9d2b93eedb"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#D:1068"><span class="id" title="variable">D</span></a>) (<a id="a:1073" class="idref" href="#a:1073"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#D:1068"><span class="id" title="variable">D</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#fair_conv_comb"><span class="id" title="definition">fair_conv_comb</span></a> <a class="idref" href="tachis.prob.distribution.html#c128e21a4fd9f8ccb12bfade0cc6d6a7"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#ba2005d8cb31d1d853cd1b9d2b93eedb"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1073"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#c128e21a4fd9f8ccb12bfade0cc6d6a7"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1073"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#ba2005d8cb31d1d853cd1b9d2b93eedb"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1073"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:1074" class="idref" href="#b:1074"><span class="id" title="binder"><span id="b:1075" class="id"><span id="b:1076" class="id">b</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#b:1074"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#b:1074"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">μ2</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">rewrite</span> /= /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /=; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>; [|<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_singleton"><span class="id" title="lemma">ex_seriesC_singleton</span></a>.. ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> /=. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="dbind_fair_conv_comb" class="idref" href="#dbind_fair_conv_comb"><span class="id" title="definition">dbind_fair_conv_comb</span></a> (<a id="f1:1077" class="idref" href="#f1:1077"><span class="id" title="binder">f1</span></a> <a id="f2:1078" class="idref" href="#f2:1078"><span class="id" title="binder">f2</span></a> : <a class="idref" href="tachis.prob.distribution.html#conv_prop.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#conv_prop.B"><span class="id" title="variable">B</span></a>) (<a id="e622140ed8287e8d040861cf28ca4bc5" class="idref" href="#e622140ed8287e8d040861cf28ca4bc5"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#conv_prop.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#e622140ed8287e8d040861cf28ca4bc5"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:1080" class="idref" href="#a:1080"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#fair_conv_comb"><span class="id" title="definition">fair_conv_comb</span></a> (<a class="idref" href="tachis.prob.distribution.html#f1:1077"><span class="id" title="variable">f1</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1080"><span class="id" title="variable">a</span></a>) (<a class="idref" href="tachis.prob.distribution.html#f2:1078"><span class="id" title="variable">f2</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1080"><span class="id" title="variable">a</span></a>)<a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#fair_conv_comb"><span class="id" title="definition">fair_conv_comb</span></a> (<a class="idref" href="tachis.prob.distribution.html#e622140ed8287e8d040861cf28ca4bc5"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#f1:1077"><span class="id" title="variable">f1</span></a>) (<a class="idref" href="tachis.prob.distribution.html#e622140ed8287e8d040861cf28ca4bc5"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#f2:1078"><span class="id" title="variable">f2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.distribution.html#fair_conv_comb_pmf"><span class="id" title="lemma">fair_conv_comb_pmf</span></a> (<span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <span class="id" title="var">f1</span>) (<span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <span class="id" title="var">f2</span>) <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:1081" class="idref" href="#a:1081"><span class="id" title="binder"><span id="a:1082" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:1081"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#fair_conv_comb"><span class="id" title="definition">fair_conv_comb</span></a> (<span class="id" title="var">f1</span> <a class="idref" href="tachis.prob.distribution.html#a:1081"><span class="id" title="variable">a</span></a>) (<span class="id" title="var">f2</span> <a class="idref" href="tachis.prob.distribution.html#a:1081"><span class="id" title="variable">a</span></a>) <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:1081"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> (<span class="id" title="var">f1</span> <a class="idref" href="tachis.prob.distribution.html#a:1081"><span class="id" title="variable">a</span></a>) <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">μ</span> <a class="idref" href="tachis.prob.distribution.html#a:1081"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> (<span class="id" title="var">f2</span> <a class="idref" href="tachis.prob.distribution.html#a:1081"><span class="id" title="variable">a</span></a>) <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#fair_conv_comb_pmf"><span class="id" title="lemma">fair_conv_comb_pmf</span></a>; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_plus_distr_l"><span class="id" title="lemma">Rmult_plus_distr_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {5 6}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [| <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [| <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dret_coin_zero" class="idref" href="#dbind_dret_coin_zero"><span class="id" title="lemma">dbind_dret_coin_zero</span></a> (<a id="f:1083" class="idref" href="#f:1083"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#conv_prop.A"><span class="id" title="variable">A</span></a>) (<a id="a:1084" class="idref" href="#a:1084"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#conv_prop.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:1085" class="idref" href="#b:1085"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1083"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1085"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1084"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:1086" class="idref" href="#b:1086"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:1083"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1086"><span class="id" title="variable">b</span></a>)<a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">))</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_false_2"><span class="id" title="lemma">bool_decide_eq_false_2</span></a> //. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dret_coin_nonzero" class="idref" href="#dbind_dret_coin_nonzero"><span class="id" title="lemma">dbind_dret_coin_nonzero</span></a> (<a id="f:1087" class="idref" href="#f:1087"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#conv_prop.A"><span class="id" title="variable">A</span></a>) (<a id="a:1088" class="idref" href="#a:1088"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#conv_prop.A"><span class="id" title="variable">A</span></a>) `{<a id="H1:1089" class="idref" href="#H1:1089"><span class="id" title="binder">Inj</span></a> <a id="H1:1089" class="idref" href="#H1:1089"><span class="id" title="binder">bool</span></a> <a id="H1:1089" class="idref" href="#H1:1089"><span class="id" title="binder">A</span></a> <a id="H1:1089" class="idref" href="#H1:1089"><span class="id" title="binder">(=)</span></a> <a id="H1:1089" class="idref" href="#H1:1089"><span class="id" title="binder">(=)</span></a> <a id="H1:1089" class="idref" href="#H1:1089"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="b:1090" class="idref" href="#b:1090"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1087"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1090"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1088"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#fair_coin"><span class="id" title="definition">fair_coin</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:1091" class="idref" href="#b:1091"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> (<a class="idref" href="tachis.prob.distribution.html#f:1087"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1091"><span class="id" title="variable">b</span></a>)<a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">))</span></a> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.5 .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:1092" class="idref" href="#b:1092"><span class="id" title="binder"><span id="b:1093" class="id"><span id="b:1094" class="id">b</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#b:1092"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton_inj"><span class="id" title="lemma">SeriesC_singleton_inj</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fair_conv_comb_mass" class="idref" href="#fair_conv_comb_mass"><span class="id" title="lemma">fair_conv_comb_mass</span></a> `{<a id="H1:1096" class="idref" href="#H1:1096"><span class="id" title="binder">Countable</span></a> <a id="H1:1096" class="idref" href="#H1:1096"><span class="id" title="binder">A</span></a>} (<a id="c6a131a6174ff77793922a2fcbbaaa7c" class="idref" href="#c6a131a6174ff77793922a2fcbbaaa7c"><span class="id" title="binder">μ1</span></a> <a id="b313a04bb82686a9e711ee7257efea99" class="idref" href="#b313a04bb82686a9e711ee7257efea99"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#conv_prop.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#fair_conv_comb"><span class="id" title="definition">fair_conv_comb</span></a> <a class="idref" href="tachis.prob.distribution.html#c6a131a6174ff77793922a2fcbbaaa7c"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#b313a04bb82686a9e711ee7257efea99"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#c6a131a6174ff77793922a2fcbbaaa7c"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#b313a04bb82686a9e711ee7257efea99"><span class="id" title="variable">μ2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a> // -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> =&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#fair_conv_comb_pmf"><span class="id" title="lemma">fair_conv_comb_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#conv_prop"><span class="id" title="section">conv_prop</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab10"></a><h1 class="section">The zero distribution</h1>

</div>
<div class="code">
<span class="id" title="keyword">Program Definition</span> <a id="dzero" class="idref" href="#dzero"><span class="id" title="definition">dzero</span></a> `{<a id="H:1101" class="idref" href="#H:1101"><span class="id" title="binder">Countable</span></a> <a id="A:1099" class="idref" href="#A:1099"><span class="id" title="binder"><span id="H:1101" class="id">A</span></span></a>} : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:1099"><span class="id" title="variable">A</span></a> := <a class="idref" href="tachis.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 0) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_0"><span class="id" title="lemma">ex_seriesC_0</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> //. <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="dzero" class="idref" href="#dzero"><span class="id" title="section">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:1104" class="idref" href="#H:1104"><span class="id" title="binder">Countable</span></a> <a id="A:1102" class="idref" href="#A:1102"><span class="id" title="binder"><span id="H:1104" class="id">A</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dzero_ext" class="idref" href="#dzero_ext"><span class="id" title="lemma">dzero_ext</span></a> (<a id="b6188a72b360ddaa8a21a660770b6e1a" class="idref" href="#b6188a72b360ddaa8a21a660770b6e1a"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:1106" class="idref" href="#a:1106"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b6188a72b360ddaa8a21a660770b6e1a"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1106"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#b6188a72b360ddaa8a21a660770b6e1a"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dzero_0" class="idref" href="#dzero_0"><span class="id" title="lemma">dzero_0</span></a> `{<a id="H0:1108" class="idref" href="#H0:1108"><span class="id" title="binder">Countable</span></a> <a id="H0:1108" class="idref" href="#H0:1108"><span class="id" title="binder">A</span></a>} (<a id="a:1109" class="idref" href="#a:1109"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1109"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dzero_supp_empty" class="idref" href="#dzero_supp_empty"><span class="id" title="lemma">dzero_supp_empty</span></a> (<a id="a:1110" class="idref" href="#a:1110"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1110"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /=. <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dzero_mass" class="idref" href="#dzero_mass"><span class="id" title="lemma">dzero_mass</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (@<a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SeriesC_zero_dzero" class="idref" href="#SeriesC_zero_dzero"><span class="id" title="lemma">SeriesC_zero_dzero</span></a> (<a id="57a2cac8753479230bc23ac47c2c5202" class="idref" href="#57a2cac8753479230bc23ac47c2c5202"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#57a2cac8753479230bc23ac47c2c5202"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#57a2cac8753479230bc23ac47c2c5202"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dzero_ext"><span class="id" title="lemma">dzero_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_const0"><span class="id" title="lemma">SeriesC_const0</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_correct'"><span class="id" title="lemma">SeriesC_correct'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="not_dzero_gt_0" class="idref" href="#not_dzero_gt_0"><span class="id" title="lemma">not_dzero_gt_0</span></a> (<a id="0258f85c138904ffc2f2e2bd5663f11f" class="idref" href="#0258f85c138904ffc2f2e2bd5663f11f"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#0258f85c138904ffc2f2e2bd5663f11f"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#0258f85c138904ffc2f2e2bd5663f11f"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Req_dec"><span class="id" title="lemma">Req_dec</span></a> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ</span>) 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hz</span>, <a class="idref" href="tachis.prob.distribution.html#SeriesC_zero_dzero"><span class="id" title="lemma">SeriesC_zero_dzero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_SeriesC_ge_0"><span class="id" title="lemma">pmf_SeriesC_ge_0</span></a> <span class="id" title="var">μ</span>). <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dret_not_dzero" class="idref" href="#dret_not_dzero"><span class="id" title="lemma">dret_not_dzero</span></a> (<a id="a:1113" class="idref" href="#a:1113"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1113"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Ha</span>: <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">a</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <span class="id" title="var">a</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> // /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /<a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dzero_pmf" class="idref" href="#dbind_dzero_pmf"><span class="id" title="lemma">dbind_dzero_pmf</span></a> `{<a id="H0:1116" class="idref" href="#H0:1116"><span class="id" title="binder">Countable</span></a> <a id="B:1114" class="idref" href="#B:1114"><span class="id" title="binder"><span id="H0:1116" class="id">B</span></span></a>} (<a id="f:1117" class="idref" href="#f:1117"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:1114"><span class="id" title="variable">B</span></a>) (<a id="b:1118" class="idref" href="#b:1118"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:1114"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a:1119" class="idref" href="#a:1119"><span class="id" title="binder">a</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1117"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1119"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a>=&gt;?. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dzero_dbind_pmf" class="idref" href="#dzero_dbind_pmf"><span class="id" title="lemma">dzero_dbind_pmf</span></a> `{<a id="H0:1122" class="idref" href="#H0:1122"><span class="id" title="binder">Countable</span></a> <a id="B:1120" class="idref" href="#B:1120"><span class="id" title="binder"><span id="H0:1122" class="id">B</span></span></a>} (<a id="c73e03083e243e1073abfc511535ad6a" class="idref" href="#c73e03083e243e1073abfc511535ad6a"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) (<a id="b:1124" class="idref" href="#b:1124"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#B:1120"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">(</span></a><a id="a:1125" class="idref" href="#a:1125"><span class="id" title="binder">a</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#c73e03083e243e1073abfc511535ad6a"><span class="id" title="variable">μ</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1124"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> {2}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a>=&gt;?. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dzero_dbind" class="idref" href="#dzero_dbind"><span class="id" title="lemma">dzero_dbind</span></a> `{<a id="H0:1128" class="idref" href="#H0:1128"><span class="id" title="binder">Countable</span></a> <a id="A':1126" class="idref" href="#A':1126"><span class="id" title="binder"><span id="H0:1128" class="id">A'</span></span></a>} (<a id="1748ddac662ef14f3d76eaef9882fecd" class="idref" href="#1748ddac662ef14f3d76eaef9882fecd"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a:1130" class="idref" href="#a:1130"><span class="id" title="binder">a</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#1748ddac662ef14f3d76eaef9882fecd"><span class="id" title="variable">μ</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="tachis.prob.distribution.html#A':1126"><span class="id" title="variable">A'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="tachis.prob.distribution.html#dzero_dbind_pmf"><span class="id" title="lemma">dzero_dbind_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dbind_dzero" class="idref" href="#dbind_dzero"><span class="id" title="lemma">dbind_dzero</span></a> `{<a id="H0:1133" class="idref" href="#H0:1133"><span class="id" title="binder">Countable</span></a> <a id="B:1131" class="idref" href="#B:1131"><span class="id" title="binder"><span id="H0:1133" class="id">B</span></span></a>} (<a id="f:1134" class="idref" href="#f:1134"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:1131"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="a:1135" class="idref" href="#a:1135"><span class="id" title="binder">a</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1134"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1135"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>, <a class="idref" href="tachis.prob.distribution.html#dbind_dzero_pmf"><span class="id" title="lemma">dbind_dzero_pmf</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_dzero" class="idref" href="#dmap_dzero"><span class="id" title="lemma">dmap_dzero</span></a> `{<a id="H0:1138" class="idref" href="#H0:1138"><span class="id" title="binder">Countable</span></a> <a id="B:1136" class="idref" href="#B:1136"><span class="id" title="binder"><span id="H0:1138" class="id">B</span></span></a>} (<a id="f:1139" class="idref" href="#f:1139"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#B:1136"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1139"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dbind_dzero"><span class="id" title="lemma">dbind_dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_dzero" class="idref" href="#Expval_dzero"><span class="id" title="lemma">Expval_dzero</span></a> `{<a id="H0:1141" class="idref" href="#H0:1141"><span class="id" title="binder">Countable</span></a> <a id="H0:1141" class="idref" href="#H0:1141"><span class="id" title="binder">A</span></a>} (<a id="h:1142" class="idref" href="#h:1142"><span class="id" title="binder">h</span></a> : <a class="idref" href="tachis.prob.distribution.html#dzero.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="tachis.prob.distribution.html#h:1142"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> =&gt; <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dzero_0"><span class="id" title="lemma">dzero_0</span></a>. <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="section">dzero</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dmap_dzero_inv" class="idref" href="#dmap_dzero_inv"><span class="id" title="lemma">dmap_dzero_inv</span></a> `{<a id="H:1145" class="idref" href="#H:1145"><span class="id" title="binder">Countable</span></a> <a id="A:1143" class="idref" href="#A:1143"><span class="id" title="binder"><span id="H:1145" class="id">A</span></span></a>, <a id="H0:1148" class="idref" href="#H0:1148"><span class="id" title="binder">Countable</span></a> <a id="B:1146" class="idref" href="#B:1146"><span class="id" title="binder"><span id="H0:1148" class="id">B</span></span></a>} (<a id="f:1149" class="idref" href="#f:1149"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:1143"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#B:1146"><span class="id" title="variable">B</span></a>) (<a id="8f8230f7a5b4bdedadd1cc3b4764570b" class="idref" href="#8f8230f7a5b4bdedadd1cc3b4764570b"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:1143"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1149"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#8f8230f7a5b4bdedadd1cc3b4764570b"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#8f8230f7a5b4bdedadd1cc3b4764570b"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#SeriesC_zero_dzero"><span class="id" title="lemma">SeriesC_zero_dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="tachis.prob.distribution.html#dmap_mass"><span class="id" title="lemma">dmap_mass</span></a> <span class="id" title="var">_</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hf</span> <a class="idref" href="tachis.prob.distribution.html#dzero_mass"><span class="id" title="lemma">dzero_mass</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab11"></a><h1 class="section">Diagonal</h1>

</div>
<div class="code">
<span class="id" title="keyword">Program Definition</span> <a id="ddiag" class="idref" href="#ddiag"><span class="id" title="definition">ddiag</span></a> `{<a id="H:1153" class="idref" href="#H:1153"><span class="id" title="binder">Countable</span></a> <a id="A:1151" class="idref" href="#A:1151"><span class="id" title="binder"><span id="H:1153" class="id">A</span></span></a>} (<a id="1bc8516ed7ff307d9eeed6e957bf191c" class="idref" href="#1bc8516ed7ff307d9eeed6e957bf191c"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:1151"><span class="id" title="variable">A</span></a>) : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.prob.distribution.html#A:1151"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#A:1151"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:1157" class="idref" href="#pat:1157"><span class="id" title="binder">(</span></a><a id="a:1156" class="idref" href="#a:1156"><span class="id" title="binder"><span id="pat:1157" class="id">a</span></span></a><a id="pat:1157" class="idref" href="#pat:1157"><span class="id" title="binder">,</span></a> <a id="b:1155" class="idref" href="#b:1155"><span class="id" title="binder"><span id="pat:1157" class="id">b</span></span></a><a id="pat:1157" class="idref" href="#pat:1157"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a:1156"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1155"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="tachis.prob.distribution.html#1bc8516ed7ff307d9eeed6e957bf191c"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1156"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span> ???? [<span class="id" title="var">a</span> <span class="id" title="var">b</span>]=&gt;/=. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span>?? <span class="id" title="var">μ</span> =&gt;/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_prod"><span class="id" title="lemma">ex_seriesC_prod</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_singleton'"><span class="id" title="lemma">ex_seriesC_singleton'</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_ext"><span class="id" title="lemma">ex_seriesC_ext</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span>?? <span class="id" title="var">μ</span> =&gt;/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC_prod_lr"><span class="id" title="lemma">fubini_pos_seriesC_prod_lr</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_prod"><span class="id" title="lemma">ex_seriesC_prod</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_singleton'"><span class="id" title="lemma">ex_seriesC_singleton'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ddiag_pmf" class="idref" href="#ddiag_pmf"><span class="id" title="lemma">ddiag_pmf</span></a> `{<a id="H:1160" class="idref" href="#H:1160"><span class="id" title="binder">Countable</span></a> <a id="A:1158" class="idref" href="#A:1158"><span class="id" title="binder"><span id="H:1160" class="id">A</span></span></a>} (<a id="fba309c726d2818b30d213e571c1a21a" class="idref" href="#fba309c726d2818b30d213e571c1a21a"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:1158"><span class="id" title="variable">A</span></a>) (<a id="p:1162" class="idref" href="#p:1162"><span class="id" title="binder">p</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:1158"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#A:1158"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ddiag"><span class="id" title="definition">ddiag</span></a> <a class="idref" href="tachis.prob.distribution.html#fba309c726d2818b30d213e571c1a21a"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#p:1162"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#p:1162"><span class="id" title="variable">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#p:1162"><span class="id" title="variable">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">.2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="tachis.prob.distribution.html#fba309c726d2818b30d213e571c1a21a"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#p:1162"><span class="id" title="variable">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">a1</span> &amp; <span class="id" title="var">a2</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">a1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a2</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab12"></a><h1 class="section">Products</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="dprod" class="idref" href="#dprod"><span class="id" title="definition">dprod</span></a> `{<a id="H:1165" class="idref" href="#H:1165"><span class="id" title="binder">Countable</span></a> <a id="A:1163" class="idref" href="#A:1163"><span class="id" title="binder"><span id="H:1165" class="id">A</span></span></a>, <a id="H0:1168" class="idref" href="#H0:1168"><span class="id" title="binder">Countable</span></a> <a id="B:1166" class="idref" href="#B:1166"><span class="id" title="binder"><span id="H0:1168" class="id">B</span></span></a>} (<a id="77df8acadfac8ed7db1505720f806277" class="idref" href="#77df8acadfac8ed7db1505720f806277"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:1163"><span class="id" title="variable">A</span></a>) (<a id="a601048f58cca6fc68da16e049525f4a" class="idref" href="#a601048f58cca6fc68da16e049525f4a"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:1166"><span class="id" title="variable">B</span></a>) : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.prob.distribution.html#A:1163"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#B:1166"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<a id="a:1171" class="idref" href="#a:1171"><span class="id" title="binder">a</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#77df8acadfac8ed7db1505720f806277"><span class="id" title="variable">μ1</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a id="b:1172" class="idref" href="#b:1172"><span class="id" title="binder">b</span></a> <a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="tachis.prob.distribution.html#a601048f58cca6fc68da16e049525f4a"><span class="id" title="variable">μ2</span></a><a class="idref" href="tachis.prob.distribution.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#a:1171"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1172"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dprod_pmf" class="idref" href="#dprod_pmf"><span class="id" title="lemma">dprod_pmf</span></a> `{<a id="H:1175" class="idref" href="#H:1175"><span class="id" title="binder">Countable</span></a> <a id="A:1173" class="idref" href="#A:1173"><span class="id" title="binder"><span id="H:1175" class="id">A</span></span></a>, <a id="H0:1178" class="idref" href="#H0:1178"><span class="id" title="binder">Countable</span></a> <a id="B:1176" class="idref" href="#B:1176"><span class="id" title="binder"><span id="H0:1178" class="id">B</span></span></a>} (<a id="fe62fe27d5e1c42360fe919ea2646a35" class="idref" href="#fe62fe27d5e1c42360fe919ea2646a35"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:1173"><span class="id" title="variable">A</span></a>) (<a id="37f3b280e12bade017f1c429b1ceb2a8" class="idref" href="#37f3b280e12bade017f1c429b1ceb2a8"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:1176"><span class="id" title="variable">B</span></a>) <a id="a:1181" class="idref" href="#a:1181"><span class="id" title="binder">a</span></a> <a id="b:1182" class="idref" href="#b:1182"><span class="id" title="binder">b</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a> <a class="idref" href="tachis.prob.distribution.html#fe62fe27d5e1c42360fe919ea2646a35"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#37f3b280e12bade017f1c429b1ceb2a8"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#a:1181"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1182"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#fe62fe27d5e1c42360fe919ea2646a35"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1181"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#37f3b280e12bade017f1c429b1ceb2a8"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1182"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':1183" class="idref" href="#b':1183"><span class="id" title="binder"><span id="b':1184" class="id"><span id="b':1185" class="id"><span id="b':1186" class="id">b'</span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#b':1183"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">b</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ2</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">b'</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">simplify_eq</span>=&gt;//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a>; [<span class="id" title="var">lra</span>|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [=]. }<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':1187" class="idref" href="#a':1187"><span class="id" title="binder"><span id="a':1188" class="id"><span id="a':1189" class="id"><span id="a':1190" class="id">a'</span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#a':1187"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">μ2</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">simplify_eq</span>=&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> //. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a>; [<span class="id" title="var">lra</span>|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [=].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="dprod" class="idref" href="#dprod"><span class="id" title="section">dprod</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:1193" class="idref" href="#H:1193"><span class="id" title="binder">Countable</span></a> <a id="A:1191" class="idref" href="#A:1191"><span class="id" title="binder"><span id="H:1193" class="id">A</span></span></a>, <a id="H0:1196" class="idref" href="#H0:1196"><span class="id" title="binder">Countable</span></a> <a id="B:1194" class="idref" href="#B:1194"><span class="id" title="binder"><span id="H0:1196" class="id">B</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="05c5972dd4ae8836404b418679132f9b" class="idref" href="#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dprod.A"><span class="id" title="variable">A</span></a>) (<a id="7737f10f9e4a43afbb40ab71874aa7ba" class="idref" href="#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#dprod.B"><span class="id" title="variable">B</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dprod_pos" class="idref" href="#dprod_pos"><span class="id" title="lemma">dprod_pos</span></a> (<a id="a:1199" class="idref" href="#a:1199"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#dprod.A"><span class="id" title="variable">A</span></a>) (<a id="b:1200" class="idref" href="#b:1200"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#dprod.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a> <a class="idref" href="tachis.prob.distribution.html#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#a:1199"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1200"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="tachis.prob.distribution.html#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1199"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="tachis.prob.distribution.html#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1200"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dprod_pmf"><span class="id" title="lemma">dprod_pmf</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="var">real_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span> [| -&gt;%<a class="idref" href="tachis.prob.distribution.html#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a>]; [|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="tachis.prob.distribution.html#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)) <span class="id" title="keyword">as</span> [| -&gt;%<a class="idref" href="tachis.prob.distribution.html#pmf_eq_0_not_gt_0"><span class="id" title="lemma">pmf_eq_0_not_gt_0</span></a>]; [|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dprod_mass" class="idref" href="#dprod_mass"><span class="id" title="lemma">dprod_mass</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a> <a class="idref" href="tachis.prob.distribution.html#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}(<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:1203" class="idref" href="#pat:1203"><span class="id" title="binder"><span id="pat:1206" class="id"><span id="pat:1209" class="id">(</span></span></span></a><a id="a:1202" class="idref" href="#a:1202"><span class="id" title="binder"><span id="pat:1203" class="id"><span id="a:1205" class="id"><span id="pat:1206" class="id"><span id="a:1208" class="id"><span id="pat:1209" class="id">a</span></span></span></span></span></span></a><a id="pat:1203" class="idref" href="#pat:1203"><span class="id" title="binder"><span id="pat:1206" class="id"><span id="pat:1209" class="id">,</span></span></span></a> <a id="b:1201" class="idref" href="#b:1201"><span class="id" title="binder"><span id="pat:1203" class="id"><span id="b:1204" class="id"><span id="pat:1206" class="id"><span id="b:1207" class="id"><span id="pat:1209" class="id">b</span></span></span></span></span></span></a><a id="pat:1203" class="idref" href="#pat:1203"><span class="id" title="binder"><span id="pat:1206" class="id"><span id="pat:1209" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#05c5972dd4ae8836404b418679132f9b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1202"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#7737f10f9e4a43afbb40ab71874aa7ba"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1201"><span class="id" title="variable">b</span></a>)); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> [<span class="id" title="var">a'</span> <span class="id" title="var">b'</span>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dprod_pmf"><span class="id" title="lemma">dprod_pmf</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#distr_double_lr"><span class="id" title="lemma">distr_double_lr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [|<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#dprod"><span class="id" title="section">dprod</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab13"></a><h1 class="section">swap</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="dswap" class="idref" href="#dswap"><span class="id" title="definition">dswap</span></a> `{<a id="H:1212" class="idref" href="#H:1212"><span class="id" title="binder">Countable</span></a> <a id="A:1210" class="idref" href="#A:1210"><span class="id" title="binder"><span id="H:1212" class="id">A</span></span></a>, <a id="H0:1215" class="idref" href="#H0:1215"><span class="id" title="binder">Countable</span></a> <a id="B:1213" class="idref" href="#B:1213"><span class="id" title="binder"><span id="H0:1215" class="id">B</span></span></a>} (<a id="c44a06b68287319c4bf5c5bd2c6dd228" class="idref" href="#c44a06b68287319c4bf5c5bd2c6dd228"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.prob.distribution.html#A:1210"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#B:1213"><span class="id" title="variable">B</span></a>)) : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.prob.distribution.html#B:1213"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#A:1210"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:1219" class="idref" href="#pat:1219"><span class="id" title="binder">(</span></a><a id="a:1218" class="idref" href="#a:1218"><span class="id" title="binder"><span id="pat:1219" class="id">a</span></span></a><a id="pat:1219" class="idref" href="#pat:1219"><span class="id" title="binder">,</span></a> <a id="b:1217" class="idref" href="#b:1217"><span class="id" title="binder"><span id="pat:1219" class="id">b</span></span></a><a id="pat:1219" class="idref" href="#pat:1219"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#b:1217"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1218"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="tachis.prob.distribution.html#c44a06b68287319c4bf5c5bd2c6dd228"><span class="id" title="variable">μ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dswap_pos" class="idref" href="#dswap_pos"><span class="id" title="lemma">dswap_pos</span></a> `{<a id="H:1222" class="idref" href="#H:1222"><span class="id" title="binder">Countable</span></a> <a id="A:1220" class="idref" href="#A:1220"><span class="id" title="binder"><span id="H:1222" class="id">A</span></span></a>, <a id="H0:1225" class="idref" href="#H0:1225"><span class="id" title="binder">Countable</span></a> <a id="B:1223" class="idref" href="#B:1223"><span class="id" title="binder"><span id="H0:1225" class="id">B</span></span></a>} (<a id="78a27b1cf4965dfcf50d11a14a64b4a6" class="idref" href="#78a27b1cf4965dfcf50d11a14a64b4a6"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.prob.distribution.html#A:1220"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#B:1223"><span class="id" title="variable">B</span></a>)) <a id="a:1227" class="idref" href="#a:1227"><span class="id" title="binder">a</span></a> <a id="b:1228" class="idref" href="#b:1228"><span class="id" title="binder">b</span></a> :<br/>
&nbsp;&nbsp;(<a class="idref" href="tachis.prob.distribution.html#dswap"><span class="id" title="definition">dswap</span></a> <a class="idref" href="tachis.prob.distribution.html#78a27b1cf4965dfcf50d11a14a64b4a6"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#b:1228"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1227"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#78a27b1cf4965dfcf50d11a14a64b4a6"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#a:1227"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1228"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)%<span class="id" title="var">R</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ([] &amp; [= &lt;- &lt;-] &amp; ?)%<a class="idref" href="tachis.prob.distribution.html#dmap_pos"><span class="id" title="lemma">dmap_pos</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab14"></a><h1 class="section">Marginals</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="lmarg" class="idref" href="#lmarg"><span class="id" title="definition">lmarg</span></a> `{<a id="H:1231" class="idref" href="#H:1231"><span class="id" title="binder">Countable</span></a> <a id="A:1229" class="idref" href="#A:1229"><span class="id" title="binder"><span id="H:1231" class="id">A</span></span></a>, <a id="H0:1234" class="idref" href="#H0:1234"><span class="id" title="binder">Countable</span></a> <a id="B:1232" class="idref" href="#B:1232"><span class="id" title="binder"><span id="H0:1234" class="id">B</span></span></a>} (<a id="a5ff09c1f7758637ae80036b6afbc1f1" class="idref" href="#a5ff09c1f7758637ae80036b6afbc1f1"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.prob.distribution.html#A:1229"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#B:1232"><span class="id" title="variable">B</span></a>)) : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:1229"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="tachis.prob.distribution.html#a5ff09c1f7758637ae80036b6afbc1f1"><span class="id" title="variable">μ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="rmarg" class="idref" href="#rmarg"><span class="id" title="definition">rmarg</span></a> `{<a id="H:1238" class="idref" href="#H:1238"><span class="id" title="binder">Countable</span></a> <a id="A:1236" class="idref" href="#A:1236"><span class="id" title="binder"><span id="H:1238" class="id">A</span></span></a>, <a id="H0:1241" class="idref" href="#H0:1241"><span class="id" title="binder">Countable</span></a> <a id="B:1239" class="idref" href="#B:1239"><span class="id" title="binder"><span id="H0:1241" class="id">B</span></span></a>} (<a id="2f155e7e0174f4474c11ee1b125930fb" class="idref" href="#2f155e7e0174f4474c11ee1b125930fb"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.prob.distribution.html#A:1236"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#B:1239"><span class="id" title="variable">B</span></a>)) : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:1239"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="tachis.prob.distribution.html#2f155e7e0174f4474c11ee1b125930fb"><span class="id" title="variable">μ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="marginals" class="idref" href="#marginals"><span class="id" title="section">marginals</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:1245" class="idref" href="#H:1245"><span class="id" title="binder">Countable</span></a> <a id="A:1243" class="idref" href="#A:1243"><span class="id" title="binder"><span id="H:1245" class="id">A</span></span></a>, <a id="H0:1248" class="idref" href="#H0:1248"><span class="id" title="binder">Countable</span></a> <a id="B:1246" class="idref" href="#B:1246"><span class="id" title="binder"><span id="H0:1248" class="id">B</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lmarg_pmf" class="idref" href="#lmarg_pmf"><span class="id" title="lemma">lmarg_pmf</span></a> (<a id="e1331dbf74d980f775d00804668f71a6" class="idref" href="#e1331dbf74d980f775d00804668f71a6"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>)) (<a id="a:1250" class="idref" href="#a:1250"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> <a class="idref" href="tachis.prob.distribution.html#e1331dbf74d980f775d00804668f71a6"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1250"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:1251" class="idref" href="#b:1251"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#e1331dbf74d980f775d00804668f71a6"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#a:1250"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1251"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC_prod_rl"><span class="id" title="lemma">fubini_pos_seriesC_prod_rl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a> <span class="id" title="var">a</span>)|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="rmarg_pmf" class="idref" href="#rmarg_pmf"><span class="id" title="lemma">rmarg_pmf</span></a> (<a id="dadc07a7f19c4578377a933ee059289c" class="idref" href="#dadc07a7f19c4578377a933ee059289c"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>)) (<a id="b:1253" class="idref" href="#b:1253"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> <a class="idref" href="tachis.prob.distribution.html#dadc07a7f19c4578377a933ee059289c"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1253"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:1254" class="idref" href="#a:1254"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#dadc07a7f19c4578377a933ee059289c"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#a:1254"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1253"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC_prod_lr"><span class="id" title="lemma">fubini_pos_seriesC_prod_lr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a> <span class="id" title="var">b</span>)|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ</span>); [|<span class="id" title="var">done</span>]. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ex_distr_lmarg" class="idref" href="#ex_distr_lmarg"><span class="id" title="lemma">ex_distr_lmarg</span></a> (<a id="65a5318e8c03dcb9b21a418eb9e0d7d1" class="idref" href="#65a5318e8c03dcb9b21a418eb9e0d7d1"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>)) (<a id="a:1256" class="idref" href="#a:1256"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:1257" class="idref" href="#b:1257"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#65a5318e8c03dcb9b21a418eb9e0d7d1"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#a:1256"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1257"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_lmarg"><span class="id" title="lemma">ex_seriesC_lmarg</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ex_distr_rmarg" class="idref" href="#ex_distr_rmarg"><span class="id" title="lemma">ex_distr_rmarg</span></a> (<a id="e00b7fb34721cd26c4db2b3a29e3582b" class="idref" href="#e00b7fb34721cd26c4db2b3a29e3582b"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>)) (<a id="b:1259" class="idref" href="#b:1259"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC"><span class="id" title="definition">ex_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:1260" class="idref" href="#a:1260"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#e00b7fb34721cd26c4db2b3a29e3582b"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#a:1260"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1259"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_rmarg"><span class="id" title="lemma">ex_seriesC_rmarg</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lmarg_dprod_pmf" class="idref" href="#lmarg_dprod_pmf"><span class="id" title="lemma">lmarg_dprod_pmf</span></a> (<a id="29144555e2700419d822cd2c9e338b8c" class="idref" href="#29144555e2700419d822cd2c9e338b8c"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) (<a id="b2880fa4198e7361eb0fe7c9fec55cac" class="idref" href="#b2880fa4198e7361eb0fe7c9fec55cac"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>) (<a id="a:1263" class="idref" href="#a:1263"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> (<a class="idref" href="tachis.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a> <a class="idref" href="tachis.prob.distribution.html#29144555e2700419d822cd2c9e338b8c"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#b2880fa4198e7361eb0fe7c9fec55cac"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="tachis.prob.distribution.html#a:1263"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#29144555e2700419d822cd2c9e338b8c"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1263"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#b2880fa4198e7361eb0fe7c9fec55cac"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#lmarg_pmf"><span class="id" title="lemma">lmarg_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [|<span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dprod_pmf"><span class="id" title="lemma">dprod_pmf</span></a> //].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lmarg_dprod" class="idref" href="#lmarg_dprod"><span class="id" title="lemma">lmarg_dprod</span></a> (<a id="e976163058a44120a36ce503cf395936" class="idref" href="#e976163058a44120a36ce503cf395936"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) (<a id="bc0ae6e36f38b7bbb19bf529dbd22ad5" class="idref" href="#bc0ae6e36f38b7bbb19bf529dbd22ad5"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#bc0ae6e36f38b7bbb19bf529dbd22ad5"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> (<a class="idref" href="tachis.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a> <a class="idref" href="tachis.prob.distribution.html#e976163058a44120a36ce503cf395936"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#bc0ae6e36f38b7bbb19bf529dbd22ad5"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#e976163058a44120a36ce503cf395936"><span class="id" title="variable">μ1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hμ2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#lmarg_dprod_pmf"><span class="id" title="lemma">lmarg_dprod_pmf</span></a> <span class="id" title="var">Hμ2</span>. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lmarg_dswap" class="idref" href="#lmarg_dswap"><span class="id" title="lemma">lmarg_dswap</span></a> (<a id="9e46f005feb396d653d5639acc4b8a51" class="idref" href="#9e46f005feb396d653d5639acc4b8a51"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> (<a class="idref" href="tachis.prob.distribution.html#dswap"><span class="id" title="definition">dswap</span></a> <a class="idref" href="tachis.prob.distribution.html#9e46f005feb396d653d5639acc4b8a51"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> <a class="idref" href="tachis.prob.distribution.html#9e46f005feb396d653d5639acc4b8a51"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> /<a class="idref" href="tachis.prob.distribution.html#dswap"><span class="id" title="definition">dswap</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap_comp"><span class="id" title="lemma">dmap_comp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:1269" class="idref" href="#pat:1269"><span class="id" title="binder"><span id="pat:1272" class="id">(</span></span></a><a id="a:1268" class="idref" href="#a:1268"><span class="id" title="binder"><span id="pat:1269" class="id"><span id="a:1271" class="id"><span id="pat:1272" class="id">a</span></span></span></span></a><a id="pat:1269" class="idref" href="#pat:1269"><span class="id" title="binder"><span id="pat:1272" class="id">,</span></span></a> <a id="b:1267" class="idref" href="#b:1267"><span class="id" title="binder"><span id="pat:1269" class="id"><span id="b:1270" class="id"><span id="pat:1272" class="id">b</span></span></span></span></a><a id="pat:1269" class="idref" href="#pat:1269"><span class="id" title="binder"><span id="pat:1272" class="id">)</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#b:1267"><span class="id" title="variable">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1268"><span class="id" title="variable">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">extensionality</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="rmarg_dswap" class="idref" href="#rmarg_dswap"><span class="id" title="lemma">rmarg_dswap</span></a> (<a id="44820dc0cee62441c439470b7dc84634" class="idref" href="#44820dc0cee62441c439470b7dc84634"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> (<a class="idref" href="tachis.prob.distribution.html#dswap"><span class="id" title="definition">dswap</span></a> <a class="idref" href="tachis.prob.distribution.html#44820dc0cee62441c439470b7dc84634"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> <a class="idref" href="tachis.prob.distribution.html#44820dc0cee62441c439470b7dc84634"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> /<a class="idref" href="tachis.prob.distribution.html#dswap"><span class="id" title="definition">dswap</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap_comp"><span class="id" title="lemma">dmap_comp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:1276" class="idref" href="#pat:1276"><span class="id" title="binder"><span id="pat:1279" class="id">(</span></span></a><a id="a:1275" class="idref" href="#a:1275"><span class="id" title="binder"><span id="pat:1276" class="id"><span id="a:1278" class="id"><span id="pat:1279" class="id">a</span></span></span></span></a><a id="pat:1276" class="idref" href="#pat:1276"><span class="id" title="binder"><span id="pat:1279" class="id">,</span></span></a> <a id="b:1274" class="idref" href="#b:1274"><span class="id" title="binder"><span id="pat:1276" class="id"><span id="b:1277" class="id"><span id="pat:1279" class="id">b</span></span></span></span></a><a id="pat:1276" class="idref" href="#pat:1276"><span class="id" title="binder"><span id="pat:1279" class="id">)</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.distribution.html#b:1274"><span class="id" title="variable">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1275"><span class="id" title="variable">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">extensionality</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="rmarg_dprod_pmf" class="idref" href="#rmarg_dprod_pmf"><span class="id" title="lemma">rmarg_dprod_pmf</span></a> (<a id="02aaa5f799f241a9bf9031807f23d853" class="idref" href="#02aaa5f799f241a9bf9031807f23d853"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) (<a id="bbee36c6ef1b8f9edd22376a6c21fca3" class="idref" href="#bbee36c6ef1b8f9edd22376a6c21fca3"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>) (<a id="b:1282" class="idref" href="#b:1282"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> (<a class="idref" href="tachis.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a> <a class="idref" href="tachis.prob.distribution.html#02aaa5f799f241a9bf9031807f23d853"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#bbee36c6ef1b8f9edd22376a6c21fca3"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="tachis.prob.distribution.html#b:1282"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#bbee36c6ef1b8f9edd22376a6c21fca3"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.distribution.html#b:1282"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#02aaa5f799f241a9bf9031807f23d853"><span class="id" title="variable">μ1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#rmarg_pmf"><span class="id" title="lemma">rmarg_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [|<span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dprod_pmf"><span class="id" title="lemma">dprod_pmf</span></a> //].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="rmarg_dprod" class="idref" href="#rmarg_dprod"><span class="id" title="lemma">rmarg_dprod</span></a> (<a id="41b7c016109fda7bd0f8d9cf906783e6" class="idref" href="#41b7c016109fda7bd0f8d9cf906783e6"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#marginals.A"><span class="id" title="variable">A</span></a>) (<a id="095d95c5035bebb1311589b46063dece" class="idref" href="#095d95c5035bebb1311589b46063dece"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#marginals.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#41b7c016109fda7bd0f8d9cf906783e6"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> (<a class="idref" href="tachis.prob.distribution.html#dprod"><span class="id" title="definition">dprod</span></a> <a class="idref" href="tachis.prob.distribution.html#41b7c016109fda7bd0f8d9cf906783e6"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#095d95c5035bebb1311589b46063dece"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#095d95c5035bebb1311589b46063dece"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hμ1</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#rmarg_dprod_pmf"><span class="id" title="lemma">rmarg_dprod_pmf</span></a> <span class="id" title="var">Hμ1</span>. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#marginals"><span class="id" title="section">marginals</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ddiag_lmarg" class="idref" href="#ddiag_lmarg"><span class="id" title="lemma">ddiag_lmarg</span></a> `{<a id="H:1287" class="idref" href="#H:1287"><span class="id" title="binder">Countable</span></a> <a id="A:1285" class="idref" href="#A:1285"><span class="id" title="binder"><span id="H:1287" class="id">A</span></span></a>} (<a id="99c87bd240d708e79b280975c09d67a1" class="idref" href="#99c87bd240d708e79b280975c09d67a1"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:1285"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> (<a class="idref" href="tachis.prob.distribution.html#ddiag"><span class="id" title="definition">ddiag</span></a> <a class="idref" href="tachis.prob.distribution.html#99c87bd240d708e79b280975c09d67a1"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#99c87bd240d708e79b280975c09d67a1"><span class="id" title="variable">μ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#lmarg_pmf"><span class="id" title="lemma">lmarg_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.distribution.html#ddiag_pmf"><span class="id" title="lemma">ddiag_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton'"><span class="id" title="lemma">SeriesC_singleton'</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ddiag_rmarg" class="idref" href="#ddiag_rmarg"><span class="id" title="lemma">ddiag_rmarg</span></a> `{<a id="H:1291" class="idref" href="#H:1291"><span class="id" title="binder">Countable</span></a> <a id="A:1289" class="idref" href="#A:1289"><span class="id" title="binder"><span id="H:1291" class="id">A</span></span></a>} (<a id="a2d2dfbb1ae6468a8df60bd68514abbe" class="idref" href="#a2d2dfbb1ae6468a8df60bd68514abbe"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:1289"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> (<a class="idref" href="tachis.prob.distribution.html#ddiag"><span class="id" title="definition">ddiag</span></a> <a class="idref" href="tachis.prob.distribution.html#a2d2dfbb1ae6468a8df60bd68514abbe"><span class="id" title="variable">μ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#a2d2dfbb1ae6468a8df60bd68514abbe"><span class="id" title="variable">μ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#rmarg_pmf"><span class="id" title="lemma">rmarg_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.distribution.html#ddiag_pmf"><span class="id" title="lemma">ddiag_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lmarg_dzero" class="idref" href="#lmarg_dzero"><span class="id" title="lemma">lmarg_dzero</span></a> `{<a id="H:1295" class="idref" href="#H:1295"><span class="id" title="binder">Countable</span></a> <a id="A:1293" class="idref" href="#A:1293"><span class="id" title="binder"><span id="H:1295" class="id">A</span></span></a>, <a id="H0:1298" class="idref" href="#H0:1298"><span class="id" title="binder">Countable</span></a> <a id="B:1296" class="idref" href="#B:1296"><span class="id" title="binder"><span id="H0:1298" class="id">B</span></span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> (<a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> (<span class="id" title="var">A</span> := (<a class="idref" href="tachis.prob.distribution.html#A:1293"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#B:1296"><span class="id" title="variable">B</span></a>))) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#lmarg"><span class="id" title="definition">lmarg</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap_dzero"><span class="id" title="lemma">dmap_dzero</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rmarg_dzero" class="idref" href="#rmarg_dzero"><span class="id" title="lemma">rmarg_dzero</span></a> `{<a id="H:1301" class="idref" href="#H:1301"><span class="id" title="binder">Countable</span></a> <a id="A:1299" class="idref" href="#A:1299"><span class="id" title="binder"><span id="H:1301" class="id">A</span></span></a>, <a id="H0:1304" class="idref" href="#H0:1304"><span class="id" title="binder">Countable</span></a> <a id="B:1302" class="idref" href="#B:1302"><span class="id" title="binder"><span id="H0:1304" class="id">B</span></span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> (<a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> (<span class="id" title="var">A</span> := (<a class="idref" href="tachis.prob.distribution.html#A:1299"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#B:1302"><span class="id" title="variable">B</span></a>))) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#rmarg"><span class="id" title="definition">rmarg</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap_dzero"><span class="id" title="lemma">dmap_dzero</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab15"></a><h1 class="section">Pointwise order</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="distr_le" class="idref" href="#distr_le"><span class="id" title="definition">distr_le</span></a> `{<a id="H:1307" class="idref" href="#H:1307"><span class="id" title="binder">Countable</span></a> <a id="A:1305" class="idref" href="#A:1305"><span class="id" title="binder"><span id="H:1307" class="id">A</span></span></a>} (<a id="841121d188f0c8e40ace4d5bd85de317" class="idref" href="#841121d188f0c8e40ace4d5bd85de317"><span class="id" title="binder">μ1</span></a> <a id="6a23e95b416b7cd9002426dbfad33804" class="idref" href="#6a23e95b416b7cd9002426dbfad33804"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:1305"><span class="id" title="variable">A</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:1310" class="idref" href="#a:1310"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> (<a class="idref" href="tachis.prob.distribution.html#841121d188f0c8e40ace4d5bd85de317"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1310"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#6a23e95b416b7cd9002426dbfad33804"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1310"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="order" class="idref" href="#order"><span class="id" title="section">order</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:1313" class="idref" href="#H:1313"><span class="id" title="binder">Countable</span></a> <a id="A:1311" class="idref" href="#A:1311"><span class="id" title="binder"><span id="H:1313" class="id">A</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_dzero" class="idref" href="#distr_le_dzero"><span class="id" title="lemma">distr_le_dzero</span></a> (<a id="e3d0d44e42952ca551438c7f54c39c43" class="idref" href="#e3d0d44e42952ca551438c7f54c39c43"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="tachis.prob.distribution.html#e3d0d44e42952ca551438c7f54c39c43"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_refl" class="idref" href="#distr_le_refl"><span class="id" title="lemma">distr_le_refl</span></a> (<a id="f6350d8e3ade582225ed0eed304bdf4f" class="idref" href="#f6350d8e3ade582225ed0eed304bdf4f"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="tachis.prob.distribution.html#f6350d8e3ade582225ed0eed304bdf4f"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#f6350d8e3ade582225ed0eed304bdf4f"><span class="id" title="variable">μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_trans" class="idref" href="#distr_le_trans"><span class="id" title="lemma">distr_le_trans</span></a> (<a id="d2aaabc7ecb5c5ca879a0efbed2cb549" class="idref" href="#d2aaabc7ecb5c5ca879a0efbed2cb549"><span class="id" title="binder">μ1</span></a> <a id="f2b40c9f297a475ada1867a9a567f0df" class="idref" href="#f2b40c9f297a475ada1867a9a567f0df"><span class="id" title="binder">μ2</span></a> <a id="6b79a115159dfc3c2bc97c5d37fe6feb" class="idref" href="#6b79a115159dfc3c2bc97c5d37fe6feb"><span class="id" title="binder">μ3</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="tachis.prob.distribution.html#d2aaabc7ecb5c5ca879a0efbed2cb549"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#f2b40c9f297a475ada1867a9a567f0df"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="tachis.prob.distribution.html#f2b40c9f297a475ada1867a9a567f0df"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.distribution.html#6b79a115159dfc3c2bc97c5d37fe6feb"><span class="id" title="variable">μ3</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="tachis.prob.distribution.html#d2aaabc7ecb5c5ca879a0efbed2cb549"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#6b79a115159dfc3c2bc97c5d37fe6feb"><span class="id" title="variable">μ3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">transitivity</span> (<span class="id" title="var">μ2</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_antisym" class="idref" href="#distr_le_antisym"><span class="id" title="lemma">distr_le_antisym</span></a> (<a id="f6154b8f31ead6bcbaeb9828ce6bd9a8" class="idref" href="#f6154b8f31ead6bcbaeb9828ce6bd9a8"><span class="id" title="binder">μ1</span></a> <a id="4fa2671d9a1f60994d482bc4c8617032" class="idref" href="#4fa2671d9a1f60994d482bc4c8617032"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="tachis.prob.distribution.html#f6154b8f31ead6bcbaeb9828ce6bd9a8"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#4fa2671d9a1f60994d482bc4c8617032"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="tachis.prob.distribution.html#4fa2671d9a1f60994d482bc4c8617032"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.distribution.html#f6154b8f31ead6bcbaeb9828ce6bd9a8"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#f6154b8f31ead6bcbaeb9828ce6bd9a8"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#4fa2671d9a1f60994d482bc4c8617032"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_antisym"><span class="id" title="lemma">Rle_antisym</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_dbind" class="idref" href="#distr_le_dbind"><span class="id" title="lemma">distr_le_dbind</span></a> `{<a id="H0:1323" class="idref" href="#H0:1323"><span class="id" title="binder">Countable</span></a> <a id="B:1321" class="idref" href="#B:1321"><span class="id" title="binder"><span id="H0:1323" class="id">B</span></span></a>} (<a id="0d082af06ad12377933736ffb09fd4e1" class="idref" href="#0d082af06ad12377933736ffb09fd4e1"><span class="id" title="binder">μ1</span></a> <a id="393a008ef3855d63639f2d2caee1fe82" class="idref" href="#393a008ef3855d63639f2d2caee1fe82"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>) (<a id="f1:1326" class="idref" href="#f1:1326"><span class="id" title="binder">f1</span></a> <a id="f2:1327" class="idref" href="#f2:1327"><span class="id" title="binder">f2</span></a> : <a class="idref" href="tachis.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#B:1321"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="tachis.prob.distribution.html#0d082af06ad12377933736ffb09fd4e1"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#393a008ef3855d63639f2d2caee1fe82"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:1328" class="idref" href="#a:1328"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> (<a class="idref" href="tachis.prob.distribution.html#f1:1326"><span class="id" title="variable">f1</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1328"><span class="id" title="variable">a</span></a>) (<a class="idref" href="tachis.prob.distribution.html#f2:1327"><span class="id" title="variable">f2</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1328"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.distribution.html#f1:1326"><span class="id" title="variable">f1</span></a> <a class="idref" href="tachis.prob.distribution.html#0d082af06ad12377933736ffb09fd4e1"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.distribution.html#f2:1327"><span class="id" title="variable">f2</span></a> <a class="idref" href="tachis.prob.distribution.html#393a008ef3855d63639f2d2caee1fe82"><span class="id" title="variable">μ2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hle</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> (<span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.distribution.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <span class="id" title="var">f2</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>, <span class="id" title="var">Hf</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_dmap_1" class="idref" href="#distr_le_dmap_1"><span class="id" title="lemma">distr_le_dmap_1</span></a> `{<a id="H0:1331" class="idref" href="#H0:1331"><span class="id" title="binder">Countable</span></a> <a id="B:1329" class="idref" href="#B:1329"><span class="id" title="binder"><span id="H0:1331" class="id">B</span></span></a>} (<a id="299a06b4f812aa4913e3e62bb549fa40" class="idref" href="#299a06b4f812aa4913e3e62bb549fa40"><span class="id" title="binder">μ1</span></a> <a id="fc1e134771808317b21fb553913f987a" class="idref" href="#fc1e134771808317b21fb553913f987a"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>) (<a id="f:1334" class="idref" href="#f:1334"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#B:1329"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="tachis.prob.distribution.html#299a06b4f812aa4913e3e62bb549fa40"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#fc1e134771808317b21fb553913f987a"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> (<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1334"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#299a06b4f812aa4913e3e62bb549fa40"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1334"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#fc1e134771808317b21fb553913f987a"><span class="id" title="variable">μ2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hμ</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_le_dbind"><span class="id" title="lemma">distr_le_dbind</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="distr_le_dmap_2" class="idref" href="#distr_le_dmap_2"><span class="id" title="lemma">distr_le_dmap_2</span></a> `{<a id="H0:1337" class="idref" href="#H0:1337"><span class="id" title="binder">Countable</span></a> <a id="B:1335" class="idref" href="#B:1335"><span class="id" title="binder"><span id="H0:1337" class="id">B</span></span></a>} (<a id="7559ba71acdde40ca87034e91e2ee963" class="idref" href="#7559ba71acdde40ca87034e91e2ee963"><span class="id" title="binder">μ1</span></a> <a id="beaa8a13f3e69dcbe691b9cfe3873b16" class="idref" href="#beaa8a13f3e69dcbe691b9cfe3873b16"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a>) (<a id="f:1340" class="idref" href="#f:1340"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.distribution.html#order.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#B:1335"><span class="id" title="variable">B</span></a>) `{<a id="H1:1341" class="idref" href="#H1:1341"><span class="id" title="binder">Inj</span></a> <a id="H1:1341" class="idref" href="#H1:1341"><span class="id" title="binder">A</span></a> <a id="H1:1341" class="idref" href="#H1:1341"><span class="id" title="binder">B</span></a> <a id="H1:1341" class="idref" href="#H1:1341"><span class="id" title="binder">(=)</span></a> <a id="H1:1341" class="idref" href="#H1:1341"><span class="id" title="binder">(=)</span></a> <a id="H1:1341" class="idref" href="#H1:1341"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> (<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1340"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#7559ba71acdde40ca87034e91e2ee963"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1340"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#beaa8a13f3e69dcbe691b9cfe3873b16"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr_le"><span class="id" title="definition">distr_le</span></a> <a class="idref" href="tachis.prob.distribution.html#7559ba71acdde40ca87034e91e2ee963"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#beaa8a13f3e69dcbe691b9cfe3873b16"><span class="id" title="variable">μ2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> 2!<a class="idref" href="tachis.prob.distribution.html#dmap_elem_eq"><span class="id" title="lemma">dmap_elem_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#order"><span class="id" title="section">order</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab16"></a><h1 class="section">Scaled distribution</h1>

</div>
<div class="code">
<span class="id" title="keyword">Program Definition</span> <a id="distr_scal" class="idref" href="#distr_scal"><span class="id" title="definition">distr_scal</span></a> `{<a id="H:1344" class="idref" href="#H:1344"><span class="id" title="binder">Countable</span></a> <a id="A:1342" class="idref" href="#A:1342"><span class="id" title="binder"><span id="H:1344" class="id">A</span></span></a>} (<a id="r:1345" class="idref" href="#r:1345"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="9a6ffdd0dca38ace039258d9d093fe6a" class="idref" href="#9a6ffdd0dca38ace039258d9d093fe6a"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#A:1342"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hr:1347" class="idref" href="#Hr:1347"><span class="id" title="binder">Hr</span></a> : 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#r:1345"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="tachis.prob.distribution.html#r:1345"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.distribution.html#9a6ffdd0dca38ace039258d9d093fe6a"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1) := <a class="idref" href="tachis.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:1348" class="idref" href="#a:1348"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#r:1345"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.distribution.html#9a6ffdd0dca38ace039258d9d093fe6a"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1348"><span class="id" title="variable">a</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ????? [] <span class="id" title="var">a</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">a</span>). <span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span> ????? []. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab17"></a><h1 class="section">Limit distribution</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="convergence" class="idref" href="#convergence"><span class="id" title="section">convergence</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:1351" class="idref" href="#H:1351"><span class="id" title="binder">Countable</span></a> <a id="A:1349" class="idref" href="#A:1349"><span class="id" title="binder"><span id="H:1351" class="id">A</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="lim_distr" class="idref" href="#lim_distr"><span class="id" title="definition">lim_distr</span></a> (<a id="h:1352" class="idref" href="#h:1352"><span class="id" title="binder">h</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#convergence.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:1353" class="idref" href="#n:1353"><span class="id" title="binder">n</span></a> <a id="a:1354" class="idref" href="#a:1354"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#h:1352"><span class="id" title="variable">h</span></a> <a class="idref" href="tachis.prob.distribution.html#n:1353"><span class="id" title="variable">n</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1354"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.distribution.html#h:1352"><span class="id" title="variable">h</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="tachis.prob.distribution.html#n:1353"><span class="id" title="variable">n</span></a>) <a class="idref" href="tachis.prob.distribution.html#a:1354"><span class="id" title="variable">a</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:1355" class="idref" href="#a:1355"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq"><span class="id" title="definition">Sup_seq</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:1356" class="idref" href="#n:1356"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#h:1352"><span class="id" title="variable">h</span></a> <a class="idref" href="tachis.prob.distribution.html#n:1356"><span class="id" title="variable">n</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1355"><span class="id" title="variable">a</span></a>)) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">Hmon</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<span class="id" title="var">h</span> 0%<span class="id" title="var">nat</span> <span class="id" title="var">a</span>); [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Series_ext.html#rbar_le_finite"><span class="id" title="lemma">rbar_le_finite</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prelude.Series_ext.html#Rbar_le_sandwich"><span class="id" title="lemma">Rbar_le_sandwich</span></a> 0 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq_minor_le"><span class="id" title="lemma">Sup_seq_minor_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> 0%<span class="id" title="var">nat</span>)=&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Series_ext.html#upper_bound_ge_sup"><span class="id" title="lemma">upper_bound_ge_sup</span></a>=&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prelude.Series_ext.html#sup_is_upper_bound"><span class="id" title="lemma">sup_is_upper_bound</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:1357" class="idref" href="#n:1357"><span class="id" title="binder"><span id="n:1358" class="id">n</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">h</span> <a class="idref" href="tachis.prob.distribution.html#n:1357"><span class="id" title="variable">n</span></a> <span class="id" title="var">a</span>) 0%<span class="id" title="var">nat</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">Hmon</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rbar.html#is_finite"><span class="id" title="definition">is_finite</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq"><span class="id" title="definition">Sup_seq</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:1359" class="idref" href="#x:1359"><span class="id" title="binder"><span id="x:1360" class="id">x</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="tachis.prob.distribution.html#x:1359"><span class="id" title="variable">x</span></a>)))) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prelude.Series_ext.html#Rbar_le_sandwich"><span class="id" title="lemma">Rbar_le_sandwich</span></a> 0 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq_minor_le"><span class="id" title="lemma">Sup_seq_minor_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> 0%<span class="id" title="var">nat</span>)=&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Series_ext.html#upper_bound_ge_sup"><span class="id" title="lemma">upper_bound_ge_sup</span></a>=&gt;/=. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#MCT_ex_seriesC"><span class="id" title="lemma">MCT_ex_seriesC</span></a> <span class="id" title="var">h</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:1361" class="idref" href="#n:1361"><span class="id" title="binder"><span id="n:1363" class="id">n</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="tachis.prob.distribution.html#n:1361"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq"><span class="id" title="definition">Sup_seq</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:1362" class="idref" href="#x:1362"><span class="id" title="binder"><span id="x:1364" class="id">x</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="tachis.prob.distribution.html#x:1362"><span class="id" title="variable">x</span></a>)))); [<span class="id" title="var">done</span>|<span class="id" title="var">done</span>|<span class="id" title="tactic">eauto</span>| |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_correct"><span class="id" title="lemma">SeriesC_correct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prelude.Series_ext.html#rbar_finite_real_eq"><span class="id" title="lemma">rbar_finite_real_eq</span></a> //. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq_correct"><span class="id" title="lemma">Sup_seq_correct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">Hmon</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rbar.html#is_finite"><span class="id" title="definition">is_finite</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq"><span class="id" title="definition">Sup_seq</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:1365" class="idref" href="#x:1365"><span class="id" title="binder"><span id="x:1366" class="id">x</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="tachis.prob.distribution.html#x:1365"><span class="id" title="variable">x</span></a>)))) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prelude.Series_ext.html#Rbar_le_sandwich"><span class="id" title="lemma">Rbar_le_sandwich</span></a> 0 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq_minor_le"><span class="id" title="lemma">Sup_seq_minor_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> 0%<span class="id" title="var">nat</span>)=&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Series_ext.html#upper_bound_ge_sup"><span class="id" title="lemma">upper_bound_ge_sup</span></a>=&gt;/=. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#MCT_seriesC"><span class="id" title="lemma">MCT_seriesC</span></a> <span class="id" title="var">h</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:1367" class="idref" href="#n:1367"><span class="id" title="binder"><span id="n:1369" class="id"><span id="n:1371" class="id">n</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="tachis.prob.distribution.html#n:1367"><span class="id" title="variable">n</span></a>)) (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq"><span class="id" title="definition">Sup_seq</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:1368" class="idref" href="#x:1368"><span class="id" title="binder"><span id="x:1370" class="id"><span id="x:1372" class="id">x</span></span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="tachis.prob.distribution.html#x:1368"><span class="id" title="variable">x</span></a>))));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[|<span class="id" title="var">done</span>|<span class="id" title="tactic">eauto</span>|<span class="id" title="tactic">eauto</span>|<span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Series_ext.html#finite_rbar_le"><span class="id" title="lemma">finite_rbar_le</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prelude.Series_ext.html#upper_bound_ge_sup"><span class="id" title="lemma">upper_bound_ge_sup</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:1373" class="idref" href="#x:1373"><span class="id" title="binder"><span id="x:1374" class="id">x</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">h</span> <a class="idref" href="tachis.prob.distribution.html#x:1373"><span class="id" title="variable">x</span></a>)) 1)=&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_correct"><span class="id" title="lemma">SeriesC_correct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prelude.Series_ext.html#rbar_finite_real_eq"><span class="id" title="lemma">rbar_finite_real_eq</span></a> //. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq_correct"><span class="id" title="lemma">Sup_seq_correct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lim_distr_pmf" class="idref" href="#lim_distr_pmf"><span class="id" title="lemma">lim_distr_pmf</span></a> (<a id="h:1375" class="idref" href="#h:1375"><span class="id" title="binder">h</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.distribution.html#convergence.A"><span class="id" title="variable">A</span></a>) <a id="Hmon:1376" class="idref" href="#Hmon:1376"><span class="id" title="binder">Hmon</span></a> (<a id="a:1377" class="idref" href="#a:1377"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#convergence.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#lim_distr"><span class="id" title="definition">lim_distr</span></a> <a class="idref" href="tachis.prob.distribution.html#h:1375"><span class="id" title="variable">h</span></a> <a class="idref" href="tachis.prob.distribution.html#Hmon:1376"><span class="id" title="variable">Hmon</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1377"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#Sup_seq"><span class="id" title="definition">Sup_seq</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:1378" class="idref" href="#n:1378"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#h:1375"><span class="id" title="variable">h</span></a> <a class="idref" href="tachis.prob.distribution.html#n:1378"><span class="id" title="variable">n</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1377"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#convergence"><span class="id" title="section">convergence</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab18"></a><h1 class="section">Uniform sampling</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="uniform" class="idref" href="#uniform"><span class="id" title="section">uniform</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="dunif" class="idref" href="#dunif"><span class="id" title="definition">dunif</span></a> (<a id="N:1379" class="idref" href="#N:1379"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1379"><span class="id" title="variable">N</span></a>) := <a class="idref" href="tachis.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a><a class="idref" href="tachis.prob.distribution.html#N:1379"><span class="id" title="variable">N</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> =&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">N</span>; [<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_0"><span class="id" title="lemma">Rinv_0</span></a> //|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#INR"><span class="id" title="definition">INR</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">N</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#INR"><span class="id" title="definition">INR</span></a> (<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1)); [|<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#plus_INR"><span class="id" title="lemma">plus_INR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RiemannInt.html#RinvN_pos"><span class="id" title="lemma">RinvN_pos</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a> ?<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_0"><span class="id" title="lemma">Rinv_0</span></a> //. <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_finite_mass"><span class="id" title="lemma">SeriesC_finite_mass</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_card"><span class="id" title="lemma">fin_card</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_r"><span class="id" title="lemma">Rinv_r</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#not_0_INR"><span class="id" title="lemma">not_0_INR</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunif_pmf" class="idref" href="#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a> <a id="N:1380" class="idref" href="#N:1380"><span class="id" title="binder">N</span></a> (<a id="n:1381" class="idref" href="#n:1381"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1380"><span class="id" title="variable">N</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1380"><span class="id" title="variable">N</span></a> <a class="idref" href="tachis.prob.distribution.html#n:1381"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1380"><span class="id" title="variable">N</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunif_mass" class="idref" href="#dunif_mass"><span class="id" title="lemma">dunif_mass</span></a> (<a id="N:1382" class="idref" href="#N:1382"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="tachis.prob.distribution.html#N:1382"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> 0)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1382"><span class="id" title="variable">N</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> /= /<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_finite_mass"><span class="id" title="lemma">SeriesC_finite_mass</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_card"><span class="id" title="lemma">fin_card</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_r"><span class="id" title="lemma">Rinv_r</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#not_0_INR"><span class="id" title="lemma">not_0_INR</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_unif_zero" class="idref" href="#dmap_unif_zero"><span class="id" title="lemma">dmap_unif_zero</span></a> `{<a id="H:1385" class="idref" href="#H:1385"><span class="id" title="binder">Countable</span></a> <a id="A:1383" class="idref" href="#A:1383"><span class="id" title="binder"><span id="H:1385" class="id">A</span></span></a>} (<a id="N:1386" class="idref" href="#N:1386"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="f:1387" class="idref" href="#f:1387"><span class="id" title="binder">f</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1386"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#A:1383"><span class="id" title="variable">A</span></a>) (<a id="a:1388" class="idref" href="#a:1388"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:1383"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:1389" class="idref" href="#n:1389"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1387"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#n:1389"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1388"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1387"><span class="id" title="variable">f</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1386"><span class="id" title="variable">N</span></a>) <a class="idref" href="tachis.prob.distribution.html#a:1388"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_0"><span class="id" title="lemma">SeriesC_0</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_false_2"><span class="id" title="lemma">bool_decide_eq_false_2</span></a>; [<span class="id" title="var">lra</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dmap_unif_nonzero" class="idref" href="#dmap_unif_nonzero"><span class="id" title="lemma">dmap_unif_nonzero</span></a> `{<a id="H:1392" class="idref" href="#H:1392"><span class="id" title="binder">Countable</span></a> <a id="A:1390" class="idref" href="#A:1390"><span class="id" title="binder"><span id="H:1392" class="id">A</span></span></a>} (<a id="N:1393" class="idref" href="#N:1393"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="n:1394" class="idref" href="#n:1394"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1393"><span class="id" title="variable">N</span></a>) (<a id="f:1395" class="idref" href="#f:1395"><span class="id" title="binder">f</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1393"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#A:1390"><span class="id" title="variable">A</span></a>) (<a id="a:1396" class="idref" href="#a:1396"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.distribution.html#A:1390"><span class="id" title="variable">A</span></a>) `{<a id="H0:1397" class="idref" href="#H0:1397"><span class="id" title="binder">Inj</span></a> <a id="H0:1397" class="idref" href="#H0:1397"><span class="id" title="binder">(</span></a><a id="H0:1397" class="idref" href="#H0:1397"><span class="id" title="binder">fin</span></a> <a id="H0:1397" class="idref" href="#H0:1397"><span class="id" title="binder">N</span></a><a id="H0:1397" class="idref" href="#H0:1397"><span class="id" title="binder">)</span></a> <a id="H0:1397" class="idref" href="#H0:1397"><span class="id" title="binder">A</span></a> <a id="H0:1397" class="idref" href="#H0:1397"><span class="id" title="binder">(=)</span></a> <a id="H0:1397" class="idref" href="#H0:1397"><span class="id" title="binder">(=)</span></a> <a id="H0:1397" class="idref" href="#H0:1397"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#f:1395"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.distribution.html#n:1394"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#a:1396"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.distribution.html#f:1395"><span class="id" title="variable">f</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1393"><span class="id" title="variable">N</span></a>) <a class="idref" href="tachis.prob.distribution.html#a:1396"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a><a class="idref" href="tachis.prob.distribution.html#N:1393"><span class="id" title="variable">N</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:1398" class="idref" href="#n:1398"><span class="id" title="binder"><span id="n:1399" class="id"><span id="n:1400" class="id">n</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">f</span> <a class="idref" href="tachis.prob.distribution.html#n:1398"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a><span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> // <a class="idref" href="tachis.prob.distribution.html#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a>. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a> //. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton_inj"><span class="id" title="lemma">SeriesC_singleton_inj</span></a> //. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunif_fair_conv_comb" class="idref" href="#dunif_fair_conv_comb"><span class="id" title="lemma">dunif_fair_conv_comb</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#fair_conv_comb"><span class="id" title="definition">fair_conv_comb</span></a> (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> 1%<span class="id" title="var">fin</span>) (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> 0%<span class="id" title="var">fin</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a> <a class="idref" href="tachis.prob.distribution.html#fair_conv_comb_pmf"><span class="id" title="lemma">fair_conv_comb_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_fin</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a> // <a class="idref" href="tachis.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> //=. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>. <span class="id" title="var">inv_fin</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> // <a class="idref" href="tachis.prob.distribution.html#dret_0"><span class="id" title="lemma">dret_0</span></a> //=. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="var">inv_fin</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;To&nbsp;avoid&nbsp;the&nbsp;case&nbsp;<span class="inlinecode"><span class="id" title="var">N</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0</span>&nbsp;where&nbsp;<span class="inlinecode"><span class="id" title="var">dunif</span></span> <span class="inlinecode">0</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">dzero</span></span>&nbsp;it&nbsp;is&nbsp;convenient<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sometimes&nbsp;convenient&nbsp;to&nbsp;use&nbsp;<span class="inlinecode"><span class="id" title="var">N</span></span> <span class="inlinecode">+</span> <span class="inlinecode">1</span>&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="dunifP" class="idref" href="#dunifP"><span class="id" title="definition">dunifP</span></a> (<a id="N:1401" class="idref" href="#N:1401"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1401"><span class="id" title="variable">N</span></a>)) := <a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1401"><span class="id" title="variable">N</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunifP_pos" class="idref" href="#dunifP_pos"><span class="id" title="lemma">dunifP_pos</span></a> <a id="N:1402" class="idref" href="#N:1402"><span class="id" title="binder">N</span></a> <a id="n:1403" class="idref" href="#n:1403"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1402"><span class="id" title="variable">N</span></a> <a class="idref" href="tachis.prob.distribution.html#n:1403"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a> /=. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Reals_ext.html#RinvN_pos'"><span class="id" title="lemma">RinvN_pos'</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunifP_mass" class="idref" href="#dunifP_mass"><span class="id" title="lemma">dunifP_mass</span></a> <a id="N:1404" class="idref" href="#N:1404"><span class="id" title="binder">N</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1404"><span class="id" title="variable">N</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dunif_mass"><span class="id" title="lemma">dunif_mass</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunifP_not_dzero" class="idref" href="#dunifP_not_dzero"><span class="id" title="lemma">dunifP_not_dzero</span></a> <a id="N:1405" class="idref" href="#N:1405"><span class="id" title="binder">N</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1405"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hunif</span> : <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <span class="id" title="var">N</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hf</span> <a class="idref" href="tachis.prob.distribution.html#dzero_mass"><span class="id" title="lemma">dzero_mass</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dunifP_mass"><span class="id" title="lemma">dunifP_mass</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunif</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#uniform"><span class="id" title="section">uniform</span></a>.<br/>

<br/>
</div>

<div class="doc">
Uniform lists 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="uniform_lists" class="idref" href="#uniform_lists"><span class="id" title="section">uniform_lists</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="dunifv" class="idref" href="#dunifv"><span class="id" title="definition">dunifv</span></a> (<a id="N:1406" class="idref" href="#N:1406"><span class="id" title="binder">N</span></a> <a id="p:1407" class="idref" href="#p:1407"><span class="id" title="binder">p</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>): <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1406"><span class="id" title="variable">N</span></a>))) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#MkDistr"><span class="id" title="constructor">MkDistr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:1408" class="idref" href="#x:1408"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="tachis.prob.distribution.html#x:1408"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#p:1407"><span class="id" title="variable">p</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a>(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1406"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a><a class="idref" href="tachis.prob.distribution.html#p:1407"><span class="id" title="variable">p</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_1_l"><span class="id" title="lemma">Rdiv_1_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rdiv_le_0_compat"><span class="id" title="lemma">Rdiv_le_0_compat</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> 0 <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#INR"><span class="id" title="definition">INR</span></a> 0) <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#lt_INR"><span class="id" title="lemma">lt_INR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_le_trans"><span class="id" title="lemma">PeanoNat.Nat.lt_le_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> 0)%<span class="id" title="var">nat</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.pow_le_mono_r"><span class="id" title="lemma">Nat.pow_le_mono_r</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_ext"><span class="id" title="lemma">ex_seriesC_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_list"><span class="id" title="lemma">ex_seriesC_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">erewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_ext"><span class="id" title="lemma">bool_decide_ext</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prelude.uniform_list.html#elem_of_enum_uniform_list"><span class="id" title="lemma">elem_of_enum_uniform_list</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">N</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_list_2"><span class="id" title="lemma">SeriesC_list_2</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.uniform_list.html#NoDup_enum_uniform_list"><span class="id" title="lemma">NoDup_enum_uniform_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prelude.uniform_list.html#enum_uniform_list_length"><span class="id" title="lemma">enum_uniform_list_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rinv_l"><span class="id" title="lemma">Rinv_l</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#not_0_INR"><span class="id" title="lemma">not_0_INR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.pow_nonzero"><span class="id" title="lemma">Nat.pow_nonzero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">erewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_ext"><span class="id" title="lemma">bool_decide_ext</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prelude.uniform_list.html#elem_of_enum_uniform_list"><span class="id" title="lemma">elem_of_enum_uniform_list</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunifv_pmf" class="idref" href="#dunifv_pmf"><span class="id" title="lemma">dunifv_pmf</span></a> <a id="N:1409" class="idref" href="#N:1409"><span class="id" title="binder">N</span></a> <a id="p:1410" class="idref" href="#p:1410"><span class="id" title="binder">p</span></a> <a id="v:1411" class="idref" href="#v:1411"><span class="id" title="binder">v</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dunifv"><span class="id" title="definition">dunifv</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1409"><span class="id" title="variable">N</span></a> <a class="idref" href="tachis.prob.distribution.html#p:1410"><span class="id" title="variable">p</span></a> <a class="idref" href="tachis.prob.distribution.html#v:1411"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="tachis.prob.distribution.html#v:1411"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#p:1410"><span class="id" title="variable">p</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1409"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a><a class="idref" href="tachis.prob.distribution.html#p:1410"><span class="id" title="variable">p</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunifv_mass" class="idref" href="#dunifv_mass"><span class="id" title="lemma">dunifv_mass</span></a> <a id="N:1412" class="idref" href="#N:1412"><span class="id" title="binder">N</span></a> <a id="p:1413" class="idref" href="#p:1413"><span class="id" title="binder">p</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunifv"><span class="id" title="definition">dunifv</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1412"><span class="id" title="variable">N</span></a> <a class="idref" href="tachis.prob.distribution.html#p:1413"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_list_2"><span class="id" title="lemma">SeriesC_list_2</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.uniform_list.html#NoDup_enum_uniform_list"><span class="id" title="lemma">NoDup_enum_uniform_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prelude.uniform_list.html#enum_uniform_list_length"><span class="id" title="lemma">enum_uniform_list_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rinv_l"><span class="id" title="lemma">Rinv_l</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#not_0_INR"><span class="id" title="lemma">not_0_INR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.pow_nonzero"><span class="id" title="lemma">Nat.pow_nonzero</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#dunifv_pmf"><span class="id" title="lemma">dunifv_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_ext"><span class="id" title="lemma">bool_decide_ext</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> <a class="idref" href="tachis.prelude.uniform_list.html#elem_of_enum_uniform_list"><span class="id" title="lemma">elem_of_enum_uniform_list</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dunifv_pos" class="idref" href="#dunifv_pos"><span class="id" title="lemma">dunifv_pos</span></a> <a id="N:1414" class="idref" href="#N:1414"><span class="id" title="binder">N</span></a> <a id="p:1415" class="idref" href="#p:1415"><span class="id" title="binder">p</span></a> <a id="v:1416" class="idref" href="#v:1416"><span class="id" title="binder">v</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="tachis.prob.distribution.html#v:1416"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#p:1415"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dunifv"><span class="id" title="definition">dunifv</span></a> <a class="idref" href="tachis.prob.distribution.html#N:1414"><span class="id" title="variable">N</span></a> <a class="idref" href="tachis.prob.distribution.html#p:1415"><span class="id" title="variable">p</span></a> <a class="idref" href="tachis.prob.distribution.html#v:1416"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dunifv_pmf"><span class="id" title="lemma">dunifv_pmf</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_true_2"><span class="id" title="lemma">bool_decide_eq_true_2</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_pos"><span class="id" title="lemma">Rinv_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_gt"><span class="id" title="lemma">Rlt_gt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#lt_0_INR"><span class="id" title="lemma">lt_0_INR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_le_trans"><span class="id" title="lemma">PeanoNat.Nat.lt_le_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> 0)%<span class="id" title="var">nat</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.pow_le_mono_r"><span class="id" title="lemma">Nat.pow_le_mono_r</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#dunifv"><span class="id" title="definition">dunifv</span></a>/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.distribution.html#uniform_lists"><span class="id" title="section">uniform_lists</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_distr</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.(<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.distribution.html#dzero_supp_empty"><span class="id" title="lemma">dzero_supp_empty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">_</span>).(<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dret_pos"><span class="id" title="lemma">dret_pos</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">simplify_eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).(<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dbind_pos"><span class="id" title="lemma">dbind_pos</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : (<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).(<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dmap_pos"><span class="id" title="lemma">dmap_pos</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?); <span class="id" title="var">simplify_eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_distr</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">_</span>).(<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a> //; <span class="id" title="var">lra</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> ?<span class="id" title="var">x</span>).(<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) ?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 =&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).(<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dbind_pos"><span class="id" title="lemma">dbind_pos</span></a>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- (<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).(<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dmap_pos"><span class="id" title="lemma">dmap_pos</span></a>; <span class="id" title="tactic">eexists</span>; (<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span>|]); <span class="id" title="tactic">try</span> <span class="id" title="var">done</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- (<a class="idref" href="tachis.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <span class="id" title="var">_</span>).(<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dunifP_pos"><span class="id" title="lemma">dunifP_pos</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_distr_mass</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">_</span>).(<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> //<br/>
&nbsp;&nbsp;| |- <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">_</span>).(<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dret_mass"><span class="id" title="lemma">dret_mass</span></a>; <span class="id" title="var">lra</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).(<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dmap_mass"><span class="id" title="lemma">dmap_mass</span></a> //<br/>
&nbsp;&nbsp;| |- <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">_</span>).(<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dunif_mass"><span class="id" title="lemma">dunif_mass</span></a> //<br/>
&nbsp;&nbsp;| |- <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <span class="id" title="var">_</span>).(<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dunifP_mass"><span class="id" title="lemma">dunifP_mass</span></a> //<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> .<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_dzero</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dret_not_dzero"><span class="id" title="lemma">dret_not_dzero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dmap_dzero_inv"><span class="id" title="lemma">dmap_dzero_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="tachis.prob.distribution.html#dunifP"><span class="id" title="definition">dunifP</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dunifP_not_dzero"><span class="id" title="lemma">dunifP_not_dzero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
