<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/logsem/clutch">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">tachis.common.ectx_language</h1>

<div class="code">
</div>

<div class="doc">
An axiomatization of evaluation-context based languages, including a proof
    that this gives rise to a "language" in our sense. 
</div>
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Reals.html#"><span class="id" title="library">Reals</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.micromega.Psatz.html#"><span class="id" title="library">Psatz</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.prelude</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.prelude.prelude.html#"><span class="id" title="library">prelude</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">tachis.common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="tachis.common.language.html#"><span class="id" title="library">language</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">tachis.prob</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="tachis.prob.distribution.html#"><span class="id" title="library">distribution</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="ectx_language_mixin" class="idref" href="#ectx_language_mixin"><span class="id" title="section">ectx_language_mixin</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="expr:1" class="idref" href="#expr:1"><span class="id" title="binder">expr</span></a> <a id="val:2" class="idref" href="#val:2"><span class="id" title="binder">val</span></a> <a id="ectx:3" class="idref" href="#ectx:3"><span class="id" title="binder">ectx</span></a> <a id="state:4" class="idref" href="#state:4"><span class="id" title="binder">state</span></a> <a id="state_idx:5" class="idref" href="#state_idx:5"><span class="id" title="binder">state_idx</span></a> : <span class="id" title="keyword">Type</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:7" class="idref" href="#H:7"><span class="id" title="binder">Countable</span></a> <a id="H:7" class="idref" href="#H:7"><span class="id" title="binder">expr</span></a>, <a id="H0:9" class="idref" href="#H0:9"><span class="id" title="binder">Countable</span></a> <a id="H0:9" class="idref" href="#H0:9"><span class="id" title="binder">val</span></a>, <a id="H1:11" class="idref" href="#H1:11"><span class="id" title="binder">Countable</span></a> <a id="H1:11" class="idref" href="#H1:11"><span class="id" title="binder">state</span></a>, <a id="H2:13" class="idref" href="#H2:13"><span class="id" title="binder">Countable</span></a> <a id="H2:13" class="idref" href="#H2:13"><span class="id" title="binder">state_idx</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="of_val:14" class="idref" href="#of_val:14"><span class="id" title="binder">of_val</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.val"><span class="id" title="variable">val</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.expr"><span class="id" title="variable">expr</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="to_val:15" class="idref" href="#to_val:15"><span class="id" title="binder">to_val</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.expr"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.val"><span class="id" title="variable">val</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="empty_ectx:16" class="idref" href="#empty_ectx:16"><span class="id" title="binder">empty_ectx</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.ectx"><span class="id" title="variable">ectx</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="comp_ectx:17" class="idref" href="#comp_ectx:17"><span class="id" title="binder">comp_ectx</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.ectx"><span class="id" title="variable">ectx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.ectx"><span class="id" title="variable">ectx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.ectx"><span class="id" title="variable">ectx</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="fill:18" class="idref" href="#fill:18"><span class="id" title="binder">fill</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.ectx"><span class="id" title="variable">ectx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.expr"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.expr"><span class="id" title="variable">expr</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="decomp:19" class="idref" href="#decomp:19"><span class="id" title="binder">decomp</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.expr"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.ectx"><span class="id" title="variable">ectx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.expr"><span class="id" title="variable">expr</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="head_step:20" class="idref" href="#head_step:20"><span class="id" title="binder">head_step</span></a>  : <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.expr"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.state"><span class="id" title="variable">state</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.expr"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.state"><span class="id" title="variable">state</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="state_step:21" class="idref" href="#state_step:21"><span class="id" title="binder">state_step</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.state"><span class="id" title="variable">state</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.state_idx"><span class="id" title="variable">state_idx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.state"><span class="id" title="variable">state</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="get_active:22" class="idref" href="#get_active:22"><span class="id" title="binder">get_active</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.state"><span class="id" title="variable">state</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.state_idx"><span class="id" title="variable">state_idx</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="EctxLanguageMixin" class="idref" href="#EctxLanguageMixin"><span class="id" title="record">EctxLanguageMixin</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_to_of_val" class="idref" href="#mixin_to_of_val"><span class="id" title="projection">mixin_to_of_val</span></a> <a id="v:24" class="idref" href="#v:24"><span class="id" title="binder">v</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.to_val"><span class="id" title="variable">to_val</span></a> (<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.of_val"><span class="id" title="variable">of_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#v:24"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="tachis.common.ectx_language.html#v:24"><span class="id" title="variable">v</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_of_to_val" class="idref" href="#mixin_of_to_val"><span class="id" title="projection">mixin_of_to_val</span></a> <a id="e:26" class="idref" href="#e:26"><span class="id" title="binder">e</span></a> <a id="v:27" class="idref" href="#v:27"><span class="id" title="binder">v</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.to_val"><span class="id" title="variable">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:26"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="tachis.common.ectx_language.html#v:27"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.of_val"><span class="id" title="variable">of_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#v:27"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:26"><span class="id" title="variable">e</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_val_head_stuck" class="idref" href="#mixin_val_head_stuck"><span class="id" title="projection">mixin_val_head_stuck</span></a> <a id="e1:29" class="idref" href="#e1:29"><span class="id" title="binder">e1</span></a> <a id="d766e808e96efa501fbb3bbfbafc9ee1" class="idref" href="#d766e808e96efa501fbb3bbfbafc9ee1"><span class="id" title="binder">σ1</span></a> <a id="21a5a9d1bb42088c35cd2f336d25ba3b" class="idref" href="#21a5a9d1bb42088c35cd2f336d25ba3b"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.head_step"><span class="id" title="variable">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:29"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#d766e808e96efa501fbb3bbfbafc9ee1"><span class="id" title="variable">σ1</span></a> <a class="idref" href="tachis.common.ectx_language.html#21a5a9d1bb42088c35cd2f336d25ba3b"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.to_val"><span class="id" title="variable">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:29"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_state_step_head_not_stuck" class="idref" href="#mixin_state_step_head_not_stuck"><span class="id" title="projection">mixin_state_step_head_not_stuck</span></a> <a id="e:33" class="idref" href="#e:33"><span class="id" title="binder">e</span></a> <a id="e05d27d7d3ee8f8203c6aec5c67d6b2f" class="idref" href="#e05d27d7d3ee8f8203c6aec5c67d6b2f"><span class="id" title="binder">σ</span></a> <a id="4822c20dbf28dcc8e4506642c17e147f" class="idref" href="#4822c20dbf28dcc8e4506642c17e147f"><span class="id" title="binder">σ'</span></a> <a id="597c28fd2b0c7d7a6dc5faaa5f709cd8" class="idref" href="#597c28fd2b0c7d7a6dc5faaa5f709cd8"><span class="id" title="binder">α</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.state_step"><span class="id" title="variable">state_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e05d27d7d3ee8f8203c6aec5c67d6b2f"><span class="id" title="variable">σ</span></a> <a class="idref" href="tachis.common.ectx_language.html#597c28fd2b0c7d7a6dc5faaa5f709cd8"><span class="id" title="variable">α</span></a> <a class="idref" href="tachis.common.ectx_language.html#4822c20dbf28dcc8e4506642c17e147f"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="ad50ed91fe473102083104433fa7a2bc" class="idref" href="#ad50ed91fe473102083104433fa7a2bc"><span class="id" title="binder">ρ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.head_step"><span class="id" title="variable">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:33"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#e05d27d7d3ee8f8203c6aec5c67d6b2f"><span class="id" title="variable">σ</span></a> <a class="idref" href="tachis.common.ectx_language.html#ad50ed91fe473102083104433fa7a2bc"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="962d228c8e8b75013974257d3f71e9e9" class="idref" href="#962d228c8e8b75013974257d3f71e9e9"><span class="id" title="binder">ρ'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.head_step"><span class="id" title="variable">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:33"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#4822c20dbf28dcc8e4506642c17e147f"><span class="id" title="variable">σ'</span></a> <a class="idref" href="tachis.common.ectx_language.html#962d228c8e8b75013974257d3f71e9e9"><span class="id" title="variable">ρ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">)</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_state_step_mass" class="idref" href="#mixin_state_step_mass"><span class="id" title="projection">mixin_state_step_mass</span></a> <a id="8e75f09b8bdf2cf51669c3cfbb551722" class="idref" href="#8e75f09b8bdf2cf51669c3cfbb551722"><span class="id" title="binder">σ</span></a> <a id="81205a75b58ce446ffd35519ea236179" class="idref" href="#81205a75b58ce446ffd35519ea236179"><span class="id" title="binder">α</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#81205a75b58ce446ffd35519ea236179"><span class="id" title="variable">α</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.get_active"><span class="id" title="variable">get_active</span></a> <a class="idref" href="tachis.common.ectx_language.html#8e75f09b8bdf2cf51669c3cfbb551722"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.state_step"><span class="id" title="variable">state_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#8e75f09b8bdf2cf51669c3cfbb551722"><span class="id" title="variable">σ</span></a> <a class="idref" href="tachis.common.ectx_language.html#81205a75b58ce446ffd35519ea236179"><span class="id" title="variable">α</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_head_step_mass" class="idref" href="#mixin_head_step_mass"><span class="id" title="projection">mixin_head_step_mass</span></a> <a id="e:43" class="idref" href="#e:43"><span class="id" title="binder">e</span></a> <a id="3b2ad139708e05f42dd73db16efefbb8" class="idref" href="#3b2ad139708e05f42dd73db16efefbb8"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="67f3a7da2c49974781df82d45ce07ab1" class="idref" href="#67f3a7da2c49974781df82d45ce07ab1"><span class="id" title="binder">ρ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.head_step"><span class="id" title="variable">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:43"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#3b2ad139708e05f42dd73db16efefbb8"><span class="id" title="variable">σ</span></a> <a class="idref" href="tachis.common.ectx_language.html#67f3a7da2c49974781df82d45ce07ab1"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.head_step"><span class="id" title="variable">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:43"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#3b2ad139708e05f42dd73db16efefbb8"><span class="id" title="variable">σ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_fill_empty" class="idref" href="#mixin_fill_empty"><span class="id" title="projection">mixin_fill_empty</span></a> <a id="e:47" class="idref" href="#e:47"><span class="id" title="binder">e</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.fill"><span class="id" title="variable">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.empty_ectx"><span class="id" title="variable">empty_ectx</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:47"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:47"><span class="id" title="variable">e</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_fill_comp" class="idref" href="#mixin_fill_comp"><span class="id" title="projection">mixin_fill_comp</span></a> <a id="K1:49" class="idref" href="#K1:49"><span class="id" title="binder">K1</span></a> <a id="K2:50" class="idref" href="#K2:50"><span class="id" title="binder">K2</span></a> <a id="e:51" class="idref" href="#e:51"><span class="id" title="binder">e</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.fill"><span class="id" title="variable">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K1:49"><span class="id" title="variable">K1</span></a> (<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.fill"><span class="id" title="variable">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K2:50"><span class="id" title="variable">K2</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:51"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.fill"><span class="id" title="variable">fill</span></a> (<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.comp_ectx"><span class="id" title="variable">comp_ectx</span></a> <a class="idref" href="tachis.common.ectx_language.html#K1:49"><span class="id" title="variable">K1</span></a> <a class="idref" href="tachis.common.ectx_language.html#K2:50"><span class="id" title="variable">K2</span></a>) <a class="idref" href="tachis.common.ectx_language.html#e:51"><span class="id" title="variable">e</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_fill_inj" class="idref" href="#mixin_fill_inj"><span class="id" title="projection">mixin_fill_inj</span></a> <a id="K:53" class="idref" href="#K:53"><span class="id" title="binder">K</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.fill"><span class="id" title="variable">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:53"><span class="id" title="variable">K</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_fill_val" class="idref" href="#mixin_fill_val"><span class="id" title="projection">mixin_fill_val</span></a> <a id="K:55" class="idref" href="#K:55"><span class="id" title="binder">K</span></a> <a id="e:56" class="idref" href="#e:56"><span class="id" title="binder">e</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.to_val"><span class="id" title="variable">to_val</span></a> (<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.fill"><span class="id" title="variable">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:55"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:56"><span class="id" title="variable">e</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.to_val"><span class="id" title="variable">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:56"><span class="id" title="variable">e</span></a>);<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="tachis.common.ectx_language.html#decomp"><span class="id" title="projection">decomp</span></a></span> decomposes an expression into an evaluation context and its head redex  
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_decomp_fill" class="idref" href="#mixin_decomp_fill"><span class="id" title="projection">mixin_decomp_fill</span></a> <a id="K:58" class="idref" href="#K:58"><span class="id" title="binder">K</span></a> <a id="e:59" class="idref" href="#e:59"><span class="id" title="binder">e</span></a> <a id="e':60" class="idref" href="#e':60"><span class="id" title="binder">e'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.decomp"><span class="id" title="variable">decomp</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:59"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#K:58"><span class="id" title="variable">K</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#e':60"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.fill"><span class="id" title="variable">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:58"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e':60"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:59"><span class="id" title="variable">e</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_decomp_val_empty" class="idref" href="#mixin_decomp_val_empty"><span class="id" title="projection">mixin_decomp_val_empty</span></a> <a id="K:62" class="idref" href="#K:62"><span class="id" title="binder">K</span></a> <a id="e:63" class="idref" href="#e:63"><span class="id" title="binder">e</span></a> <a id="e':64" class="idref" href="#e':64"><span class="id" title="binder">e'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.decomp"><span class="id" title="variable">decomp</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:63"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#K:62"><span class="id" title="variable">K</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#e':64"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.to_val"><span class="id" title="variable">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#e':64"><span class="id" title="variable">e'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:62"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.empty_ectx"><span class="id" title="variable">empty_ectx</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_decomp_fill_comp" class="idref" href="#mixin_decomp_fill_comp"><span class="id" title="projection">mixin_decomp_fill_comp</span></a> <a id="e:66" class="idref" href="#e:66"><span class="id" title="binder">e</span></a> <a id="e':67" class="idref" href="#e':67"><span class="id" title="binder">e'</span></a> <a id="K:68" class="idref" href="#K:68"><span class="id" title="binder">K</span></a> <a id="K':69" class="idref" href="#K':69"><span class="id" title="binder">K'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.to_val"><span class="id" title="variable">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:66"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.decomp"><span class="id" title="variable">decomp</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:66"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#K':69"><span class="id" title="variable">K'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#e':67"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.decomp"><span class="id" title="variable">decomp</span></a> (<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.fill"><span class="id" title="variable">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:68"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:66"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.comp_ectx"><span class="id" title="variable">comp_ectx</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:68"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#K':69"><span class="id" title="variable">K'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#e':67"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Given a head redex <span class="inlinecode"><span class="id" title="var">e1_redex</span></span> somewhere in a term, and another
        decomposition of the same term into <span class="inlinecode"><a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a></span> <span class="inlinecode"><span class="id" title="var">K'</span></span> <span class="inlinecode"><span class="id" title="var">e1'</span></span> such that <span class="inlinecode"><span class="id" title="var">e1'</span></span> is
        not a value, then the head redex context is <span class="inlinecode"><span class="id" title="var">e1'</span></span>'s context <span class="inlinecode"><span class="id" title="var">K'</span></span>
        filled with another context <span class="inlinecode"><span class="id" title="var">K''</span></span>.  In particular, this implies <span class="inlinecode"><span class="id" title="var">e1</span></span> <span class="inlinecode">=</span>
        <span class="inlinecode"><a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a></span> <span class="inlinecode"><span class="id" title="var">K''</span></span> <span class="inlinecode"><span class="id" title="var">e1_redex</span></span> by <span class="inlinecode"><a class="idref" href="tachis.common.language.html#fill_inj"><span class="id" title="projection">fill_inj</span></a></span>, i.e., <span class="inlinecode"><span class="id" title="var">e1</span></span>' contains the head redex.

<div class="paragraph"> </div>

        This implies there can be only one head redex, see
        <span class="inlinecode"><a class="idref" href="tachis.common.ectx_language.html#head_redex_unique"><span class="id" title="lemma">head_redex_unique</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_step_by_val" class="idref" href="#mixin_step_by_val"><span class="id" title="projection">mixin_step_by_val</span></a> <a id="K':71" class="idref" href="#K':71"><span class="id" title="binder">K'</span></a> <a id="K_redex:72" class="idref" href="#K_redex:72"><span class="id" title="binder">K_redex</span></a> <a id="e1':73" class="idref" href="#e1':73"><span class="id" title="binder">e1'</span></a> <a id="e1_redex:74" class="idref" href="#e1_redex:74"><span class="id" title="binder">e1_redex</span></a> <a id="a62fcfe5ac50110ade04204da3e32f62" class="idref" href="#a62fcfe5ac50110ade04204da3e32f62"><span class="id" title="binder">σ1</span></a> <a id="a284fba85b5a022eb72857092acb932e" class="idref" href="#a284fba85b5a022eb72857092acb932e"><span class="id" title="binder">ρ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.fill"><span class="id" title="variable">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K':71"><span class="id" title="variable">K'</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1':73"><span class="id" title="variable">e1'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.fill"><span class="id" title="variable">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K_redex:72"><span class="id" title="variable">K_redex</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1_redex:74"><span class="id" title="variable">e1_redex</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.to_val"><span class="id" title="variable">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1':73"><span class="id" title="variable">e1'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.head_step"><span class="id" title="variable">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1_redex:74"><span class="id" title="variable">e1_redex</span></a> <a class="idref" href="tachis.common.ectx_language.html#a62fcfe5ac50110ade04204da3e32f62"><span class="id" title="variable">σ1</span></a> <a class="idref" href="tachis.common.ectx_language.html#a284fba85b5a022eb72857092acb932e"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="K'':77" class="idref" href="#K'':77"><span class="id" title="binder">K''</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#K_redex:72"><span class="id" title="variable">K_redex</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.comp_ectx"><span class="id" title="variable">comp_ectx</span></a> <a class="idref" href="tachis.common.ectx_language.html#K':71"><span class="id" title="variable">K'</span></a> <a class="idref" href="tachis.common.ectx_language.html#K'':77"><span class="id" title="variable">K''</span></a>;<br/>
<br/>
&nbsp;&nbsp;</div>

<div class="doc">
If <span class="inlinecode"><a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a></span> <span class="inlinecode"><span class="id" title="var">K</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span> takes a head step, then either <span class="inlinecode"><span class="id" title="var">e</span></span> is a value or <span class="inlinecode"><span class="id" title="var">K</span></span> is
      the empty evaluation context. In other words, if <span class="inlinecode"><span class="id" title="var">e</span></span> is not a value
      wrapping it in a context does not add new head redex positions. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mixin_head_ctx_step_val" class="idref" href="#mixin_head_ctx_step_val"><span class="id" title="projection">mixin_head_ctx_step_val</span></a> <a id="K:79" class="idref" href="#K:79"><span class="id" title="binder">K</span></a> <a id="e:80" class="idref" href="#e:80"><span class="id" title="binder">e</span></a> <a id="cf8e19d1b37ceca068b0f8c781917a2c" class="idref" href="#cf8e19d1b37ceca068b0f8c781917a2c"><span class="id" title="binder">σ1</span></a> <a id="9c4c82194c8e2e1b264881090c5e8494" class="idref" href="#9c4c82194c8e2e1b264881090c5e8494"><span class="id" title="binder">ρ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.head_step"><span class="id" title="variable">head_step</span></a> (<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.fill"><span class="id" title="variable">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:79"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:80"><span class="id" title="variable">e</span></a>) <a class="idref" href="tachis.common.ectx_language.html#cf8e19d1b37ceca068b0f8c781917a2c"><span class="id" title="variable">σ1</span></a> <a class="idref" href="tachis.common.ectx_language.html#9c4c82194c8e2e1b264881090c5e8494"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.to_val"><span class="id" title="variable">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:80"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:79"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin.empty_ectx"><span class="id" title="variable">empty_ectx</span></a>;<br/>
<br/>
&nbsp;&nbsp;}.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin"><span class="id" title="section">ectx_language_mixin</span></a>.<br/>

<br/>
<span class="id" title="keyword">Structure</span> <a id="ectxLanguage" class="idref" href="#ectxLanguage"><span class="id" title="record">ectxLanguage</span></a> := <span class="id" title="var">EctxLanguage</span> {<br/>
&nbsp;&nbsp;<a id="expr" class="idref" href="#expr"><span class="id" title="projection">expr</span></a> : <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;<a id="val" class="idref" href="#val"><span class="id" title="projection">val</span></a> : <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;<a id="ectx" class="idref" href="#ectx"><span class="id" title="projection">ectx</span></a> : <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;<a id="state" class="idref" href="#state"><span class="id" title="projection">state</span></a> : <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;<a id="state_idx" class="idref" href="#state_idx"><span class="id" title="projection">state_idx</span></a> : <span class="id" title="keyword">Type</span>;<br/>
<br/>
&nbsp;&nbsp;<a id="expr_eqdec" class="idref" href="#expr_eqdec"><span class="id" title="projection">expr_eqdec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="tachis.common.ectx_language.html#expr:85"><span class="id" title="method">expr</span></a>;<br/>
&nbsp;&nbsp;<a id="val_eqdec" class="idref" href="#val_eqdec"><span class="id" title="projection">val_eqdec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="tachis.common.ectx_language.html#val:86"><span class="id" title="method">val</span></a>;<br/>
&nbsp;&nbsp;<a id="state_eqdec" class="idref" href="#state_eqdec"><span class="id" title="projection">state_eqdec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="tachis.common.ectx_language.html#state:88"><span class="id" title="method">state</span></a>;<br/>
&nbsp;&nbsp;<a id="state_idx_eqdec" class="idref" href="#state_idx_eqdec"><span class="id" title="projection">state_idx_eqdec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="tachis.common.ectx_language.html#state_idx:89"><span class="id" title="method">state_idx</span></a>;<br/>
&nbsp;&nbsp;<a id="expr_countable" class="idref" href="#expr_countable"><span class="id" title="projection">expr_countable</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="tachis.common.ectx_language.html#expr:85"><span class="id" title="method">expr</span></a>;<br/>
&nbsp;&nbsp;<a id="val_countable" class="idref" href="#val_countable"><span class="id" title="projection">val_countable</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="tachis.common.ectx_language.html#val:86"><span class="id" title="method">val</span></a>;<br/>
&nbsp;&nbsp;<a id="state_countable" class="idref" href="#state_countable"><span class="id" title="projection">state_countable</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="tachis.common.ectx_language.html#state:88"><span class="id" title="method">state</span></a>;<br/>
&nbsp;&nbsp;<a id="state_idx_countable" class="idref" href="#state_idx_countable"><span class="id" title="projection">state_idx_countable</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="tachis.common.ectx_language.html#state_idx:89"><span class="id" title="method">state_idx</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="of_val" class="idref" href="#of_val"><span class="id" title="projection">of_val</span></a> : <a class="idref" href="tachis.common.ectx_language.html#val:86"><span class="id" title="method">val</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#expr:85"><span class="id" title="method">expr</span></a>;<br/>
&nbsp;&nbsp;<a id="to_val" class="idref" href="#to_val"><span class="id" title="projection">to_val</span></a> : <a class="idref" href="tachis.common.ectx_language.html#expr:85"><span class="id" title="method">expr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="tachis.common.ectx_language.html#val:86"><span class="id" title="method">val</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="empty_ectx" class="idref" href="#empty_ectx"><span class="id" title="projection">empty_ectx</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectx:87"><span class="id" title="method">ectx</span></a>;<br/>
&nbsp;&nbsp;<a id="comp_ectx" class="idref" href="#comp_ectx"><span class="id" title="projection">comp_ectx</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectx:87"><span class="id" title="method">ectx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx:87"><span class="id" title="method">ectx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx:87"><span class="id" title="method">ectx</span></a>;<br/>
&nbsp;&nbsp;<a id="fill" class="idref" href="#fill"><span class="id" title="projection">fill</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectx:87"><span class="id" title="method">ectx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#expr:85"><span class="id" title="method">expr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#expr:85"><span class="id" title="method">expr</span></a>;<br/>
&nbsp;&nbsp;<a id="decomp" class="idref" href="#decomp"><span class="id" title="projection">decomp</span></a> : <a class="idref" href="tachis.common.ectx_language.html#expr:85"><span class="id" title="method">expr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx:87"><span class="id" title="method">ectx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.common.ectx_language.html#expr:85"><span class="id" title="method">expr</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="head_step" class="idref" href="#head_step"><span class="id" title="projection">head_step</span></a> : <a class="idref" href="tachis.common.ectx_language.html#expr:85"><span class="id" title="method">expr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#state:88"><span class="id" title="method">state</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.common.ectx_language.html#expr:85"><span class="id" title="method">expr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.common.ectx_language.html#state:88"><span class="id" title="method">state</span></a>);<br/>
&nbsp;&nbsp;<a id="state_step" class="idref" href="#state_step"><span class="id" title="projection">state_step</span></a> : <a class="idref" href="tachis.common.ectx_language.html#state:88"><span class="id" title="method">state</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#state_idx:89"><span class="id" title="method">state_idx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.common.ectx_language.html#state:88"><span class="id" title="method">state</span></a>;<br/>
&nbsp;&nbsp;<a id="get_active" class="idref" href="#get_active"><span class="id" title="projection">get_active</span></a> : <a class="idref" href="tachis.common.ectx_language.html#state:88"><span class="id" title="method">state</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="tachis.common.ectx_language.html#state_idx:89"><span class="id" title="method">state_idx</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="ectx_language_mixin" class="idref" href="#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#EctxLanguageMixin"><span class="id" title="record">EctxLanguageMixin</span></a> <a class="idref" href="tachis.common.ectx_language.html#of_val:98"><span class="id" title="method">of_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#to_val:99"><span class="id" title="method">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#empty_ectx:100"><span class="id" title="method">empty_ectx</span></a> <a class="idref" href="tachis.common.ectx_language.html#comp_ectx:101"><span class="id" title="method">comp_ectx</span></a> <a class="idref" href="tachis.common.ectx_language.html#fill:102"><span class="id" title="method">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#decomp:103"><span class="id" title="method">decomp</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#head_step:104"><span class="id" title="method">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#state_step:105"><span class="id" title="method">state_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#get_active:106"><span class="id" title="method">get_active</span></a><br/>
}.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="tachis.common.ectx_language.html#expr_eqdec"><span class="id" title="projection">expr_eqdec</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="tachis.common.ectx_language.html#val_eqdec"><span class="id" title="projection">val_eqdec</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="tachis.common.ectx_language.html#state_eqdec"><span class="id" title="projection">state_eqdec</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="tachis.common.ectx_language.html#state_idx_eqdec"><span class="id" title="projection">state_idx_eqdec</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="tachis.common.ectx_language.html#expr_countable"><span class="id" title="projection">expr_countable</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="tachis.common.ectx_language.html#val_countable"><span class="id" title="projection">val_countable</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="tachis.common.ectx_language.html#state_countable"><span class="id" title="projection">state_countable</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="tachis.common.ectx_language.html#state_idx_countable"><span class="id" title="projection">state_idx_countable</span></a>.<br/>

<br/>
<span class="id" title="keyword">Bind Scope</span> <span class="id" title="var">expr_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">expr</span>.<br/>
<span class="id" title="keyword">Bind Scope</span> <span class="id" title="var">val_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">val</span>.<br/>

<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="tachis.common.ectx_language.html#EctxLanguage"><span class="id" title="constructor">EctxLanguage</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="tachis.common.ectx_language.html#of_val"><span class="id" title="projection">of_val</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="tachis.common.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="tachis.common.ectx_language.html#empty_ectx"><span class="id" title="projection">empty_ectx</span></a> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="tachis.common.ectx_language.html#comp_ectx"><span class="id" title="projection">comp_ectx</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="tachis.common.ectx_language.html#decomp"><span class="id" title="projection">decomp</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="tachis.common.ectx_language.html#state_step"><span class="id" title="projection">state_step</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="tachis.common.ectx_language.html#get_active"><span class="id" title="projection">get_active</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>

<br/>
<span class="comment">(*&nbsp;From&nbsp;an&nbsp;ectx_language,&nbsp;we&nbsp;can&nbsp;construct&nbsp;a&nbsp;language.&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <a id="ectx_language" class="idref" href="#ectx_language"><span class="id" title="section">ectx_language</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="3ae38760cf2f9cc998dd5fb2ce75e260" class="idref" href="#3ae38760cf2f9cc998dd5fb2ce75e260"><span class="id" title="binder">Λ</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectxLanguage"><span class="id" title="record">ectxLanguage</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">v</span> : <a class="idref" href="tachis.common.ectx_language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">e</span> : <a class="idref" href="tachis.common.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">K</span> : <a class="idref" href="tachis.common.ectx_language.html#ectx"><span class="id" title="projection">ectx</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Only&nbsp;project&nbsp;stuff&nbsp;out&nbsp;of&nbsp;the&nbsp;mixin&nbsp;that&nbsp;is&nbsp;not&nbsp;also&nbsp;in&nbsp;language&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="val_head_stuck" class="idref" href="#val_head_stuck"><span class="id" title="lemma">val_head_stuck</span></a> <a id="e1:109" class="idref" href="#e1:109"><span class="id" title="binder">e1</span></a> <a id="7e74e63ec7bdb1c10ededd74c2ce6407" class="idref" href="#7e74e63ec7bdb1c10ededd74c2ce6407"><span class="id" title="binder">σ1</span></a> <a id="6c4576491be0a0349951a6e182cb5277" class="idref" href="#6c4576491be0a0349951a6e182cb5277"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:109"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#7e74e63ec7bdb1c10ededd74c2ce6407"><span class="id" title="variable">σ1</span></a> <a class="idref" href="tachis.common.ectx_language.html#6c4576491be0a0349951a6e182cb5277"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:109"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="state_step_head_not_stuck" class="idref" href="#state_step_head_not_stuck"><span class="id" title="lemma">state_step_head_not_stuck</span></a> <a id="e:112" class="idref" href="#e:112"><span class="id" title="binder">e</span></a> <a id="d84ce6ea74a93839e7086ccae997cc55" class="idref" href="#d84ce6ea74a93839e7086ccae997cc55"><span class="id" title="binder">σ</span></a> <a id="07d5315036abddb37d3d96ce0d606db6" class="idref" href="#07d5315036abddb37d3d96ce0d606db6"><span class="id" title="binder">σ'</span></a> <a id="4671adec1be46b1a4bb083a9c87182bf" class="idref" href="#4671adec1be46b1a4bb083a9c87182bf"><span class="id" title="binder">α</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#state_step"><span class="id" title="projection">state_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#d84ce6ea74a93839e7086ccae997cc55"><span class="id" title="variable">σ</span></a> <a class="idref" href="tachis.common.ectx_language.html#4671adec1be46b1a4bb083a9c87182bf"><span class="id" title="variable">α</span></a> <a class="idref" href="tachis.common.ectx_language.html#07d5315036abddb37d3d96ce0d606db6"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="47ec8fdd120c165a9e3d3e386395af3b" class="idref" href="#47ec8fdd120c165a9e3d3e386395af3b"><span class="id" title="binder">ρ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:112"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#d84ce6ea74a93839e7086ccae997cc55"><span class="id" title="variable">σ</span></a> <a class="idref" href="tachis.common.ectx_language.html#47ec8fdd120c165a9e3d3e386395af3b"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="75b79d67f7eac739149155c68d53d612" class="idref" href="#75b79d67f7eac739149155c68d53d612"><span class="id" title="binder">ρ'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:112"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#07d5315036abddb37d3d96ce0d606db6"><span class="id" title="variable">σ'</span></a> <a class="idref" href="tachis.common.ectx_language.html#75b79d67f7eac739149155c68d53d612"><span class="id" title="variable">ρ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="head_step_mass" class="idref" href="#head_step_mass"><span class="id" title="lemma">head_step_mass</span></a> <a id="e:118" class="idref" href="#e:118"><span class="id" title="binder">e</span></a> <a id="1b464494a25fb0e1888fce4a22fd58ae" class="idref" href="#1b464494a25fb0e1888fce4a22fd58ae"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="2c8377a7418bf800acbd74f13e4e5d4e" class="idref" href="#2c8377a7418bf800acbd74f13e4e5d4e"><span class="id" title="binder">ρ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:118"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#1b464494a25fb0e1888fce4a22fd58ae"><span class="id" title="variable">σ</span></a> <a class="idref" href="tachis.common.ectx_language.html#2c8377a7418bf800acbd74f13e4e5d4e"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:118"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#1b464494a25fb0e1888fce4a22fd58ae"><span class="id" title="variable">σ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fill_empty" class="idref" href="#fill_empty"><span class="id" title="lemma">fill_empty</span></a> <a id="e:121" class="idref" href="#e:121"><span class="id" title="binder">e</span></a> : <a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#empty_ectx"><span class="id" title="projection">empty_ectx</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:121"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:121"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fill_comp" class="idref" href="#fill_comp"><span class="id" title="lemma">fill_comp</span></a> <a id="K1:122" class="idref" href="#K1:122"><span class="id" title="binder">K1</span></a> <a id="K2:123" class="idref" href="#K2:123"><span class="id" title="binder">K2</span></a> <a id="e:124" class="idref" href="#e:124"><span class="id" title="binder">e</span></a> : <a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K1:122"><span class="id" title="variable">K1</span></a> (<a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K2:123"><span class="id" title="variable">K2</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:124"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> (<a class="idref" href="tachis.common.ectx_language.html#comp_ectx"><span class="id" title="projection">comp_ectx</span></a> <a class="idref" href="tachis.common.ectx_language.html#K1:122"><span class="id" title="variable">K1</span></a> <a class="idref" href="tachis.common.ectx_language.html#K2:123"><span class="id" title="variable">K2</span></a>) <a class="idref" href="tachis.common.ectx_language.html#e:124"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="fill_inj" class="idref" href="#fill_inj"><span class="id" title="instance">fill_inj</span></a> <a id="K:125" class="idref" href="#K:125"><span class="id" title="binder">K</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (<a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:125"><span class="id" title="variable">K</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fill_val" class="idref" href="#fill_val"><span class="id" title="lemma">fill_val</span></a> <a id="K:126" class="idref" href="#K:126"><span class="id" title="binder">K</span></a> <a id="e:127" class="idref" href="#e:127"><span class="id" title="binder">e</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="tachis.common.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> (<a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:126"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:127"><span class="id" title="variable">e</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="tachis.common.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:127"><span class="id" title="variable">e</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="decomp_fill" class="idref" href="#decomp_fill"><span class="id" title="lemma">decomp_fill</span></a> <a id="K:128" class="idref" href="#K:128"><span class="id" title="binder">K</span></a> <a id="e:129" class="idref" href="#e:129"><span class="id" title="binder">e</span></a> <a id="e':130" class="idref" href="#e':130"><span class="id" title="binder">e'</span></a> : <a class="idref" href="tachis.common.ectx_language.html#decomp"><span class="id" title="projection">decomp</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:129"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#K:128"><span class="id" title="variable">K</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#e':130"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:128"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e':130"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:129"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="decomp_val_empty" class="idref" href="#decomp_val_empty"><span class="id" title="lemma">decomp_val_empty</span></a> <a id="K:131" class="idref" href="#K:131"><span class="id" title="binder">K</span></a> <a id="e:132" class="idref" href="#e:132"><span class="id" title="binder">e</span></a> <a id="e':133" class="idref" href="#e':133"><span class="id" title="binder">e'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#decomp"><span class="id" title="projection">decomp</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:132"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#K:131"><span class="id" title="variable">K</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#e':133"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="tachis.common.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#e':133"><span class="id" title="variable">e'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:131"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#empty_ectx"><span class="id" title="projection">empty_ectx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="decomp_fill_comp" class="idref" href="#decomp_fill_comp"><span class="id" title="lemma">decomp_fill_comp</span></a> <a id="K:134" class="idref" href="#K:134"><span class="id" title="binder">K</span></a> <a id="K':135" class="idref" href="#K':135"><span class="id" title="binder">K'</span></a> <a id="e:136" class="idref" href="#e:136"><span class="id" title="binder">e</span></a> <a id="e':137" class="idref" href="#e':137"><span class="id" title="binder">e'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:136"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#decomp"><span class="id" title="projection">decomp</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:136"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#K':135"><span class="id" title="variable">K'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#e':137"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#decomp"><span class="id" title="projection">decomp</span></a> (<a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:134"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:136"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#comp_ectx"><span class="id" title="projection">comp_ectx</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:134"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#K':135"><span class="id" title="variable">K'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#e':137"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="step_by_val" class="idref" href="#step_by_val"><span class="id" title="lemma">step_by_val</span></a> <a id="K':138" class="idref" href="#K':138"><span class="id" title="binder">K'</span></a> <a id="K_redex:139" class="idref" href="#K_redex:139"><span class="id" title="binder">K_redex</span></a> <a id="e1':140" class="idref" href="#e1':140"><span class="id" title="binder">e1'</span></a> <a id="e1_redex:141" class="idref" href="#e1_redex:141"><span class="id" title="binder">e1_redex</span></a> <a id="070e7cec2c5d6953ff33d7bb5488f8c8" class="idref" href="#070e7cec2c5d6953ff33d7bb5488f8c8"><span class="id" title="binder">σ1</span></a> <a id="bfb12831eacfab62c661dfa611455949" class="idref" href="#bfb12831eacfab62c661dfa611455949"><span class="id" title="binder">ρ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K':138"><span class="id" title="variable">K'</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1':140"><span class="id" title="variable">e1'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K_redex:139"><span class="id" title="variable">K_redex</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1_redex:141"><span class="id" title="variable">e1_redex</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1':140"><span class="id" title="variable">e1'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1_redex:141"><span class="id" title="variable">e1_redex</span></a> <a class="idref" href="tachis.common.ectx_language.html#070e7cec2c5d6953ff33d7bb5488f8c8"><span class="id" title="variable">σ1</span></a> <a class="idref" href="tachis.common.ectx_language.html#bfb12831eacfab62c661dfa611455949"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="K'':144" class="idref" href="#K'':144"><span class="id" title="binder">K''</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#K_redex:139"><span class="id" title="variable">K_redex</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#comp_ectx"><span class="id" title="projection">comp_ectx</span></a> <a class="idref" href="tachis.common.ectx_language.html#K':138"><span class="id" title="variable">K'</span></a> <a class="idref" href="tachis.common.ectx_language.html#K'':144"><span class="id" title="variable">K''</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="head_ctx_step_val" class="idref" href="#head_ctx_step_val"><span class="id" title="lemma">head_ctx_step_val</span></a> <a id="K:145" class="idref" href="#K:145"><span class="id" title="binder">K</span></a> <a id="e:146" class="idref" href="#e:146"><span class="id" title="binder">e</span></a> <a id="a52f3581a102c7ee5001a4881f8b71b5" class="idref" href="#a52f3581a102c7ee5001a4881f8b71b5"><span class="id" title="binder">σ1</span></a> <a id="f6123fd4d034c606181021e097028fe9" class="idref" href="#f6123fd4d034c606181021e097028fe9"><span class="id" title="binder">ρ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> (<a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:145"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:146"><span class="id" title="variable">e</span></a>) <a class="idref" href="tachis.common.ectx_language.html#a52f3581a102c7ee5001a4881f8b71b5"><span class="id" title="variable">σ1</span></a> <a class="idref" href="tachis.common.ectx_language.html#f6123fd4d034c606181021e097028fe9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="tachis.common.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:146"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:145"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#empty_ectx"><span class="id" title="projection">empty_ectx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="head_reducible" class="idref" href="#head_reducible"><span class="id" title="inductive, record"><span id="head_reducible" class="id">head_reducible</span></span></a> (<a id="e:149" class="idref" href="#e:149"><span class="id" title="binder">e</span></a> : <a class="idref" href="tachis.common.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) (<a id="0e19969fa1ead7e447acde14fa35aafb" class="idref" href="#0e19969fa1ead7e447acde14fa35aafb"><span class="id" title="binder">σ</span></a> : <a class="idref" href="tachis.common.ectx_language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="head_reducible_step" class="idref" href="#head_reducible_step"><span class="id" title="constructor, projection"><span id="head_reducible_step" class="id">head_reducible_step</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="44b49b82822c3118e9d6fe24bb6f8699" class="idref" href="#44b49b82822c3118e9d6fe24bb6f8699"><span class="id" title="binder">ρ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:149"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#0e19969fa1ead7e447acde14fa35aafb"><span class="id" title="variable">σ</span></a> <a class="idref" href="tachis.common.ectx_language.html#44b49b82822c3118e9d6fe24bb6f8699"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="head_irreducible" class="idref" href="#head_irreducible"><span class="id" title="definition">head_irreducible</span></a> (<a id="e:154" class="idref" href="#e:154"><span class="id" title="binder">e</span></a> : <a class="idref" href="tachis.common.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) (<a id="72e905fcacb0fd5f0cf129d2a7138522" class="idref" href="#72e905fcacb0fd5f0cf129d2a7138522"><span class="id" title="binder">σ</span></a> : <a class="idref" href="tachis.common.ectx_language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="8daeb6e5fe0801b58fc1dc1b0ae446ba" class="idref" href="#8daeb6e5fe0801b58fc1dc1b0ae446ba"><span class="id" title="binder">ρ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:154"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#72e905fcacb0fd5f0cf129d2a7138522"><span class="id" title="variable">σ</span></a> <a class="idref" href="tachis.common.ectx_language.html#8daeb6e5fe0801b58fc1dc1b0ae446ba"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="head_stuck" class="idref" href="#head_stuck"><span class="id" title="definition">head_stuck</span></a> (<a id="e:157" class="idref" href="#e:157"><span class="id" title="binder">e</span></a> : <a class="idref" href="tachis.common.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) (<a id="11812c442a0821b59c5fbfcf45b9d5e8" class="idref" href="#11812c442a0821b59c5fbfcf45b9d5e8"><span class="id" title="binder">σ</span></a> : <a class="idref" href="tachis.common.ectx_language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:157"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="tachis.common.ectx_language.html#head_irreducible"><span class="id" title="definition">head_irreducible</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:157"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#11812c442a0821b59c5fbfcf45b9d5e8"><span class="id" title="variable">σ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;All&nbsp;non-value&nbsp;redexes&nbsp;are&nbsp;at&nbsp;the&nbsp;root.&nbsp;In&nbsp;other&nbsp;words,&nbsp;all&nbsp;sub-redexes&nbsp;are<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;values.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sub_redexes_are_values" class="idref" href="#sub_redexes_are_values"><span class="id" title="definition">sub_redexes_are_values</span></a> (<a id="e:159" class="idref" href="#e:159"><span class="id" title="binder">e</span></a> : <a class="idref" href="tachis.common.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="K:160" class="idref" href="#K:160"><span class="id" title="binder">K</span></a> <a id="e':161" class="idref" href="#e':161"><span class="id" title="binder">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:159"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:160"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e':161"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#e':161"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:160"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#empty_ectx"><span class="id" title="projection">empty_ectx</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="fill_lift" class="idref" href="#fill_lift"><span class="id" title="definition">fill_lift</span></a> (<a id="K:162" class="idref" href="#K:162"><span class="id" title="binder">K</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectx"><span class="id" title="projection">ectx</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.common.ectx_language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.common.ectx_language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:165" class="idref" href="#pat:165"><span class="id" title="binder">(</span></a><a id="e:164" class="idref" href="#e:164"><span class="id" title="binder"><span id="pat:165" class="id">e</span></span></a><a id="pat:165" class="idref" href="#pat:165"><span class="id" title="binder">,</span></a> <a id="d6d206530c606472199df4f2a3d0570b" class="idref" href="#d6d206530c606472199df4f2a3d0570b"><span class="id" title="binder"><span id="pat:165" class="id">σ</span></span></a><a id="pat:165" class="idref" href="#pat:165"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:162"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:164"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#d6d206530c606472199df4f2a3d0570b"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fill_lift_comp" class="idref" href="#fill_lift_comp"><span class="id" title="lemma">fill_lift_comp</span></a> (<a id="K1:166" class="idref" href="#K1:166"><span class="id" title="binder">K1</span></a> <a id="K2:167" class="idref" href="#K2:167"><span class="id" title="binder">K2</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectx"><span class="id" title="projection">ectx</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#fill_lift"><span class="id" title="definition">fill_lift</span></a> (<a class="idref" href="tachis.common.ectx_language.html#comp_ectx"><span class="id" title="projection">comp_ectx</span></a> <a class="idref" href="tachis.common.ectx_language.html#K1:166"><span class="id" title="variable">K1</span></a> <a class="idref" href="tachis.common.ectx_language.html#K2:167"><span class="id" title="variable">K2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#fill_lift"><span class="id" title="definition">fill_lift</span></a> <a class="idref" href="tachis.common.ectx_language.html#K1:166"><span class="id" title="variable">K1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="tachis.common.ectx_language.html#fill_lift"><span class="id" title="definition">fill_lift</span></a> <a class="idref" href="tachis.common.ectx_language.html#K2:167"><span class="id" title="variable">K2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> ρ. <span class="id" title="tactic">destruct</span> ρ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.common.ectx_language.html#fill_lift"><span class="id" title="definition">fill_lift</span></a> -<a class="idref" href="tachis.common.ectx_language.html#fill_comp"><span class="id" title="lemma">fill_comp</span></a> //=.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fill_lift_empty" class="idref" href="#fill_lift_empty"><span class="id" title="lemma">fill_lift_empty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#fill_lift"><span class="id" title="definition">fill_lift</span></a> <a class="idref" href="tachis.common.ectx_language.html#empty_ectx"><span class="id" title="projection">empty_ectx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="2e276cfc59cbc1509e0d31bec2e9cdc2" class="idref" href="#2e276cfc59cbc1509e0d31bec2e9cdc2"><span class="id" title="binder">ρ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#2e276cfc59cbc1509e0d31bec2e9cdc2"><span class="id" title="variable">ρ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> ρ. <span class="id" title="tactic">destruct</span> ρ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.common.ectx_language.html#fill_lift"><span class="id" title="definition">fill_lift</span></a> <a class="idref" href="tachis.common.ectx_language.html#fill_empty"><span class="id" title="lemma">fill_empty</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="inj_fill" class="idref" href="#inj_fill"><span class="id" title="instance">inj_fill</span></a> (<a id="K:169" class="idref" href="#K:169"><span class="id" title="binder">K</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectx"><span class="id" title="projection">ectx</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> (<a class="idref" href="tachis.common.ectx_language.html#fill_lift"><span class="id" title="definition">fill_lift</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:169"><span class="id" title="variable">K</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> [] [] [=&lt;-%(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#inj"><span class="id" title="definition">inj</span></a> <span class="id" title="var">_</span>) -&gt;]=&gt;//. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="prim_step" class="idref" href="#prim_step"><span class="id" title="definition">prim_step</span></a> (<a id="e1:170" class="idref" href="#e1:170"><span class="id" title="binder">e1</span></a> : <a class="idref" href="tachis.common.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) (<a id="01e05e96fef595fa32f579a5d6bbe60c" class="idref" href="#01e05e96fef595fa32f579a5d6bbe60c"><span class="id" title="binder">σ1</span></a> : <a class="idref" href="tachis.common.ectx_language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> (<a class="idref" href="tachis.common.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.common.ectx_language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">K</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e1'</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="tachis.common.ectx_language.html#decomp"><span class="id" title="projection">decomp</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:170"><span class="id" title="variable">e1</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> (<a class="idref" href="tachis.common.ectx_language.html#fill_lift"><span class="id" title="definition">fill_lift</span></a> <span class="id" title="var">K</span>) (<a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <span class="id" title="var">e1'</span> <a class="idref" href="tachis.common.ectx_language.html#01e05e96fef595fa32f579a5d6bbe60c"><span class="id" title="variable">σ1</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fill_not_val" class="idref" href="#fill_not_val"><span class="id" title="lemma">fill_not_val</span></a> <a id="K:172" class="idref" href="#K:172"><span class="id" title="binder">K</span></a> <a id="e:173" class="idref" href="#e:173"><span class="id" title="binder">e</span></a> : <a class="idref" href="tachis.common.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:173"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> (<a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:172"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:173"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#eq_None_not_Some"><span class="id" title="lemma">eq_None_not_Some</span></a>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="tachis.common.ectx_language.html#fill_val"><span class="id" title="lemma">fill_val</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="ectx_lang_mixin" class="idref" href="#ectx_lang_mixin"><span class="id" title="definition">ectx_lang_mixin</span></a> : <a class="idref" href="tachis.common.language.html#LanguageMixin"><span class="id" title="record">LanguageMixin</span></a> (@<a class="idref" href="tachis.common.ectx_language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) <a class="idref" href="tachis.common.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#state_step"><span class="id" title="projection">state_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#get_active"><span class="id" title="projection">get_active</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">e1</span> σ1 [<span class="id" title="var">e2</span> σ2] =&gt;/=. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.common.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.common.ectx_language.html#decomp"><span class="id" title="projection">decomp</span></a> <span class="id" title="var">e1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">K</span> <span class="id" title="var">e1'</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[<span class="id" title="var">e2'</span> σ2'] [<span class="id" title="var">_</span> <span class="id" title="var">Hs</span>]]%<a class="idref" href="tachis.prob.distribution.html#dmap_pos"><span class="id" title="lemma">dmap_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="tachis.common.ectx_language.html#decomp_fill"><span class="id" title="lemma">decomp_fill</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.common.ectx_language.html#fill_not_val"><span class="id" title="lemma">fill_not_val</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.common.ectx_language.html#val_head_stuck"><span class="id" title="lemma">val_head_stuck</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">e1</span> σ1 σ1' <span class="id" title="var">α</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.common.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.common.ectx_language.html#decomp"><span class="id" title="projection">decomp</span></a> <span class="id" title="var">e1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">K</span> <span class="id" title="var">e1'</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [[<span class="id" title="var">e2</span> σ2] [[<span class="id" title="var">e2'</span> σ2'] [<span class="id" title="var">_</span> <span class="id" title="var">Hh</span>]]%<a class="idref" href="tachis.prob.distribution.html#dmap_pos"><span class="id" title="lemma">dmap_pos</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="0167c18651c79d8f381250576e809cf9" class="idref" href="#0167c18651c79d8f381250576e809cf9"><span class="id" title="binder"><span id="bcac7401b0948f75d225375216d81aee" class="id">ρ</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <span class="id" title="var">e1'</span> σ1' <a class="idref" href="tachis.common.ectx_language.html#0167c18651c79d8f381250576e809cf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0) <span class="id" title="keyword">as</span> [[<span class="id" title="var">e2''</span> σ2''] <span class="id" title="var">Hs'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">erewrite</span> &lt;-<a class="idref" href="tachis.common.ectx_language.html#state_step_head_not_stuck"><span class="id" title="lemma">state_step_head_not_stuck</span></a>; [|<span class="id" title="var">done</span>]. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e2''</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> σ2''<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.distribution.html#dmap_pos"><span class="id" title="lemma">dmap_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [[<span class="id" title="var">e2</span> σ2] [[<span class="id" title="var">e2'</span> σ2'] [<span class="id" title="var">_</span> <span class="id" title="var">Hh</span>]]%<a class="idref" href="tachis.prob.distribution.html#dmap_pos"><span class="id" title="lemma">dmap_pos</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="9fb15f60f1182dd36f595ec6981b6ab5" class="idref" href="#9fb15f60f1182dd36f595ec6981b6ab5"><span class="id" title="binder"><span id="f1e15997d39b787c5ef58ac4589e910d" class="id">ρ</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <span class="id" title="var">e1'</span> σ1 <a class="idref" href="tachis.common.ectx_language.html#9fb15f60f1182dd36f595ec6981b6ab5"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0) <span class="id" title="keyword">as</span> [[<span class="id" title="var">e2''</span> σ2''] <span class="id" title="var">Hs'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">erewrite</span> <a class="idref" href="tachis.common.ectx_language.html#state_step_head_not_stuck"><span class="id" title="lemma">state_step_head_not_stuck</span></a>; [|<span class="id" title="var">done</span>]. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e2''</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> σ2''<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.distribution.html#dmap_pos"><span class="id" title="lemma">dmap_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> σ [[<span class="id" title="var">e'</span> σ'] <span class="id" title="var">Hs</span>]. <span class="id" title="var">revert</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.common.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.common.ectx_language.html#decomp"><span class="id" title="projection">decomp</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">K</span> <span class="id" title="var">e1'</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[<span class="id" title="var">e2'</span> σ2'] [? <span class="id" title="var">Hs</span>]]%<a class="idref" href="tachis.prob.distribution.html#dmap_pos"><span class="id" title="lemma">dmap_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <span class="id" title="var">e1'</span> σ) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1) <span class="id" title="keyword">as</span> <span class="id" title="var">Hsum</span>; [<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="tachis.common.ectx_language.html#head_step_mass"><span class="id" title="lemma">head_step_mass</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dmap_mass"><span class="id" title="lemma">dmap_mass</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="ectx_lang" class="idref" href="#ectx_lang"><span class="id" title="definition">ectx_lang</span></a> : <a class="idref" href="tachis.common.language.html#language"><span class="id" title="record">language</span></a> := <a class="idref" href="tachis.common.language.html#Language"><span class="id" title="constructor">Language</span></a> (<span class="id" title="var">get_active</span> := <a class="idref" href="tachis.common.ectx_language.html#get_active"><span class="id" title="projection">get_active</span></a>) <a class="idref" href="tachis.common.ectx_language.html#ectx_lang_mixin"><span class="id" title="definition">ectx_lang_mixin</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="head_atomic" class="idref" href="#head_atomic"><span class="id" title="definition">head_atomic</span></a> (<a id="a:178" class="idref" href="#a:178"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.common.language.html#atomicity"><span class="id" title="inductive">atomicity</span></a>) (<a id="e:179" class="idref" href="#e:179"><span class="id" title="binder">e</span></a> : <a class="idref" href="tachis.common.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="6e057824ad1b2846a579e263f45f8189" class="idref" href="#6e057824ad1b2846a579e263f45f8189"><span class="id" title="binder">σ</span></a> <a id="e':181" class="idref" href="#e':181"><span class="id" title="binder">e'</span></a> <a id="e9aeca270204b6a8e110b861823093c3" class="idref" href="#e9aeca270204b6a8e110b861823093c3"><span class="id" title="binder">σ'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:179"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#6e057824ad1b2846a579e263f45f8189"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#e':181"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#e9aeca270204b6a8e110b861823093c3"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="tachis.common.ectx_language.html#a:178"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="tachis.common.language.html#WeaklyAtomic"><span class="id" title="constructor">WeaklyAtomic</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="tachis.prob.markov.html#irreducible"><span class="id" title="definition">irreducible</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#e':181"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#e9aeca270204b6a8e110b861823093c3"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="tachis.common.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#e':181"><span class="id" title="variable">e'</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab29"></a><h1 class="section">Some lemmas about this language</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="not_head_reducible" class="idref" href="#not_head_reducible"><span class="id" title="lemma">not_head_reducible</span></a> <a id="e:184" class="idref" href="#e:184"><span class="id" title="binder">e</span></a> <a id="bc57062bdd262b7e2510392618d120fc" class="idref" href="#bc57062bdd262b7e2510392618d120fc"><span class="id" title="binder">σ</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a><a class="idref" href="tachis.common.ectx_language.html#head_reducible"><span class="id" title="class">head_reducible</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:184"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#bc57062bdd262b7e2510392618d120fc"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="tachis.common.ectx_language.html#head_irreducible"><span class="id" title="definition">head_irreducible</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:184"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#bc57062bdd262b7e2510392618d120fc"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="tachis.common.ectx_language.html#head_reducible"><span class="id" title="class">head_reducible</span></a>, <a class="idref" href="tachis.common.ectx_language.html#head_irreducible"><span class="id" title="definition">head_irreducible</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hnot</span> ρ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <span class="id" title="var">e</span> σ ρ <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>%<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rnot_gt_ge"><span class="id" title="lemma">Rnot_gt_ge</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> (<a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <span class="id" title="var">e</span> σ) ρ). <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hall</span> [ρ ?]. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hall</span> ρ). <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The decomposition into head redex and context is unique.
      In all sensible instances, <span class="inlinecode"><a class="idref" href="tachis.common.ectx_language.html#comp_ectx"><span class="id" title="projection">comp_ectx</span></a></span> <span class="inlinecode"><span class="id" title="var">K'</span></span> <span class="inlinecode"><a class="idref" href="tachis.common.ectx_language.html#empty_ectx"><span class="id" title="projection">empty_ectx</span></a></span> will be the same as
      <span class="inlinecode"><span class="id" title="var">K'</span></span>, so the conclusion is <span class="inlinecode"><span class="id" title="var">K</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">K'</span></span> <span class="inlinecode">∧</span> <span class="inlinecode"><span class="id" title="var">e</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">e'</span></span>, but we do not require a law
      to actually prove that so we cannot use that fact here. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="head_redex_unique" class="idref" href="#head_redex_unique"><span class="id" title="lemma">head_redex_unique</span></a> <a id="K:186" class="idref" href="#K:186"><span class="id" title="binder">K</span></a> <a id="K':187" class="idref" href="#K':187"><span class="id" title="binder">K'</span></a> <a id="e:188" class="idref" href="#e:188"><span class="id" title="binder">e</span></a> <a id="e':189" class="idref" href="#e':189"><span class="id" title="binder">e'</span></a> <a id="a6e4d683e55bf2b470c0972aeb840aae" class="idref" href="#a6e4d683e55bf2b470c0972aeb840aae"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:186"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:188"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K':187"><span class="id" title="variable">K'</span></a> <a class="idref" href="tachis.common.ectx_language.html#e':189"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#head_reducible"><span class="id" title="class">head_reducible</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:188"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#a6e4d683e55bf2b470c0972aeb840aae"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#head_reducible"><span class="id" title="class">head_reducible</span></a> <a class="idref" href="tachis.common.ectx_language.html#e':189"><span class="id" title="variable">e'</span></a> <a class="idref" href="tachis.common.ectx_language.html#a6e4d683e55bf2b470c0972aeb840aae"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#K:186"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#comp_ectx"><span class="id" title="projection">comp_ectx</span></a> <a class="idref" href="tachis.common.ectx_language.html#K':187"><span class="id" title="variable">K'</span></a> <a class="idref" href="tachis.common.ectx_language.html#empty_ectx"><span class="id" title="projection">empty_ectx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:188"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#e':189"><span class="id" title="variable">e'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span> [[<span class="id" title="var">e2</span> σ2] <span class="id" title="var">Hred</span>] [[<span class="id" title="var">e2'</span> σ2'] <span class="id" title="var">Hred'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="tachis.common.ectx_language.html#step_by_val"><span class="id" title="lemma">step_by_val</span></a> <span class="id" title="var">K'</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">K''</span> <span class="id" title="var">HK</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="tachis.common.ectx_language.html#val_head_stuck"><span class="id" title="lemma">val_head_stuck</span></a>..|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">K</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">Heq</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.common.ectx_language.html#fill_comp"><span class="id" title="lemma">fill_comp</span></a>. <span class="id" title="tactic">intros</span> &lt;-%(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#inj"><span class="id" title="definition">inj</span></a> (<a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.common.ectx_language.html#head_ctx_step_val"><span class="id" title="lemma">head_ctx_step_val</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hred'</span>) <span class="id" title="keyword">as</span> [[]%<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#not_eq_None_Some"><span class="id" title="lemma">not_eq_None_Some</span></a>|<span class="id" title="var">HK''</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.common.ectx_language.html#val_head_stuck"><span class="id" title="lemma">val_head_stuck</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">K''</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.common.ectx_language.html#fill_empty"><span class="id" title="lemma">fill_empty</span></a>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fill_prim_step_dbind" class="idref" href="#fill_prim_step_dbind"><span class="id" title="lemma">fill_prim_step_dbind</span></a> <a id="K:191" class="idref" href="#K:191"><span class="id" title="binder">K</span></a> <a id="e1:192" class="idref" href="#e1:192"><span class="id" title="binder">e1</span></a> <a id="7a339c83f2eac946f090ad22f20b8ca7" class="idref" href="#7a339c83f2eac946f090ad22f20b8ca7"><span class="id" title="binder">σ1</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:192"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a> (<a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:191"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:192"><span class="id" title="variable">e1</span></a>) <a class="idref" href="tachis.common.ectx_language.html#7a339c83f2eac946f090ad22f20b8ca7"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> (<a class="idref" href="tachis.common.ectx_language.html#fill_lift"><span class="id" title="definition">fill_lift</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:191"><span class="id" title="variable">K</span></a>) (<a class="idref" href="tachis.common.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:192"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#7a339c83f2eac946f090ad22f20b8ca7"><span class="id" title="variable">σ1</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hval</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.common.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.common.ectx_language.html#decomp"><span class="id" title="projection">decomp</span></a> <span class="id" title="var">e1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">K1</span> <span class="id" title="var">e1'</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.common.ectx_language.html#decomp"><span class="id" title="projection">decomp</span></a> (<a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <span class="id" title="var">_</span> <span class="id" title="var">e1</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">K1'</span> <span class="id" title="var">e1''</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.common.ectx_language.html#decomp_fill_comp"><span class="id" title="lemma">decomp_fill_comp</span></a> <span class="id" title="var">K</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq'</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dmap_comp"><span class="id" title="lemma">dmap_comp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dmap_eq"><span class="id" title="lemma">dmap_eq</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] ? =&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.common.ectx_language.html#fill_comp"><span class="id" title="lemma">fill_comp</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fill_prim_step" class="idref" href="#fill_prim_step"><span class="id" title="lemma">fill_prim_step</span></a> <a id="K:194" class="idref" href="#K:194"><span class="id" title="binder">K</span></a> <a id="e1:195" class="idref" href="#e1:195"><span class="id" title="binder">e1</span></a> <a id="27b7bf925520d6dc2ae2a6f65e5ff3bc" class="idref" href="#27b7bf925520d6dc2ae2a6f65e5ff3bc"><span class="id" title="binder">σ1</span></a> <a id="e2:197" class="idref" href="#e2:197"><span class="id" title="binder">e2</span></a> <a id="14bbb3dc8e11ddd5537c017958720f4f" class="idref" href="#14bbb3dc8e11ddd5537c017958720f4f"><span class="id" title="binder">σ2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:195"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:195"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#27b7bf925520d6dc2ae2a6f65e5ff3bc"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#e2:197"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#14bbb3dc8e11ddd5537c017958720f4f"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a> (<a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:194"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:195"><span class="id" title="variable">e1</span></a>) <a class="idref" href="tachis.common.ectx_language.html#27b7bf925520d6dc2ae2a6f65e5ff3bc"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:194"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e2:197"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#14bbb3dc8e11ddd5537c017958720f4f"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hval</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.common.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.common.ectx_language.html#decomp"><span class="id" title="projection">decomp</span></a> <span class="id" title="var">e1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">K1</span> <span class="id" title="var">e1'</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.common.ectx_language.html#decomp"><span class="id" title="projection">decomp</span></a> (<a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <span class="id" title="var">_</span> <span class="id" title="var">e1</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">K1'</span> <span class="id" title="var">e1''</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.common.ectx_language.html#decomp_fill_comp"><span class="id" title="lemma">decomp_fill_comp</span></a> <span class="id" title="var">K</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq'</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.common.ectx_language.html#fill_lift_comp"><span class="id" title="lemma">fill_lift_comp</span></a> -/<a class="idref" href="tachis.common.ectx_language.html#fill_lift"><span class="id" title="definition">fill_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.distribution.html#dmap_comp"><span class="id" title="lemma">dmap_comp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e2</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> σ2<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="tachis.common.ectx_language.html#fill_lift"><span class="id" title="definition">fill_lift</span></a> <span class="id" title="var">K</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e2</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> σ2<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.distribution.html#dmap_elem_eq"><span class="id" title="lemma">dmap_elem_eq</span></a> (<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e2</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> σ2<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="head_prim_step_pmf_eq" class="idref" href="#head_prim_step_pmf_eq"><span class="id" title="lemma">head_prim_step_pmf_eq</span></a> <a id="e1:199" class="idref" href="#e1:199"><span class="id" title="binder">e1</span></a> <a id="5f95e8cab7d0010e02bc452e2b3b9dae" class="idref" href="#5f95e8cab7d0010e02bc452e2b3b9dae"><span class="id" title="binder">σ1</span></a> <a id="4bf9f8d7a47c4990dca255bc60c0a2fd" class="idref" href="#4bf9f8d7a47c4990dca255bc60c0a2fd"><span class="id" title="binder">ρ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#head_reducible"><span class="id" title="class">head_reducible</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:199"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#5f95e8cab7d0010e02bc452e2b3b9dae"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:199"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#5f95e8cab7d0010e02bc452e2b3b9dae"><span class="id" title="variable">σ1</span></a> <a class="idref" href="tachis.common.ectx_language.html#4bf9f8d7a47c4990dca255bc60c0a2fd"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:199"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#5f95e8cab7d0010e02bc452e2b3b9dae"><span class="id" title="variable">σ1</span></a> <a class="idref" href="tachis.common.ectx_language.html#4bf9f8d7a47c4990dca255bc60c0a2fd"><span class="id" title="variable">ρ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hred</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= /<a class="idref" href="tachis.common.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.common.ectx_language.html#decomp"><span class="id" title="projection">decomp</span></a> <span class="id" title="var">e1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">K</span> <span class="id" title="var">e1'</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="tachis.common.ectx_language.html#decomp_fill"><span class="id" title="lemma">decomp_fill</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hred</span> <span class="id" title="keyword">as</span> [ρ' <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.common.ectx_language.html#head_ctx_step_val"><span class="id" title="lemma">head_ctx_step_val</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hs</span>) <span class="id" title="keyword">as</span> [| -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">K</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#empty_ectx"><span class="id" title="projection">empty_ectx</span></a>) <span class="id" title="keyword">as</span> -&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="tachis.common.ectx_language.html#decomp_val_empty"><span class="id" title="lemma">decomp_val_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.common.ectx_language.html#fill_lift_empty"><span class="id" title="lemma">fill_lift_empty</span></a> <a class="idref" href="tachis.common.ectx_language.html#fill_empty"><span class="id" title="lemma">fill_empty</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap_id"><span class="id" title="lemma">dmap_id</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.common.ectx_language.html#fill_lift_empty"><span class="id" title="lemma">fill_lift_empty</span></a> <a class="idref" href="tachis.common.ectx_language.html#fill_empty"><span class="id" title="lemma">fill_empty</span></a> <a class="idref" href="tachis.prob.distribution.html#dmap_id"><span class="id" title="lemma">dmap_id</span></a> //=.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="head_prim_step_eq" class="idref" href="#head_prim_step_eq"><span class="id" title="lemma">head_prim_step_eq</span></a> <a id="e1:202" class="idref" href="#e1:202"><span class="id" title="binder">e1</span></a> <a id="cf028eb4ee082918504cef07d8db032d" class="idref" href="#cf028eb4ee082918504cef07d8db032d"><span class="id" title="binder">σ1</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#head_reducible"><span class="id" title="class">head_reducible</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:202"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#cf028eb4ee082918504cef07d8db032d"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:202"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#cf028eb4ee082918504cef07d8db032d"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:202"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#cf028eb4ee082918504cef07d8db032d"><span class="id" title="variable">σ1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>=&gt;?. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.common.ectx_language.html#head_prim_step_pmf_eq"><span class="id" title="lemma">head_prim_step_pmf_eq</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="head_prim_step" class="idref" href="#head_prim_step"><span class="id" title="lemma">head_prim_step</span></a> <a id="e1:204" class="idref" href="#e1:204"><span class="id" title="binder">e1</span></a> <a id="38b2679f9d28c6d5e9ee5b591f7db717" class="idref" href="#38b2679f9d28c6d5e9ee5b591f7db717"><span class="id" title="binder">σ1</span></a> <a id="4793ae7ec8ef7d6a31f08de792162172" class="idref" href="#4793ae7ec8ef7d6a31f08de792162172"><span class="id" title="binder">ρ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:204"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#38b2679f9d28c6d5e9ee5b591f7db717"><span class="id" title="variable">σ1</span></a> <a class="idref" href="tachis.common.ectx_language.html#4793ae7ec8ef7d6a31f08de792162172"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:204"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#38b2679f9d28c6d5e9ee5b591f7db717"><span class="id" title="variable">σ1</span></a> <a class="idref" href="tachis.common.ectx_language.html#4793ae7ec8ef7d6a31f08de792162172"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?. <span class="id" title="var">erewrite</span> <a class="idref" href="tachis.common.ectx_language.html#head_prim_step_eq"><span class="id" title="lemma">head_prim_step_eq</span></a>; [<span class="id" title="var">done</span>|]. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="prim_step_iff" class="idref" href="#prim_step_iff"><span class="id" title="lemma">prim_step_iff</span></a> <a id="e1:207" class="idref" href="#e1:207"><span class="id" title="binder">e1</span></a> <a id="e2:208" class="idref" href="#e2:208"><span class="id" title="binder">e2</span></a> <a id="fd3e3695a1836d80af81c2829014c8b1" class="idref" href="#fd3e3695a1836d80af81c2829014c8b1"><span class="id" title="binder">σ1</span></a> <a id="5f109278bec1f21e9afd2abb1b02927f" class="idref" href="#5f109278bec1f21e9afd2abb1b02927f"><span class="id" title="binder">σ2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:207"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#fd3e3695a1836d80af81c2829014c8b1"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#e2:208"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#5f109278bec1f21e9afd2abb1b02927f"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="K:211" class="idref" href="#K:211"><span class="id" title="binder">K</span></a> <a id="e1':212" class="idref" href="#e1':212"><span class="id" title="binder">e1'</span></a> <a id="e2':213" class="idref" href="#e2':213"><span class="id" title="binder">e2'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:211"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1':212"><span class="id" title="variable">e1'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:207"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:211"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e2':213"><span class="id" title="variable">e2'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#e2:208"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1':212"><span class="id" title="variable">e1'</span></a> <a class="idref" href="tachis.common.ectx_language.html#fd3e3695a1836d80af81c2829014c8b1"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#e2':213"><span class="id" title="variable">e2'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#5f109278bec1f21e9afd2abb1b02927f"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /= /<a class="idref" href="tachis.common.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.common.ectx_language.html#decomp"><span class="id" title="projection">decomp</span></a> <span class="id" title="var">e1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">K</span> <span class="id" title="var">e1'</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="tachis.common.ectx_language.html#decomp_fill"><span class="id" title="lemma">decomp_fill</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.distribution.html#dmap_pos"><span class="id" title="lemma">dmap_pos</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [[] [[=] ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>. <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">K</span> &amp; <span class="id" title="var">e1'</span> &amp; <span class="id" title="var">e2'</span> &amp; <span class="id" title="var">Hfill1</span> &amp; <span class="id" title="var">Hfill2</span> &amp; <span class="id" title="var">Hs</span>). <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.common.ectx_language.html#fill_prim_step"><span class="id" title="lemma">fill_prim_step</span></a> //; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#head_prim_step"><span class="id" title="lemma">head_prim_step</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.common.ectx_language.html#val_head_stuck"><span class="id" title="lemma">val_head_stuck</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="head_step_not_stuck" class="idref" href="#head_step_not_stuck"><span class="id" title="lemma">head_step_not_stuck</span></a> <a id="e:214" class="idref" href="#e:214"><span class="id" title="binder">e</span></a> <a id="e01a21313320938e2f3b98ad843a19de" class="idref" href="#e01a21313320938e2f3b98ad843a19de"><span class="id" title="binder">σ</span></a> <a id="4d742ce45ba7c8f64f699be59e32ca01" class="idref" href="#4d742ce45ba7c8f64f699be59e32ca01"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:214"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#e01a21313320938e2f3b98ad843a19de"><span class="id" title="variable">σ</span></a> <a class="idref" href="tachis.common.ectx_language.html#4d742ce45ba7c8f64f699be59e32ca01"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.markov.html#not_stuck"><span class="id" title="definition">not_stuck</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#e:214"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#e01a21313320938e2f3b98ad843a19de"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.markov.html#not_stuck"><span class="id" title="definition">not_stuck</span></a> /<a class="idref" href="tachis.prob.markov.html#reducible"><span class="id" title="definition">reducible</span></a> /=. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> ρ. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#head_prim_step"><span class="id" title="lemma">head_prim_step</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fill_reducible" class="idref" href="#fill_reducible"><span class="id" title="lemma">fill_reducible</span></a> <a id="K:217" class="idref" href="#K:217"><span class="id" title="binder">K</span></a> <a id="e:218" class="idref" href="#e:218"><span class="id" title="binder">e</span></a> <a id="b8dcf1340be889687d882c19440505f6" class="idref" href="#b8dcf1340be889687d882c19440505f6"><span class="id" title="binder">σ</span></a> : <a class="idref" href="tachis.prob.markov.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#e:218"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#b8dcf1340be889687d882c19440505f6"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.markov.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:217"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:218"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#b8dcf1340be889687d882c19440505f6"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.markov.html#reducible"><span class="id" title="definition">reducible</span></a> /=. <span class="id" title="tactic">intros</span> [[<span class="id" title="var">e2</span> σ2] (<span class="id" title="var">K'</span> &amp; <span class="id" title="var">e1'</span> &amp; <span class="id" title="var">e2'</span> &amp; &lt;- &amp; &lt;- &amp; <span class="id" title="var">Hs</span>)%<a class="idref" href="tachis.common.ectx_language.html#prim_step_iff"><span class="id" title="lemma">prim_step_iff</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> (<a class="idref" href="tachis.common.ectx_language.html#comp_ectx"><span class="id" title="projection">comp_ectx</span></a> <span class="id" title="var">K</span> <span class="id" title="var">K'</span>) <span class="id" title="var">e2'</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> σ2<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.common.ectx_language.html#prim_step_iff"><span class="id" title="lemma">prim_step_iff</span></a>. <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="tachis.common.ectx_language.html#fill_comp"><span class="id" title="lemma">fill_comp</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="head_prim_reducible" class="idref" href="#head_prim_reducible"><span class="id" title="lemma">head_prim_reducible</span></a> <a id="e:220" class="idref" href="#e:220"><span class="id" title="binder">e</span></a> <a id="dc746e730c04267e471f5f355e64269b" class="idref" href="#dc746e730c04267e471f5f355e64269b"><span class="id" title="binder">σ</span></a> : <a class="idref" href="tachis.common.ectx_language.html#head_reducible"><span class="id" title="class">head_reducible</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:220"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#dc746e730c04267e471f5f355e64269b"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.markov.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#e:220"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#dc746e730c04267e471f5f355e64269b"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> [ρ <span class="id" title="var">Hstep</span>]. <span class="id" title="tactic">exists</span> ρ. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#head_prim_step"><span class="id" title="lemma">head_prim_step</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="head_prim_fill_reducible" class="idref" href="#head_prim_fill_reducible"><span class="id" title="lemma">head_prim_fill_reducible</span></a> <a id="e:222" class="idref" href="#e:222"><span class="id" title="binder">e</span></a> <a id="K:223" class="idref" href="#K:223"><span class="id" title="binder">K</span></a> <a id="a0e84727f53ba31894b9a61e9ad1aac8" class="idref" href="#a0e84727f53ba31894b9a61e9ad1aac8"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#head_reducible"><span class="id" title="class">head_reducible</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:222"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#a0e84727f53ba31894b9a61e9ad1aac8"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.markov.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:223"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:222"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#a0e84727f53ba31894b9a61e9ad1aac8"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#fill_reducible"><span class="id" title="lemma">fill_reducible</span></a>, <a class="idref" href="tachis.common.ectx_language.html#head_prim_reducible"><span class="id" title="lemma">head_prim_reducible</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="state_step_head_reducible" class="idref" href="#state_step_head_reducible"><span class="id" title="lemma">state_step_head_reducible</span></a> <a id="e:225" class="idref" href="#e:225"><span class="id" title="binder">e</span></a> <a id="edf79e3d5849a9175b8d3837e5aac03f" class="idref" href="#edf79e3d5849a9175b8d3837e5aac03f"><span class="id" title="binder">σ</span></a> <a id="dfd80c2da99aeab54839693afcd467cd" class="idref" href="#dfd80c2da99aeab54839693afcd467cd"><span class="id" title="binder">σ'</span></a> <a id="3d37df11d5f0e1a784c8074323a9f345" class="idref" href="#3d37df11d5f0e1a784c8074323a9f345"><span class="id" title="binder">α</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#state_step"><span class="id" title="projection">state_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#edf79e3d5849a9175b8d3837e5aac03f"><span class="id" title="variable">σ</span></a> <a class="idref" href="tachis.common.ectx_language.html#3d37df11d5f0e1a784c8074323a9f345"><span class="id" title="variable">α</span></a> <a class="idref" href="tachis.common.ectx_language.html#dfd80c2da99aeab54839693afcd467cd"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#head_reducible"><span class="id" title="class">head_reducible</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:225"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#edf79e3d5849a9175b8d3837e5aac03f"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="tachis.common.ectx_language.html#head_reducible"><span class="id" title="class">head_reducible</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:225"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#dfd80c2da99aeab54839693afcd467cd"><span class="id" title="variable">σ'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.common.ectx_language.html#state_step_head_not_stuck"><span class="id" title="lemma">state_step_head_not_stuck</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="head_prim_irreducible" class="idref" href="#head_prim_irreducible"><span class="id" title="lemma">head_prim_irreducible</span></a> <a id="e:229" class="idref" href="#e:229"><span class="id" title="binder">e</span></a> <a id="2e12aedcbcb60fd78c86a47252bf41fd" class="idref" href="#2e12aedcbcb60fd78c86a47252bf41fd"><span class="id" title="binder">σ</span></a> : <a class="idref" href="tachis.prob.markov.html#irreducible"><span class="id" title="definition">irreducible</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#e:229"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#2e12aedcbcb60fd78c86a47252bf41fd"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#head_irreducible"><span class="id" title="definition">head_irreducible</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:229"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#2e12aedcbcb60fd78c86a47252bf41fd"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.markov.html#not_reducible"><span class="id" title="lemma">not_reducible</span></a> -<a class="idref" href="tachis.common.ectx_language.html#not_head_reducible"><span class="id" title="lemma">not_head_reducible</span></a>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="tachis.common.ectx_language.html#head_prim_reducible"><span class="id" title="lemma">head_prim_reducible</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="prim_head_reducible" class="idref" href="#prim_head_reducible"><span class="id" title="lemma">prim_head_reducible</span></a> <a id="e:231" class="idref" href="#e:231"><span class="id" title="binder">e</span></a> <a id="7008a1808a0dce252a74094f2293df35" class="idref" href="#7008a1808a0dce252a74094f2293df35"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.markov.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#e:231"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#7008a1808a0dce252a74094f2293df35"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#sub_redexes_are_values"><span class="id" title="definition">sub_redexes_are_values</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:231"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#head_reducible"><span class="id" title="class">head_reducible</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:231"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#7008a1808a0dce252a74094f2293df35"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.markov.html#reducible"><span class="id" title="definition">reducible</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[<span class="id" title="var">e2</span> σ2] (<span class="id" title="var">K</span> &amp; <span class="id" title="var">e1'</span> &amp; <span class="id" title="var">e2'</span> &amp; ? &amp; ? &amp; <span class="id" title="var">Hs</span>)%<a class="idref" href="tachis.common.ectx_language.html#prim_step_iff"><span class="id" title="lemma">prim_step_iff</span></a>] <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>=&gt;/=; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">K</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#empty_ectx"><span class="id" title="projection">empty_ectx</span></a>) <span class="id" title="keyword">as</span> -&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> 10 <span class="id" title="keyword">using</span> <a class="idref" href="tachis.common.ectx_language.html#val_head_stuck"><span class="id" title="lemma">val_head_stuck</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.common.ectx_language.html#fill_empty"><span class="id" title="lemma">fill_empty</span></a>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="prim_head_irreducible" class="idref" href="#prim_head_irreducible"><span class="id" title="lemma">prim_head_irreducible</span></a> <a id="e:233" class="idref" href="#e:233"><span class="id" title="binder">e</span></a> <a id="6ae2b894f7fa75afb52ff0971b3ee983" class="idref" href="#6ae2b894f7fa75afb52ff0971b3ee983"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#head_irreducible"><span class="id" title="definition">head_irreducible</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:233"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#6ae2b894f7fa75afb52ff0971b3ee983"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#sub_redexes_are_values"><span class="id" title="definition">sub_redexes_are_values</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:233"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.markov.html#irreducible"><span class="id" title="definition">irreducible</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#e:233"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#6ae2b894f7fa75afb52ff0971b3ee983"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.markov.html#not_reducible"><span class="id" title="lemma">not_reducible</span></a> -<a class="idref" href="tachis.common.ectx_language.html#not_head_reducible"><span class="id" title="lemma">not_head_reducible</span></a>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="tachis.common.ectx_language.html#prim_head_reducible"><span class="id" title="lemma">prim_head_reducible</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="head_stuck_stuck" class="idref" href="#head_stuck_stuck"><span class="id" title="lemma">head_stuck_stuck</span></a> <a id="e:235" class="idref" href="#e:235"><span class="id" title="binder">e</span></a> <a id="90b9aeb981b500e2f821860209104486" class="idref" href="#90b9aeb981b500e2f821860209104486"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#head_stuck"><span class="id" title="definition">head_stuck</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:235"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#90b9aeb981b500e2f821860209104486"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#sub_redexes_are_values"><span class="id" title="definition">sub_redexes_are_values</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:235"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.markov.html#stuck"><span class="id" title="definition">stuck</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#e:235"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#90b9aeb981b500e2f821860209104486"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] ?. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.markov.html#to_final_None_2"><span class="id" title="lemma">to_final_None_2</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#prim_head_irreducible"><span class="id" title="lemma">prim_head_irreducible</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ectx_language_atomic" class="idref" href="#ectx_language_atomic"><span class="id" title="lemma">ectx_language_atomic</span></a> <a id="a:237" class="idref" href="#a:237"><span class="id" title="binder">a</span></a> <a id="e:238" class="idref" href="#e:238"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#head_atomic"><span class="id" title="definition">head_atomic</span></a> <a class="idref" href="tachis.common.ectx_language.html#a:237"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:238"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#sub_redexes_are_values"><span class="id" title="definition">sub_redexes_are_values</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:238"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.language.html#Atomic"><span class="id" title="class">Atomic</span></a> <a class="idref" href="tachis.common.ectx_language.html#a:237"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:238"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hatomic</span> <span class="id" title="var">Hsub</span> σ <span class="id" title="var">e'</span> σ' (<span class="id" title="var">K</span> &amp; <span class="id" title="var">e1'</span> &amp; <span class="id" title="var">e2'</span> &amp; &lt;- &amp; &lt;- &amp; <span class="id" title="var">Hs</span>)%<a class="idref" href="tachis.common.ectx_language.html#prim_step_iff"><span class="id" title="lemma">prim_step_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">K</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#empty_ectx"><span class="id" title="projection">empty_ectx</span></a>) <span class="id" title="keyword">as</span> -&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> 10 <span class="id" title="keyword">using</span> <a class="idref" href="tachis.common.ectx_language.html#val_head_stuck"><span class="id" title="lemma">val_head_stuck</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.common.ectx_language.html#fill_empty"><span class="id" title="lemma">fill_empty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hatomic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hatomic</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.common.ectx_language.html#fill_empty"><span class="id" title="lemma">fill_empty</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="head_reducible_prim_step_ctx" class="idref" href="#head_reducible_prim_step_ctx"><span class="id" title="lemma">head_reducible_prim_step_ctx</span></a> <a id="K:239" class="idref" href="#K:239"><span class="id" title="binder">K</span></a> <a id="e1:240" class="idref" href="#e1:240"><span class="id" title="binder">e1</span></a> <a id="9f1a8551a6bd06f70432aabed9ca88fe" class="idref" href="#9f1a8551a6bd06f70432aabed9ca88fe"><span class="id" title="binder">σ1</span></a> <a id="e2:242" class="idref" href="#e2:242"><span class="id" title="binder">e2</span></a> <a id="a20cc08cab15839dd605dc4b190baa1b" class="idref" href="#a20cc08cab15839dd605dc4b190baa1b"><span class="id" title="binder">σ2</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#head_reducible"><span class="id" title="class">head_reducible</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:240"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#9f1a8551a6bd06f70432aabed9ca88fe"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a> (<a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:239"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:240"><span class="id" title="variable">e1</span></a>) <a class="idref" href="tachis.common.ectx_language.html#9f1a8551a6bd06f70432aabed9ca88fe"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#e2:242"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#a20cc08cab15839dd605dc4b190baa1b"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="e2':244" class="idref" href="#e2':244"><span class="id" title="binder">e2'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#e2:242"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:239"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e2':244"><span class="id" title="variable">e2'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:240"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#9f1a8551a6bd06f70432aabed9ca88fe"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#e2':244"><span class="id" title="variable">e2'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#a20cc08cab15839dd605dc4b190baa1b"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[<span class="id" title="var">e2''</span> σ2''] <span class="id" title="var">HhstepK</span>] (<span class="id" title="var">K'</span> &amp; <span class="id" title="var">e1'</span> &amp; <span class="id" title="var">e2'</span> &amp; <span class="id" title="var">HKe1</span> &amp; <span class="id" title="var">HKe2</span> &amp; <span class="id" title="var">Hs</span>)%<a class="idref" href="tachis.common.ectx_language.html#prim_step_iff"><span class="id" title="lemma">prim_step_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HKe1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="tachis.common.ectx_language.html#step_by_val"><span class="id" title="lemma">step_by_val</span></a> <span class="id" title="var">K</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">K''</span> <span class="id" title="var">HK</span>]; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="tachis.common.ectx_language.html#val_head_stuck"><span class="id" title="lemma">val_head_stuck</span></a>; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.common.ectx_language.html#fill_comp"><span class="id" title="lemma">fill_comp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HKe1</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <span class="id" title="var">K''</span> <span class="id" title="var">e2'</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.common.ectx_language.html#fill_comp"><span class="id" title="lemma">fill_comp</span></a>. <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.common.ectx_language.html#head_ctx_step_val"><span class="id" title="lemma">head_ctx_step_val</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HhstepK</span>) <span class="id" title="keyword">as</span> [[]%<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#not_eq_None_Some"><span class="id" title="lemma">not_eq_None_Some</span></a>|<span class="id" title="var">HK''</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.common.ectx_language.html#val_head_stuck"><span class="id" title="lemma">val_head_stuck</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="tachis.common.ectx_language.html#fill_empty"><span class="id" title="lemma">fill_empty</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="head_reducible_prim_step" class="idref" href="#head_reducible_prim_step"><span class="id" title="lemma">head_reducible_prim_step</span></a> <a id="e1:245" class="idref" href="#e1:245"><span class="id" title="binder">e1</span></a> <a id="d5c8c6376dc17d57f373d8d7a56e02ab" class="idref" href="#d5c8c6376dc17d57f373d8d7a56e02ab"><span class="id" title="binder">σ1</span></a> <a id="5fc4c4cd111c6ba895282f18599e3070" class="idref" href="#5fc4c4cd111c6ba895282f18599e3070"><span class="id" title="binder">ρ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#head_reducible"><span class="id" title="class">head_reducible</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:245"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#d5c8c6376dc17d57f373d8d7a56e02ab"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#prim_step"><span class="id" title="definition">prim_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:245"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#d5c8c6376dc17d57f373d8d7a56e02ab"><span class="id" title="variable">σ1</span></a> <a class="idref" href="tachis.common.ectx_language.html#5fc4c4cd111c6ba895282f18599e3070"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:245"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#d5c8c6376dc17d57f373d8d7a56e02ab"><span class="id" title="variable">σ1</span></a> <a class="idref" href="tachis.common.ectx_language.html#5fc4c4cd111c6ba895282f18599e3070"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> ρ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="tachis.common.ectx_language.html#head_reducible_prim_step_ctx"><span class="id" title="lemma">head_reducible_prim_step_ctx</span></a> <a class="idref" href="tachis.common.ectx_language.html#empty_ectx"><span class="id" title="projection">empty_ectx</span></a>) <span class="id" title="keyword">as</span> (?&amp;?&amp;?);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="tachis.common.ectx_language.html#fill_empty"><span class="id" title="lemma">fill_empty</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.common.ectx_language.html#fill_empty"><span class="id" title="lemma">fill_empty</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="not_head_reducible_dzero" class="idref" href="#not_head_reducible_dzero"><span class="id" title="lemma">not_head_reducible_dzero</span></a> <a id="e:248" class="idref" href="#e:248"><span class="id" title="binder">e</span></a> <a id="b33de3c7cc175f8e6ec84827ee2a9887" class="idref" href="#b33de3c7cc175f8e6ec84827ee2a9887"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.ectx_language.html#head_irreducible"><span class="id" title="definition">head_irreducible</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:248"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#b33de3c7cc175f8e6ec84827ee2a9887"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e:248"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.common.ectx_language.html#b33de3c7cc175f8e6ec84827ee2a9887"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.markov.html#reducible"><span class="id" title="definition">reducible</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hred</span>%<a class="idref" href="tachis.common.ectx_language.html#not_head_reducible"><span class="id" title="lemma">not_head_reducible</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#dzero_ext"><span class="id" title="lemma">dzero_ext</span></a>=&gt; ρ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Req_dec"><span class="id" title="lemma">Req_dec</span></a> (<a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <span class="id" title="var">e</span> σ ρ) 0); [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hred</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> ρ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_le_1"><span class="id" title="lemma">pmf_le_1</span></a> (<a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <span class="id" title="var">e</span> σ) ρ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> (<a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <span class="id" title="var">e</span> σ) ρ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Every&nbsp;evaluation&nbsp;context&nbsp;is&nbsp;a&nbsp;context.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="ectx_lang_ctx" class="idref" href="#ectx_lang_ctx"><span class="id" title="instance">ectx_lang_ctx</span></a> <a id="K:250" class="idref" href="#K:250"><span class="id" title="binder">K</span></a> : <a class="idref" href="tachis.common.language.html#LanguageCtx"><span class="id" title="class">LanguageCtx</span></a> (<a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:250"><span class="id" title="variable">K</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="tachis.common.ectx_language.html#fill_not_val"><span class="id" title="lemma">fill_not_val</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#fill_prim_step_dbind"><span class="id" title="lemma">fill_prim_step_dbind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="pure_head_step" class="idref" href="#pure_head_step"><span class="id" title="record">pure_head_step</span></a> (<a id="e1:251" class="idref" href="#e1:251"><span class="id" title="binder">e1</span></a> <a id="e2:252" class="idref" href="#e2:252"><span class="id" title="binder">e2</span></a> : <a class="idref" href="tachis.common.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="tachis.common.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="pure_head_step_safe" class="idref" href="#pure_head_step_safe"><span class="id" title="projection">pure_head_step_safe</span></a> <a id="eb49aad45819c1c7ff2d61d67ef359cd" class="idref" href="#eb49aad45819c1c7ff2d61d67ef359cd"><span class="id" title="binder">σ1</span></a> : <a class="idref" href="tachis.common.ectx_language.html#head_reducible"><span class="id" title="class">head_reducible</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:251"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#eb49aad45819c1c7ff2d61d67ef359cd"><span class="id" title="variable">σ1</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="pure_head_step_det" class="idref" href="#pure_head_step_det"><span class="id" title="projection">pure_head_step_det</span></a> <a id="f37fa95c8196807d4ebdd8acba5c9af8" class="idref" href="#f37fa95c8196807d4ebdd8acba5c9af8"><span class="id" title="binder">σ1</span></a> : <a class="idref" href="tachis.common.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:251"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#f37fa95c8196807d4ebdd8acba5c9af8"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectx_language.html#e2:252"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectx_language.html#f37fa95c8196807d4ebdd8acba5c9af8"><span class="id" title="variable">σ1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1;<br/>
&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pure_head_step_pure_step" class="idref" href="#pure_head_step_pure_step"><span class="id" title="lemma">pure_head_step_pure_step</span></a> <a id="e1:258" class="idref" href="#e1:258"><span class="id" title="binder">e1</span></a> <a id="e2:259" class="idref" href="#e2:259"><span class="id" title="binder">e2</span></a> : <a class="idref" href="tachis.common.ectx_language.html#pure_head_step"><span class="id" title="record">pure_head_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:258"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#e2:259"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.common.language.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:258"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#e2:259"><span class="id" title="variable">e2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hp1</span> <span class="id" title="var">Hp2</span>]. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> σ. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hp1</span> σ) <span class="id" title="keyword">as</span> ([<span class="id" title="var">e2'</span> σ2] &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e2'</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> σ2<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.common.ectx_language.html#head_prim_step"><span class="id" title="lemma">head_prim_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> σ1. <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="tachis.common.ectx_language.html#head_prim_step_eq"><span class="id" title="lemma">head_prim_step_eq</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
This is not an instance because HeapLang's <span class="inlinecode"><span class="id" title="var">wp_pure</span></span> tactic already takes
      care of handling the evaluation context.  So the instance is redundant.
      If you are defining your own language and your <span class="inlinecode"><span class="id" title="var">wp_pure</span></span> works
      differently, you might want to specialize this lemma to your language and
      register that as an instance. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pure_exec_fill" class="idref" href="#pure_exec_fill"><span class="id" title="lemma">pure_exec_fill</span></a> <a id="K:260" class="idref" href="#K:260"><span class="id" title="binder">K</span></a> <a id="5b1952f68d03b4d45a8f90faa5a59667" class="idref" href="#5b1952f68d03b4d45a8f90faa5a59667"><span class="id" title="binder">φ</span></a> <a id="n:262" class="idref" href="#n:262"><span class="id" title="binder">n</span></a> <a id="e1:263" class="idref" href="#e1:263"><span class="id" title="binder">e1</span></a> <a id="e2:264" class="idref" href="#e2:264"><span class="id" title="binder">e2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.language.html#PureExec"><span class="id" title="class">PureExec</span></a> <a class="idref" href="tachis.common.ectx_language.html#5b1952f68d03b4d45a8f90faa5a59667"><span class="id" title="variable">φ</span></a> <a class="idref" href="tachis.common.ectx_language.html#n:262"><span class="id" title="variable">n</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:263"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.common.ectx_language.html#e2:264"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.language.html#PureExec"><span class="id" title="class">PureExec</span></a> <a class="idref" href="tachis.common.ectx_language.html#5b1952f68d03b4d45a8f90faa5a59667"><span class="id" title="variable">φ</span></a> <a class="idref" href="tachis.common.ectx_language.html#n:262"><span class="id" title="variable">n</span></a> (<a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:260"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e1:263"><span class="id" title="variable">e1</span></a>) (<a class="idref" href="tachis.common.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="tachis.common.ectx_language.html#K:260"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.common.ectx_language.html#e2:264"><span class="id" title="variable">e2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="tachis.common.language.html#pure_exec_ctx"><span class="id" title="lemma">pure_exec_ctx</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.common.ectx_language.html#ectx_language"><span class="id" title="section">ectx_language</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="tachis.common.ectx_language.html#ectx_lang"><span class="id" title="definition">ectx_lang</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="tachis.common.ectx_language.html#ectx_lang"><span class="id" title="definition">ectx_lang</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_lang"><span class="id" title="definition">:</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_lang"><span class="id" title="definition">ectxLanguage</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_lang"><span class="id" title="definition">&gt;-&gt;</span></a> <a class="idref" href="tachis.common.ectx_language.html#ectx_lang"><span class="id" title="definition">language</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;This&nbsp;definition&nbsp;makes&nbsp;sure&nbsp;that&nbsp;the&nbsp;fields&nbsp;of&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">language</span></span>&nbsp;record&nbsp;do&nbsp;not<br/>
refer&nbsp;to&nbsp;the&nbsp;projections&nbsp;of&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">ectxLanguage</span></span>&nbsp;record&nbsp;but&nbsp;to&nbsp;the&nbsp;actual&nbsp;fields<br/>
of&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">ectxLanguage</span></span>&nbsp;record.&nbsp;This&nbsp;is&nbsp;crucial&nbsp;for&nbsp;canonical&nbsp;structure&nbsp;search&nbsp;to<br/>
work.<br/>
<br/>
Note&nbsp;that&nbsp;this&nbsp;trick&nbsp;no&nbsp;longer&nbsp;works&nbsp;when&nbsp;we&nbsp;switch&nbsp;to&nbsp;canonical&nbsp;projections<br/>
because&nbsp;then&nbsp;the&nbsp;pattern&nbsp;match&nbsp;<span class="inlinecode"><span class="id" title="keyword">let</span></span> <span class="inlinecode">'...</span>&nbsp;will&nbsp;be&nbsp;desugared&nbsp;into&nbsp;projections.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="LanguageOfEctx" class="idref" href="#LanguageOfEctx"><span class="id" title="definition">LanguageOfEctx</span></a> (<a id="6a5b7068968c391936265bf4aaee5739" class="idref" href="#6a5b7068968c391936265bf4aaee5739"><span class="id" title="binder">Λ</span></a> : <a class="idref" href="tachis.common.ectx_language.html#ectxLanguage"><span class="id" title="record">ectxLanguage</span></a>) : <a class="idref" href="tachis.common.language.html#language"><span class="id" title="record">language</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> '@<a class="idref" href="tachis.common.ectx_language.html#EctxLanguage"><span class="id" title="constructor">EctxLanguage</span></a> <span class="id" title="var">E</span> <span class="id" title="var">V</span> <span class="id" title="var">C</span> <span class="id" title="var">St</span> <span class="id" title="var">StI</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">of_val</span> <span class="id" title="var">to_val</span> <span class="id" title="var">empty</span> <span class="id" title="var">comp</span> <span class="id" title="var">fill</span> <span class="id" title="var">decomp</span> <span class="id" title="var">head</span> <span class="id" title="var">state</span> <span class="id" title="var">act</span> <span class="id" title="var">mix</span> := <a class="idref" href="tachis.common.ectx_language.html#6a5b7068968c391936265bf4aaee5739"><span class="id" title="variable">Λ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;@<a class="idref" href="tachis.common.language.html#Language"><span class="id" title="constructor">Language</span></a> <span class="id" title="var">E</span> <span class="id" title="var">V</span> <span class="id" title="var">St</span> <span class="id" title="var">StI</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">of_val</span> <span class="id" title="var">to_val</span> <span class="id" title="var">_</span> <span class="id" title="var">state</span> <span class="id" title="var">act</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="tachis.common.ectx_language.html#ectx_lang_mixin"><span class="id" title="definition">ectx_lang_mixin</span></a> (@<a class="idref" href="tachis.common.ectx_language.html#EctxLanguage"><span class="id" title="constructor">EctxLanguage</span></a> <span class="id" title="var">E</span> <span class="id" title="var">V</span> <span class="id" title="var">C</span> <span class="id" title="var">St</span> <span class="id" title="var">StI</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">of_val</span> <span class="id" title="var">to_val</span> <span class="id" title="var">empty</span> <span class="id" title="var">comp</span> <span class="id" title="var">fill</span> <span class="id" title="var">decomp</span> <span class="id" title="var">head</span> <span class="id" title="var">state</span> <span class="id" title="var">act</span> <span class="id" title="var">mix</span> )).<br/>

<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="tachis.common.ectx_language.html#LanguageOfEctx"><span class="id" title="definition">LanguageOfEctx</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
