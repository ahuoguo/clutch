<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/logsem/clutch">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">tachis.prob.couplings_app</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Reals.html#"><span class="id" title="library">Reals</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.micromega.Psatz.html#"><span class="id" title="library">Psatz</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq.ssr</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#"><span class="id" title="library">ssrfun</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coquelicot</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#"><span class="id" title="library">Rcomplements</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#"><span class="id" title="library">Lim_seq</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rbar.html#"><span class="id" title="library">Rbar</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#"><span class="id" title="library">countable</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">tachis.prelude</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="tachis.prelude.base.html#"><span class="id" title="library">base</span></a> <a class="idref" href="tachis.prelude.Coquelicot_ext.html#"><span class="id" title="library">Coquelicot_ext</span></a> <a class="idref" href="tachis.prelude.Reals_ext.html#"><span class="id" title="library">Reals_ext</span></a> <a class="idref" href="tachis.prelude.stdpp_ext.html#"><span class="id" title="library">stdpp_ext</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">tachis.prob</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="tachis.prob.countable_sum.html#"><span class="id" title="library">countable_sum</span></a> <a class="idref" href="tachis.prob.distribution.html#"><span class="id" title="library">distribution</span></a> <a class="idref" href="tachis.prob.couplings.html#"><span class="id" title="library">couplings</span></a> <a class="idref" href="tachis.prob.graded_predicate_lifting.html#"><span class="id" title="library">graded_predicate_lifting</span></a>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="couplings" class="idref" href="#couplings"><span class="id" title="section">couplings</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:3" class="idref" href="#H:3"><span class="id" title="binder">Countable</span></a> <a id="A:1" class="idref" href="#A:1"><span class="id" title="binder"><span id="H:3" class="id">A</span></span></a>, <a id="H0:6" class="idref" href="#H0:6"><span class="id" title="binder">Countable</span></a> <a id="B:4" class="idref" href="#B:4"><span class="id" title="binder"><span id="H0:6" class="id">B</span></span></a>, <a id="H1:9" class="idref" href="#H1:9"><span class="id" title="binder">Countable</span></a> <a id="A':7" class="idref" href="#A':7"><span class="id" title="binder"><span id="H1:9" class="id">A'</span></span></a>, <a id="H2:12" class="idref" href="#H2:12"><span class="id" title="binder">Countable</span></a> <a id="B':10" class="idref" href="#B':10"><span class="id" title="binder"><span id="H2:12" class="id">B'</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="46e20c87cf076939d880dd5152987a0e" class="idref" href="#46e20c87cf076939d880dd5152987a0e"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings.A"><span class="id" title="variable">A</span></a>) (<a id="6816787de3d81e12652728d0efce690d" class="idref" href="#6816787de3d81e12652728d0efce690d"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings.B"><span class="id" title="variable">B</span></a>) (<a id="S:15" class="idref" href="#S:15"><span class="id" title="binder">S</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="ARcoupl" class="idref" href="#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a id="f3b0942c097a61ab146ba5f86f11a7d6" class="idref" href="#f3b0942c097a61ab146ba5f86f11a7d6"><span class="id" title="binder">ε</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="f:17" class="idref" href="#f:17"><span class="id" title="binder">f</span></a>: <a class="idref" href="tachis.prob.couplings_app.html#couplings.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="g:18" class="idref" href="#g:18"><span class="id" title="binder">g</span></a>: <a class="idref" href="tachis.prob.couplings_app.html#couplings.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:19" class="idref" href="#a:19"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f:17"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:19"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="b:20" class="idref" href="#b:20"><span class="id" title="binder">b</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#g:18"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:20"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:21" class="idref" href="#a:21"><span class="id" title="binder">a</span></a> <a id="b:22" class="idref" href="#b:22"><span class="id" title="binder">b</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings.S"><span class="id" title="variable">S</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:21"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:22"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f:17"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:21"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#g:18"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:22"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:23" class="idref" href="#a:23"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#2af42d7c0856f521457978574ed504a9"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:23"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f:17"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:23"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:24" class="idref" href="#b:24"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#e399fa2235ccccf805b00163ca4cc388"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:24"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.couplings_app.html#g:18"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:24"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f3b0942c097a61ab146ba5f86f11a7d6"><span class="id" title="variable">ε</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.couplings_app.html#couplings"><span class="id" title="section">couplings</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="couplings_theory" class="idref" href="#couplings_theory"><span class="id" title="section">couplings_theory</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:27" class="idref" href="#H:27"><span class="id" title="binder">Countable</span></a> <a id="A:25" class="idref" href="#A:25"><span class="id" title="binder"><span id="H:27" class="id">A</span></span></a>, <a id="H0:30" class="idref" href="#H0:30"><span class="id" title="binder">Countable</span></a> <a id="B:28" class="idref" href="#B:28"><span class="id" title="binder"><span id="H0:30" class="id">B</span></span></a>, <a id="H1:33" class="idref" href="#H1:33"><span class="id" title="binder">Countable</span></a> <a id="A':31" class="idref" href="#A':31"><span class="id" title="binder"><span id="H1:33" class="id">A'</span></span></a>, <a id="H2:36" class="idref" href="#H2:36"><span class="id" title="binder">Countable</span></a> <a id="B':34" class="idref" href="#B':34"><span class="id" title="binder"><span id="H2:36" class="id">B'</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_mono" class="idref" href="#ARcoupl_mono"><span class="id" title="lemma">ARcoupl_mono</span></a> (<a id="df7b7f0ea1d7317e3d69ac061f128d2f" class="idref" href="#df7b7f0ea1d7317e3d69ac061f128d2f"><span class="id" title="binder">μ1</span></a> <a id="caa7da0cf03a21a4b66d06f98d88fcd8" class="idref" href="#caa7da0cf03a21a4b66d06f98d88fcd8"><span class="id" title="binder">μ1'</span></a>: <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a>) (<a id="faa5349af0adc251a3d4b2e362e35d7b" class="idref" href="#faa5349af0adc251a3d4b2e362e35d7b"><span class="id" title="binder">μ2</span></a> <a id="e34ffafed0576793b62d1cb9da82d89d" class="idref" href="#e34ffafed0576793b62d1cb9da82d89d"><span class="id" title="binder">μ2'</span></a>: <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a>) <a id="R:41" class="idref" href="#R:41"><span class="id" title="binder">R</span></a> <a id="R':42" class="idref" href="#R':42"><span class="id" title="binder">R'</span></a> <a id="655fe27263942848d8e3c20964f37d50" class="idref" href="#655fe27263942848d8e3c20964f37d50"><span class="id" title="binder">ε</span></a> <a id="9e4ac97d1973d373d90503847eb54fae" class="idref" href="#9e4ac97d1973d373d90503847eb54fae"><span class="id" title="binder">ε'</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:45" class="idref" href="#a:45"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#df7b7f0ea1d7317e3d69ac061f128d2f"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:45"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#caa7da0cf03a21a4b66d06f98d88fcd8"><span class="id" title="variable">μ1'</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:45"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:46" class="idref" href="#b:46"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#faa5349af0adc251a3d4b2e362e35d7b"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:46"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#e34ffafed0576793b62d1cb9da82d89d"><span class="id" title="variable">μ2'</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:46"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:47" class="idref" href="#x:47"><span class="id" title="binder">x</span></a> <a id="y:48" class="idref" href="#y:48"><span class="id" title="binder">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R:41"><span class="id" title="variable">R</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:47"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.prob.couplings_app.html#y:48"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R':42"><span class="id" title="variable">R'</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:47"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.prob.couplings_app.html#y:48"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.couplings_app.html#655fe27263942848d8e3c20964f37d50"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#9e4ac97d1973d373d90503847eb54fae"><span class="id" title="variable">ε'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#df7b7f0ea1d7317e3d69ac061f128d2f"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#faa5349af0adc251a3d4b2e362e35d7b"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R:41"><span class="id" title="variable">R</span></a> <a class="idref" href="tachis.prob.couplings_app.html#655fe27263942848d8e3c20964f37d50"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#caa7da0cf03a21a4b66d06f98d88fcd8"><span class="id" title="variable">μ1'</span></a> <a class="idref" href="tachis.prob.couplings_app.html#e34ffafed0576793b62d1cb9da82d89d"><span class="id" title="variable">μ2'</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R':42"><span class="id" title="variable">R'</span></a> <a class="idref" href="tachis.prob.couplings_app.html#9e4ac97d1973d373d90503847eb54fae"><span class="id" title="variable">ε'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hμ1</span> <span class="id" title="var">Hμ2</span> <span class="id" title="var">HR</span> <span class="id" title="var">Hε</span> <span class="id" title="var">Hcoupl</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hcoupl</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">μ1'</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">μ1</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">μ2'</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">μ2</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:49" class="idref" href="#b:49"><span class="id" title="binder"><span id="b:50" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:49"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:49"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">ε</span>); <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcoupl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_1" class="idref" href="#ARcoupl_1"><span class="id" title="lemma">ARcoupl_1</span></a> (<a id="eb12ce1f6ca1081940706fc0aff8a027" class="idref" href="#eb12ce1f6ca1081940706fc0aff8a027"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a>) (<a id="a1d3e9a1bc86d00ac32f294e8b50f077" class="idref" href="#a1d3e9a1bc86d00ac32f294e8b50f077"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a>) <a id="R:53" class="idref" href="#R:53"><span class="id" title="binder">R</span></a> <a id="fcb8831e230add37fb79eafb129942eb" class="idref" href="#fcb8831e230add37fb79eafb129942eb"><span class="id" title="binder">ε</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#fcb8831e230add37fb79eafb129942eb"><span class="id" title="variable">ε</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#eb12ce1f6ca1081940706fc0aff8a027"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a1d3e9a1bc86d00ac32f294e8b50f077"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R:53"><span class="id" title="variable">R</span></a> <a class="idref" href="tachis.prob.couplings_app.html#fcb8831e230add37fb79eafb129942eb"><span class="id" title="variable">ε</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hε</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">trans</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ1</span>); <span class="id" title="var">last</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">replace</span> 1 <span class="id" title="keyword">with</span> (0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a>1); <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_mon_grading" class="idref" href="#ARcoupl_mon_grading"><span class="id" title="lemma">ARcoupl_mon_grading</span></a> (<a id="20e5070686ee3718a5b4272a28af0117" class="idref" href="#20e5070686ee3718a5b4272a28af0117"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a>) (<a id="0a19548c7b764ab69e409cad121cc543" class="idref" href="#0a19548c7b764ab69e409cad121cc543"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a>) (<a id="R:57" class="idref" href="#R:57"><span class="id" title="binder">R</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="ada3083f514332313372a875c61a8c7f" class="idref" href="#ada3083f514332313372a875c61a8c7f"><span class="id" title="binder">ε1</span></a> <a id="62adceaa2e3a6fb705db1e30b5451504" class="idref" href="#62adceaa2e3a6fb705db1e30b5451504"><span class="id" title="binder">ε2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.couplings_app.html#ada3083f514332313372a875c61a8c7f"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#62adceaa2e3a6fb705db1e30b5451504"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#20e5070686ee3718a5b4272a28af0117"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#0a19548c7b764ab69e409cad121cc543"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R:57"><span class="id" title="variable">R</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ada3083f514332313372a875c61a8c7f"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#20e5070686ee3718a5b4272a28af0117"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#0a19548c7b764ab69e409cad121cc543"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R:57"><span class="id" title="variable">R</span></a> <a class="idref" href="tachis.prob.couplings_app.html#62adceaa2e3a6fb705db1e30b5451504"><span class="id" title="variable">ε2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">HR</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HR</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dret" class="idref" href="#ARcoupl_dret"><span class="id" title="lemma">ARcoupl_dret</span></a> (<a id="a:60" class="idref" href="#a:60"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) (<a id="b:61" class="idref" href="#b:61"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a>) (<a id="R:62" class="idref" href="#R:62"><span class="id" title="binder">R</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="r:63" class="idref" href="#r:63"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#r:63"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#R:62"><span class="id" title="variable">R</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:60"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:61"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:60"><span class="id" title="variable">a</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:61"><span class="id" title="variable">b</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#R:62"><span class="id" title="variable">R</span></a> <a class="idref" href="tachis.prob.couplings_app.html#r:63"><span class="id" title="variable">r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hr</span> <span class="id" title="var">HR</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:64" class="idref" href="#a0:64"><span class="id" title="binder"><span id="a0:65" class="id">a0</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">a</span> <a class="idref" href="tachis.prob.couplings_app.html#a0:64"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#a0:64"><span class="id" title="variable">a0</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="var">a</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> ; <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b0:66" class="idref" href="#b0:66"><span class="id" title="binder"><span id="b0:67" class="id">b0</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <span class="id" title="var">b</span> <a class="idref" href="tachis.prob.couplings_app.html#b0:66"><span class="id" title="variable">b0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b0:66"><span class="id" title="variable">b0</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">g</span> <span class="id" title="var">b</span>) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="var">b</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a> ; <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hfg</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HR</span>). <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;hypothesis&nbsp;(0&nbsp;≤&nbsp;ε1)&nbsp;is&nbsp;not&nbsp;really&nbsp;needed,&nbsp;I&nbsp;just&nbsp;kept&nbsp;it&nbsp;for&nbsp;symmetry&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dbind" class="idref" href="#ARcoupl_dbind"><span class="id" title="lemma">ARcoupl_dbind</span></a> (<a id="f:68" class="idref" href="#f:68"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a>) (<a id="g:69" class="idref" href="#g:69"><span class="id" title="binder">g</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="afaf816965d608e060f61bd37098bc1f" class="idref" href="#afaf816965d608e060f61bd37098bc1f"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) (<a id="e42f1abc43fb6511e45fa59b00a43970" class="idref" href="#e42f1abc43fb6511e45fa59b00a43970"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a>) (<a id="R:72" class="idref" href="#R:72"><span class="id" title="binder">R</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="S:73" class="idref" href="#S:73"><span class="id" title="binder">S</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="056be80d44fc29ecff03699e59c84e40" class="idref" href="#056be80d44fc29ecff03699e59c84e40"><span class="id" title="binder">ε1</span></a> <a id="8e823d0001fb36b26365e22667b6ebac" class="idref" href="#8e823d0001fb36b26365e22667b6ebac"><span class="id" title="binder">ε2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#Rle"><span class="id" title="definition">Rle</span></a> 0 <a class="idref" href="tachis.prob.couplings_app.html#056be80d44fc29ecff03699e59c84e40"><span class="id" title="variable">ε1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#Rle"><span class="id" title="definition">Rle</span></a> 0 <a class="idref" href="tachis.prob.couplings_app.html#8e823d0001fb36b26365e22667b6ebac"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:76" class="idref" href="#a:76"><span class="id" title="binder">a</span></a> <a id="b:77" class="idref" href="#b:77"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R:72"><span class="id" title="variable">R</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:76"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:77"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#f:68"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:76"><span class="id" title="variable">a</span></a>) (<a class="idref" href="tachis.prob.couplings_app.html#g:69"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:77"><span class="id" title="variable">b</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#S:73"><span class="id" title="variable">S</span></a> <a class="idref" href="tachis.prob.couplings_app.html#8e823d0001fb36b26365e22667b6ebac"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#afaf816965d608e060f61bd37098bc1f"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#e42f1abc43fb6511e45fa59b00a43970"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R:72"><span class="id" title="variable">R</span></a> <a class="idref" href="tachis.prob.couplings_app.html#056be80d44fc29ecff03699e59c84e40"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f:68"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.couplings_app.html#afaf816965d608e060f61bd37098bc1f"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.couplings_app.html#g:69"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.couplings_app.html#e42f1abc43fb6511e45fa59b00a43970"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#S:73"><span class="id" title="variable">S</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#056be80d44fc29ecff03699e59c84e40"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.couplings_app.html#8e823d0001fb36b26365e22667b6ebac"><span class="id" title="variable">ε2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hε1</span> <span class="id" title="var">Hε2</span> <span class="id" title="var">Hcoup_fg</span> <span class="id" title="var">Hcoup_R</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span> <span class="id" title="var">Hh1pos</span> <span class="id" title="var">Hh2pos</span> <span class="id" title="var">Hh1h2S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;To&nbsp;use&nbsp;the&nbsp;hypothesis&nbsp;that&nbsp;we&nbsp;have&nbsp;an&nbsp;R-ACoupling&nbsp;up&nbsp;to&nbsp;ε1&nbsp;for&nbsp;μ1,&nbsp;μ2,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;have&nbsp;to&nbsp;rewrite&nbsp;the&nbsp;sums&nbsp;in&nbsp;such&nbsp;a&nbsp;way&nbsp;as&nbsp;to&nbsp;isolate&nbsp;(the&nbsp;expectation<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of)&nbsp;a&nbsp;random&nbsp;variable&nbsp;X&nbsp;on&nbsp;the&nbsp;LHS&nbsp;and&nbsp;Y&nbsp;on&nbsp;the&nbsp;RHS,&nbsp;and&nbsp;ε1&nbsp;on&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RHS.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;First&nbsp;step:&nbsp;rewrite&nbsp;the&nbsp;LHS&nbsp;into&nbsp;a&nbsp;RV&nbsp;X&nbsp;on&nbsp;μ1.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:80" class="idref" href="#pat:80"><span class="id" title="binder"><span id="pat:83" class="id"><span id="pat:86" class="id"><span id="pat:89" class="id"><span id="pat:92" class="id"><span id="pat:95" class="id">(</span></span></span></span></span></span></a><a id="a:79" class="idref" href="#a:79"><span class="id" title="binder"><span id="pat:80" class="id"><span id="a:82" class="id"><span id="pat:83" class="id"><span id="a:85" class="id"><span id="pat:86" class="id"><span id="a:88" class="id"><span id="pat:89" class="id"><span id="a:91" class="id"><span id="pat:92" class="id"><span id="a:94" class="id"><span id="pat:95" class="id">a</span></span></span></span></span></span></span></span></span></span></span></span></a><a id="pat:80" class="idref" href="#pat:80"><span class="id" title="binder"><span id="pat:83" class="id"><span id="pat:86" class="id"><span id="pat:89" class="id"><span id="pat:92" class="id"><span id="pat:95" class="id">,</span></span></span></span></span></span></a><a id="x:78" class="idref" href="#x:78"><span class="id" title="binder"><span id="pat:80" class="id"><span id="x:81" class="id"><span id="pat:83" class="id"><span id="x:84" class="id"><span id="pat:86" class="id"><span id="x:87" class="id"><span id="pat:89" class="id"><span id="x:90" class="id"><span id="pat:92" class="id"><span id="x:93" class="id"><span id="pat:95" class="id">x</span></span></span></span></span></span></span></span></span></span></span></span></a><a id="pat:80" class="idref" href="#pat:80"><span class="id" title="binder"><span id="pat:83" class="id"><span id="pat:86" class="id"><span id="pat:89" class="id"><span id="pat:92" class="id"><span id="pat:95" class="id">)</span></span></span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#x:78"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#x:78"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:79"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:79"><span class="id" title="variable">a</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Boring&nbsp;Fubini&nbsp;sideconditions.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">intro</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;specialize&nbsp;(Hh1pos&nbsp;a').&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:96" class="idref" href="#a:96"><span class="id" title="binder"><span id="a:98" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:97" class="idref" href="#x:97"><span class="id" title="binder"><span id="x:99" class="id">x</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#x:97"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#x:97"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:96"><span class="id" title="variable">a</span></a>))); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ1</span>)). }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;LHS:&nbsp;Pull&nbsp;the&nbsp;(μ1&nbsp;b)&nbsp;factor&nbsp;out&nbsp;of&nbsp;the&nbsp;inner&nbsp;sum.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:100" class="idref" href="#b:100"><span class="id" title="binder"><span id="b:104" class="id">b</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:101" class="idref" href="#a:101"><span class="id" title="binder"><span id="a:105" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#b:100"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#b:100"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:101"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:101"><span class="id" title="variable">a</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:102" class="idref" href="#b:102"><span class="id" title="binder"><span id="b:106" class="id">b</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#b:102"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:103" class="idref" href="#a:103"><span class="id" title="binder"><span id="a:107" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#b:102"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:103"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:103"><span class="id" title="variable">a</span></a>))) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>. <span class="id" title="var">series</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Second&nbsp;step:&nbsp;rewrite&nbsp;the&nbsp;RHS&nbsp;into&nbsp;a&nbsp;RV&nbsp;Y&nbsp;on&nbsp;μ2.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;RHS:&nbsp;Fubini.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:110" class="idref" href="#pat:110"><span class="id" title="binder"><span id="pat:113" class="id"><span id="pat:116" class="id"><span id="pat:119" class="id"><span id="pat:122" class="id"><span id="pat:125" class="id">(</span></span></span></span></span></span></a><a id="b:109" class="idref" href="#b:109"><span class="id" title="binder"><span id="pat:110" class="id"><span id="b:112" class="id"><span id="pat:113" class="id"><span id="b:115" class="id"><span id="pat:116" class="id"><span id="b:118" class="id"><span id="pat:119" class="id"><span id="b:121" class="id"><span id="pat:122" class="id"><span id="b:124" class="id"><span id="pat:125" class="id">b</span></span></span></span></span></span></span></span></span></span></span></span></a><a id="pat:110" class="idref" href="#pat:110"><span class="id" title="binder"><span id="pat:113" class="id"><span id="pat:116" class="id"><span id="pat:119" class="id"><span id="pat:122" class="id"><span id="pat:125" class="id">,</span></span></span></span></span></span></a><a id="x:108" class="idref" href="#x:108"><span class="id" title="binder"><span id="pat:110" class="id"><span id="x:111" class="id"><span id="pat:113" class="id"><span id="x:114" class="id"><span id="pat:116" class="id"><span id="x:117" class="id"><span id="pat:119" class="id"><span id="x:120" class="id"><span id="pat:122" class="id"><span id="x:123" class="id"><span id="pat:125" class="id">x</span></span></span></span></span></span></span></span></span></span></span></span></a><a id="pat:110" class="idref" href="#pat:110"><span class="id" title="binder"><span id="pat:113" class="id"><span id="pat:116" class="id"><span id="pat:119" class="id"><span id="pat:122" class="id"><span id="pat:125" class="id">)</span></span></span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#x:108"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#x:108"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:109"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:109"><span class="id" title="variable">b</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">by</span> <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">intro</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh2pos</span> <span class="id" title="var">b'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ2</span>) ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>. <span class="id" title="var">series</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:126" class="idref" href="#a:126"><span class="id" title="binder"><span id="a:128" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:127" class="idref" href="#b:127"><span class="id" title="binder"><span id="b:129" class="id">b</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:127"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:127"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:126"><span class="id" title="variable">a</span></a>))); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">b'</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh2pos</span> <span class="id" title="var">b'</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [ | <span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> ((<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">g</span> <span class="id" title="var">μ2</span>)) <span class="id" title="var">b'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">g</span> <span class="id" title="var">μ2</span>)). }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;RHS:&nbsp;Factor&nbsp;out&nbsp;(μ2&nbsp;b)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:130" class="idref" href="#b:130"><span class="id" title="binder"><span id="b:134" class="id">b</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:131" class="idref" href="#a:131"><span class="id" title="binder"><span id="a:135" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:130"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:130"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:131"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="tachis.prob.couplings_app.html#a:131"><span class="id" title="variable">a</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:132" class="idref" href="#b:132"><span class="id" title="binder"><span id="b:136" class="id">b</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:132"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:133" class="idref" href="#a:133"><span class="id" title="binder"><span id="a:137" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:132"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:133"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="tachis.prob.couplings_app.html#a:133"><span class="id" title="variable">a</span></a>))) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Third&nbsp;step:&nbsp;isolate&nbsp;ε1&nbsp;on&nbsp;the&nbsp;RHS.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ALT:&nbsp;could&nbsp;move&nbsp;ε2&nbsp;into&nbsp;Y&nbsp;instead&nbsp;of&nbsp;into&nbsp;X.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;To&nbsp;construct&nbsp;X,&nbsp;we&nbsp;want&nbsp;to&nbsp;push&nbsp;ε2&nbsp;into&nbsp;the&nbsp;inner&nbsp;sum.&nbsp;We&nbsp;don't&nbsp;do&nbsp;this<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directly,&nbsp;because&nbsp;if&nbsp;`ε2&nbsp;&gt;&nbsp;(f&nbsp;b&nbsp;a&nbsp;*&nbsp;h1&nbsp;a)`&nbsp;then&nbsp;X&nbsp;might&nbsp;be&nbsp;negative,&nbsp;but<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;our&nbsp;assumption&nbsp;on&nbsp;the&nbsp;ε1&nbsp;R-ACoupling&nbsp;requires&nbsp;it&nbsp;to&nbsp;be&nbsp;valued&nbsp;in&nbsp;<span class="inlinecode">0,1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instead,&nbsp;we&nbsp;take&nbsp;max(0,&nbsp;(Σ(a:A')(f&nbsp;b&nbsp;a&nbsp;*&nbsp;h1&nbsp;a))&nbsp;-&nbsp;ε2).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ALT:&nbsp;could&nbsp;use&nbsp;a&nbsp;more&nbsp;fine-grained&nbsp;max&nbsp;inside&nbsp;the&nbsp;sum?<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:138" class="idref" href="#b:138"><span class="id" title="binder"><span id="b:142" class="id">b</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#b:138"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:139" class="idref" href="#a:139"><span class="id" title="binder"><span id="a:143" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#b:138"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:139"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:139"><span class="id" title="variable">a</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">ε2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:140" class="idref" href="#b:140"><span class="id" title="binder"><span id="b:144" class="id">b</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#b:140"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax"><span class="id" title="definition">Rmax</span></a> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:141" class="idref" href="#a:141"><span class="id" title="binder"><span id="a:145" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#b:140"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:141"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:141"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">ε2</span>) 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hleq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;could&nbsp;be&nbsp;an&nbsp;external&nbsp;lemma&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:146" class="idref" href="#b:146"><span class="id" title="binder"><span id="b:149" class="id">b</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#b:146"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:147" class="idref" href="#a:147"><span class="id" title="binder"><span id="a:150" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#b:146"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:147"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:147"><span class="id" title="variable">a</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:148" class="idref" href="#b:148"><span class="id" title="binder"><span id="b:151" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#b:148"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">ε2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>; [<span class="id" title="var">lra</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Ropp_le_contravar"><span class="id" title="lemma">Ropp_le_contravar</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_1_l"><span class="id" title="lemma">Rmult_1_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_minus"><span class="id" title="lemma">SeriesC_minus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le'"><span class="id" title="lemma">SeriesC_le'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_minus_distr_l"><span class="id" title="lemma">Rmult_minus_distr_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_l"><span class="id" title="lemma">Rmax_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_plus"><span class="id" title="lemma">ex_seriesC_plus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:152" class="idref" href="#x:152"><span class="id" title="binder"><span id="x:154" class="id">x</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#x:152"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:153" class="idref" href="#a:153"><span class="id" title="binder"><span id="a:155" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#x:152"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:153"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:153"><span class="id" title="variable">a</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>; [ | <span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hh1pos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hh1pos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>))); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a'</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh1pos</span> <span class="id" title="var">a'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_ext"><span class="id" title="lemma">ex_seriesC_ext</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:156" class="idref" href="#x:156"><span class="id" title="binder"><span id="x:157" class="id">x</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a>-1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#x:156"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">ε2</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)); [<span class="id" title="tactic">intro</span>; <span class="id" title="var">nra</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_l"><span class="id" title="lemma">ex_seriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:158" class="idref" href="#b:158"><span class="id" title="binder"><span id="b:160" class="id">b</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#b:158"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:159" class="idref" href="#a:159"><span class="id" title="binder"><span id="a:161" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#b:158"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:159"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:159"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_r"><span class="id" title="lemma">Rmax_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_lub"><span class="id" title="lemma">Rmax_lub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hh1pos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hh1pos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">n</span>))); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a'</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh1pos</span> <span class="id" title="var">a'</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hh1pos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">n</span>))); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a'</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh1pos</span> <span class="id" title="var">a'</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hleq</span> | ].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcoup_R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcoup_R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_r"><span class="id" title="lemma">Rmax_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_lub"><span class="id" title="lemma">Rmax_lub</span></a>; [ | <span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>))); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh1pos</span> <span class="id" title="var">a'</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh2pos</span> <span class="id" title="var">b'</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>))); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh2pos</span> <span class="id" title="var">b'</span>); <span class="id" title="var">real_solver</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Rab</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_lub"><span class="id" title="lemma">Rmax_lub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh2pos</span> <span class="id" title="var">b'</span>); <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcoup_fg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a>, <span class="id" title="var">Hcoup_fg</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dbind'" class="idref" href="#ARcoupl_dbind'"><span class="id" title="lemma">ARcoupl_dbind'</span></a> (<a id="3e9b49f570de30f6b2c8d4055580cf0a" class="idref" href="#3e9b49f570de30f6b2c8d4055580cf0a"><span class="id" title="binder">ε1</span></a> <a id="4df976b60605f81f044353f231a95ae6" class="idref" href="#4df976b60605f81f044353f231a95ae6"><span class="id" title="binder">ε2</span></a> <a id="0e88a26421c022f3004a5339da639c68" class="idref" href="#0e88a26421c022f3004a5339da639c68"><span class="id" title="binder">ε</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="f:165" class="idref" href="#f:165"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a>) (<a id="g:166" class="idref" href="#g:166"><span class="id" title="binder">g</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="97230dd9f91efc0d268c42e959df0c1f" class="idref" href="#97230dd9f91efc0d268c42e959df0c1f"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) (<a id="8578a68e89dc95483d48698f24f8553b" class="idref" href="#8578a68e89dc95483d48698f24f8553b"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a>) (<a id="R:169" class="idref" href="#R:169"><span class="id" title="binder">R</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="S:170" class="idref" href="#S:170"><span class="id" title="binder">S</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#3e9b49f570de30f6b2c8d4055580cf0a"><span class="id" title="variable">ε1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4df976b60605f81f044353f231a95ae6"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#0e88a26421c022f3004a5339da639c68"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#3e9b49f570de30f6b2c8d4055580cf0a"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4df976b60605f81f044353f231a95ae6"><span class="id" title="variable">ε2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:171" class="idref" href="#a:171"><span class="id" title="binder">a</span></a> <a id="b:172" class="idref" href="#b:172"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R:169"><span class="id" title="variable">R</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:171"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:172"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#f:165"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:171"><span class="id" title="variable">a</span></a>) (<a class="idref" href="tachis.prob.couplings_app.html#g:166"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:172"><span class="id" title="variable">b</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#S:170"><span class="id" title="variable">S</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4df976b60605f81f044353f231a95ae6"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#97230dd9f91efc0d268c42e959df0c1f"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#8578a68e89dc95483d48698f24f8553b"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R:169"><span class="id" title="variable">R</span></a> <a class="idref" href="tachis.prob.couplings_app.html#3e9b49f570de30f6b2c8d4055580cf0a"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f:165"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.couplings_app.html#97230dd9f91efc0d268c42e959df0c1f"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.couplings_app.html#g:166"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.couplings_app.html#8578a68e89dc95483d48698f24f8553b"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#S:170"><span class="id" title="variable">S</span></a> <a class="idref" href="tachis.prob.couplings_app.html#0e88a26421c022f3004a5339da639c68"><span class="id" title="variable">ε</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ? ? -&gt;. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_dbind"><span class="id" title="lemma">ARcoupl_dbind</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Notation</span> <a id="e7b0d812dc6fa89f651429266ac01c95" class="idref" href="#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="abbreviation">ℝ</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Depend&nbsp;on&nbsp;LHS&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dbind_adv_lhs" class="idref" href="#ARcoupl_dbind_adv_lhs"><span class="id" title="lemma">ARcoupl_dbind_adv_lhs</span></a> (<a id="f:173" class="idref" href="#f:173"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a>) (<a id="g:174" class="idref" href="#g:174"><span class="id" title="binder">g</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="d10b45bda51cf94929867c904f781996" class="idref" href="#d10b45bda51cf94929867c904f781996"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) (<a id="567bb6ae599edcce91de973a7c2f3e76" class="idref" href="#567bb6ae599edcce91de973a7c2f3e76"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a>) (<a id="S:177" class="idref" href="#S:177"><span class="id" title="binder">S</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="S':178" class="idref" href="#S':178"><span class="id" title="binder">S'</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="4a4d13c3700db9ae8afc7cafbbad5ce5" class="idref" href="#4a4d13c3700db9ae8afc7cafbbad5ce5"><span class="id" title="binder">ε1</span></a> <a id="af33935753cff80bf6e7273dd9cbfedb" class="idref" href="#af33935753cff80bf6e7273dd9cbfedb"><span class="id" title="binder">ε2</span></a> (<a id="E2:181" class="idref" href="#E2:181"><span class="id" title="binder">E2</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="abbreviation">ℝ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#Rle"><span class="id" title="definition">Rle</span></a> 0 <a class="idref" href="tachis.prob.couplings_app.html#4a4d13c3700db9ae8afc7cafbbad5ce5"><span class="id" title="variable">ε1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:182" class="idref" href="#a:182"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.couplings_app.html#E2:181"><span class="id" title="variable">E2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:182"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;(SeriesC&nbsp;(λ&nbsp;a,&nbsp;μ1&nbsp;a&nbsp;*&nbsp;(E2&nbsp;a))&nbsp;&lt;=&nbsp;ε2)&nbsp;→&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:183" class="idref" href="#a:183"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#d10b45bda51cf94929867c904f781996"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:183"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.couplings_app.html#E2:181"><span class="id" title="variable">E2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:183"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#af33935753cff80bf6e7273dd9cbfedb"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:184" class="idref" href="#a:184"><span class="id" title="binder">a</span></a> <a id="b:185" class="idref" href="#b:185"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#S:177"><span class="id" title="variable">S</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:184"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:185"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#f:173"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:184"><span class="id" title="variable">a</span></a>) (<a class="idref" href="tachis.prob.couplings_app.html#g:174"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:185"><span class="id" title="variable">b</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#S':178"><span class="id" title="variable">S'</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#E2:181"><span class="id" title="variable">E2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:184"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#d10b45bda51cf94929867c904f781996"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#567bb6ae599edcce91de973a7c2f3e76"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#S:177"><span class="id" title="variable">S</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4a4d13c3700db9ae8afc7cafbbad5ce5"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f:173"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.couplings_app.html#d10b45bda51cf94929867c904f781996"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.couplings_app.html#g:174"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.couplings_app.html#567bb6ae599edcce91de973a7c2f3e76"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#S':178"><span class="id" title="variable">S'</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#4a4d13c3700db9ae8afc7cafbbad5ce5"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.couplings_app.html#af33935753cff80bf6e7273dd9cbfedb"><span class="id" title="variable">ε2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hε1</span> <span class="id" title="var">HE2</span> <span class="id" title="var">Hε2</span> <span class="id" title="var">Hcoup_fg</span> <span class="id" title="var">Hcoup_R</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span> <span class="id" title="var">Hh1pos</span> <span class="id" title="var">Hh2pos</span> <span class="id" title="var">Hh1h2S</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;To&nbsp;use&nbsp;the&nbsp;hypothesis&nbsp;that&nbsp;we&nbsp;have&nbsp;an&nbsp;R-ACoupling&nbsp;up&nbsp;to&nbsp;ε1&nbsp;for&nbsp;μ1,&nbsp;μ2,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;have&nbsp;to&nbsp;rewrite&nbsp;the&nbsp;sums&nbsp;in&nbsp;such&nbsp;a&nbsp;way&nbsp;as&nbsp;to&nbsp;isolate&nbsp;(the&nbsp;expectation<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of)&nbsp;a&nbsp;random&nbsp;variable&nbsp;X&nbsp;on&nbsp;the&nbsp;LHS&nbsp;and&nbsp;Y&nbsp;on&nbsp;the&nbsp;RHS,&nbsp;and&nbsp;ε1&nbsp;on&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RHS.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;First&nbsp;step:&nbsp;rewrite&nbsp;the&nbsp;LHS&nbsp;into&nbsp;a&nbsp;RV&nbsp;X&nbsp;on&nbsp;μ1.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:188" class="idref" href="#pat:188"><span class="id" title="binder"><span id="pat:191" class="id"><span id="pat:194" class="id">(</span></span></span></a><a id="a:187" class="idref" href="#a:187"><span class="id" title="binder"><span id="pat:188" class="id"><span id="a:190" class="id"><span id="pat:191" class="id"><span id="a:193" class="id"><span id="pat:194" class="id">a</span></span></span></span></span></span></a><a id="pat:188" class="idref" href="#pat:188"><span class="id" title="binder"><span id="pat:191" class="id"><span id="pat:194" class="id">,</span></span></span></a><a id="x:186" class="idref" href="#x:186"><span class="id" title="binder"><span id="pat:188" class="id"><span id="x:189" class="id"><span id="pat:191" class="id"><span id="x:192" class="id"><span id="pat:194" class="id">x</span></span></span></span></span></span></a><a id="pat:188" class="idref" href="#pat:188"><span class="id" title="binder"><span id="pat:191" class="id"><span id="pat:194" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#x:186"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#x:186"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:187"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:187"><span class="id" title="variable">a</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Boring&nbsp;Fubini&nbsp;side-conditions.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">intro</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>. <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:195" class="idref" href="#a:195"><span class="id" title="binder"><span id="a:197" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:196" class="idref" href="#x:196"><span class="id" title="binder"><span id="x:198" class="id">x</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#x:196"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#x:196"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:195"><span class="id" title="variable">a</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ1</span>)). }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;LHS:&nbsp;Pull&nbsp;the&nbsp;(μ1&nbsp;b)&nbsp;factor&nbsp;out&nbsp;of&nbsp;the&nbsp;inner&nbsp;sum.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:199" class="idref" href="#a:199"><span class="id" title="binder"><span id="a:203" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':200" class="idref" href="#a':200"><span class="id" title="binder"><span id="a':204" class="id">a'</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:199"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#a:199"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a':200"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="tachis.prob.couplings_app.html#a':200"><span class="id" title="variable">a'</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:201" class="idref" href="#a:201"><span class="id" title="binder"><span id="a:205" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:201"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':202" class="idref" href="#a':202"><span class="id" title="binder"><span id="a':206" class="id">a'</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#a:201"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a':202"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="tachis.prob.couplings_app.html#a':202"><span class="id" title="variable">a'</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> -&gt; <span class="id" title="tactic">by</span> (<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> ; <span class="id" title="var">series</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Second&nbsp;step:&nbsp;rewrite&nbsp;the&nbsp;RHS&nbsp;into&nbsp;a&nbsp;RV&nbsp;Y&nbsp;on&nbsp;μ2.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:209" class="idref" href="#pat:209"><span class="id" title="binder"><span id="pat:212" class="id"><span id="pat:215" class="id"><span id="pat:218" class="id"><span id="pat:221" class="id"><span id="pat:224" class="id">(</span></span></span></span></span></span></a><a id="b:208" class="idref" href="#b:208"><span class="id" title="binder"><span id="pat:209" class="id"><span id="b:211" class="id"><span id="pat:212" class="id"><span id="b:214" class="id"><span id="pat:215" class="id"><span id="b:217" class="id"><span id="pat:218" class="id"><span id="b:220" class="id"><span id="pat:221" class="id"><span id="b:223" class="id"><span id="pat:224" class="id">b</span></span></span></span></span></span></span></span></span></span></span></span></a><a id="pat:209" class="idref" href="#pat:209"><span class="id" title="binder"><span id="pat:212" class="id"><span id="pat:215" class="id"><span id="pat:218" class="id"><span id="pat:221" class="id"><span id="pat:224" class="id">,</span></span></span></span></span></span></a><a id="x:207" class="idref" href="#x:207"><span class="id" title="binder"><span id="pat:209" class="id"><span id="x:210" class="id"><span id="pat:212" class="id"><span id="x:213" class="id"><span id="pat:215" class="id"><span id="x:216" class="id"><span id="pat:218" class="id"><span id="x:219" class="id"><span id="pat:221" class="id"><span id="x:222" class="id"><span id="pat:224" class="id">x</span></span></span></span></span></span></span></span></span></span></span></span></a><a id="pat:209" class="idref" href="#pat:209"><span class="id" title="binder"><span id="pat:212" class="id"><span id="pat:215" class="id"><span id="pat:218" class="id"><span id="pat:221" class="id"><span id="pat:224" class="id">)</span></span></span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#x:207"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#x:207"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:208"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:208"><span class="id" title="variable">b</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">intro</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ2</span>) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>. <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:225" class="idref" href="#a:225"><span class="id" title="binder"><span id="a:227" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:226" class="idref" href="#b:226"><span class="id" title="binder"><span id="b:228" class="id">b</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:226"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:226"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:225"><span class="id" title="variable">a</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">g</span> <span class="id" title="var">μ2</span>)). }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;RHS:&nbsp;Factor&nbsp;out&nbsp;(μ2&nbsp;b)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:229" class="idref" href="#b:229"><span class="id" title="binder"><span id="b:233" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':230" class="idref" href="#b':230"><span class="id" title="binder"><span id="b':234" class="id">b'</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:229"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:229"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b':230"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="tachis.prob.couplings_app.html#b':230"><span class="id" title="variable">b'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:231" class="idref" href="#b:231"><span class="id" title="binder"><span id="b:235" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:231"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':232" class="idref" href="#b':232"><span class="id" title="binder"><span id="b':236" class="id">b'</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:231"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b':232"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="tachis.prob.couplings_app.html#b':232"><span class="id" title="variable">b'</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> -&gt; <span class="id" title="tactic">by</span> (<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> ; <span class="id" title="var">series</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Y</span> <a id="b:237" class="idref" href="#b:237"><span class="id" title="binder"><span id="b:239" class="id">b</span></span></a> := <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':238" class="idref" href="#b':238"><span class="id" title="binder"><span id="b':240" class="id">b'</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:237"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b':238"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="tachis.prob.couplings_app.html#b':238"><span class="id" title="variable">b'</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:241" class="idref" href="#b:241"><span class="id" title="binder"><span id="b:243" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:241"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:242" class="idref" href="#b:242"><span class="id" title="binder"><span id="b:244" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:242"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">Y</span> <a class="idref" href="tachis.prob.couplings_app.html#b:242"><span class="id" title="variable">b</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Third&nbsp;step:&nbsp;isolate&nbsp;ε1&nbsp;on&nbsp;the&nbsp;RHS&nbsp;by&nbsp;moving&nbsp;ε2&nbsp;into&nbsp;X.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;To&nbsp;construct&nbsp;X,&nbsp;we&nbsp;want&nbsp;to&nbsp;push&nbsp;ε2&nbsp;into&nbsp;the&nbsp;inner&nbsp;sum.&nbsp;We&nbsp;don't&nbsp;do&nbsp;this<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directly,&nbsp;because&nbsp;if&nbsp;`ε2&nbsp;&gt;&nbsp;(f&nbsp;b&nbsp;a&nbsp;*&nbsp;h1&nbsp;a)`&nbsp;then&nbsp;X&nbsp;might&nbsp;be&nbsp;negative,&nbsp;but<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;our&nbsp;assumption&nbsp;on&nbsp;the&nbsp;ε1&nbsp;R-ACoupling&nbsp;requires&nbsp;it&nbsp;to&nbsp;be&nbsp;valued&nbsp;in&nbsp;<span class="inlinecode">0,1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instead,&nbsp;we&nbsp;take&nbsp;max(0,&nbsp;(Σ(a:A')(f&nbsp;b&nbsp;a&nbsp;*&nbsp;h1&nbsp;a))&nbsp;-&nbsp;ε2).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ALT:&nbsp;could&nbsp;use&nbsp;a&nbsp;more&nbsp;fine-grained&nbsp;max&nbsp;inside&nbsp;the&nbsp;sum?<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hε2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">fh1</span> <a id="a:245" class="idref" href="#a:245"><span class="id" title="binder"><span id="a:247" class="id">a</span></span></a> := <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':246" class="idref" href="#a':246"><span class="id" title="binder"><span id="a':248" class="id">a'</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#a:245"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a':246"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="tachis.prob.couplings_app.html#a':246"><span class="id" title="variable">a'</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:249" class="idref" href="#b:249"><span class="id" title="binder"><span id="b:251" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#b:249"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:250" class="idref" href="#a:250"><span class="id" title="binder"><span id="a:252" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:250"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">fh1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:250"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_minus"><span class="id" title="lemma">SeriesC_minus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>. <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">fh1</span> ; <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">trans</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a> =&gt; //. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>. <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span> ; <span class="id" title="var">real_solver</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;-<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_minus_distr_l"><span class="id" title="lemma">Rmult_minus_distr_l</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:253" class="idref" href="#a:253"><span class="id" title="binder"><span id="a:254" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:253"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax"><span class="id" title="definition">Rmax</span></a> (<span class="id" title="var">fh1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:253"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">E2</span> <a class="idref" href="tachis.prob.couplings_app.html#a:253"><span class="id" title="variable">a</span></a>) 0)) ; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">X</span> <a id="a:255" class="idref" href="#a:255"><span class="id" title="binder"><span id="a:256" class="id">a</span></span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax"><span class="id" title="definition">Rmax</span></a> (<span class="id" title="var">fh1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:255"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">E2</span> <a class="idref" href="tachis.prob.couplings_app.html#a:255"><span class="id" title="variable">a</span></a>) 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:257" class="idref" href="#a:257"><span class="id" title="binder"><span id="a:259" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:257"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:258" class="idref" href="#a:258"><span class="id" title="binder"><span id="a:260" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:258"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">X</span> <a class="idref" href="tachis.prob.couplings_app.html#a:258"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcoup_R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcoup_R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span> ; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_r"><span class="id" title="lemma">Rmax_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">X</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_lub"><span class="id" title="lemma">Rmax_lub</span></a>; [ | <span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> 1 =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span> ; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">Y</span> ; <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">trans</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Sab</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_lub"><span class="id" title="lemma">Rmax_lub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">Y</span> ; <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcoup_fg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcoup_fg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le'"><span class="id" title="lemma">SeriesC_le'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;3:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> 1. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_r"><span class="id" title="lemma">Rmax_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_lub"><span class="id" title="lemma">Rmax_lub</span></a> ; [| <span class="id" title="var">lra</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">E2</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_minus_r"><span class="id" title="lemma">Rplus_minus_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a> =&gt; //. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">trans</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)) =&gt; //. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_Rabs"><span class="id" title="lemma">ex_seriesC_Rabs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_mult"><span class="id" title="lemma">Rabs_mult</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_right"><span class="id" title="lemma">Rabs_right</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> 1. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">HE2</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. 1: <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_pos"><span class="id" title="lemma">Rabs_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rabs_le_between'"><span class="id" title="lemma">Rabs_le_between'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">fh1</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">trans</span> 0 ; <span class="id" title="var">series</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">trans</span> 1. 2: <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':261" class="idref" href="#a':261"><span class="id" title="binder"><span id="a':262" class="id">a'</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> <a class="idref" href="tachis.prob.couplings_app.html#a':261"><span class="id" title="variable">a'</span></a>)) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a> =&gt; //. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">real_solver_partial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmax_l"><span class="id" title="lemma">Rmax_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dbind_adv_lhs'" class="idref" href="#ARcoupl_dbind_adv_lhs'"><span class="id" title="lemma">ARcoupl_dbind_adv_lhs'</span></a> (<a id="E2:263" class="idref" href="#E2:263"><span class="id" title="binder">E2</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="abbreviation">ℝ</span></a>) (<a id="f:264" class="idref" href="#f:264"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a>) (<a id="g:265" class="idref" href="#g:265"><span class="id" title="binder">g</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="bec5d6b134d3b1a07dddceeb71dabf29" class="idref" href="#bec5d6b134d3b1a07dddceeb71dabf29"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) (<a id="b9256d778f3c48658ad479106ef05bc4" class="idref" href="#b9256d778f3c48658ad479106ef05bc4"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a>) (<a id="S:268" class="idref" href="#S:268"><span class="id" title="binder">S</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="S':269" class="idref" href="#S':269"><span class="id" title="binder">S'</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="9881725b89e250a0a3ae9bb150955248" class="idref" href="#9881725b89e250a0a3ae9bb150955248"><span class="id" title="binder">ε1</span></a> <a id="75ffa263d55a8adb196e3ae919ee6ea1" class="idref" href="#75ffa263d55a8adb196e3ae919ee6ea1"><span class="id" title="binder">ε2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#Rle"><span class="id" title="definition">Rle</span></a> 0 <a class="idref" href="tachis.prob.couplings_app.html#9881725b89e250a0a3ae9bb150955248"><span class="id" title="variable">ε1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="n:272" class="idref" href="#n:272"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:273" class="idref" href="#a:273"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.couplings_app.html#E2:263"><span class="id" title="variable">E2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:273"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#n:272"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:274" class="idref" href="#a:274"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#bec5d6b134d3b1a07dddceeb71dabf29"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:274"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.couplings_app.html#E2:263"><span class="id" title="variable">E2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:274"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#75ffa263d55a8adb196e3ae919ee6ea1"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:275" class="idref" href="#a:275"><span class="id" title="binder">a</span></a> <a id="b:276" class="idref" href="#b:276"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#S:268"><span class="id" title="variable">S</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:275"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:276"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#f:264"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:275"><span class="id" title="variable">a</span></a>) (<a class="idref" href="tachis.prob.couplings_app.html#g:265"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:276"><span class="id" title="variable">b</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#S':269"><span class="id" title="variable">S'</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#E2:263"><span class="id" title="variable">E2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:275"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#bec5d6b134d3b1a07dddceeb71dabf29"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b9256d778f3c48658ad479106ef05bc4"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#S:268"><span class="id" title="variable">S</span></a> <a class="idref" href="tachis.prob.couplings_app.html#9881725b89e250a0a3ae9bb150955248"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f:264"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.couplings_app.html#bec5d6b134d3b1a07dddceeb71dabf29"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.couplings_app.html#g:265"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b9256d778f3c48658ad479106ef05bc4"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#S':269"><span class="id" title="variable">S'</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#9881725b89e250a0a3ae9bb150955248"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.couplings_app.html#75ffa263d55a8adb196e3ae919ee6ea1"><span class="id" title="variable">ε2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hε1</span> <span class="id" title="var">HE2</span> <span class="id" title="var">Hsum</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">Hcoupl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">E2'</span> <a id="x:277" class="idref" href="#x:277"><span class="id" title="binder"><span id="x:278" class="id">x</span></span></a>:= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin"><span class="id" title="definition">Rmin</span></a> 1 (<span class="id" title="var">E2</span> <a class="idref" href="tachis.prob.couplings_app.html#x:277"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_mon_grading"><span class="id" title="lemma">ARcoupl_mon_grading</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">ε1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:279" class="idref" href="#a:279"><span class="id" title="binder"><span id="a:280" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:279"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">E2'</span> <a class="idref" href="tachis.prob.couplings_app.html#a:279"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>; <span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">exact</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">E2'</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_glb"><span class="id" title="lemma">Rmin_glb</span></a>; [<span class="id" title="var">lra</span>|<span class="id" title="var">naive_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_r"><span class="id" title="lemma">Rmin_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_dbind_adv_lhs"><span class="id" title="lemma">ARcoupl_dbind_adv_lhs</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">E2'</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_glb"><span class="id" title="lemma">Rmin_glb</span></a>; [<span class="id" title="var">lra</span>|<span class="id" title="var">naive_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_l"><span class="id" title="lemma">Rmin_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hfg</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Hs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">E2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin"><span class="id" title="definition">Rmin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_1"><span class="id" title="lemma">ARcoupl_1</span></a>; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_mon_grading"><span class="id" title="lemma">ARcoupl_mon_grading</span></a>; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Depend&nbsp;on&nbsp;RHS&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dbind_adv_rhs" class="idref" href="#ARcoupl_dbind_adv_rhs"><span class="id" title="lemma">ARcoupl_dbind_adv_rhs</span></a> (<a id="f:281" class="idref" href="#f:281"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a>) (<a id="g:282" class="idref" href="#g:282"><span class="id" title="binder">g</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="88eaf6c1862202d9d9777d44a4e0f632" class="idref" href="#88eaf6c1862202d9d9777d44a4e0f632"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) (<a id="c2e022f9c7692b9e0a04f881002cb5f5" class="idref" href="#c2e022f9c7692b9e0a04f881002cb5f5"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a>) (<a id="S:285" class="idref" href="#S:285"><span class="id" title="binder">S</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="S':286" class="idref" href="#S':286"><span class="id" title="binder">S'</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="7fdc699d61dbc90a405036a0b9e349a7" class="idref" href="#7fdc699d61dbc90a405036a0b9e349a7"><span class="id" title="binder">ε1</span></a> <a id="c2760b12485e44c1dfd8768f06228bf8" class="idref" href="#c2760b12485e44c1dfd8768f06228bf8"><span class="id" title="binder">ε2</span></a> (<a id="E2:289" class="idref" href="#E2:289"><span class="id" title="binder">E2</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="abbreviation">ℝ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#Rle"><span class="id" title="definition">Rle</span></a> 0 <a class="idref" href="tachis.prob.couplings_app.html#7fdc699d61dbc90a405036a0b9e349a7"><span class="id" title="variable">ε1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:290" class="idref" href="#b:290"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.couplings_app.html#E2:289"><span class="id" title="variable">E2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:290"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:291" class="idref" href="#b:291"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#c2e022f9c7692b9e0a04f881002cb5f5"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:291"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.couplings_app.html#E2:289"><span class="id" title="variable">E2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:291"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#c2760b12485e44c1dfd8768f06228bf8"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:292" class="idref" href="#a:292"><span class="id" title="binder">a</span></a> <a id="b:293" class="idref" href="#b:293"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#S:285"><span class="id" title="variable">S</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:292"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:293"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#f:281"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:292"><span class="id" title="variable">a</span></a>) (<a class="idref" href="tachis.prob.couplings_app.html#g:282"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:293"><span class="id" title="variable">b</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#S':286"><span class="id" title="variable">S'</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#E2:289"><span class="id" title="variable">E2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:293"><span class="id" title="variable">b</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#88eaf6c1862202d9d9777d44a4e0f632"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#c2e022f9c7692b9e0a04f881002cb5f5"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#S:285"><span class="id" title="variable">S</span></a> <a class="idref" href="tachis.prob.couplings_app.html#7fdc699d61dbc90a405036a0b9e349a7"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f:281"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.couplings_app.html#88eaf6c1862202d9d9777d44a4e0f632"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.couplings_app.html#g:282"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.couplings_app.html#c2e022f9c7692b9e0a04f881002cb5f5"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#S':286"><span class="id" title="variable">S'</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#7fdc699d61dbc90a405036a0b9e349a7"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.couplings_app.html#c2760b12485e44c1dfd8768f06228bf8"><span class="id" title="variable">ε2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hε1</span> <span class="id" title="var">HE2</span> <span class="id" title="var">Hε2</span> <span class="id" title="var">Hcoup_fg</span> <span class="id" title="var">Hcoup_R</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span> <span class="id" title="var">Hh1pos</span> <span class="id" title="var">Hh2pos</span> <span class="id" title="var">Hh1h2S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dbind_pmf"><span class="id" title="definition">dbind_pmf</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Used&nbsp;later.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">ε2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hε2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">HE2</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;To&nbsp;use&nbsp;the&nbsp;hypothesis&nbsp;that&nbsp;we&nbsp;have&nbsp;an&nbsp;R-ACoupling&nbsp;up&nbsp;to&nbsp;ε1&nbsp;for&nbsp;μ1,&nbsp;μ2,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;have&nbsp;to&nbsp;rewrite&nbsp;the&nbsp;sums&nbsp;in&nbsp;such&nbsp;a&nbsp;way&nbsp;as&nbsp;to&nbsp;isolate&nbsp;(the&nbsp;expectation<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of)&nbsp;a&nbsp;random&nbsp;variable&nbsp;X&nbsp;on&nbsp;the&nbsp;LHS&nbsp;and&nbsp;Y&nbsp;on&nbsp;the&nbsp;RHS,&nbsp;and&nbsp;ε1&nbsp;on&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RHS.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;First&nbsp;step:&nbsp;rewrite&nbsp;the&nbsp;LHS&nbsp;into&nbsp;a&nbsp;RV&nbsp;X&nbsp;on&nbsp;μ1.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:296" class="idref" href="#pat:296"><span class="id" title="binder"><span id="pat:299" class="id"><span id="pat:302" class="id"><span id="pat:305" class="id"><span id="pat:308" class="id"><span id="pat:311" class="id">(</span></span></span></span></span></span></a><a id="a:295" class="idref" href="#a:295"><span class="id" title="binder"><span id="pat:296" class="id"><span id="a:298" class="id"><span id="pat:299" class="id"><span id="a:301" class="id"><span id="pat:302" class="id"><span id="a:304" class="id"><span id="pat:305" class="id"><span id="a:307" class="id"><span id="pat:308" class="id"><span id="a:310" class="id"><span id="pat:311" class="id">a</span></span></span></span></span></span></span></span></span></span></span></span></a><a id="pat:296" class="idref" href="#pat:296"><span class="id" title="binder"><span id="pat:299" class="id"><span id="pat:302" class="id"><span id="pat:305" class="id"><span id="pat:308" class="id"><span id="pat:311" class="id">,</span></span></span></span></span></span></a><a id="x:294" class="idref" href="#x:294"><span class="id" title="binder"><span id="pat:296" class="id"><span id="x:297" class="id"><span id="pat:299" class="id"><span id="x:300" class="id"><span id="pat:302" class="id"><span id="x:303" class="id"><span id="pat:305" class="id"><span id="x:306" class="id"><span id="pat:308" class="id"><span id="x:309" class="id"><span id="pat:311" class="id">x</span></span></span></span></span></span></span></span></span></span></span></span></a><a id="pat:296" class="idref" href="#pat:296"><span class="id" title="binder"><span id="pat:299" class="id"><span id="pat:302" class="id"><span id="pat:305" class="id"><span id="pat:308" class="id"><span id="pat:311" class="id">)</span></span></span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#x:294"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#x:294"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:295"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:295"><span class="id" title="variable">a</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Boring&nbsp;Fubini&nbsp;sideconditions.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh1pos</span> <span class="id" title="var">a'</span>) ; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">intro</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh1pos</span> <span class="id" title="var">a'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:312" class="idref" href="#a:312"><span class="id" title="binder"><span id="a:314" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:313" class="idref" href="#x:313"><span class="id" title="binder"><span id="x:315" class="id">x</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#x:313"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#x:313"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:312"><span class="id" title="variable">a</span></a>))); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh1pos</span> <span class="id" title="var">a'</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [ | <span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> ((<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ1</span>)) <span class="id" title="var">a'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ1</span>)). }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;LHS:&nbsp;Pull&nbsp;the&nbsp;(μ1&nbsp;b)&nbsp;factor&nbsp;out&nbsp;of&nbsp;the&nbsp;inner&nbsp;sum.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:316" class="idref" href="#b:316"><span class="id" title="binder"><span id="b:320" class="id">b</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:317" class="idref" href="#a:317"><span class="id" title="binder"><span id="a:321" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#b:316"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#b:316"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:317"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:317"><span class="id" title="variable">a</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:318" class="idref" href="#b:318"><span class="id" title="binder"><span id="b:322" class="id">b</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#b:318"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:319" class="idref" href="#a:319"><span class="id" title="binder"><span id="a:323" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#b:318"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:319"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:319"><span class="id" title="variable">a</span></a>))) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Second&nbsp;step:&nbsp;rewrite&nbsp;the&nbsp;RHS&nbsp;into&nbsp;a&nbsp;RV&nbsp;Y&nbsp;on&nbsp;μ2.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:326" class="idref" href="#pat:326"><span class="id" title="binder"><span id="pat:329" class="id"><span id="pat:332" class="id"><span id="pat:335" class="id"><span id="pat:338" class="id"><span id="pat:341" class="id">(</span></span></span></span></span></span></a><a id="b:325" class="idref" href="#b:325"><span class="id" title="binder"><span id="pat:326" class="id"><span id="b:328" class="id"><span id="pat:329" class="id"><span id="b:331" class="id"><span id="pat:332" class="id"><span id="b:334" class="id"><span id="pat:335" class="id"><span id="b:337" class="id"><span id="pat:338" class="id"><span id="b:340" class="id"><span id="pat:341" class="id">b</span></span></span></span></span></span></span></span></span></span></span></span></a><a id="pat:326" class="idref" href="#pat:326"><span class="id" title="binder"><span id="pat:329" class="id"><span id="pat:332" class="id"><span id="pat:335" class="id"><span id="pat:338" class="id"><span id="pat:341" class="id">,</span></span></span></span></span></span></a><a id="x:324" class="idref" href="#x:324"><span class="id" title="binder"><span id="pat:326" class="id"><span id="x:327" class="id"><span id="pat:329" class="id"><span id="x:330" class="id"><span id="pat:332" class="id"><span id="x:333" class="id"><span id="pat:335" class="id"><span id="x:336" class="id"><span id="pat:338" class="id"><span id="x:339" class="id"><span id="pat:341" class="id">x</span></span></span></span></span></span></span></span></span></span></span></span></a><a id="pat:326" class="idref" href="#pat:326"><span class="id" title="binder"><span id="pat:329" class="id"><span id="pat:332" class="id"><span id="pat:335" class="id"><span id="pat:338" class="id"><span id="pat:341" class="id">)</span></span></span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#x:324"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#x:324"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:325"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:325"><span class="id" title="variable">b</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">intros</span> <span class="id" title="var">b'</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh2pos</span> <span class="id" title="var">b'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">intro</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh2pos</span> <span class="id" title="var">b'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ2</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:342" class="idref" href="#a:342"><span class="id" title="binder"><span id="a:344" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:343" class="idref" href="#b:343"><span class="id" title="binder"><span id="b:345" class="id">b</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:343"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:343"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:342"><span class="id" title="variable">a</span></a>))); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">b'</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh2pos</span> <span class="id" title="var">b'</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [ | <span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> ((<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">g</span> <span class="id" title="var">μ2</span>)) <span class="id" title="var">b'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <span class="id" title="var">g</span> <span class="id" title="var">μ2</span>)). }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;RHS:&nbsp;Factor&nbsp;out&nbsp;(μ2&nbsp;b)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:346" class="idref" href="#b:346"><span class="id" title="binder"><span id="b:350" class="id">b</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:347" class="idref" href="#a:347"><span class="id" title="binder"><span id="a:351" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:346"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:346"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:347"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="tachis.prob.couplings_app.html#a:347"><span class="id" title="variable">a</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:348" class="idref" href="#b:348"><span class="id" title="binder"><span id="b:352" class="id">b</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:348"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:349" class="idref" href="#a:349"><span class="id" title="binder"><span id="a:353" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:348"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:349"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="tachis.prob.couplings_app.html#a:349"><span class="id" title="variable">a</span></a>))) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a> <span class="id" title="var">ε1</span>) -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">X</span> <a id="a:354" class="idref" href="#a:354"><span class="id" title="binder"><span id="a:356" class="id">a</span></span></a> := <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':355" class="idref" href="#a':355"><span class="id" title="binder"><span id="a':357" class="id">a'</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#a:354"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a':355"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h1</span> <a class="idref" href="tachis.prob.couplings_app.html#a':355"><span class="id" title="variable">a'</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:358" class="idref" href="#b:358"><span class="id" title="binder"><span id="b:360" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#b:358"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:359" class="idref" href="#a:359"><span class="id" title="binder"><span id="a:361" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:359"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">X</span> <a class="idref" href="tachis.prob.couplings_app.html#a:359"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hε2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">gh2</span> <a id="b:362" class="idref" href="#b:362"><span class="id" title="binder"><span id="b:364" class="id">b</span></span></a> := <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':363" class="idref" href="#b':363"><span class="id" title="binder"><span id="b':365" class="id">b'</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:362"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b':363"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h2</span> <a class="idref" href="tachis.prob.couplings_app.html#b':363"><span class="id" title="variable">b'</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:366" class="idref" href="#b:366"><span class="id" title="binder"><span id="b:368" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:366"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:367" class="idref" href="#b:367"><span class="id" title="binder"><span id="b:369" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:367"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">gh2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:367"><span class="id" title="variable">b</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a> ; <span class="id" title="tactic">auto</span>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">trans</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a> =&gt; //. <span class="id" title="tactic">intros</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hh2pos</span> <span class="id" title="var">b'</span>). <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">HE2</span> <span class="id" title="var">b</span>) ; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Y</span> <a id="b:370" class="idref" href="#b:370"><span class="id" title="binder"><span id="b:371" class="id">b</span></span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin"><span class="id" title="definition">Rmin</span></a> (<span class="id" title="var">gh2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:370"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">E2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:370"><span class="id" title="variable">b</span></a>) 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;-<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_plus_distr_l"><span class="id" title="lemma">Rmult_plus_distr_l</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="b:372" class="idref" href="#b:372"><span class="id" title="binder"><span id="b:373" class="id">b</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">gh2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:372"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">E2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:372"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_le_0_compat"><span class="id" title="lemma">Rplus_le_le_0_compat</span></a>. 2: <span class="id" title="tactic">apply</span> <span class="id" title="var">HE2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hh2pos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:374" class="idref" href="#b:374"><span class="id" title="binder"><span id="b:375" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:374"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">Y</span> <a class="idref" href="tachis.prob.couplings_app.html#b:374"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">ε1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;is&nbsp;the&nbsp;core&nbsp;of&nbsp;the&nbsp;argument.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcoup_R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcoup_R</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh1pos</span> <span class="id" title="var">a'</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>))); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hh1pos</span> <span class="id" title="var">a'</span>); <span class="id" title="var">real_solver</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">Y</span> /<span class="id" title="var">gh2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_glb"><span class="id" title="lemma">Rmin_glb</span></a> ; [|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Reals_ext.html#Rle_plus_r"><span class="id" title="lemma">Rle_plus_r</span></a>. 1: <span class="id" title="tactic">apply</span> <span class="id" title="var">HE2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hh2pos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">Y</span>/<span class="id" title="var">gh2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_r"><span class="id" title="lemma">Rmin_r</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Sab</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_glb"><span class="id" title="lemma">Rmin_glb</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':376" class="idref" href="#a':376"><span class="id" title="binder"><span id="a':377" class="id">a'</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> <a class="idref" href="tachis.prob.couplings_app.html#a':376"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> 1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hh1pos</span> <span class="id" title="var">a'</span>). <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>. <span class="id" title="tactic">exists</span> 1. <span class="id" title="tactic">intros</span> ; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcoup_fg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcoup_fg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Reals_ext.html#Rle_plus_proper"><span class="id" title="instance">Rle_plus_proper</span></a> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le'"><span class="id" title="lemma">SeriesC_le'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: { <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a> =&gt; //. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_l"><span class="id" title="lemma">Rmin_l</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_glb"><span class="id" title="lemma">Rmin_glb</span></a>. 2: <span class="id" title="var">lra</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_r"><span class="id" title="lemma">Rmin_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 1). <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">split</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Reals_ext.html#Rle_plus_proper"><span class="id" title="instance">Rle_plus_proper</span></a> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">gh2</span>. <span class="id" title="var">trans</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b':378" class="idref" href="#b':378"><span class="id" title="binder"><span id="b':379" class="id">b'</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <span class="id" title="var">b</span> <a class="idref" href="tachis.prob.couplings_app.html#b':378"><span class="id" title="variable">b'</span></a>)) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b'</span> =&gt; //. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hh2pos</span> <span class="id" title="var">b'</span>). <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">HE2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dbind_adv_rhs'" class="idref" href="#ARcoupl_dbind_adv_rhs'"><span class="id" title="lemma">ARcoupl_dbind_adv_rhs'</span></a> (<a id="E2:380" class="idref" href="#E2:380"><span class="id" title="binder">E2</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="abbreviation">ℝ</span></a>) (<a id="f:381" class="idref" href="#f:381"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a>) (<a id="g:382" class="idref" href="#g:382"><span class="id" title="binder">g</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="40f8fcc0e359e0df132028c2e987efe1" class="idref" href="#40f8fcc0e359e0df132028c2e987efe1"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) (<a id="1362468003be55e527c8b93238e7cb06" class="idref" href="#1362468003be55e527c8b93238e7cb06"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a>) (<a id="S:385" class="idref" href="#S:385"><span class="id" title="binder">S</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="S':386" class="idref" href="#S':386"><span class="id" title="binder">S'</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A'"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="4ea50eba3625aa08357e96b21c19973a" class="idref" href="#4ea50eba3625aa08357e96b21c19973a"><span class="id" title="binder">ε1</span></a> <a id="6ce7a5f23f8a205262b9cf3759338fb0" class="idref" href="#6ce7a5f23f8a205262b9cf3759338fb0"><span class="id" title="binder">ε2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#Rle"><span class="id" title="definition">Rle</span></a> 0 <a class="idref" href="tachis.prob.couplings_app.html#4ea50eba3625aa08357e96b21c19973a"><span class="id" title="variable">ε1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="n:389" class="idref" href="#n:389"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:390" class="idref" href="#b:390"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.couplings_app.html#E2:380"><span class="id" title="variable">E2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:390"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#n:389"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:391" class="idref" href="#b:391"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#1362468003be55e527c8b93238e7cb06"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:391"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.couplings_app.html#E2:380"><span class="id" title="variable">E2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:391"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#6ce7a5f23f8a205262b9cf3759338fb0"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:392" class="idref" href="#a:392"><span class="id" title="binder">a</span></a> <a id="b:393" class="idref" href="#b:393"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#S:385"><span class="id" title="variable">S</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:392"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:393"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#f:381"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:392"><span class="id" title="variable">a</span></a>) (<a class="idref" href="tachis.prob.couplings_app.html#g:382"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:393"><span class="id" title="variable">b</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#S':386"><span class="id" title="variable">S'</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#E2:380"><span class="id" title="variable">E2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:393"><span class="id" title="variable">b</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#40f8fcc0e359e0df132028c2e987efe1"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#1362468003be55e527c8b93238e7cb06"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#S:385"><span class="id" title="variable">S</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4ea50eba3625aa08357e96b21c19973a"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f:381"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.couplings_app.html#40f8fcc0e359e0df132028c2e987efe1"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dbind"><span class="id" title="definition">dbind</span></a> <a class="idref" href="tachis.prob.couplings_app.html#g:382"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.couplings_app.html#1362468003be55e527c8b93238e7cb06"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#S':386"><span class="id" title="variable">S'</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#4ea50eba3625aa08357e96b21c19973a"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.couplings_app.html#6ce7a5f23f8a205262b9cf3759338fb0"><span class="id" title="variable">ε2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hε1</span> <span class="id" title="var">HE2</span> <span class="id" title="var">Hsum</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">Hcoupl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">E2'</span> <a id="x:394" class="idref" href="#x:394"><span class="id" title="binder"><span id="x:395" class="id">x</span></span></a>:= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin"><span class="id" title="definition">Rmin</span></a> 1 (<span class="id" title="var">E2</span> <a class="idref" href="tachis.prob.couplings_app.html#x:394"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_mon_grading"><span class="id" title="lemma">ARcoupl_mon_grading</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">ε1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:396" class="idref" href="#a:396"><span class="id" title="binder"><span id="a:397" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#a:396"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">E2'</span> <a class="idref" href="tachis.prob.couplings_app.html#a:396"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>; <span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">exact</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">E2'</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_glb"><span class="id" title="lemma">Rmin_glb</span></a>; [<span class="id" title="var">lra</span>|<span class="id" title="var">naive_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_r"><span class="id" title="lemma">Rmin_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_dbind_adv_rhs"><span class="id" title="lemma">ARcoupl_dbind_adv_rhs</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">E2'</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_glb"><span class="id" title="lemma">Rmin_glb</span></a>; [<span class="id" title="var">lra</span>|<span class="id" title="var">naive_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_l"><span class="id" title="lemma">Rmin_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hfg</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Hs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">E2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin"><span class="id" title="definition">Rmin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_1"><span class="id" title="lemma">ARcoupl_1</span></a>; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_mon_grading"><span class="id" title="lemma">ARcoupl_mon_grading</span></a>; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Expval_dmap" class="idref" href="#Expval_dmap"><span class="id" title="lemma">Expval_dmap</span></a> (<a id="bf9657d132968ec022b100deeeebdbc7" class="idref" href="#bf9657d132968ec022b100deeeebdbc7"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) (<a id="f:399" class="idref" href="#f:399"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a>) (<a id="g:400" class="idref" href="#g:400"><span class="id" title="binder">g</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:401" class="idref" href="#b:401"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#g:400"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:401"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#ex_expval"><span class="id" title="definition">ex_expval</span></a> <a class="idref" href="tachis.prob.couplings_app.html#bf9657d132968ec022b100deeeebdbc7"><span class="id" title="variable">μ</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#g:400"><span class="id" title="variable">g</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f:399"><span class="id" title="variable">f</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> (<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f:399"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.couplings_app.html#bf9657d132968ec022b100deeeebdbc7"><span class="id" title="variable">μ</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#g:400"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#Expval"><span class="id" title="definition">Expval</span></a> <a class="idref" href="tachis.prob.couplings_app.html#bf9657d132968ec022b100deeeebdbc7"><span class="id" title="variable">μ</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#g:400"><span class="id" title="variable">g</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f:399"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#Expval_dbind"><span class="id" title="lemma">Expval_dbind</span></a>; [|<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> =&gt; <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#Expval_dret"><span class="id" title="lemma">Expval_dret</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#ex_expval_dbind"><span class="id" title="lemma">ex_expval_dbind</span></a>; [<span class="id" title="var">done</span>| |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_ext"><span class="id" title="lemma">ex_seriesC_ext</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#Expval_dret"><span class="id" title="lemma">Expval_dret</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#ex_expval_dret"><span class="id" title="lemma">ex_expval_dret</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_mass_leq" class="idref" href="#ARcoupl_mass_leq"><span class="id" title="lemma">ARcoupl_mass_leq</span></a> (<a id="86c99ea0943024f83ccfdeb5c1cd4351" class="idref" href="#86c99ea0943024f83ccfdeb5c1cd4351"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) (<a id="cd2a6107eda14386598964a92fd8d054" class="idref" href="#cd2a6107eda14386598964a92fd8d054"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a>) (<a id="R:404" class="idref" href="#R:404"><span class="id" title="binder">R</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="ddc11097a7cb316893375066765847f6" class="idref" href="#ddc11097a7cb316893375066765847f6"><span class="id" title="binder">ε</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#86c99ea0943024f83ccfdeb5c1cd4351"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#cd2a6107eda14386598964a92fd8d054"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R:404"><span class="id" title="variable">R</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ddc11097a7cb316893375066765847f6"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.couplings_app.html#86c99ea0943024f83ccfdeb5c1cd4351"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.couplings_app.html#cd2a6107eda14386598964a92fd8d054"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ddc11097a7cb316893375066765847f6"><span class="id" title="variable">ε</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcoupl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcoupl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcoupl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_eq" class="idref" href="#ARcoupl_eq"><span class="id" title="lemma">ARcoupl_eq</span></a> (<a id="79e0ddf16ffc6ff2ad6e1ddbedf6b57e" class="idref" href="#79e0ddf16ffc6ff2ad6e1ddbedf6b57e"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#79e0ddf16ffc6ff2ad6e1ddbedf6b57e"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#79e0ddf16ffc6ff2ad6e1ddbedf6b57e"><span class="id" title="variable">μ1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>); <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hg</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hg</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_eq_elim" class="idref" href="#ARcoupl_eq_elim"><span class="id" title="lemma">ARcoupl_eq_elim</span></a> (<a id="0e24616aba8b7690e3c7948927cd5514" class="idref" href="#0e24616aba8b7690e3c7948927cd5514"><span class="id" title="binder">μ1</span></a> <a id="13a1af1f86e96806a0e8ef1f3f9840a4" class="idref" href="#13a1af1f86e96806a0e8ef1f3f9840a4"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a>) <a id="9935f1e73af72999ea5119b8f821bba2" class="idref" href="#9935f1e73af72999ea5119b8f821bba2"><span class="id" title="binder">ε</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#0e24616aba8b7690e3c7948927cd5514"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#13a1af1f86e96806a0e8ef1f3f9840a4"><span class="id" title="variable">μ2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="tachis.prob.couplings_app.html#9935f1e73af72999ea5119b8f821bba2"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:410" class="idref" href="#a:410"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#0e24616aba8b7690e3c7948927cd5514"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:410"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#13a1af1f86e96806a0e8ef1f3f9840a4"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:410"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.couplings_app.html#9935f1e73af72999ea5119b8f821bba2"><span class="id" title="variable">ε</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcoupl</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcoupl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="var">a</span> (<span class="id" title="var">μ1</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="var">a</span> (<span class="id" title="var">μ2</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:411" class="idref" href="#n:411"><span class="id" title="binder"><span id="n:413" class="id">n</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#n:411"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:412" class="idref" href="#n:412"><span class="id" title="binder"><span id="n:414" class="id">n</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#n:412"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#n:412"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:415" class="idref" href="#n:415"><span class="id" title="binder"><span id="n:417" class="id">n</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#n:415"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ2</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:416" class="idref" href="#n:416"><span class="id" title="binder"><span id="n:418" class="id">n</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#n:416"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#n:416"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcoupl</span>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.couplings_app.html#couplings_theory"><span class="id" title="section">couplings_theory</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="ARcoupl" class="idref" href="#ARcoupl"><span class="id" title="section">ARcoupl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:421" class="idref" href="#H:421"><span class="id" title="binder">Countable</span></a> <a id="A:419" class="idref" href="#A:419"><span class="id" title="binder"><span id="H:421" class="id">A</span></span></a>, <a id="H0:424" class="idref" href="#H0:424"><span class="id" title="binder">Countable</span></a> <a id="B:422" class="idref" href="#B:422"><span class="id" title="binder"><span id="H0:424" class="id">B</span></span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="9823e3c635367c6cfd8ac5b86722b118" class="idref" href="#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl.A"><span class="id" title="variable">A</span></a>) (<a id="4955fc9ea72d193312fb1711bba1603f" class="idref" href="#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl.B"><span class="id" title="variable">B</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_trivial" class="idref" href="#ARcoupl_trivial"><span class="id" title="lemma">ARcoupl_trivial</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a>) 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hμ1</span> <span class="id" title="var">Hμ2</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.prob.countable_sum.html#LubC_correct"><span class="id" title="lemma">LubC_correct</span></a> <span class="id" title="var">f</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.prob.countable_sum.html#GlbC_correct"><span class="id" title="lemma">GlbC_correct</span></a> <span class="id" title="var">g</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">H3</span> <span class="id" title="var">H4</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:427" class="idref" href="#a:427"><span class="id" title="binder"><span id="a:428" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:427"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rbar.html#real"><span class="id" title="definition">real</span></a> (<a class="idref" href="tachis.prob.countable_sum.html#LubC"><span class="id" title="definition">LubC</span></a> <span class="id" title="var">f</span>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le'"><span class="id" title="lemma">SeriesC_le'</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Series_ext.html#rbar_le_finite"><span class="id" title="lemma">rbar_le_finite</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prelude.Series_ext.html#Rbar_le_sandwich"><span class="id" title="lemma">Rbar_le_sandwich</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) 1); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <a class="idref" href="tachis.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a> <span class="id" title="var">Hμ1</span> -<span class="id" title="var">Hμ2</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:429" class="idref" href="#b:429"><span class="id" title="binder"><span id="b:430" class="id">b</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:429"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rbar.html#real"><span class="id" title="definition">real</span></a> (<a class="idref" href="tachis.prob.countable_sum.html#GlbC"><span class="id" title="definition">GlbC</span></a> <span class="id" title="var">g</span>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;step&nbsp;form&nbsp;LubC&nbsp;f&nbsp;to&nbsp;Glb&nbsp;here&nbsp;because&nbsp;it&nbsp;is&nbsp;easier&nbsp;if<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;have&nbsp;an&nbsp;inhabitant&nbsp;of&nbsp;B&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le'"><span class="id" title="lemma">SeriesC_le'</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Series_ext.html#rbar_le_finite"><span class="id" title="lemma">rbar_le_finite</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prelude.Series_ext.html#Rbar_le_sandwich"><span class="id" title="lemma">Rbar_le_sandwich</span></a> 0 (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.prob.countable_sum.html#LubC"><span class="id" title="definition">LubC</span></a> <span class="id" title="var">f</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hlub</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Series_ext.html#finite_rbar_le"><span class="id" title="lemma">finite_rbar_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rbar.html#is_finite_correct"><span class="id" title="lemma">is_finite_correct</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hfg</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le'"><span class="id" title="lemma">SeriesC_le'</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Series_ext.html#finite_rbar_le"><span class="id" title="lemma">finite_rbar_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prelude.Series_ext.html#Rbar_le_sandwich"><span class="id" title="lemma">Rbar_le_sandwich</span></a> 0 (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <a class="idref" href="tachis.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hg</span> <span class="id" title="var">b</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_pos_R" class="idref" href="#ARcoupl_pos_R"><span class="id" title="lemma">ARcoupl_pos_R</span></a> <a id="R:431" class="idref" href="#R:431"><span class="id" title="binder">R</span></a> <a id="3305245c48ccf0e5fdc3eea656928d11" class="idref" href="#3305245c48ccf0e5fdc3eea656928d11"><span class="id" title="binder">ε</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R:431"><span class="id" title="variable">R</span></a> <a class="idref" href="tachis.prob.couplings_app.html#3305245c48ccf0e5fdc3eea656928d11"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:433" class="idref" href="#a:433"><span class="id" title="binder">a</span></a> <a id="b:434" class="idref" href="#b:434"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R:431"><span class="id" title="variable">R</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:433"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:434"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="tachis.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:433"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:434"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0) <a class="idref" href="tachis.prob.couplings_app.html#3305245c48ccf0e5fdc3eea656928d11"><span class="id" title="variable">ε</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hμ1μ2</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:435" class="idref" href="#a:435"><span class="id" title="binder"><span id="a:437" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:435"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#a:435"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:436" class="idref" href="#a:436"><span class="id" title="binder"><span id="a:438" class="id">a</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:436"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:436"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#a:436"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <span class="id" title="var">a</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.couplings_app.html#9823e3c635367c6cfd8ac5b86722b118"><span class="id" title="variable">μ1</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0); <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:439" class="idref" href="#b:439"><span class="id" title="binder"><span id="b:441" class="id">b</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:439"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:439"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:440" class="idref" href="#b:440"><span class="id" title="binder"><span id="b:442" class="id">b</span></span></a> : <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:440"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:440"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:440"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> <span class="id" title="var">b</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.couplings_app.html#4955fc9ea72d193312fb1711bba1603f"><span class="id" title="variable">μ2</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0); <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hμ1μ2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hg</span> <span class="id" title="var">b</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Rab</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hg</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hfg</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="section">ARcoupl</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dzero_dzero" class="idref" href="#ARcoupl_dzero_dzero"><span class="id" title="lemma">ARcoupl_dzero_dzero</span></a> `{<a id="H:445" class="idref" href="#H:445"><span class="id" title="binder">Countable</span></a> <a id="A:443" class="idref" href="#A:443"><span class="id" title="binder"><span id="H:445" class="id">A</span></span></a>, <a id="H0:448" class="idref" href="#H0:448"><span class="id" title="binder">Countable</span></a> <a id="B:446" class="idref" href="#B:446"><span class="id" title="binder"><span id="H0:448" class="id">B</span></span></a>} (<a id="R:449" class="idref" href="#R:449"><span class="id" title="binder">R</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#A:443"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#B:446"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R:449"><span class="id" title="variable">R</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">HR</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>; <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dzero_r_inv" class="idref" href="#ARcoupl_dzero_r_inv"><span class="id" title="lemma">ARcoupl_dzero_r_inv</span></a> `{<a id="H:452" class="idref" href="#H:452"><span class="id" title="binder">Countable</span></a> <a id="A:450" class="idref" href="#A:450"><span class="id" title="binder"><span id="H:452" class="id">A</span></span></a>, <a id="H0:455" class="idref" href="#H0:455"><span class="id" title="binder">Countable</span></a> <a id="B:453" class="idref" href="#B:453"><span class="id" title="binder"><span id="H0:455" class="id">B</span></span></a>} <a id="54837f4c5eb6a342bdf598f696378b5f" class="idref" href="#54837f4c5eb6a342bdf598f696378b5f"><span class="id" title="binder">μ1</span></a> (<a id="R:457" class="idref" href="#R:457"><span class="id" title="binder">R</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#A:450"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#B:453"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#54837f4c5eb6a342bdf598f696378b5f"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R:457"><span class="id" title="variable">R</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#54837f4c5eb6a342bdf598f696378b5f"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hz</span>%<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_mass_leq"><span class="id" title="lemma">ARcoupl_mass_leq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#SeriesC_zero_dzero"><span class="id" title="lemma">SeriesC_zero_dzero</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dzero_mass"><span class="id" title="lemma">dzero_mass</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dzero" class="idref" href="#ARcoupl_dzero"><span class="id" title="lemma">ARcoupl_dzero</span></a> `{<a id="H:460" class="idref" href="#H:460"><span class="id" title="binder">Countable</span></a> <a id="A:458" class="idref" href="#A:458"><span class="id" title="binder"><span id="H:460" class="id">A</span></span></a>, <a id="H0:463" class="idref" href="#H0:463"><span class="id" title="binder">Countable</span></a> <a id="B:461" class="idref" href="#B:461"><span class="id" title="binder"><span id="H0:463" class="id">B</span></span></a>} (<a id="59e309899292ec1d5b4c9e0f5ade9f9c" class="idref" href="#59e309899292ec1d5b4c9e0f5ade9f9c"><span class="id" title="binder">μ</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#B:461"><span class="id" title="variable">B</span></a>) (<a id="R:465" class="idref" href="#R:465"><span class="id" title="binder">R</span></a>: <a class="idref" href="tachis.prob.couplings_app.html#A:458"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#B:461"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="1f8baf9075a53749ced63f4c60d33d23" class="idref" href="#1f8baf9075a53749ced63f4c60d33d23"><span class="id" title="binder">ε</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#1f8baf9075a53749ced63f4c60d33d23"><span class="id" title="variable">ε</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.distribution.html#dzero"><span class="id" title="definition">dzero</span></a> <a class="idref" href="tachis.prob.couplings_app.html#59e309899292ec1d5b4c9e0f5ade9f9c"><span class="id" title="variable">μ</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R:465"><span class="id" title="variable">R</span></a> <a class="idref" href="tachis.prob.couplings_app.html#1f8baf9075a53749ced63f4c60d33d23"><span class="id" title="variable">ε</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">HR</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_0_l"><span class="id" title="lemma">Rmult_0_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_0_l"><span class="id" title="lemma">Rplus_0_l</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*<br/>
Lemma&nbsp;Rcoupl_dzero_l_inv&nbsp;`{Countable&nbsp;A,&nbsp;Countable&nbsp;B}&nbsp;μ2&nbsp;(R&nbsp;:&nbsp;A&nbsp;→&nbsp;B&nbsp;→&nbsp;Prop)&nbsp;:<br/>
&nbsp;&nbsp;Rcoupl&nbsp;dzero&nbsp;μ2&nbsp;R&nbsp;→&nbsp;μ2&nbsp;=&nbsp;dzero.<br/>
Proof.<br/>
&nbsp;&nbsp;intros&nbsp;Hz*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_map" class="idref" href="#ARcoupl_map"><span class="id" title="lemma">ARcoupl_map</span></a> `{<a id="H:469" class="idref" href="#H:469"><span class="id" title="binder">Countable</span></a> <a id="A:467" class="idref" href="#A:467"><span class="id" title="binder"><span id="H:469" class="id">A</span></span></a>, <a id="H0:472" class="idref" href="#H0:472"><span class="id" title="binder">Countable</span></a> <a id="B:470" class="idref" href="#B:470"><span class="id" title="binder"><span id="H0:472" class="id">B</span></span></a>, <a id="H1:475" class="idref" href="#H1:475"><span class="id" title="binder">Countable</span></a> <a id="A':473" class="idref" href="#A':473"><span class="id" title="binder"><span id="H1:475" class="id">A'</span></span></a>, <a id="H2:478" class="idref" href="#H2:478"><span class="id" title="binder">Countable</span></a> <a id="B':476" class="idref" href="#B':476"><span class="id" title="binder"><span id="H2:478" class="id">B'</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="f:479" class="idref" href="#f:479"><span class="id" title="binder">f</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#A:467"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#A':473"><span class="id" title="variable">A'</span></a>) (<a id="g:480" class="idref" href="#g:480"><span class="id" title="binder">g</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#B:470"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#B':476"><span class="id" title="variable">B'</span></a>) (<a id="6383101a56404baa48f4467e42fa201e" class="idref" href="#6383101a56404baa48f4467e42fa201e"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#A:467"><span class="id" title="variable">A</span></a>) (<a id="5abdd6863aafeecf5df35720260fbdff" class="idref" href="#5abdd6863aafeecf5df35720260fbdff"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#B:470"><span class="id" title="variable">B</span></a>) (<a id="R:483" class="idref" href="#R:483"><span class="id" title="binder">R</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#A':473"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#B':476"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="7954914394d461590701d6cfcbe200a4" class="idref" href="#7954914394d461590701d6cfcbe200a4"><span class="id" title="binder">ε</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#7954914394d461590701d6cfcbe200a4"><span class="id" title="variable">ε</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#6383101a56404baa48f4467e42fa201e"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#5abdd6863aafeecf5df35720260fbdff"><span class="id" title="variable">μ2</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:485" class="idref" href="#a:485"><span class="id" title="binder">a</span></a> <a id="a':486" class="idref" href="#a':486"><span class="id" title="binder">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R:483"><span class="id" title="variable">R</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#f:479"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:485"><span class="id" title="variable">a</span></a>) (<a class="idref" href="tachis.prob.couplings_app.html#g:480"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a':486"><span class="id" title="variable">a'</span></a>)) <a class="idref" href="tachis.prob.couplings_app.html#7954914394d461590701d6cfcbe200a4"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f:479"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.couplings_app.html#6383101a56404baa48f4467e42fa201e"><span class="id" title="variable">μ1</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.couplings_app.html#g:480"><span class="id" title="variable">g</span></a> <a class="idref" href="tachis.prob.couplings_app.html#5abdd6863aafeecf5df35720260fbdff"><span class="id" title="variable">μ2</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#R:483"><span class="id" title="variable">R</span></a> <a class="idref" href="tachis.prob.couplings_app.html#7954914394d461590701d6cfcbe200a4"><span class="id" title="variable">ε</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">Hcoupl</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a> <span class="id" title="var">ε</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_dbind"><span class="id" title="lemma">ARcoupl_dbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="a:487" class="idref" href="#a:487"><span class="id" title="binder"><span id="a:489" class="id">a</span></span></a> : <span class="id" title="var">A</span>) (<a id="a':488" class="idref" href="#a':488"><span class="id" title="binder"><span id="a':490" class="id">a'</span></span></a> : <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <span class="id" title="var">R</span> (<span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#a:487"><span class="id" title="variable">a</span></a>) (<span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#a':488"><span class="id" title="variable">a'</span></a>)) <span class="id" title="var">_</span> <span class="id" title="var">ε</span> 0); <span class="id" title="tactic">auto</span>; [<span class="id" title="var">lra</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Hab</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_dret"><span class="id" title="lemma">ARcoupl_dret</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_eq_trans_l" class="idref" href="#ARcoupl_eq_trans_l"><span class="id" title="lemma">ARcoupl_eq_trans_l</span></a> `{<a id="H:493" class="idref" href="#H:493"><span class="id" title="binder">Countable</span></a> <a id="A:491" class="idref" href="#A:491"><span class="id" title="binder"><span id="H:493" class="id">A</span></span></a>, <a id="H0:496" class="idref" href="#H0:496"><span class="id" title="binder">Countable</span></a> <a id="B:494" class="idref" href="#B:494"><span class="id" title="binder"><span id="H0:496" class="id">B</span></span></a>} <a id="d1ba797cfea8bdb69b2aa29690d7ecde" class="idref" href="#d1ba797cfea8bdb69b2aa29690d7ecde"><span class="id" title="binder">μ1</span></a> <a id="259470079adb23508f014471ddcb76ac" class="idref" href="#259470079adb23508f014471ddcb76ac"><span class="id" title="binder">μ2</span></a> <a id="c7d7717a1c6c297cc9d827bbc8953373" class="idref" href="#c7d7717a1c6c297cc9d827bbc8953373"><span class="id" title="binder">μ3</span></a> (<a id="R:500" class="idref" href="#R:500"><span class="id" title="binder">R</span></a>: <a class="idref" href="tachis.prob.couplings_app.html#A:491"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#B:494"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="c7eb43ee6dc2bf6a6c3908b7c27eedfa" class="idref" href="#c7eb43ee6dc2bf6a6c3908b7c27eedfa"><span class="id" title="binder">ε1</span></a> <a id="0e411a8484aba999374269c43a279e66" class="idref" href="#0e411a8484aba999374269c43a279e66"><span class="id" title="binder">ε2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#c7eb43ee6dc2bf6a6c3908b7c27eedfa"><span class="id" title="variable">ε1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#0e411a8484aba999374269c43a279e66"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#d1ba797cfea8bdb69b2aa29690d7ecde"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#259470079adb23508f014471ddcb76ac"><span class="id" title="variable">μ2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="tachis.prob.couplings_app.html#c7eb43ee6dc2bf6a6c3908b7c27eedfa"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#259470079adb23508f014471ddcb76ac"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#c7d7717a1c6c297cc9d827bbc8953373"><span class="id" title="variable">μ3</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R:500"><span class="id" title="variable">R</span></a> <a class="idref" href="tachis.prob.couplings_app.html#0e411a8484aba999374269c43a279e66"><span class="id" title="variable">ε2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#d1ba797cfea8bdb69b2aa29690d7ecde"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#c7d7717a1c6c297cc9d827bbc8953373"><span class="id" title="variable">μ3</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R:500"><span class="id" title="variable">R</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#c7eb43ee6dc2bf6a6c3908b7c27eedfa"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.couplings_app.html#0e411a8484aba999374269c43a279e66"><span class="id" title="variable">ε2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq1</span> <span class="id" title="var">Hleq2</span> <span class="id" title="var">Heq</span> <span class="id" title="var">HR</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HR</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Heq</span> | ]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ? ? -&gt;; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a> <span class="id" title="var">ε1</span>) -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_r"><span class="id" title="lemma">Rplus_le_compat_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_eq_trans_r" class="idref" href="#ARcoupl_eq_trans_r"><span class="id" title="lemma">ARcoupl_eq_trans_r</span></a> `{<a id="H:505" class="idref" href="#H:505"><span class="id" title="binder">Countable</span></a> <a id="A:503" class="idref" href="#A:503"><span class="id" title="binder"><span id="H:505" class="id">A</span></span></a>, <a id="H0:508" class="idref" href="#H0:508"><span class="id" title="binder">Countable</span></a> <a id="B:506" class="idref" href="#B:506"><span class="id" title="binder"><span id="H0:508" class="id">B</span></span></a>} <a id="f02fdf032370c37b05aee896a9d0ff0b" class="idref" href="#f02fdf032370c37b05aee896a9d0ff0b"><span class="id" title="binder">μ1</span></a> <a id="2d94f53042e3889fd9d440b8c0fad334" class="idref" href="#2d94f53042e3889fd9d440b8c0fad334"><span class="id" title="binder">μ2</span></a> <a id="f80e7f946b41e401310722415d9e7f0e" class="idref" href="#f80e7f946b41e401310722415d9e7f0e"><span class="id" title="binder">μ3</span></a> (<a id="R:512" class="idref" href="#R:512"><span class="id" title="binder">R</span></a>: <a class="idref" href="tachis.prob.couplings_app.html#A:503"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#B:506"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="59b90cc5cd5a9246ca3d3cf4486ea249" class="idref" href="#59b90cc5cd5a9246ca3d3cf4486ea249"><span class="id" title="binder">ε1</span></a> <a id="8ea355ff6bd4a03d36e6eefd02ede2f3" class="idref" href="#8ea355ff6bd4a03d36e6eefd02ede2f3"><span class="id" title="binder">ε2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#59b90cc5cd5a9246ca3d3cf4486ea249"><span class="id" title="variable">ε1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#8ea355ff6bd4a03d36e6eefd02ede2f3"><span class="id" title="variable">ε2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f02fdf032370c37b05aee896a9d0ff0b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#2d94f53042e3889fd9d440b8c0fad334"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R:512"><span class="id" title="variable">R</span></a> <a class="idref" href="tachis.prob.couplings_app.html#59b90cc5cd5a9246ca3d3cf4486ea249"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#2d94f53042e3889fd9d440b8c0fad334"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f80e7f946b41e401310722415d9e7f0e"><span class="id" title="variable">μ3</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="tachis.prob.couplings_app.html#8ea355ff6bd4a03d36e6eefd02ede2f3"><span class="id" title="variable">ε2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f02fdf032370c37b05aee896a9d0ff0b"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f80e7f946b41e401310722415d9e7f0e"><span class="id" title="variable">μ3</span></a> <a class="idref" href="tachis.prob.couplings_app.html#R:512"><span class="id" title="variable">R</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#59b90cc5cd5a9246ca3d3cf4486ea249"><span class="id" title="variable">ε1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.couplings_app.html#8ea355ff6bd4a03d36e6eefd02ede2f3"><span class="id" title="variable">ε2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq1</span> <span class="id" title="var">Hleq2</span> <span class="id" title="var">HR</span> <span class="id" title="var">Heq</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HR</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a> <span class="id" title="var">ε1</span>) -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_r"><span class="id" title="lemma">Rplus_le_compat_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">simplify_eq</span>; <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Maybe&nbsp;this&nbsp;can&nbsp;be&nbsp;generalized,&nbsp;but&nbsp;for&nbsp;now&nbsp;I&nbsp;only&nbsp;need&nbsp;this&nbsp;version&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_from_eq_Rcoupl" class="idref" href="#ARcoupl_from_eq_Rcoupl"><span class="id" title="lemma">ARcoupl_from_eq_Rcoupl</span></a> `{<a id="H:517" class="idref" href="#H:517"><span class="id" title="binder">Countable</span></a> <a id="A:515" class="idref" href="#A:515"><span class="id" title="binder"><span id="H:517" class="id">A</span></span></a>} (<a id="dd992a1bd9668aed30d21960061a4b6d" class="idref" href="#dd992a1bd9668aed30d21960061a4b6d"><span class="id" title="binder">μ1</span></a> <a id="255e120e3fecd6d2d995ae560b0714af" class="idref" href="#255e120e3fecd6d2d995ae560b0714af"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#A:515"><span class="id" title="variable">A</span></a>) <a id="dee8f66ef246b0ba96771ae51e5a719f" class="idref" href="#dee8f66ef246b0ba96771ae51e5a719f"><span class="id" title="binder">ε</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#dee8f66ef246b0ba96771ae51e5a719f"><span class="id" title="variable">ε</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings.html#Rcoupl"><span class="id" title="definition">Rcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#dd992a1bd9668aed30d21960061a4b6d"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#255e120e3fecd6d2d995ae560b0714af"><span class="id" title="variable">μ2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#dd992a1bd9668aed30d21960061a4b6d"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#255e120e3fecd6d2d995ae560b0714af"><span class="id" title="variable">μ2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="tachis.prob.couplings_app.html#dee8f66ef246b0ba96771ae51e5a719f"><span class="id" title="variable">ε</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hε</span> <span class="id" title="var">Hcpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.couplings.html#Rcoupl_eq_elim"><span class="id" title="lemma">Rcoupl_eq_elim</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">μ2</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_mon_grading"><span class="id" title="lemma">ARcoupl_mon_grading</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> 0); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_eq"><span class="id" title="lemma">ARcoupl_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dunif" class="idref" href="#ARcoupl_dunif"><span class="id" title="lemma">ARcoupl_dunif</span></a> (<a id="N:521" class="idref" href="#N:521"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="f:522" class="idref" href="#f:522"><span class="id" title="binder">f</span></a> `{<a id="H:523" class="idref" href="#H:523"><span class="id" title="binder">Bij</span></a> <a id="H:523" class="idref" href="#H:523"><span class="id" title="binder">(</span></a><a id="H:523" class="idref" href="#H:523"><span class="id" title="binder">fin</span></a> <a id="H:523" class="idref" href="#H:523"><span class="id" title="binder">N</span></a><a id="H:523" class="idref" href="#H:523"><span class="id" title="binder">)</span></a> <a id="H:523" class="idref" href="#H:523"><span class="id" title="binder">(</span></a><a id="H:523" class="idref" href="#H:523"><span class="id" title="binder">fin</span></a> <a id="H:523" class="idref" href="#H:523"><span class="id" title="binder">N</span></a><a id="H:523" class="idref" href="#H:523"><span class="id" title="binder">)</span></a> <a id="H:523" class="idref" href="#H:523"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:521"><span class="id" title="variable">N</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:521"><span class="id" title="variable">N</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:524" class="idref" href="#n:524"><span class="id" title="binder">n</span></a> <a id="m:525" class="idref" href="#m:525"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#m:525"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f:522"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.couplings_app.html#n:524"><span class="id" title="variable">n</span></a>) 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hh</span> <span class="id" title="var">Hgh</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_finite_foldr"><span class="id" title="lemma">SeriesC_finite_foldr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="l:526" class="idref" href="#l:526"><span class="id" title="binder"><span id="l:529" class="id">l</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:527" class="idref" href="#a:527"><span class="id" title="binder"><span id="a:530" class="id">a</span></span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span> <a class="idref" href="tachis.prob.couplings_app.html#a:527"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#a:527"><span class="id" title="variable">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">)</span></a>) 0 (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#enum"><span class="id" title="method">enum</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:528" class="idref" href="#b:528"><span class="id" title="binder"><span id="b:531" class="id">b</span></span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#b:528"><span class="id" title="variable">b</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="tachis.prob.couplings_app.html#l:526"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span> <a class="idref" href="tachis.prob.couplings_app.html#b:528"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h</span> <a class="idref" href="tachis.prob.couplings_app.html#b:528"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">)</span></a>) 0 (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#enum"><span class="id" title="method">enum</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> <span class="id" title="var">H1</span>]; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">etrans</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span>. <span class="id" title="var">remember</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#enum"><span class="id" title="method">enum</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">n</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqn</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqn</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a><a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h</span> <span class="id" title="var">a</span>); <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [<span class="id" title="var">done</span>|<span class="id" title="tactic">apply</span> <span class="id" title="var">Hh</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">remember</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#enum"><span class="id" title="method">enum</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">n</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqn</span>. <span class="id" title="tactic">rewrite</span> {2}<span class="id" title="var">Heqn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#NoDup_enum"><span class="id" title="method">NoDup_enum</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Heqn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:532" class="idref" href="#a:532"><span class="id" title="binder"><span id="a:534" class="id">a</span></span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span> <a class="idref" href="tachis.prob.couplings_app.html#a:532"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#a:532"><span class="id" title="variable">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">)</span></a>) 0 <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:533" class="idref" href="#b:533"><span class="id" title="binder"><span id="b:535" class="id">b</span></span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#b:533"><span class="id" title="variable">b</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <span class="id" title="var">f</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a><span class="id" title="var">n</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span> <a class="idref" href="tachis.prob.couplings_app.html#b:533"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h</span> <a class="idref" href="tachis.prob.couplings_app.html#b:533"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">)</span></a>) 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#enum"><span class="id" title="method">enum</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>. <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">clear</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">induction</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_enum"><span class="id" title="definition">fin_enum</span></a> <span class="id" title="var">N</span>); <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">Hnd</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_cons"><span class="id" title="lemma">NoDup_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnd</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnd</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnd1</span> <span class="id" title="var">Hnd2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHn</span> <span class="id" title="var">Hnd2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:536" class="idref" href="#b:536"><span class="id" title="binder"><span id="b:538" class="id">b</span></span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#b:536"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span> <a class="idref" href="tachis.prob.couplings_app.html#b:536"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h</span> <a class="idref" href="tachis.prob.couplings_app.html#b:536"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">)</span></a>) 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_enum"><span class="id" title="definition">fin_enum</span></a> <span class="id" title="var">N</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:537" class="idref" href="#b:537"><span class="id" title="binder"><span id="b:539" class="id">b</span></span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#b:537"><span class="id" title="variable">b</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <span class="id" title="var">f</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a><span class="id" title="var">n</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span> <a class="idref" href="tachis.prob.couplings_app.html#b:537"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h</span> <a class="idref" href="tachis.prob.couplings_app.html#b:537"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">)</span></a>) 0 (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_enum"><span class="id" title="definition">fin_enum</span></a> <span class="id" title="var">N</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>; <span class="id" title="var">naive_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IHn</span> <span class="id" title="var">Hnd1</span> <span class="id" title="var">Hnd2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_enum"><span class="id" title="definition">fin_enum</span></a> <span class="id" title="var">N</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">replace</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_enum"><span class="id" title="definition">fin_enum</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#enum"><span class="id" title="method">enum</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span>)); <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#elem_of_enum"><span class="id" title="method">elem_of_enum</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_list_split"><span class="id" title="lemma">elem_of_list_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [?[? -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Reals_ext.html#Rle_plus_l"><span class="id" title="lemma">Rle_plus_l</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">x0</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_le_0_compat"><span class="id" title="lemma">Rplus_le_le_0_compat</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assert</span> (0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">a0</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span> <span class="id" title="var">a0</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">h</span> <span class="id" title="var">a0</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0); <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">induction</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_enum"><span class="id" title="definition">fin_enum</span></a> <span class="id" title="var">N</span>); <span class="id" title="tactic">first</span> (<span class="id" title="tactic">simpl</span>; <span class="id" title="var">lra</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_list_fmap_2_inj"><span class="id" title="lemma">elem_of_list_fmap_2_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_Bij" class="idref" href="#ARcoupl_Bij"><span class="id" title="lemma">ARcoupl_Bij</span></a> (<a id="N:540" class="idref" href="#N:540"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="f:541" class="idref" href="#f:541"><span class="id" title="binder">f</span></a> `{<a id="H:542" class="idref" href="#H:542"><span class="id" title="binder">Bij</span></a> <a id="H:542" class="idref" href="#H:542"><span class="id" title="binder">(</span></a><a id="H:542" class="idref" href="#H:542"><span class="id" title="binder">fin</span></a> <a id="H:542" class="idref" href="#H:542"><span class="id" title="binder">N</span></a><a id="H:542" class="idref" href="#H:542"><span class="id" title="binder">)</span></a> <a id="H:542" class="idref" href="#H:542"><span class="id" title="binder">(</span></a><a id="H:542" class="idref" href="#H:542"><span class="id" title="binder">fin</span></a> <a id="H:542" class="idref" href="#H:542"><span class="id" title="binder">N</span></a><a id="H:542" class="idref" href="#H:542"><span class="id" title="binder">)</span></a> <a id="H:542" class="idref" href="#H:542"><span class="id" title="binder">f</span></a>} (<a id="b5091ae59232ac3fb75a99710772d99d" class="idref" href="#b5091ae59232ac3fb75a99710772d99d"><span class="id" title="binder">ε</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonnegreal"><span class="id" title="record">nonnegreal</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:540"><span class="id" title="variable">N</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:540"><span class="id" title="variable">N</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:544" class="idref" href="#n:544"><span class="id" title="binder">n</span></a> <a id="m:545" class="idref" href="#m:545"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#m:545"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f:541"><span class="id" title="variable">f</span></a> <a class="idref" href="tachis.prob.couplings_app.html#n:544"><span class="id" title="variable">n</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#b5091ae59232ac3fb75a99710772d99d"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="tachis.prob.couplings_app.html#f:541"><span class="id" title="variable">f</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:540"><span class="id" title="variable">N</span></a>)) (<a class="idref" href="tachis.prob.distribution.html#dmap"><span class="id" title="definition">dmap</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#id"><span class="id" title="abbreviation">id</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:540"><span class="id" title="variable">N</span></a>)) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b5091ae59232ac3fb75a99710772d99d"><span class="id" title="variable">ε</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_map"><span class="id" title="lemma">ARcoupl_map</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#cond_nonneg"><span class="id" title="projection">cond_nonneg</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_mono"><span class="id" title="lemma">ARcoupl_mono</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dmap_id"><span class="id" title="lemma">dmap_id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonneg"><span class="id" title="projection">nonneg</span></a> <span class="id" title="var">ε</span>) <span class="id" title="keyword">with</span> (0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#nonneg"><span class="id" title="projection">nonneg</span></a> <span class="id" title="var">ε</span>); <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_eq_trans_r"><span class="id" title="lemma">ARcoupl_eq_trans_r</span></a>; [<span class="id" title="var">done</span>|<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#cond_nonneg"><span class="id" title="projection">cond_nonneg</span></a>| |<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;-(<a class="idref" href="tachis.prob.distribution.html#dmap_id"><span class="id" title="lemma">dmap_id</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span>)) <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_map"><span class="id" title="lemma">ARcoupl_map</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_mono"><span class="id" title="lemma">ARcoupl_mono</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_dunif"><span class="id" title="lemma">ARcoupl_dunif</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#id"><span class="id" title="abbreviation">id</span></a>); <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dunif_leq_inj" class="idref" href="#ARcoupl_dunif_leq_inj"><span class="id" title="lemma">ARcoupl_dunif_leq_inj</span></a> (<a id="N:546" class="idref" href="#N:546"><span class="id" title="binder">N</span></a> <a id="M:547" class="idref" href="#M:547"><span class="id" title="binder">M</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="h:548" class="idref" href="#h:548"><span class="id" title="binder">h</span></a> `{<a id="H:549" class="idref" href="#H:549"><span class="id" title="binder">Inj</span></a> <a id="H:549" class="idref" href="#H:549"><span class="id" title="binder">(</span></a><a id="H:549" class="idref" href="#H:549"><span class="id" title="binder">fin</span></a> <a id="H:549" class="idref" href="#H:549"><span class="id" title="binder">N</span></a><a id="H:549" class="idref" href="#H:549"><span class="id" title="binder">)</span></a> <a id="H:549" class="idref" href="#H:549"><span class="id" title="binder">(</span></a><a id="H:549" class="idref" href="#H:549"><span class="id" title="binder">fin</span></a> <a id="H:549" class="idref" href="#H:549"><span class="id" title="binder">M</span></a><a id="H:549" class="idref" href="#H:549"><span class="id" title="binder">)</span></a> <a id="H:549" class="idref" href="#H:549"><span class="id" title="binder">(=)</span></a> <a id="H:549" class="idref" href="#H:549"><span class="id" title="binder">(=)</span></a> <a id="H:549" class="idref" href="#H:549"><span class="id" title="binder">h</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#655439258f20e6256090528bc533ae29"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:546"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#655439258f20e6256090528bc533ae29"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#M:547"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:546"><span class="id" title="variable">N</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.couplings_app.html#M:547"><span class="id" title="variable">M</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:550" class="idref" href="#n:550"><span class="id" title="binder">n</span></a> <a id="m:551" class="idref" href="#m:551"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#m:551"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#h:548"><span class="id" title="variable">h</span></a> <a class="idref" href="tachis.prob.couplings_app.html#n:550"><span class="id" title="variable">n</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.couplings_app.html#M:547"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="tachis.prob.couplings_app.html#N:546"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)/</span></a><a class="idref" href="tachis.prob.couplings_app.html#M:547"><span class="id" title="variable">M</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_r"><span class="id" title="lemma">Rplus_le_compat_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_filter_leq"><span class="id" title="lemma">SeriesC_filter_leq</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:552" class="idref" href="#b:552"><span class="id" title="binder"><span id="b:554" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a:553" class="idref" href="#a:553"><span class="id" title="binder"><span id="a:555" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:552"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">h</span> <a class="idref" href="tachis.prob.couplings_app.html#a:553"><span class="id" title="variable">a</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_1_l"><span class="id" title="lemma">Rdiv_1_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rdiv_le_0_compat"><span class="id" title="lemma">Rdiv_le_0_compat</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_r"><span class="id" title="lemma">Rplus_le_compat_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">hsome</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:556" class="idref" href="#x:556"><span class="id" title="binder"><span id="x:557" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="var">h</span> <a class="idref" href="tachis.prob.couplings_app.html#x:556"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le_inj"><span class="id" title="lemma">SeriesC_le_inj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">hsome</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_1_l"><span class="id" title="lemma">Rdiv_1_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rdiv_le_0_compat"><span class="id" title="lemma">Rdiv_le_0_compat</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">hsome</span>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>.<br/>
&nbsp;&nbsp;} <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:= <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:558" class="idref" href="#x:558"><span class="id" title="binder"><span id="x:559" class="id">x</span></span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)/(</span></a><span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a><span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_finite_mass"><span class="id" title="lemma">SeriesC_finite_mass</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_card"><span class="id" title="lemma">fin_card</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_div_assoc"><span class="id" title="lemma">Rmult_div_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a> <span class="id" title="var">N</span> (<span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">N</span>)). <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_def"><span class="id" title="lemma">Rdiv_def</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_1_l"><span class="id" title="lemma">Rdiv_1_l</span></a> <span class="id" title="var">M</span>). <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_def"><span class="id" title="lemma">Rdiv_def</span></a>- <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_div_r"><span class="id" title="lemma">Rle_div_r</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Req_le_sym"><span class="id" title="lemma">Req_le_sym</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_mult_distr"><span class="id" title="lemma">Rdiv_mult_distr</span></a> !<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_def"><span class="id" title="lemma">Rdiv_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a> <span class="id" title="var">N</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">M</span>)) -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_inv_r"><span class="id" title="definition">Rmult_inv_r</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_1_l"><span class="id" title="lemma">Rmult_1_l</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_inv_r"><span class="id" title="definition">Rmult_inv_r</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>; [|<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>|<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">exfalso</span>. <span class="id" title="var">naive_solver</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_1_l"><span class="id" title="lemma">Rdiv_1_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rdiv_le_0_compat"><span class="id" title="lemma">Rdiv_le_0_compat</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="tachis.prob.distribution.html#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_1_l"><span class="id" title="lemma">Rdiv_1_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rdiv_le_0_compat"><span class="id" title="lemma">Rdiv_le_0_compat</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfg</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)*</span></a> <span class="id" title="var">g</span> (<span class="id" title="var">h</span> <span class="id" title="var">n</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a>  <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><span class="id" title="var">M</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><span class="id" title="var">M</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">first</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)*</span></a>1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rminus_le_0"><span class="id" title="lemma">Rminus_le_0</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rinv_le_contravar"><span class="id" title="lemma">Rinv_le_contravar</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">M</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">M</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><span class="id" title="var">M</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a><span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">first</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a><span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/(</span></a><span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a><span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a><span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/(</span></a><span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a><span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">first</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_1_l"><span class="id" title="lemma">Rdiv_1_l</span></a>. <span class="id" title="var">erewrite</span> &lt;-<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_mult_l_l"><span class="id" title="lemma">Rdiv_mult_l_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_1_l"><span class="id" title="lemma">Rdiv_1_l</span></a>. <span class="id" title="var">erewrite</span> &lt;-<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_mult_l_r"><span class="id" title="lemma">Rdiv_mult_l_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dunif_leq" class="idref" href="#ARcoupl_dunif_leq"><span class="id" title="lemma">ARcoupl_dunif_leq</span></a> (<a id="N:560" class="idref" href="#N:560"><span class="id" title="binder">N</span></a> <a id="M:561" class="idref" href="#M:561"><span class="id" title="binder">M</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#655439258f20e6256090528bc533ae29"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:560"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#655439258f20e6256090528bc533ae29"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#M:561"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:560"><span class="id" title="variable">N</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.couplings_app.html#M:561"><span class="id" title="variable">M</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:562" class="idref" href="#n:562"><span class="id" title="binder">n</span></a> <a id="m:563" class="idref" href="#m:563"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat"><span class="id" title="definition">fin_to_nat</span></a> <a class="idref" href="tachis.prob.couplings_app.html#n:562"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#m:563"><span class="id" title="variable">m</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.couplings_app.html#M:561"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="tachis.prob.couplings_app.html#N:560"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)/</span></a><a class="idref" href="tachis.prob.couplings_app.html#M:561"><span class="id" title="variable">M</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:564" class="idref" href="#x:564"><span class="id" title="binder"><span id="x:565" class="id">x</span></span></a>:<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat"><span class="id" title="definition">fin_to_nat</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:564"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">M</span>)%<span class="id" title="var">nat</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hineq</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat_lt"><span class="id" title="lemma">fin_to_nat_lt</span></a> <span class="id" title="var">x</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hleq</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">H1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#INR_le"><span class="id" title="lemma">INR_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_dunif_leq_inj"><span class="id" title="lemma">ARcoupl_dunif_leq_inj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:566" class="idref" href="#x:566"><span class="id" title="binder"><span id="x:567" class="id">x</span></span></a>:<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#nat_to_fin"><span class="id" title="abbreviation">nat_to_fin</span></a> (<span class="id" title="var">Hineq</span> <a class="idref" href="tachis.prob.couplings_app.html#x:566"><span class="id" title="variable">x</span></a>))); <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat_to_fin"><span class="id" title="lemma">fin_to_nat_to_fin</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?? <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat"><span class="id" title="definition">fin_to_nat</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat_to_fin"><span class="id" title="lemma">fin_to_nat_to_fin</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat_inj"><span class="id" title="instance">fin_to_nat_inj</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Note&nbsp;the&nbsp;asymmetry&nbsp;on&nbsp;the&nbsp;error&nbsp;wrt&nbsp;to&nbsp;the&nbsp;previous&nbsp;lemma&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dunif_leq_rev_inj" class="idref" href="#ARcoupl_dunif_leq_rev_inj"><span class="id" title="lemma">ARcoupl_dunif_leq_rev_inj</span></a> (<a id="N:568" class="idref" href="#N:568"><span class="id" title="binder">N</span></a> <a id="M:569" class="idref" href="#M:569"><span class="id" title="binder">M</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="h:570" class="idref" href="#h:570"><span class="id" title="binder">h</span></a> `{<a id="H:571" class="idref" href="#H:571"><span class="id" title="binder">Inj</span></a> <a id="H:571" class="idref" href="#H:571"><span class="id" title="binder">(</span></a><a id="H:571" class="idref" href="#H:571"><span class="id" title="binder">fin</span></a> <a id="H:571" class="idref" href="#H:571"><span class="id" title="binder">M</span></a><a id="H:571" class="idref" href="#H:571"><span class="id" title="binder">)</span></a> <a id="H:571" class="idref" href="#H:571"><span class="id" title="binder">(</span></a><a id="H:571" class="idref" href="#H:571"><span class="id" title="binder">fin</span></a> <a id="H:571" class="idref" href="#H:571"><span class="id" title="binder">N</span></a><a id="H:571" class="idref" href="#H:571"><span class="id" title="binder">)</span></a> <a id="H:571" class="idref" href="#H:571"><span class="id" title="binder">(=)</span></a> <a id="H:571" class="idref" href="#H:571"><span class="id" title="binder">(=)</span></a> <a id="H:571" class="idref" href="#H:571"><span class="id" title="binder">h</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#655439258f20e6256090528bc533ae29"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#M:569"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#655439258f20e6256090528bc533ae29"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:568"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:568"><span class="id" title="variable">N</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.couplings_app.html#M:569"><span class="id" title="variable">M</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:572" class="idref" href="#n:572"><span class="id" title="binder">n</span></a> <a id="m:573" class="idref" href="#m:573"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#n:572"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#h:570"><span class="id" title="variable">h</span></a> <a class="idref" href="tachis.prob.couplings_app.html#m:573"><span class="id" title="variable">m</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.couplings_app.html#N:568"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="tachis.prob.couplings_app.html#M:569"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)/</span></a><a class="idref" href="tachis.prob.couplings_app.html#N:568"><span class="id" title="variable">N</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_l"><span class="id" title="lemma">SeriesC_scal_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_div_r"><span class="id" title="lemma">Rle_div_r</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_gt"><span class="id" title="lemma">Rlt_gt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_0_lt_compat"><span class="id" title="lemma">Rinv_0_lt_compat</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#Rdiv"><span class="id" title="definition">Rdiv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_inv"><span class="id" title="lemma">Rinv_inv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_plus_distr_r"><span class="id" title="lemma">Rmult_plus_distr_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a> (<span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">M</span>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rinv_l"><span class="id" title="lemma">Rinv_l</span></a>; [ | <span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">g</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">erewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_split_pred"><span class="id" title="lemma">SeriesC_split_pred</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:574" class="idref" href="#x:574"><span class="id" title="binder"><span id="x:576" class="id"><span id="x:578" class="id"><span id="x:580" class="id"><span id="x:582" class="id">x</span></span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="y:575" class="idref" href="#y:575"><span class="id" title="binder"><span id="y:577" class="id"><span id="y:579" class="id"><span id="y:581" class="id"><span id="y:583" class="id">y</span></span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:574"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">h</span> <a class="idref" href="tachis.prob.couplings_app.html#y:575"><span class="id" title="variable">y</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">)</span></a>)); [|<span class="id" title="var">naive_solver</span>|<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_filter_finite_1'"><span class="id" title="lemma">SeriesC_filter_finite_1'</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hleq</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#INR_lt"><span class="id" title="lemma">INR_lt</span></a>|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#INR_le"><span class="id" title="lemma">INR_le</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">trans</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:584" class="idref" href="#a:584"><span class="id" title="binder"><span id="a:585" class="id">a</span></span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> (<span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">M</span>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 1)); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_finite_mass"><span class="id" title="lemma">SeriesC_finite_mass</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_card"><span class="id" title="lemma">fin_card</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#minus_INR"><span class="id" title="lemma">minus_INR</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#INR_le"><span class="id" title="lemma">INR_le</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">etrans</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_filter_finite_2"><span class="id" title="lemma">SeriesC_filter_finite_2</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hleq</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#INR_lt"><span class="id" title="lemma">INR_lt</span></a>|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#INR_le"><span class="id" title="lemma">INR_le</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_finite_mass"><span class="id" title="lemma">SeriesC_finite_mass</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_card"><span class="id" title="lemma">fin_card</span></a>. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">g</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a><a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">g</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hpos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>. <span class="id" title="var">naive_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a><span class="id" title="var">M</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_def"><span class="id" title="lemma">Rdiv_def</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_div_assoc"><span class="id" title="lemma">Rmult_div_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_div_r"><span class="id" title="lemma">Rle_div_r</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_r"><span class="id" title="lemma">Rmult_le_compat_r</span></a>; <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dunif_leq_rev" class="idref" href="#ARcoupl_dunif_leq_rev"><span class="id" title="lemma">ARcoupl_dunif_leq_rev</span></a> (<a id="N:586" class="idref" href="#N:586"><span class="id" title="binder">N</span></a> <a id="M:587" class="idref" href="#M:587"><span class="id" title="binder">M</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#655439258f20e6256090528bc533ae29"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#M:587"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#655439258f20e6256090528bc533ae29"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:586"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:586"><span class="id" title="variable">N</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.couplings_app.html#M:587"><span class="id" title="variable">M</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:588" class="idref" href="#n:588"><span class="id" title="binder">n</span></a> <a id="m:589" class="idref" href="#m:589"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat"><span class="id" title="definition">fin_to_nat</span></a> <a class="idref" href="tachis.prob.couplings_app.html#n:588"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#m:589"><span class="id" title="variable">m</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.couplings_app.html#N:586"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="tachis.prob.couplings_app.html#M:587"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)/</span></a><a class="idref" href="tachis.prob.couplings_app.html#N:586"><span class="id" title="variable">N</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:590" class="idref" href="#x:590"><span class="id" title="binder"><span id="x:591" class="id">x</span></span></a>:<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat"><span class="id" title="definition">fin_to_nat</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:590"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">N</span>)%<span class="id" title="var">nat</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hineq</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat_lt"><span class="id" title="lemma">fin_to_nat_lt</span></a> <span class="id" title="var">x</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hleq</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">H1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#INR_le"><span class="id" title="lemma">INR_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_dunif_leq_rev_inj"><span class="id" title="lemma">ARcoupl_dunif_leq_rev_inj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:592" class="idref" href="#x:592"><span class="id" title="binder"><span id="x:593" class="id">x</span></span></a>:<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#nat_to_fin"><span class="id" title="abbreviation">nat_to_fin</span></a> (<span class="id" title="var">Hineq</span> <a class="idref" href="tachis.prob.couplings_app.html#x:592"><span class="id" title="variable">x</span></a>))); <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat_to_fin"><span class="id" title="lemma">fin_to_nat_to_fin</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?? <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat"><span class="id" title="definition">fin_to_nat</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat_to_fin"><span class="id" title="lemma">fin_to_nat_to_fin</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat_inj"><span class="id" title="instance">fin_to_nat_inj</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dunif_no_coll_l" class="idref" href="#ARcoupl_dunif_no_coll_l"><span class="id" title="lemma">ARcoupl_dunif_no_coll_l</span></a> `{<a id="H:596" class="idref" href="#H:596"><span class="id" title="binder">Countable</span></a> <a id="A:594" class="idref" href="#A:594"><span class="id" title="binder"><span id="H:596" class="id">A</span></span></a>} (<a id="v:597" class="idref" href="#v:597"><span class="id" title="binder">v</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#A:594"><span class="id" title="variable">A</span></a>) (<a id="N:598" class="idref" href="#N:598"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="x:599" class="idref" href="#x:599"><span class="id" title="binder">x</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:598"><span class="id" title="variable">N</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:598"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:598"><span class="id" title="variable">N</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.couplings_app.html#v:597"><span class="id" title="variable">v</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="m:600" class="idref" href="#m:600"><span class="id" title="binder">m</span></a> <a id="n:601" class="idref" href="#n:601"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#m:600"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:599"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="tachis.prob.couplings_app.html#n:601"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#v:597"><span class="id" title="variable">v</span></a>) (1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a><a class="idref" href="tachis.prob.couplings_app.html#N:598"><span class="id" title="variable">N</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">try</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>) ; <span class="id" title="tactic">auto</span> ; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:602" class="idref" href="#b:602"><span class="id" title="binder"><span id="b:603" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:602"><span class="id" title="variable">b</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:604" class="idref" href="#b:604"><span class="id" title="binder"><span id="b:605" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:604"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:606" class="idref" href="#a:606"><span class="id" title="binder"><span id="a:607" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#a:606"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:608" class="idref" href="#a:608"><span class="id" title="binder"><span id="a:609" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#a:608"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">left</span> ; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_0_lt_compat"><span class="id" title="lemma">Rinv_0_lt_compat</span></a> ; <span class="id" title="var">lra</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="n:610" class="idref" href="#n:610"><span class="id" title="binder"><span id="n:611" class="id">n</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#n:610"><span class="id" title="variable">n</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> ; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>... }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:612" class="idref" href="#b:612"><span class="id" title="binder"><span id="b:613" class="id"><span id="b:614" class="id"><span id="b:615" class="id"><span id="b:616" class="id"><span id="b:617" class="id"><span id="b:618" class="id"><span id="b:619" class="id"><span id="b:620" class="id"><span id="b:621" class="id"><span id="b:622" class="id"><span id="b:623" class="id"><span id="b:624" class="id"><span id="b:625" class="id"><span id="b:626" class="id"><span id="b:627" class="id"><span id="b:628" class="id"><span id="b:629" class="id"><span id="b:630" class="id"><span id="b:631" class="id"><span id="b:632" class="id"><span id="b:633" class="id"><span id="b:634" class="id"><span id="b:635" class="id"><span id="b:636" class="id"><span id="b:637" class="id"><span id="b:638" class="id"><span id="b:639" class="id"><span id="b:640" class="id"><span id="b:641" class="id"><span id="b:642" class="id"><span id="b:643" class="id"><span id="b:644" class="id"><span id="b:645" class="id"><span id="b:646" class="id"><span id="b:647" class="id"><span id="b:648" class="id"><span id="b:649" class="id"><span id="b:650" class="id"><span id="b:651" class="id"><span id="b:652" class="id"><span id="b:653" class="id"><span id="b:654" class="id"><span id="b:655" class="id"><span id="b:656" class="id"><span id="b:657" class="id">b</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#b:612"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">g</span> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">)</span></a>)) <span class="id" title="tactic">at</span> 1; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> ; <span class="id" title="var">case_bool_decide</span> ; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:658" class="idref" href="#a:658"><span class="id" title="binder"><span id="a:659" class="id">a</span></span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#a:658"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#a:658"><span class="id" title="variable">a</span></a> )).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ; <span class="id" title="var">case_bool_decide</span> ; <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a><span class="id" title="var">N</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>... <span class="id" title="var">nra</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_split_elem"><span class="id" title="lemma">SeriesC_split_elem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span>)...<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_finite_bound"><span class="id" title="lemma">SeriesC_finite_bound</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">case_bool_decide</span>; [|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_false_2"><span class="id" title="lemma">bool_decide_eq_false_2</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">case_bool_decide</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_false_2"><span class="id" title="lemma">bool_decide_eq_false_2</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_card"><span class="id" title="lemma">fin_card</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_r"><span class="id" title="lemma">Rinv_r</span></a> ; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">etrans</span> ; [ | <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="var">x</span> (1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a><span class="id" title="var">N</span>))].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span> ; <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> =&gt; <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">case_bool_decide</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> ; <span class="id" title="var">case_bool_decide</span>... <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="ARcoupl_dunif_no_coll_l'" class="idref" href="#ARcoupl_dunif_no_coll_l'"><span class="id" title="lemma">ARcoupl_dunif_no_coll_l'</span></a> (<a id="N:660" class="idref" href="#N:660"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="x:661" class="idref" href="#x:661"><span class="id" title="binder">x</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:660"><span class="id" title="variable">N</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:660"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:660"><span class="id" title="variable">N</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:661"><span class="id" title="variable">x</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="m:662" class="idref" href="#m:662"><span class="id" title="binder">m</span></a> <a id="n:663" class="idref" href="#n:663"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#m:662"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:661"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="tachis.prob.couplings_app.html#n:663"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:661"><span class="id" title="variable">x</span></a>) (1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a><a class="idref" href="tachis.prob.couplings_app.html#N:660"><span class="id" title="variable">N</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_dunif_no_coll_l"><span class="id" title="lemma">ARcoupl_dunif_no_coll_l</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dunif_no_coll_r" class="idref" href="#ARcoupl_dunif_no_coll_r"><span class="id" title="lemma">ARcoupl_dunif_no_coll_r</span></a> `{<a id="H:666" class="idref" href="#H:666"><span class="id" title="binder">Countable</span></a> <a id="A:664" class="idref" href="#A:664"><span class="id" title="binder"><span id="H:666" class="id">A</span></span></a>} (<a id="v:667" class="idref" href="#v:667"><span class="id" title="binder">v</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#A:664"><span class="id" title="variable">A</span></a>) (<a id="N:668" class="idref" href="#N:668"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="x:669" class="idref" href="#x:669"><span class="id" title="binder">x</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:668"><span class="id" title="variable">N</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:668"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.couplings_app.html#v:667"><span class="id" title="variable">v</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:668"><span class="id" title="variable">N</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="m:670" class="idref" href="#m:670"><span class="id" title="binder">m</span></a> <a id="n:671" class="idref" href="#n:671"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#m:670"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#v:667"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="tachis.prob.couplings_app.html#n:671"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:669"><span class="id" title="variable">x</span></a>) (1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a><a class="idref" href="tachis.prob.couplings_app.html#N:668"><span class="id" title="variable">N</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">try</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_finite"><span class="id" title="lemma">ex_seriesC_finite</span></a>) ; <span class="id" title="tactic">auto</span> ; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=/<a class="idref" href="tachis.prob.distribution.html#dret_pmf"><span class="id" title="definition">dret_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:672" class="idref" href="#b:672"><span class="id" title="binder"><span id="b:673" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:672"><span class="id" title="variable">b</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:674" class="idref" href="#b:674"><span class="id" title="binder"><span id="b:675" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:674"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:676" class="idref" href="#a:676"><span class="id" title="binder"><span id="a:677" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#a:676"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:678" class="idref" href="#a:678"><span class="id" title="binder"><span id="a:679" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#a:678"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">left</span> ; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_0_lt_compat"><span class="id" title="lemma">Rinv_0_lt_compat</span></a> ; <span class="id" title="var">lra</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="n:680" class="idref" href="#n:680"><span class="id" title="binder"><span id="n:681" class="id">n</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#n:680"><span class="id" title="variable">n</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> ; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>... }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a:682" class="idref" href="#a:682"><span class="id" title="binder"><span id="a:683" class="id">a</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#a:682"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> ; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>... }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:684" class="idref" href="#a:684"><span class="id" title="binder"><span id="a:685" class="id"><span id="a:686" class="id"><span id="a:687" class="id"><span id="a:688" class="id"><span id="a:689" class="id"><span id="a:690" class="id"><span id="a:691" class="id"><span id="a:692" class="id"><span id="a:693" class="id"><span id="a:694" class="id"><span id="a:695" class="id"><span id="a:696" class="id"><span id="a:697" class="id"><span id="a:698" class="id"><span id="a:699" class="id"><span id="a:700" class="id"><span id="a:701" class="id"><span id="a:702" class="id"><span id="a:703" class="id"><span id="a:704" class="id"><span id="a:705" class="id"><span id="a:706" class="id"><span id="a:707" class="id"><span id="a:708" class="id"><span id="a:709" class="id"><span id="a:710" class="id"><span id="a:711" class="id"><span id="a:712" class="id"><span id="a:713" class="id"><span id="a:714" class="id"><span id="a:715" class="id"><span id="a:716" class="id"><span id="a:717" class="id"><span id="a:718" class="id"><span id="a:719" class="id"><span id="a:720" class="id"><span id="a:721" class="id"><span id="a:722" class="id"><span id="a:723" class="id"><span id="a:724" class="id"><span id="a:725" class="id"><span id="a:726" class="id"><span id="a:727" class="id"><span id="a:728" class="id"><span id="a:729" class="id">a</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#a:684"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">f</span> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">)</span></a>)) ; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> ; <span class="id" title="var">case_bool_decide</span> ; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="var">real_solver</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:730" class="idref" href="#n:730"><span class="id" title="binder"><span id="n:731" class="id">n</span></span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#n:730"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#n:730"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a><span class="id" title="var">N</span>) ; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>... }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <span class="id" title="var">x</span> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_finite_mass"><span class="id" title="lemma">SeriesC_finite_mass</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_singleton"><span class="id" title="lemma">SeriesC_singleton</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.finite.html#fin_card"><span class="id" title="lemma">fin_card</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_r"><span class="id" title="lemma">Rinv_r</span></a> ; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ; <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_0_l"><span class="id" title="lemma">Rplus_0_l</span></a> -(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a><span class="id" title="var">N</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>... <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="ARcoupl_dunif_no_coll_r'" class="idref" href="#ARcoupl_dunif_no_coll_r'"><span class="id" title="lemma">ARcoupl_dunif_no_coll_r'</span></a> (<a id="N:732" class="idref" href="#N:732"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="x:733" class="idref" href="#x:733"><span class="id" title="binder">x</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:732"><span class="id" title="variable">N</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:732"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:733"><span class="id" title="variable">x</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:732"><span class="id" title="variable">N</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="m:734" class="idref" href="#m:734"><span class="id" title="binder">m</span></a> <a id="n:735" class="idref" href="#n:735"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#m:734"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:733"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="tachis.prob.couplings_app.html#n:735"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:733"><span class="id" title="variable">x</span></a>) (1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a><a class="idref" href="tachis.prob.couplings_app.html#N:732"><span class="id" title="variable">N</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_dunif_no_coll_r"><span class="id" title="lemma">ARcoupl_dunif_no_coll_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="UB_to_ARcoupl" class="idref" href="#UB_to_ARcoupl"><span class="id" title="lemma">UB_to_ARcoupl</span></a> `{<a id="H:738" class="idref" href="#H:738"><span class="id" title="binder">Countable</span></a> <a id="A:736" class="idref" href="#A:736"><span class="id" title="binder"><span id="H:738" class="id">A</span></span></a>, <a id="H0:741" class="idref" href="#H0:741"><span class="id" title="binder">Countable</span></a> <a id="B:739" class="idref" href="#B:739"><span class="id" title="binder"><span id="H0:741" class="id">B</span></span></a>} (<a id="cee0dc5a9b7187dd5ec6b457c67f9059" class="idref" href="#cee0dc5a9b7187dd5ec6b457c67f9059"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#A:736"><span class="id" title="variable">A</span></a>) (<a id="P:743" class="idref" href="#P:743"><span class="id" title="binder">P</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#A:736"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="6261391e946b41204c41e09cf41cb777" class="idref" href="#6261391e946b41204c41e09cf41cb777"><span class="id" title="binder">ε</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.graded_predicate_lifting.html#pgl"><span class="id" title="definition">pgl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#cee0dc5a9b7187dd5ec6b457c67f9059"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#P:743"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.couplings_app.html#6261391e946b41204c41e09cf41cb777"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#cee0dc5a9b7187dd5ec6b457c67f9059"><span class="id" title="variable">μ1</span></a> (<a class="idref" href="tachis.prob.distribution.html#dret"><span class="id" title="definition">dret</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:745" class="idref" href="#a:745"><span class="id" title="binder">a</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#P:743"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:745"><span class="id" title="variable">a</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#6261391e946b41204c41e09cf41cb777"><span class="id" title="variable">ε</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.graded_predicate_lifting.html#pgl"><span class="id" title="definition">pgl</span></a> /<a class="idref" href="tachis.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hub</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_finite_foldr"><span class="id" title="lemma">SeriesC_finite_foldr</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dret_1_1"><span class="id" title="lemma">dret_1_1</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_1_l"><span class="id" title="lemma">Rmult_1_l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> ((<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:746" class="idref" href="#a:746"><span class="id" title="binder"><span id="a:747" class="id">a</span></span></a>:<span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="tachis.prob.couplings_app.html#a:746"><span class="id" title="variable">a</span></a>)))) <span class="id" title="keyword">as</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_split_pred"><span class="id" title="lemma">SeriesC_split_pred</span></a> <span class="id" title="var">_</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">trans</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:748" class="idref" href="#a:748"><span class="id" title="binder"><span id="a:749" class="id">a</span></span></a> : <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="var">q</span> <a class="idref" href="tachis.prob.couplings_app.html#a:748"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:748"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Program.Syntax.html#f5cb26d96fc0400fc3c881290947e554"><span class="id" title="notation">()</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_ext"><span class="id" title="lemma">ex_seriesC_ext</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:750" class="idref" href="#a:750"><span class="id" title="binder"><span id="a:751" class="id">a</span></span></a> : <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="tachis.prob.couplings_app.html#a:750"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:750"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Program.Syntax.html#f5cb26d96fc0400fc3c881290947e554"><span class="id" title="notation">()</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)); <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_filter_pos"><span class="id" title="lemma">ex_seriesC_filter_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">trans</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:752" class="idref" href="#a:752"><span class="id" title="binder"><span id="a:753" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#a:752"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Program.Syntax.html#f5cb26d96fc0400fc3c881290947e554"><span class="id" title="notation">()</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>. <span class="id" title="var">etrans</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_r"><span class="id" title="lemma">Rmult_le_compat_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">exact</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat"><span class="id" title="lemma">Rmult_le_compat</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_filter_bool_pos"><span class="id" title="lemma">ex_seriesC_filter_bool_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_to_UB" class="idref" href="#ARcoupl_to_UB"><span class="id" title="lemma">ARcoupl_to_UB</span></a> `{<a id="H:756" class="idref" href="#H:756"><span class="id" title="binder">Countable</span></a> <a id="A:754" class="idref" href="#A:754"><span class="id" title="binder"><span id="H:756" class="id">A</span></span></a>, <a id="H0:759" class="idref" href="#H0:759"><span class="id" title="binder">Countable</span></a> <a id="B:757" class="idref" href="#B:757"><span class="id" title="binder"><span id="H0:759" class="id">B</span></span></a>} (<a id="8e6a28ba03e86ef55cde99ec9d0754f0" class="idref" href="#8e6a28ba03e86ef55cde99ec9d0754f0"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#A:754"><span class="id" title="variable">A</span></a>) (<a id="56b30fe26c3c9194dffe2e34daeb3928" class="idref" href="#56b30fe26c3c9194dffe2e34daeb3928"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#B:757"><span class="id" title="variable">B</span></a>) (<a id="P:762" class="idref" href="#P:762"><span class="id" title="binder">P</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#A:754"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="11e3c5995a9d84d40172914f8858ad35" class="idref" href="#11e3c5995a9d84d40172914f8858ad35"><span class="id" title="binder">ε</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#8e6a28ba03e86ef55cde99ec9d0754f0"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#56b30fe26c3c9194dffe2e34daeb3928"><span class="id" title="variable">μ2</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:764" class="idref" href="#a:764"><span class="id" title="binder">a</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#P:762"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:764"><span class="id" title="variable">a</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#11e3c5995a9d84d40172914f8858ad35"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.graded_predicate_lifting.html#pgl"><span class="id" title="definition">pgl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#8e6a28ba03e86ef55cde99ec9d0754f0"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#P:762"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.couplings_app.html#11e3c5995a9d84d40172914f8858ad35"><span class="id" title="variable">ε</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a>/<a class="idref" href="tachis.prob.graded_predicate_lifting.html#pgl"><span class="id" title="definition">pgl</span></a>/<a class="idref" href="tachis.prob.distribution.html#prob"><span class="id" title="definition">prob</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Har</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">eset</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:765" class="idref" href="#a:765"><span class="id" title="binder"><span id="a:766" class="id">a</span></span></a>:<span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="tachis.prob.couplings_app.html#a:765"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 1) <span class="id" title="keyword">as</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">eset</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:767" class="idref" href="#b:767"><span class="id" title="binder"><span id="b:768" class="id">b</span></span></a>:<span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 0) <span class="id" title="keyword">as</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Har</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">ε</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:769" class="idref" href="#b:769"><span class="id" title="binder"><span id="b:770" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:769"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:769"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">ε</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Har</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">f</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> 1. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">f</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="var">case_match</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">f</span>. <span class="id" title="var">case_match</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">g</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">f</span>/<span class="id" title="var">g</span>. <span class="id" title="var">case_match</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_false"><span class="id" title="lemma">bool_decide_eq_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>. <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="up_to_bad_lhs" class="idref" href="#up_to_bad_lhs"><span class="id" title="lemma">up_to_bad_lhs</span></a> `{<a id="H:773" class="idref" href="#H:773"><span class="id" title="binder">Countable</span></a> <a id="A:771" class="idref" href="#A:771"><span class="id" title="binder"><span id="H:773" class="id">A</span></span></a>, <a id="H0:776" class="idref" href="#H0:776"><span class="id" title="binder">Countable</span></a> <a id="B:774" class="idref" href="#B:774"><span class="id" title="binder"><span id="H0:776" class="id">B</span></span></a>} (<a id="80572aad7e83ee849a109ae72e277b66" class="idref" href="#80572aad7e83ee849a109ae72e277b66"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#A:771"><span class="id" title="variable">A</span></a>) (<a id="49888ee817b9849903f67d70a665e473" class="idref" href="#49888ee817b9849903f67d70a665e473"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#B:774"><span class="id" title="variable">B</span></a>) (<a id="P:779" class="idref" href="#P:779"><span class="id" title="binder">P</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#A:771"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="Q:780" class="idref" href="#Q:780"><span class="id" title="binder">Q</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#A:771"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#B:774"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="00e384cfd7131dc39509e9aef7bc8c04" class="idref" href="#00e384cfd7131dc39509e9aef7bc8c04"><span class="id" title="binder">ε</span></a> <a id="5c49fb4e65ec5a76adf9fdeb3d078893" class="idref" href="#5c49fb4e65ec5a76adf9fdeb3d078893"><span class="id" title="binder">ε'</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#80572aad7e83ee849a109ae72e277b66"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#49888ee817b9849903f67d70a665e473"><span class="id" title="variable">μ2</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:783" class="idref" href="#a:783"><span class="id" title="binder">a</span></a> <a id="b:784" class="idref" href="#b:784"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#P:779"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:783"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#Q:780"><span class="id" title="variable">Q</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:783"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:784"><span class="id" title="variable">b</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#00e384cfd7131dc39509e9aef7bc8c04"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.graded_predicate_lifting.html#pgl"><span class="id" title="definition">pgl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#80572aad7e83ee849a109ae72e277b66"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#P:779"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.couplings_app.html#5c49fb4e65ec5a76adf9fdeb3d078893"><span class="id" title="variable">ε'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#80572aad7e83ee849a109ae72e277b66"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#49888ee817b9849903f67d70a665e473"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#Q:780"><span class="id" title="variable">Q</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#00e384cfd7131dc39509e9aef7bc8c04"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.couplings_app.html#5c49fb4e65ec5a76adf9fdeb3d078893"><span class="id" title="variable">ε'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcpl</span> <span class="id" title="var">Hub</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">P'</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:785" class="idref" href="#a:785"><span class="id" title="binder"><span id="a:786" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="tachis.prob.couplings_app.html#a:785"><span class="id" title="variable">a</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">f'</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:787" class="idref" href="#a:787"><span class="id" title="binder"><span id="a:788" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="tachis.prob.couplings_app.html#a:787"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#a:787"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;epose&nbsp;proof&nbsp;(Hub&nbsp;P'&nbsp;_)&nbsp;as&nbsp;Haux.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Unshelve.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;2:{&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;intros&nbsp;a&nbsp;Ha;&nbsp;rewrite&nbsp;/P'.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;case_bool_decide;&nbsp;auto.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;}&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;rewrite&nbsp;/prob&nbsp;in&nbsp;Haux.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a>; [ | <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_r"><span class="id" title="lemma">Rplus_le_compat_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">Hcpl</span> <span class="id" title="var">f'</span> <span class="id" title="var">g</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">f'</span>; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">HPQ</span>; <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">f'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hfg</span>; <span class="id" title="tactic">auto</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">f'</span> /<span class="id" title="var">P'</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>); <span class="id" title="tactic">split</span>; [<span class="id" title="var">real_solver</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">simpl</span>; [<span class="id" title="var">lra</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_0_r"><span class="id" title="lemma">Rmult_0_r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_0_l"><span class="id" title="lemma">Rplus_0_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:789" class="idref" href="#x:789"><span class="id" title="binder"><span id="x:790" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#x:789"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)*</span></a>2)); [ | <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a>; <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_0_r"><span class="id" title="lemma">Rmult_0_r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_0_l"><span class="id" title="lemma">Rplus_0_l</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_0_r"><span class="id" title="lemma">Rmult_0_r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_0_l"><span class="id" title="lemma">Rplus_0_l</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">μ1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">a</span>); <span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="up_to_bad_rhs" class="idref" href="#up_to_bad_rhs"><span class="id" title="lemma">up_to_bad_rhs</span></a> `{<a id="H:793" class="idref" href="#H:793"><span class="id" title="binder">Countable</span></a> <a id="A:791" class="idref" href="#A:791"><span class="id" title="binder"><span id="H:793" class="id">A</span></span></a>, <a id="H0:796" class="idref" href="#H0:796"><span class="id" title="binder">Countable</span></a> <a id="B:794" class="idref" href="#B:794"><span class="id" title="binder"><span id="H0:796" class="id">B</span></span></a>} (<a id="5d4455035b8ed5b7e2f3d88c951f1326" class="idref" href="#5d4455035b8ed5b7e2f3d88c951f1326"><span class="id" title="binder">μ1</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#A:791"><span class="id" title="variable">A</span></a>) (<a id="5eee5803479afe5a39162d5b52c49b02" class="idref" href="#5eee5803479afe5a39162d5b52c49b02"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#B:794"><span class="id" title="variable">B</span></a>) (<a id="P:799" class="idref" href="#P:799"><span class="id" title="binder">P</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#B:794"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="Q:800" class="idref" href="#Q:800"><span class="id" title="binder">Q</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#A:791"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#B:794"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="38b571f0128f2cc6a806b11a42051672" class="idref" href="#38b571f0128f2cc6a806b11a42051672"><span class="id" title="binder">ε</span></a> <a id="5e4bed84341026f456c199c858b1b726" class="idref" href="#5e4bed84341026f456c199c858b1b726"><span class="id" title="binder">ε'</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#5d4455035b8ed5b7e2f3d88c951f1326"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#5eee5803479afe5a39162d5b52c49b02"><span class="id" title="variable">μ2</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:803" class="idref" href="#a:803"><span class="id" title="binder">a</span></a> <a id="b:804" class="idref" href="#b:804"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#P:799"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:804"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#Q:800"><span class="id" title="variable">Q</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a:803"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob.couplings_app.html#b:804"><span class="id" title="variable">b</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#38b571f0128f2cc6a806b11a42051672"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.graded_predicate_lifting.html#pgl"><span class="id" title="definition">pgl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#5eee5803479afe5a39162d5b52c49b02"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#P:799"><span class="id" title="variable">P</span></a> <a class="idref" href="tachis.prob.couplings_app.html#5e4bed84341026f456c199c858b1b726"><span class="id" title="variable">ε'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#5d4455035b8ed5b7e2f3d88c951f1326"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#5eee5803479afe5a39162d5b52c49b02"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#Q:800"><span class="id" title="variable">Q</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#38b571f0128f2cc6a806b11a42051672"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.couplings_app.html#5e4bed84341026f456c199c858b1b726"><span class="id" title="variable">ε'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcpl</span> <span class="id" title="var">Hub</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">P'</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:805" class="idref" href="#a:805"><span class="id" title="binder"><span id="a:806" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="tachis.prob.couplings_app.html#a:805"><span class="id" title="variable">a</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">g'</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:807" class="idref" href="#a:807"><span class="id" title="binder"><span id="a:808" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="tachis.prob.couplings_app.html#a:807"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#a:807"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a>; [ | <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hub</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a> <span class="id" title="var">ε</span>) -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>.<br/>
&nbsp;&nbsp;2,3: <span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:809" class="idref" href="#b:809"><span class="id" title="binder"><span id="b:810" class="id"><span id="b:811" class="id">b</span></span></span></a> : <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:809"><span class="id" title="variable">b</span></a>)) =&gt; // ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:812" class="idref" href="#b:812"><span class="id" title="binder"><span id="b:813" class="id">b</span></span></a> : <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:812"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:812"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:812"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="tachis.prob.couplings_app.html#b:812"><span class="id" title="variable">b</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">ε</span>) ; [|(<span class="id" title="tactic">right</span> ; <span class="id" title="tactic">f_equal</span> ; <span class="id" title="var">series</span>)].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;-<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_plus_distr_l"><span class="id" title="lemma">Rmult_plus_distr_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:814" class="idref" href="#b:814"><span class="id" title="binder"><span id="b:815" class="id">b</span></span></a> : <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:814"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin"><span class="id" title="definition">Rmin</span></a> 1 (<span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#b:814"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="tachis.prob.couplings_app.html#b:814"><span class="id" title="variable">b</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">ε</span>).<br/>
&nbsp;&nbsp;2:{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_r"><span class="id" title="lemma">Rplus_le_compat_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:816" class="idref" href="#b:816"><span class="id" title="binder"><span id="b:817" class="id">b</span></span></a> : <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#b:816"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a>1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_scal_r"><span class="id" title="lemma">ex_seriesC_scal_r</span></a> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">g</span> <span class="id" title="var">b</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">real_solver_partial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">g</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="var">g</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">real_solver_partial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_right"><span class="id" title="lemma">Rmin_right</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_right"><span class="id" title="lemma">Rmin_right</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_left"><span class="id" title="lemma">Rmin_left</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_left"><span class="id" title="lemma">Rmin_left</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcpl</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> ; <span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">g</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="var">g</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">real_solver_partial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_right"><span class="id" title="lemma">Rmin_right</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_right"><span class="id" title="lemma">Rmin_right</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_left"><span class="id" title="lemma">Rmin_left</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_left"><span class="id" title="lemma">Rmin_left</span></a> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="var">real_solver_partial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>. <span class="id" title="var">trans</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>). 1: <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_right"><span class="id" title="lemma">Rmin_right</span></a>. 1: <span class="id" title="var">lra</span>. <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rmin_left"><span class="id" title="lemma">Rmin_left</span></a>. 2: <span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">g</span> <span class="id" title="var">b</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">real_solver</span> ; <span class="id" title="var">real_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">real_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_refRcoupl" class="idref" href="#ARcoupl_refRcoupl"><span class="id" title="lemma">ARcoupl_refRcoupl</span></a> `{<a id="H:820" class="idref" href="#H:820"><span class="id" title="binder">Countable</span></a> <a id="A:818" class="idref" href="#A:818"><span class="id" title="binder"><span id="H:820" class="id">A</span></span></a>, <a id="H0:823" class="idref" href="#H0:823"><span class="id" title="binder">Countable</span></a> <a id="B:821" class="idref" href="#B:821"><span class="id" title="binder"><span id="H0:823" class="id">B</span></span></a>}<br/>
&nbsp;&nbsp;<a id="bd49d0bed9a27cd55ff4cc65b5b78af1" class="idref" href="#bd49d0bed9a27cd55ff4cc65b5b78af1"><span class="id" title="binder">μ1</span></a> <a id="086e2f43046a7af335c39b3b804b0bf9" class="idref" href="#086e2f43046a7af335c39b3b804b0bf9"><span class="id" title="binder">μ2</span></a> (<a id="0406a61d8d01e3fbbf6d456f87770533" class="idref" href="#0406a61d8d01e3fbbf6d456f87770533"><span class="id" title="binder">ψ</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#A:818"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#B:821"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) : <a class="idref" href="tachis.prob.couplings.html#refRcoupl"><span class="id" title="definition">refRcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#bd49d0bed9a27cd55ff4cc65b5b78af1"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#086e2f43046a7af335c39b3b804b0bf9"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#0406a61d8d01e3fbbf6d456f87770533"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#bd49d0bed9a27cd55ff4cc65b5b78af1"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#086e2f43046a7af335c39b3b804b0bf9"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#0406a61d8d01e3fbbf6d456f87770533"><span class="id" title="variable">ψ</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">μ</span>&amp;(&lt;-&amp;<span class="id" title="var">Hrm</span>)&amp;<span class="id" title="var">Hs</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.distribution.html#rmarg_pmf"><span class="id" title="lemma">rmarg_pmf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="tachis.prob.distribution.html#lmarg_pmf"><span class="id" title="lemma">lmarg_pmf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_r"><span class="id" title="lemma">Rmult_le_compat_r</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hrm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [ | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> ; [ | <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC"><span class="id" title="projection">pmf_ex_seriesC</span></a> <span class="id" title="var">μ2</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_scal_r"><span class="id" title="lemma">SeriesC_scal_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_seriesC"><span class="id" title="lemma">fubini_pos_seriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:829" class="idref" href="#pat:829"><span class="id" title="binder"><span id="pat:832" class="id"><span id="pat:835" class="id">(</span></span></span></a><a id="a:828" class="idref" href="#a:828"><span class="id" title="binder"><span id="pat:829" class="id"><span id="a:831" class="id"><span id="pat:832" class="id"><span id="a:834" class="id"><span id="pat:835" class="id">a</span></span></span></span></span></span></a><a id="pat:829" class="idref" href="#pat:829"><span class="id" title="binder"><span id="pat:832" class="id"><span id="pat:835" class="id">,</span></span></span></a><a id="n:827" class="idref" href="#n:827"><span class="id" title="binder"><span id="pat:829" class="id"><span id="n:830" class="id"><span id="pat:832" class="id"><span id="n:833" class="id"><span id="pat:835" class="id">n</span></span></span></span></span></span></a><a id="pat:829" class="idref" href="#pat:829"><span class="id" title="binder"><span id="pat:832" class="id"><span id="pat:835" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rmult"><span class="id" title="axiom">Rmult</span></a> (<span class="id" title="var">μ</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.couplings_app.html#a:828"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#n:827"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) (<span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#n:827"><span class="id" title="variable">n</span></a>))).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> ((<span class="id" title="var">μ</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)%<span class="id" title="var">R</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">H3</span> | <span class="id" title="var">H4</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span>, <span class="id" title="var">Hfg</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rnot_gt_le"><span class="id" title="lemma">Rnot_gt_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">μ</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> 0%<span class="id" title="var">R</span>; [ <span class="id" title="var">lra</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_antisym"><span class="id" title="lemma">Rle_antisym</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a>; [ | <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_lmarg"><span class="id" title="lemma">ex_seriesC_lmarg</span></a> <span class="id" title="var">μ</span>); <span class="id" title="tactic">eauto</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a>; [ | <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_ex_seriesC_prod_ex_lr"><span class="id" title="lemma">fubini_pos_ex_seriesC_prod_ex_lr</span></a> <span class="id" title="var">μ</span>)]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_lmarg"><span class="id" title="lemma">ex_seriesC_lmarg</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a>; [ | <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_lmarg"><span class="id" title="lemma">ex_seriesC_lmarg</span></a> <span class="id" title="var">μ</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span>) ]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a>; [ | <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob.countable_sum.html#fubini_pos_ex_seriesC_prod_ex_lr"><span class="id" title="lemma">fubini_pos_ex_seriesC_prod_ex_lr</span></a> <span class="id" title="var">μ</span>)]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ge_0'"><span class="id" title="lemma">SeriesC_ge_0'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_lmarg"><span class="id" title="lemma">ex_seriesC_lmarg</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_exact" class="idref" href="#ARcoupl_exact"><span class="id" title="lemma">ARcoupl_exact</span></a> `{<a id="H:838" class="idref" href="#H:838"><span class="id" title="binder">Countable</span></a> <a id="A:836" class="idref" href="#A:836"><span class="id" title="binder"><span id="H:838" class="id">A</span></span></a>, <a id="H0:841" class="idref" href="#H0:841"><span class="id" title="binder">Countable</span></a> <a id="B:839" class="idref" href="#B:839"><span class="id" title="binder"><span id="H0:841" class="id">B</span></span></a>}<br/>
&nbsp;&nbsp;<a id="a05fe60931571facdd54d84703ce42ca" class="idref" href="#a05fe60931571facdd54d84703ce42ca"><span class="id" title="binder">μ1</span></a> <a id="7740fa7644c2033d8bb227fc43a5616d" class="idref" href="#7740fa7644c2033d8bb227fc43a5616d"><span class="id" title="binder">μ2</span></a> (<a id="242e3922ab6f5032994957ff755b33fb" class="idref" href="#242e3922ab6f5032994957ff755b33fb"><span class="id" title="binder">ψ</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#A:836"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#B:839"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) : <a class="idref" href="tachis.prob.couplings.html#Rcoupl"><span class="id" title="definition">Rcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a05fe60931571facdd54d84703ce42ca"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#7740fa7644c2033d8bb227fc43a5616d"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#242e3922ab6f5032994957ff755b33fb"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a05fe60931571facdd54d84703ce42ca"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#7740fa7644c2033d8bb227fc43a5616d"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#242e3922ab6f5032994957ff755b33fb"><span class="id" title="variable">ψ</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ; <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_refRcoupl"><span class="id" title="lemma">ARcoupl_refRcoupl</span></a>, <a class="idref" href="tachis.prob.couplings.html#Rcoupl_refRcoupl"><span class="id" title="lemma">Rcoupl_refRcoupl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_limit" class="idref" href="#ARcoupl_limit"><span class="id" title="lemma">ARcoupl_limit</span></a> `{<a id="H:847" class="idref" href="#H:847"><span class="id" title="binder">Countable</span></a> <a id="A:845" class="idref" href="#A:845"><span class="id" title="binder"><span id="H:847" class="id">A</span></span></a>, <a id="H0:850" class="idref" href="#H0:850"><span class="id" title="binder">Countable</span></a> <a id="B:848" class="idref" href="#B:848"><span class="id" title="binder"><span id="H0:850" class="id">B</span></span></a>} <a id="ae4c2e00d5895be40ab7d8fa4fca3957" class="idref" href="#ae4c2e00d5895be40ab7d8fa4fca3957"><span class="id" title="binder">μ1</span></a> <a id="541c5080fe3d8adbe9d276307cbb1702" class="idref" href="#541c5080fe3d8adbe9d276307cbb1702"><span class="id" title="binder">μ2</span></a> <a id="97921d1dfaf36956b71d01728d0e200a" class="idref" href="#97921d1dfaf36956b71d01728d0e200a"><span class="id" title="binder">ε</span></a> (<a id="0ce8001efa4a20aeec7bd5bc119aecb5" class="idref" href="#0ce8001efa4a20aeec7bd5bc119aecb5"><span class="id" title="binder">ψ</span></a> : <a class="idref" href="tachis.prob.couplings_app.html#A:845"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#B:848"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="4dc2caca1959bfea8366f80d93bf2c71" class="idref" href="#4dc2caca1959bfea8366f80d93bf2c71"><span class="id" title="binder">ε'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4dc2caca1959bfea8366f80d93bf2c71"><span class="id" title="variable">ε'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#97921d1dfaf36956b71d01728d0e200a"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ae4c2e00d5895be40ab7d8fa4fca3957"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#541c5080fe3d8adbe9d276307cbb1702"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#0ce8001efa4a20aeec7bd5bc119aecb5"><span class="id" title="variable">ψ</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4dc2caca1959bfea8366f80d93bf2c71"><span class="id" title="variable">ε'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ae4c2e00d5895be40ab7d8fa4fca3957"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#541c5080fe3d8adbe9d276307cbb1702"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#0ce8001efa4a20aeec7bd5bc119aecb5"><span class="id" title="variable">ψ</span></a> <a class="idref" href="tachis.prob.couplings_app.html#97921d1dfaf36956b71d01728d0e200a"><span class="id" title="variable">ε</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlimit</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Series_ext.html#real_le_limit"><span class="id" title="lemma">real_le_limit</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hlimit</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_antisym" class="idref" href="#ARcoupl_antisym"><span class="id" title="lemma">ARcoupl_antisym</span></a> `{<a id="H:858" class="idref" href="#H:858"><span class="id" title="binder">Countable</span></a> <a id="A:856" class="idref" href="#A:856"><span class="id" title="binder"><span id="H:858" class="id">A</span></span></a>} (<a id="4b4382c9addb9362e00e936cba275747" class="idref" href="#4b4382c9addb9362e00e936cba275747"><span class="id" title="binder">μ1</span></a> <a id="24796e4e2a9dc3ba5afedd4f4ca9f176" class="idref" href="#24796e4e2a9dc3ba5afedd4f4ca9f176"><span class="id" title="binder">μ2</span></a>: <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#A:856"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4b4382c9addb9362e00e936cba275747"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#24796e4e2a9dc3ba5afedd4f4ca9f176"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#24796e4e2a9dc3ba5afedd4f4ca9f176"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4b4382c9addb9362e00e936cba275747"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#4b4382c9addb9362e00e936cba275747"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#24796e4e2a9dc3ba5afedd4f4ca9f176"><span class="id" title="variable">μ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#distr_ext"><span class="id" title="lemma">distr_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_eq_elim"><span class="id" title="lemma">ARcoupl_eq_elim</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_eq_elim"><span class="id" title="lemma">ARcoupl_eq_elim</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span> <span class="id" title="var">a</span>). <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_tight" class="idref" href="#ARcoupl_tight"><span class="id" title="lemma">ARcoupl_tight</span></a> `{<a id="H:863" class="idref" href="#H:863"><span class="id" title="binder">Countable</span></a> <a id="A:861" class="idref" href="#A:861"><span class="id" title="binder"><span id="H:863" class="id">A</span></span></a>} (<a id="c3efd2ccde2e724b8088f6035b3ad4f0" class="idref" href="#c3efd2ccde2e724b8088f6035b3ad4f0"><span class="id" title="binder">μ1</span></a> <a id="c17cbaed82629388dc6e6bfd9427bb36" class="idref" href="#c17cbaed82629388dc6e6bfd9427bb36"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#A:861"><span class="id" title="variable">A</span></a>) <a id="e31f474ede3d4f25cf81f4eb74bd1f89" class="idref" href="#e31f474ede3d4f25cf81f4eb74bd1f89"><span class="id" title="binder">ε</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#c3efd2ccde2e724b8088f6035b3ad4f0"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#c17cbaed82629388dc6e6bfd9427bb36"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="tachis.prob.couplings_app.html#e31f474ede3d4f25cf81f4eb74bd1f89"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:867" class="idref" href="#x:867"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#c17cbaed82629388dc6e6bfd9427bb36"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:867"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#c3efd2ccde2e724b8088f6035b3ad4f0"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:867"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="tachis.prob.couplings_app.html#c3efd2ccde2e724b8088f6035b3ad4f0"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:867"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="tachis.prob.couplings_app.html#c17cbaed82629388dc6e6bfd9427bb36"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:867"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.couplings_app.html#e31f474ede3d4f25cf81f4eb74bd1f89"><span class="id" title="variable">ε</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">f</span>:=<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:868" class="idref" href="#x:868"><span class="id" title="binder"><span id="x:869" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#x:868"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#x:868"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcoupl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:870" class="idref" href="#x:870"><span class="id" title="binder"><span id="x:871" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a><span class="id" title="var">f</span> <a class="idref" href="tachis.prob.couplings_app.html#x:870"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a>1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">f</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassert</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hcoupl</span> <span class="id" title="var">f</span> <span class="id" title="var">f</span>); <span class="id" title="var">naive_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a> -<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">exact</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_r"><span class="id" title="lemma">Rle_minus_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Req_le"><span class="id" title="lemma">Req_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">μ1</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Reals_ext.html#Rminus_le_0_compat"><span class="id" title="lemma">Rminus_le_0_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">HseriesC</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a> -<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">exact</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">μ1</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Reals_ext.html#Rminus_le_0_compat"><span class="id" title="lemma">Rminus_le_0_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="var">naive_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assert</span> (<span class="id" title="var">f</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">g</span> <span class="id" title="var">n</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rle_minus_l"><span class="id" title="lemma">Rle_minus_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<span class="id" title="var">μ1</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">μ2</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">f</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Ropp_le_cancel"><span class="id" title="lemma">Ropp_le_cancel</span></a>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Ropp_minus_distr"><span class="id" title="lemma">Ropp_minus_distr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_r"><span class="id" title="lemma">Rplus_le_compat_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; [<span class="id" title="var">done</span>|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#Rmult_minus_distr_r"><span class="id" title="lemma">Rmult_minus_distr_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">trans</span> (<span class="id" title="var">μ1</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; [<span class="id" title="var">done</span>|<span class="id" title="var">naive_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_0_l"><span class="id" title="lemma">Rplus_0_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_r"><span class="id" title="lemma">Rmult_le_compat_r</span></a>; [<span class="id" title="var">naive_solver</span>|<span class="id" title="var">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:872" class="idref" href="#x:872"><span class="id" title="binder"><span id="x:873" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#x:872"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#x:872"><span class="id" title="variable">x</span></a>); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_plus"><span class="id" title="lemma">ex_seriesC_plus</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">case_bool_decide</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">trans</span> (<span class="id" title="var">μ1</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">μ2</span> <span class="id" title="var">n</span>); <span class="id" title="tactic">first</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Reals_ext.html#Rplus_le_0_compat"><span class="id" title="lemma">Rplus_le_0_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_0_l"><span class="id" title="lemma">Rplus_0_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">trans</span> (<span class="id" title="var">μ1</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">cut</span> (<span class="id" title="var">μ1</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">μ2</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">g</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">μ2</span> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a>1); <span class="id" title="tactic">first</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; [<span class="id" title="var">done</span>|<span class="id" title="var">naive_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Reals_ext.html#Rplus_le_0_compat"><span class="id" title="lemma">Rplus_le_0_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">trans</span> (<span class="id" title="var">μ2</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_0_l"><span class="id" title="lemma">Rplus_0_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; [<span class="id" title="var">done</span>|<span class="id" title="var">naive_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Reals_ext.html#Rplus_le_0_compat"><span class="id" title="lemma">Rplus_le_0_compat</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_swap" class="idref" href="#ARcoupl_swap"><span class="id" title="lemma">ARcoupl_swap</span></a> `{<a id="H:876" class="idref" href="#H:876"><span class="id" title="binder">Countable</span></a> <a id="A:874" class="idref" href="#A:874"><span class="id" title="binder"><span id="H:876" class="id">A</span></span></a>} (<a id="3e65702efaa313a8e3809182efa2a9ef" class="idref" href="#3e65702efaa313a8e3809182efa2a9ef"><span class="id" title="binder">μ1</span></a> <a id="d6145b859e19803962911b5040d90076" class="idref" href="#d6145b859e19803962911b5040d90076"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#A:874"><span class="id" title="variable">A</span></a>) <a id="8b8674face17c240e591b6490216f1e9" class="idref" href="#8b8674face17c240e591b6490216f1e9"><span class="id" title="binder">ε</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.couplings_app.html#d6145b859e19803962911b5040d90076"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.couplings_app.html#3e65702efaa313a8e3809182efa2a9ef"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#3e65702efaa313a8e3809182efa2a9ef"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#d6145b859e19803962911b5040d90076"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="tachis.prob.couplings_app.html#8b8674face17c240e591b6490216f1e9"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#d6145b859e19803962911b5040d90076"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#3e65702efaa313a8e3809182efa2a9ef"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="tachis.prob.couplings_app.html#8b8674face17c240e591b6490216f1e9"><span class="id" title="variable">ε</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_tight"><span class="id" title="lemma">ARcoupl_tight</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">exact</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:880" class="idref" href="#x:880"><span class="id" title="binder"><span id="x:882" class="id">x</span></span></a> : <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#x:880"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#x:880"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#x:880"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#x:880"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ1</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:881" class="idref" href="#x:881"><span class="id" title="binder"><span id="x:883" class="id">x</span></span></a> : <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#x:881"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#x:881"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#x:881"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#x:881"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <span class="id" title="var">μ2</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -!<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_plus"><span class="id" title="lemma">SeriesC_plus</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">μ2</span>); <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">lra</span>||<span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Reals_ext.html#Rminus_le_0_compat"><span class="id" title="lemma">Rminus_le_0_compat</span></a>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">μ1</span>); <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">lra</span>||<span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Reals_ext.html#Rminus_le_0_compat"><span class="id" title="lemma">Rminus_le_0_compat</span></a>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_le"><span class="id" title="lemma">ex_seriesC_le</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:884" class="idref" href="#x:884"><span class="id" title="binder"><span id="x:885" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">μ1</span> <a class="idref" href="tachis.prob.couplings_app.html#x:884"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">μ2</span> <a class="idref" href="tachis.prob.couplings_app.html#x:884"><span class="id" title="variable">x</span></a>); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#ex_seriesC_plus"><span class="id" title="lemma">ex_seriesC_plus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ2</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ1</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="tachis.prob.distribution.html#pmf_pos"><span class="id" title="projection">pmf_pos</span></a> <span class="id" title="var">μ2</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">lra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_symmetric" class="idref" href="#ARcoupl_symmetric"><span class="id" title="lemma">ARcoupl_symmetric</span></a> `{<a id="H:888" class="idref" href="#H:888"><span class="id" title="binder">Countable</span></a> <a id="A:886" class="idref" href="#A:886"><span class="id" title="binder"><span id="H:888" class="id">A</span></span></a>} (<a id="5c93cd78ba66ee6c5dd684e84077bd6e" class="idref" href="#5c93cd78ba66ee6c5dd684e84077bd6e"><span class="id" title="binder">μ1</span></a> <a id="4df16aa4f7e61661d23389a09a6d2d3e" class="idref" href="#4df16aa4f7e61661d23389a09a6d2d3e"><span class="id" title="binder">μ2</span></a> : <a class="idref" href="tachis.prob.distribution.html#distr"><span class="id" title="record">distr</span></a> <a class="idref" href="tachis.prob.couplings_app.html#A:886"><span class="id" title="variable">A</span></a>) <a id="2095362e847a47a50c12b7202ca2f6d3" class="idref" href="#2095362e847a47a50c12b7202ca2f6d3"><span class="id" title="binder">ε</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.couplings_app.html#5c93cd78ba66ee6c5dd684e84077bd6e"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC"><span class="id" title="definition">SeriesC</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4df16aa4f7e61661d23389a09a6d2d3e"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#5c93cd78ba66ee6c5dd684e84077bd6e"><span class="id" title="variable">μ1</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4df16aa4f7e61661d23389a09a6d2d3e"><span class="id" title="variable">μ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="tachis.prob.couplings_app.html#2095362e847a47a50c12b7202ca2f6d3"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> <a class="idref" href="tachis.prob.couplings_app.html#4df16aa4f7e61661d23389a09a6d2d3e"><span class="id" title="variable">μ2</span></a> <a class="idref" href="tachis.prob.couplings_app.html#5c93cd78ba66ee6c5dd684e84077bd6e"><span class="id" title="variable">μ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="tachis.prob.couplings_app.html#2095362e847a47a50c12b7202ca2f6d3"><span class="id" title="variable">ε</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_swap"><span class="id" title="lemma">ARcoupl_swap</span></a>; (<span class="id" title="var">lra</span>||<span class="id" title="var">naive_solver</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ARcoupl_dunif_avoid" class="idref" href="#ARcoupl_dunif_avoid"><span class="id" title="lemma">ARcoupl_dunif_avoid</span></a> <a id="N:892" class="idref" href="#N:892"><span class="id" title="binder">N</span></a> (<a id="l:893" class="idref" href="#l:893"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:892"><span class="id" title="variable">N</span></a>)):<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="tachis.prob.couplings_app.html#l:893"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:892"><span class="id" title="variable">N</span></a>) (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <a class="idref" href="tachis.prob.couplings_app.html#N:892"><span class="id" title="variable">N</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:894" class="idref" href="#x:894"><span class="id" title="binder">x</span></a> <a id="y:895" class="idref" href="#y:895"><span class="id" title="binder">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:894"><span class="id" title="variable">x</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a><a class="idref" href="tachis.prob.couplings_app.html#l:893"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:894"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="tachis.prob.couplings_app.html#y:895"><span class="id" title="variable">y</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="tachis.prob.couplings_app.html#l:893"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a><a class="idref" href="tachis.prob.couplings_app.html#N:892"><span class="id" title="variable">N</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a4a5c05126ad24965ee9e921211453ce" class="idref" href="#a4a5c05126ad24965ee9e921211453ce"><span class="id" title="binder"><span id="69c5a69392789958b80e75fc7d34924c" class="id">ε</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span>) (<a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:897" class="idref" href="#x:897"><span class="id" title="binder"><span id="x:901" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a>(<a class="idref" href="tachis.prob.couplings_app.html#x:897"><span class="id" title="variable">x</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a><span class="id" title="var">l</span>)) (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span>)) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="tachis.prob.couplings_app.html#a4a5c05126ad24965ee9e921211453ce"><span class="id" title="variable">ε</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob.couplings_app.html#ARcoupl"><span class="id" title="definition">ARcoupl</span></a> (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span>) (<a class="idref" href="tachis.prob.distribution.html#dunif"><span class="id" title="definition">dunif</span></a> <span class="id" title="var">N</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:898" class="idref" href="#x:898"><span class="id" title="binder"><span id="x:902" class="id">x</span></span></a> <a id="y:899" class="idref" href="#y:899"><span class="id" title="binder"><span id="y:903" class="id">y</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:898"><span class="id" title="variable">x</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a><span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="tachis.prob.couplings_app.html#x:898"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="tachis.prob.couplings_app.html#y:899"><span class="id" title="variable">y</span></a>) <a class="idref" href="tachis.prob.couplings_app.html#a4a5c05126ad24965ee9e921211453ce"><span class="id" title="variable">ε</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.couplings_app.html#ARcoupl_tight"><span class="id" title="lemma">ARcoupl_tight</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="tachis.prob.countable_sum.html#SeriesC_ext"><span class="id" title="lemma">SeriesC_ext</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:904" class="idref" href="#x:904"><span class="id" title="binder"><span id="x:905" class="id"><span id="x:906" class="id">x</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a>(<a class="idref" href="tachis.prob.couplings_app.html#x:904"><span class="id" title="variable">x</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a><span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/(</span></a><span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_list_2"><span class="id" title="lemma">SeriesC_list_2</span></a>; [<span class="id" title="var">lra</span>|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_true_2"><span class="id" title="lemma">bool_decide_eq_true_2</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a>/<a class="idref" href="tachis.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a>/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>/=. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_1_l"><span class="id" title="lemma">Rdiv_1_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Coquelicot_ext.html#Rdiv_INR_ge_0"><span class="id" title="lemma">Rdiv_INR_ge_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a>/<a class="idref" href="tachis.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a>{2}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_false_2"><span class="id" title="lemma">bool_decide_eq_false_2</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_true_2"><span class="id" title="lemma">bool_decide_eq_true_2</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.distribution.html#dunif_pmf"><span class="id" title="lemma">dunif_pmf</span></a>. <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ε</span> <span class="id" title="var">Hcoupl</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">g'</span>:=<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:907" class="idref" href="#x:907"><span class="id" title="binder"><span id="x:908" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="tachis.prob.couplings_app.html#x:907"><span class="id" title="variable">x</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a><span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <span class="id" title="var">g</span> <a class="idref" href="tachis.prob.couplings_app.html#x:907"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b:909" class="idref" href="#b:909"><span class="id" title="binder"><span id="b:910" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a><span class="id" title="var">g'</span> <a class="idref" href="tachis.prob.couplings_app.html#b:909"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a>1).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">g'</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>. <span class="id" title="var">naive_solver</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Hcoupl</span> <span class="id" title="var">f</span> <span class="id" title="var">g'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_r"><span class="id" title="lemma">Rplus_le_compat_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_le"><span class="id" title="lemma">SeriesC_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob.distribution.html#pmf_ex_seriesC_mult_fn"><span class="id" title="lemma">pmf_ex_seriesC_mult_fn</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">g'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.prob.distribution.html#ssd"><span class="id" title="definition">ssd</span></a>/<a class="idref" href="tachis.prob.distribution.html#ssd_pmf"><span class="id" title="definition">ssd_pmf</span></a>{1}/<a class="idref" href="tachis.prob.distribution.html#pmf"><span class="id" title="projection">pmf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_eq_false_2"><span class="id" title="lemma">bool_decide_eq_false_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_0_l"><span class="id" title="lemma">Rmult_0_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?? -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">g'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>

<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
