<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/logsem/clutch">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">tachis.tachis.examples.meldable_heap</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab48"></a><h1 class="section">Meldable Heaps</h1>

</div>
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">tachis.tachis</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="tachis.tachis.ert_weakestpre.html#"><span class="id" title="library">ert_weakestpre</span></a> <a class="idref" href="tachis.tachis.lifting.html#"><span class="id" title="library">lifting</span></a> <a class="idref" href="tachis.tachis.ectx_lifting.html#"><span class="id" title="library">ectx_lifting</span></a> <a class="idref" href="tachis.tachis.primitive_laws.html#"><span class="id" title="library">primitive_laws</span></a> <a class="idref" href="tachis.tachis.expected_time_credits.html#"><span class="id" title="library">expected_time_credits</span></a> <a class="idref" href="tachis.tachis.cost_models.html#"><span class="id" title="library">cost_models</span></a> <a class="idref" href="tachis.tachis.problang_wp.html#"><span class="id" title="library">problang_wp</span></a> <a class="idref" href="tachis.tachis.proofmode.html#"><span class="id" title="library">proofmode</span></a> <a class="idref" href="tachis.tachis.ert_rules.html#"><span class="id" title="library">ert_rules</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">tachis.tachis</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#"><span class="id" title="library">min_heap_spec</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">tachis.common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="tachis.common.inject.html#"><span class="id" title="library">inject</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.tactics.html#"><span class="id" title="library">tactics</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Reals.html#"><span class="id" title="library">Reals</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.micromega.Psatz.html#"><span class="id" title="library">Psatz</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sorting.html#"><span class="id" title="library">sorting</span></a>.<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Program.Tactics.html#"><span class="id" title="library">Coq.Program.Tactics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Program.Wf.html#"><span class="id" title="library">Coq.Program.Wf</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type*".<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.micromega.Lra.html#"><span class="id" title="library">Lra</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="log" class="idref" href="#log"><span class="id" title="section">log</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fin2_subst_0" class="idref" href="#fin2_subst_0"><span class="id" title="lemma">fin2_subst_0</span></a> (<a id="s:1" class="idref" href="#s:1"><span class="id" title="binder">s</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> 2) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat"><span class="id" title="definition">fin_to_nat</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#s:1"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0%<span class="id" title="var">Z</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prelude.stdpp_ext.html#fin_to_bool"><span class="id" title="definition">fin_to_bool</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#s:1"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prelude.stdpp_ext.html#fin_to_nat_to_bool_inv"><span class="id" title="lemma">fin_to_nat_to_bool_inv</span></a> -<a class="idref" href="tachis.prelude.stdpp_ext.html#nat_to_bool_eq_0"><span class="id" title="lemma">nat_to_bool_eq_0</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fin2_subst_neq0" class="idref" href="#fin2_subst_neq0"><span class="id" title="lemma">fin2_subst_neq0</span></a> (<a id="s:2" class="idref" href="#s:2"><span class="id" title="binder">s</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> 2) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin.html#fin_to_nat"><span class="id" title="definition">fin_to_nat</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#s:2"><span class="id" title="variable">s</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> 0%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prelude.stdpp_ext.html#fin_to_bool"><span class="id" title="definition">fin_to_bool</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#s:2"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prelude.stdpp_ext.html#fin_to_nat_to_bool_inv"><span class="id" title="lemma">fin_to_nat_to_bool_inv</span></a> <a class="idref" href="tachis.prelude.stdpp_ext.html#nat_to_bool_neq_0"><span class="id" title="lemma">nat_to_bool_neq_0</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Coq&nbsp;uses&nbsp;a&nbsp;fake&nbsp;version&nbsp;of&nbsp;log,&nbsp;which&nbsp;will&nbsp;be&nbsp;nice&nbsp;for&nbsp;handling&nbsp;edge&nbsp;cases&nbsp;in&nbsp;our&nbsp;derivation&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ln_0" class="idref" href="#ln_0"><span class="id" title="lemma">ln_0</span></a> : (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln"><span class="id" title="definition">ln</span></a> 0%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0%<span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">compute</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_dec"><span class="id" title="lemma">Rlt_dec</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R0"><span class="id" title="axiom">R0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R0"><span class="id" title="axiom">R0</span></a>); <span class="id" title="tactic">auto</span>. <span class="id" title="var">exfalso</span>. <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ln_pos" class="idref" href="#ln_pos"><span class="id" title="lemma">ln_pos</span></a> (<a id="n:3" class="idref" href="#n:3"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#n:3"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln"><span class="id" title="definition">ln</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#n:3"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#exp_lt_inv"><span class="id" title="lemma">exp_lt_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rtrigo_def.html#exp_0"><span class="id" title="lemma">exp_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">P</span> := (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#pos_INR"><span class="id" title="lemma">pos_INR</span></a> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#exp_ln"><span class="id" title="lemma">exp_ln</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#lt_1_INR"><span class="id" title="lemma">lt_1_INR</span></a>; <span class="id" title="var">lia</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#lt_0_INR"><span class="id" title="lemma">lt_0_INR</span></a>; <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ln_nonneg" class="idref" href="#ln_nonneg"><span class="id" title="lemma">ln_nonneg</span></a> (<a id="n:4" class="idref" href="#n:4"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln"><span class="id" title="definition">ln</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#n:4"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span>]; [ <span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#ln_0"><span class="id" title="lemma">ln_0</span></a>; <span class="id" title="var">lra</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span>]; [ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln_1"><span class="id" title="lemma">ln_1</span></a>; <span class="id" title="var">lra</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_le"><span class="id" title="lemma">Rlt_le</span></a>, <a class="idref" href="tachis.tachis.examples.meldable_heap.html#ln_pos"><span class="id" title="lemma">ln_pos</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Rlog_pos" class="idref" href="#Rlog_pos"><span class="id" title="lemma">Rlog_pos</span></a> (<a id="b:5" class="idref" href="#b:5"><span class="id" title="binder">b</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="v:6" class="idref" href="#v:6"><span class="id" title="binder">v</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#b:5"><span class="id" title="variable">b</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#b:5"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#v:6"><span class="id" title="variable">v</span></a>)%<span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_def"><span class="id" title="lemma">Rdiv_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#ln_nonneg"><span class="id" title="lemma">ln_nonneg</span></a> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_le"><span class="id" title="lemma">Rlt_le</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_0_lt_compat"><span class="id" title="lemma">Rinv_0_lt_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln_exp"><span class="id" title="lemma">ln_exp</span></a> 0) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rtrigo_def.html#exp_0"><span class="id" title="lemma">exp_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln_increasing"><span class="id" title="lemma">ln_increasing</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Rlog_nonneg_nats" class="idref" href="#Rlog_nonneg_nats"><span class="id" title="lemma">Rlog_nonneg_nats</span></a> (<a id="b:7" class="idref" href="#b:7"><span class="id" title="binder">b</span></a> <a id="v:8" class="idref" href="#v:8"><span class="id" title="binder">v</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#b:7"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#v:8"><span class="id" title="variable">v</span></a>)%<span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_def"><span class="id" title="lemma">Rdiv_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#ln_nonneg"><span class="id" title="lemma">ln_nonneg</span></a> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; [<span class="id" title="tactic">rewrite</span> /= <a class="idref" href="tachis.tachis.examples.meldable_heap.html#ln_0"><span class="id" title="lemma">ln_0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_0"><span class="id" title="lemma">Rinv_0</span></a>; <span class="id" title="var">lra</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; [<span class="id" title="tactic">rewrite</span> /= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln_1"><span class="id" title="lemma">ln_1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_0"><span class="id" title="lemma">Rinv_0</span></a>; <span class="id" title="var">lra</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_le"><span class="id" title="lemma">Rlt_le</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_0_lt_compat"><span class="id" title="lemma">Rinv_0_lt_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#ln_pos"><span class="id" title="lemma">ln_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Rlog_increasing" class="idref" href="#Rlog_increasing"><span class="id" title="lemma">Rlog_increasing</span></a> <a id="x:9" class="idref" href="#x:9"><span class="id" title="binder">x</span></a> <a id="y:10" class="idref" href="#y:10"><span class="id" title="binder">y</span></a> <a id="b:11" class="idref" href="#b:11"><span class="id" title="binder">b</span></a> : (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#b:11"><span class="id" title="variable">b</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#x:9"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#y:10"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#b:11"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#x:9"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#b:11"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#y:10"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_def"><span class="id" title="lemma">Rdiv_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_lt_compat_r"><span class="id" title="lemma">Rmult_lt_compat_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_0_lt_compat"><span class="id" title="lemma">Rinv_0_lt_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln_exp"><span class="id" title="lemma">ln_exp</span></a> 0) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rtrigo_def.html#exp_0"><span class="id" title="lemma">exp_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln_increasing"><span class="id" title="lemma">ln_increasing</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln_increasing"><span class="id" title="lemma">ln_increasing</span></a>; <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#log"><span class="id" title="section">log</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="heaps" class="idref" href="#heaps"><span class="id" title="section">heaps</span></a>.<br/>

<br/>
</div>

<div class="doc">
Binary trees 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="A:12" class="idref" href="#A:12"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="BinaryTree" class="idref" href="#BinaryTree"><span class="id" title="definition, inductive"><span id="BinaryTree_rect" class="id"><span id="BinaryTree_ind" class="id"><span id="BinaryTree_rec" class="id"><span id="BinaryTree_sind" class="id">BinaryTree</span></span></span></span></span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="Nil" class="idref" href="#Nil"><span class="id" title="constructor">Nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="Node" class="idref" href="#Node"><span class="id" title="constructor">Node</span></a> (<a id="v:15" class="idref" href="#v:15"><span class="id" title="binder">v</span></a> : <a class="idref" href="tachis.tachis.examples.meldable_heap.html#heaps.A"><span class="id" title="variable">A</span></a>) (<a id="l:16" class="idref" href="#l:16"><span class="id" title="binder">l</span></a> : <a class="idref" href="tachis.tachis.examples.meldable_heap.html#BinaryTree:13"><span class="id" title="inductive">BinaryTree</span></a>) (<a id="r:17" class="idref" href="#r:17"><span class="id" title="binder">r</span></a> : <a class="idref" href="tachis.tachis.examples.meldable_heap.html#BinaryTree:13"><span class="id" title="inductive">BinaryTree</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="tree_size" class="idref" href="#tree_size"><span class="id" title="definition">tree_size</span></a> (<a id="t:18" class="idref" href="#t:18"><span class="id" title="binder">t</span></a> : <a class="idref" href="tachis.tachis.examples.meldable_heap.html#BinaryTree"><span class="id" title="inductive">BinaryTree</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#t:18"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="tachis.tachis.examples.meldable_heap.html#Nil"><span class="id" title="constructor">Nil</span></a> =&gt; 0%<span class="id" title="var">nat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">_</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span>) =&gt; 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_size:19"><span class="id" title="definition">tree_size</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_size:19"><span class="id" title="definition">tree_size</span></a> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="tree_to_list" class="idref" href="#tree_to_list"><span class="id" title="definition">tree_to_list</span></a> (<a id="t:21" class="idref" href="#t:21"><span class="id" title="binder">t</span></a> : <a class="idref" href="tachis.tachis.examples.meldable_heap.html#BinaryTree"><span class="id" title="inductive">BinaryTree</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#heaps.A"><span class="id" title="variable">A</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#t:21"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="tachis.tachis.examples.meldable_heap.html#Nil"><span class="id" title="constructor">Nil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">x</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span>) =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list:22"><span class="id" title="definition">tree_to_list</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list:22"><span class="id" title="definition">tree_to_list</span></a> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Heaps: Heap-ordered binary trees 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="R:24" class="idref" href="#R:24"><span class="id" title="binder">R</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#heaps.A"><span class="id" title="variable">A</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="HeapOrdered" class="idref" href="#HeapOrdered"><span class="id" title="definition">HeapOrdered</span></a> (<a id="v:25" class="idref" href="#v:25"><span class="id" title="binder">v</span></a> : <a class="idref" href="tachis.tachis.examples.meldable_heap.html#heaps.A"><span class="id" title="variable">A</span></a>) (<a id="next:26" class="idref" href="#next:26"><span class="id" title="binder">next</span></a> : <a class="idref" href="tachis.tachis.examples.meldable_heap.html#BinaryTree"><span class="id" title="inductive">BinaryTree</span></a>) : <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#next:26"><span class="id" title="variable">next</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="tachis.tachis.examples.meldable_heap.html#Nil"><span class="id" title="constructor">Nil</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">v'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="tachis.tachis.examples.meldable_heap.html#heaps.R"><span class="id" title="variable">R</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#v:25"><span class="id" title="variable">v</span></a> <span class="id" title="var">v'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="IsHeap" class="idref" href="#IsHeap"><span class="id" title="definition, inductive"><span id="IsHeap_ind" class="id"><span id="IsHeap_sind" class="id">IsHeap</span></span></span></a> : <a class="idref" href="tachis.tachis.examples.meldable_heap.html#BinaryTree"><span class="id" title="inductive">BinaryTree</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a id="Heap_nil" class="idref" href="#Heap_nil"><span class="id" title="constructor">Heap_nil</span></a> : <a class="idref" href="tachis.tachis.examples.meldable_heap.html#IsHeap:28"><span class="id" title="inductive">IsHeap</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#Nil"><span class="id" title="constructor">Nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a id="Heap_node" class="idref" href="#Heap_node"><span class="id" title="constructor">Heap_node</span></a> (<a id="v:30" class="idref" href="#v:30"><span class="id" title="binder">v</span></a> : <a class="idref" href="tachis.tachis.examples.meldable_heap.html#heaps.A"><span class="id" title="variable">A</span></a>) (<a id="l:31" class="idref" href="#l:31"><span class="id" title="binder">l</span></a> <a id="r:32" class="idref" href="#r:32"><span class="id" title="binder">r</span></a> : <a class="idref" href="tachis.tachis.examples.meldable_heap.html#BinaryTree"><span class="id" title="inductive">BinaryTree</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.tachis.examples.meldable_heap.html#IsHeap:28"><span class="id" title="inductive">IsHeap</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#l:31"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#IsHeap:28"><span class="id" title="inductive">IsHeap</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#r:32"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#HeapOrdered"><span class="id" title="definition">HeapOrdered</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#v:30"><span class="id" title="variable">v</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#l:31"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#HeapOrdered"><span class="id" title="definition">HeapOrdered</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#v:30"><span class="id" title="variable">v</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#r:32"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#IsHeap:28"><span class="id" title="inductive">IsHeap</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#v:30"><span class="id" title="variable">v</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#l:31"><span class="id" title="variable">l</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#r:32"><span class="id" title="variable">r</span></a>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#heaps"><span class="id" title="section">heaps</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="program" class="idref" href="#program"><span class="id" title="section">program</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="A:33" class="idref" href="#A:33"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="tachisGS0:35" class="idref" href="#tachisGS0:35"><span class="id" title="binder">!</span></a><a id="tachisGS0:35" class="idref" href="#tachisGS0:35"><span class="id" title="binder">tachisGS</span></a> <a id="c9c14b58eeeaee559bef0d4f884fa28f" class="idref" href="#c9c14b58eeeaee559bef0d4f884fa28f"><span class="id" title="binder"><span id="tachisGS0:35" class="id">Σ</span></span></a> <a id="tachisGS0:35" class="idref" href="#tachisGS0:35"><span class="id" title="binder">CostTick</span></a>}.<br/>

<br/>
</div>

<div class="doc">
Lifts a representation predicate into binary trees 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="repr_binarytree" class="idref" href="#repr_binarytree"><span class="id" title="definition">repr_binarytree</span></a> (<a id="cmp:36" class="idref" href="#cmp:36"><span class="id" title="binder">cmp</span></a> : <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#comparator"><span class="id" title="record">comparator</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <a class="idref" href="tachis.tachis.cost_models.html#CostTick"><span class="id" title="definition">CostTick</span></a>) (<a id="b:37" class="idref" href="#b:37"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.tachis.examples.meldable_heap.html#BinaryTree"><span class="id" title="inductive">BinaryTree</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a>) (<a id="v:38" class="idref" href="#v:38"><span class="id" title="binder">v</span></a> : <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#22dae9afcbd37bf12a0fd155d91b0518"><span class="id" title="variable">Σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#b:37"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="tachis.tachis.examples.meldable_heap.html#Nil"><span class="id" title="constructor">Nil</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#v:38"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob_lang.notation.html#NONEV"><span class="id" title="abbreviation">NONEV</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">x</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="vv:41" class="idref" href="#vv:41"><span class="id" title="binder">vv</span></a> <a id="vl:42" class="idref" href="#vl:42"><span class="id" title="binder">vl</span></a> <a id="vr:43" class="idref" href="#vr:43"><span class="id" title="binder">vr</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#v:38"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob_lang.notation.html#SOMEV"><span class="id" title="abbreviation">SOMEV</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.PairV"><span class="id" title="constructor">PairV</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#vv:41"><span class="id" title="variable">vv</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.PairV"><span class="id" title="constructor">PairV</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#vl:42"><span class="id" title="variable">vl</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#vr:43"><span class="id" title="variable">vr</span></a>)) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_has_key"><span class="id" title="projection">cmp_has_key</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:36"><span class="id" title="variable">cmp</span></a> <span class="id" title="var">x</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#vv:41"><span class="id" title="variable">vv</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.tachis.examples.meldable_heap.html#repr_binarytree:39"><span class="id" title="definition">repr_binarytree</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:36"><span class="id" title="variable">cmp</span></a> <span class="id" title="var">l</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#vl:42"><span class="id" title="variable">vl</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.tachis.examples.meldable_heap.html#repr_binarytree:39"><span class="id" title="definition">repr_binarytree</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:36"><span class="id" title="variable">cmp</span></a> <span class="id" title="var">r</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#vr:43"><span class="id" title="variable">vr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;If&nbsp;x&nbsp;is&nbsp;heap&nbsp;ordered&nbsp;with&nbsp;respect&nbsp;to&nbsp;a&nbsp;node,&nbsp;it&nbsp;is&nbsp;heap&nbsp;ordered&nbsp;with&nbsp;respect&nbsp;to&nbsp;it's&nbsp;left&nbsp;child&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="heap_ordered_strong_L" class="idref" href="#heap_ordered_strong_L"><span class="id" title="lemma">heap_ordered_strong_L</span></a> (<a id="cmp:44" class="idref" href="#cmp:44"><span class="id" title="binder">cmp</span></a> : <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#comparator"><span class="id" title="record">comparator</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <a class="idref" href="tachis.tachis.cost_models.html#CostTick"><span class="id" title="definition">CostTick</span></a>)  :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:45" class="idref" href="#x:45"><span class="id" title="binder">x</span></a> <a id="k:46" class="idref" href="#k:46"><span class="id" title="binder">k</span></a> <a id="h1:47" class="idref" href="#h1:47"><span class="id" title="binder">h1</span></a> <a id="h2:48" class="idref" href="#h2:48"><span class="id" title="binder">h2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#IsHeap"><span class="id" title="inductive">IsHeap</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_rel"><span class="id" title="projection">cmp_rel</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:44"><span class="id" title="variable">cmp</span></a>) (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:46"><span class="id" title="variable">k</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#h1:47"><span class="id" title="variable">h1</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#h2:48"><span class="id" title="variable">h2</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_rel"><span class="id" title="projection">cmp_rel</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:44"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#x:45"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:46"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#HeapOrdered"><span class="id" title="definition">HeapOrdered</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_rel"><span class="id" title="projection">cmp_rel</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:44"><span class="id" title="variable">cmp</span></a>) <a class="idref" href="tachis.tachis.examples.meldable_heap.html#x:45"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#h1:47"><span class="id" title="variable">h1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">k</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">h1</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">k'</span> <span class="id" title="var">l'</span> <span class="id" title="var">IHl'</span> <span class="id" title="var">r'</span> <span class="id" title="var">IHr'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h'</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="heap_ordered_strong_R" class="idref" href="#heap_ordered_strong_R"><span class="id" title="lemma">heap_ordered_strong_R</span></a> (<a id="cmp:49" class="idref" href="#cmp:49"><span class="id" title="binder">cmp</span></a> : <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#comparator"><span class="id" title="record">comparator</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <a class="idref" href="tachis.tachis.cost_models.html#CostTick"><span class="id" title="definition">CostTick</span></a>)  :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:50" class="idref" href="#x:50"><span class="id" title="binder">x</span></a> <a id="k:51" class="idref" href="#k:51"><span class="id" title="binder">k</span></a> <a id="h1:52" class="idref" href="#h1:52"><span class="id" title="binder">h1</span></a> <a id="h2:53" class="idref" href="#h2:53"><span class="id" title="binder">h2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#IsHeap"><span class="id" title="inductive">IsHeap</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_rel"><span class="id" title="projection">cmp_rel</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:49"><span class="id" title="variable">cmp</span></a>) (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:51"><span class="id" title="variable">k</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#h1:52"><span class="id" title="variable">h1</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#h2:53"><span class="id" title="variable">h2</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_rel"><span class="id" title="projection">cmp_rel</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:49"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#x:50"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:51"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#HeapOrdered"><span class="id" title="definition">HeapOrdered</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_rel"><span class="id" title="projection">cmp_rel</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:49"><span class="id" title="variable">cmp</span></a>) <a class="idref" href="tachis.tachis.examples.meldable_heap.html#x:50"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#h2:53"><span class="id" title="variable">h2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">k</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">h2</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">k'</span> <span class="id" title="var">l'</span> <span class="id" title="var">IHl'</span> <span class="id" title="var">r'</span> <span class="id" title="var">IHr'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h'</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Now&nbsp;we&nbsp;can&nbsp;prove&nbsp;that,&nbsp;if&nbsp;x&nbsp;is&nbsp;less&nbsp;than&nbsp;the&nbsp;root&nbsp;of&nbsp;a&nbsp;heap,&nbsp;it&nbsp;is&nbsp;less&nbsp;than&nbsp;all&nbsp;elements&nbsp;of&nbsp;the&nbsp;heap&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="heap_ordered_strong_elems" class="idref" href="#heap_ordered_strong_elems"><span class="id" title="lemma">heap_ordered_strong_elems</span></a> (<a id="cmp:54" class="idref" href="#cmp:54"><span class="id" title="binder">cmp</span></a> : <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#comparator"><span class="id" title="record">comparator</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <a class="idref" href="tachis.tachis.cost_models.html#CostTick"><span class="id" title="definition">CostTick</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="x:55" class="idref" href="#x:55"><span class="id" title="binder">x</span></a> <a id="h:56" class="idref" href="#h:56"><span class="id" title="binder">h</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#IsHeap"><span class="id" title="inductive">IsHeap</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_rel"><span class="id" title="projection">cmp_rel</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:54"><span class="id" title="variable">cmp</span></a>) <a class="idref" href="tachis.tachis.examples.meldable_heap.html#h:56"><span class="id" title="variable">h</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#HeapOrdered"><span class="id" title="definition">HeapOrdered</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_rel"><span class="id" title="projection">cmp_rel</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:54"><span class="id" title="variable">cmp</span></a>) <a class="idref" href="tachis.tachis.examples.meldable_heap.html#x:55"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#h:56"><span class="id" title="variable">h</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="x':57" class="idref" href="#x':57"><span class="id" title="binder">x'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#x':57"><span class="id" title="variable">x'</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list"><span class="id" title="definition">tree_to_list</span></a> <span class="id" title="var">_</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#h:56"><span class="id" title="variable">h</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_rel"><span class="id" title="projection">cmp_rel</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:54"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#x:55"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#x':57"><span class="id" title="variable">x'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">))</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hhp</span> <span class="id" title="var">Hx</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x'&nbsp;is&nbsp;either&nbsp;equal&nbsp;to&nbsp;the&nbsp;root,&nbsp;in&nbsp;the&nbsp;left&nbsp;branch,&nbsp;or&nbsp;in&nbsp;the&nbsp;right&nbsp;branch&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx'</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hx'</span>]; <span class="id" title="var">last</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#in_app_or"><span class="id" title="lemma">in_app_or</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx'</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hx'</span> | <span class="id" title="var">Hx'</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hhp</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHh1</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#heap_ordered_strong_L"><span class="id" title="lemma">heap_ordered_strong_L</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hhp</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHh2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#heap_ordered_strong_R"><span class="id" title="lemma">heap_ordered_strong_R</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;If&nbsp;x&nbsp;is&nbsp;less&nbsp;than&nbsp;all&nbsp;elements&nbsp;in&nbsp;a&nbsp;heap,&nbsp;x&nbsp;is&nbsp;heap&nbsp;orderd&nbsp;with&nbsp;repsect&nbsp;to&nbsp;that&nbsp;heap&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="heap_ordered_conv_elems" class="idref" href="#heap_ordered_conv_elems"><span class="id" title="lemma">heap_ordered_conv_elems</span></a> (<a id="cmp:58" class="idref" href="#cmp:58"><span class="id" title="binder">cmp</span></a> : <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#comparator"><span class="id" title="record">comparator</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <a class="idref" href="tachis.tachis.cost_models.html#CostTick"><span class="id" title="definition">CostTick</span></a>) <a id="h:59" class="idref" href="#h:59"><span class="id" title="binder">h</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="x:60" class="idref" href="#x:60"><span class="id" title="binder">x</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="x':61" class="idref" href="#x':61"><span class="id" title="binder">x'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#x':61"><span class="id" title="variable">x'</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list"><span class="id" title="definition">tree_to_list</span></a> <span class="id" title="var">_</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#h:59"><span class="id" title="variable">h</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_rel"><span class="id" title="projection">cmp_rel</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:58"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#x:60"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#x':61"><span class="id" title="variable">x'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#HeapOrdered"><span class="id" title="definition">HeapOrdered</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_rel"><span class="id" title="projection">cmp_rel</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:58"><span class="id" title="variable">cmp</span></a>) <a class="idref" href="tachis.tachis.examples.meldable_heap.html#x:60"><span class="id" title="variable">x</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#h:59"><span class="id" title="variable">h</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_mapsto"><span class="id" title="method">destruct</span></a> <span class="id" title="var">h</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="is_meld_heap_val" class="idref" href="#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a> (<a id="cmp:62" class="idref" href="#cmp:62"><span class="id" title="binder">cmp</span></a> : <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#comparator"><span class="id" title="record">comparator</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <a class="idref" href="tachis.tachis.cost_models.html#CostTick"><span class="id" title="definition">CostTick</span></a>) (<a id="L:63" class="idref" href="#L:63"><span class="id" title="binder">L</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a>) (<a id="v:64" class="idref" href="#v:64"><span class="id" title="binder">v</span></a> : <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#22dae9afcbd37bf12a0fd155d91b0518"><span class="id" title="variable">Σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">(</span></a><a id="b:65" class="idref" href="#b:65"><span class="id" title="binder">b</span></a> : <a class="idref" href="tachis.tachis.examples.meldable_heap.html#BinaryTree"><span class="id" title="inductive">BinaryTree</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.tachis.examples.meldable_heap.html#repr_binarytree"><span class="id" title="definition">repr_binarytree</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:62"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#b:65"><span class="id" title="variable">b</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#v:64"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a>         <span class="comment">(*&nbsp;v&nbsp;is&nbsp;a&nbsp;representation&nbsp;of&nbsp;a&nbsp;binary&nbsp;tree&nbsp;b&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#IsHeap"><span class="id" title="inductive">IsHeap</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_rel"><span class="id" title="projection">cmp_rel</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:62"><span class="id" title="variable">cmp</span></a>) <a class="idref" href="tachis.tachis.examples.meldable_heap.html#b:65"><span class="id" title="variable">b</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a>   <span class="comment">(*&nbsp;...&nbsp;where&nbsp;b&nbsp;is&nbsp;a&nbsp;heap&nbsp;with&nbsp;respect&nbsp;to&nbsp;cmp&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#L:63"><span class="id" title="variable">L</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list"><span class="id" title="definition">tree_to_list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#b:65"><span class="id" title="variable">b</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a>        <span class="comment">(*&nbsp;...&nbsp;and&nbsp;b's&nbsp;elements&nbsp;are&nbsp;L&nbsp;*)</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="is_meld_heap_val_perm" class="idref" href="#is_meld_heap_val_perm"><span class="id" title="lemma">is_meld_heap_val_perm</span></a> <a id="cmp:66" class="idref" href="#cmp:66"><span class="id" title="binder">cmp</span></a> (<a id="L1:67" class="idref" href="#L1:67"><span class="id" title="binder">L1</span></a> <a id="L2:68" class="idref" href="#L2:68"><span class="id" title="binder">L2</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a>) <a id="v:69" class="idref" href="#v:69"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#L1:67"><span class="id" title="variable">L1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#L2:68"><span class="id" title="variable">L2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:66"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#L1:67"><span class="id" title="variable">L1</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#v:69"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:66"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#L2:68"><span class="id" title="variable">L2</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#v:69"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "%H [% ?]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="is_meld_heap_ref" class="idref" href="#is_meld_heap_ref"><span class="id" title="definition">is_meld_heap_ref</span></a> (<a id="cmp:70" class="idref" href="#cmp:70"><span class="id" title="binder">cmp</span></a> : <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#comparator"><span class="id" title="record">comparator</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <a class="idref" href="tachis.tachis.cost_models.html#CostTick"><span class="id" title="definition">CostTick</span></a>) (<a id="L:71" class="idref" href="#L:71"><span class="id" title="binder">L</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a>) (<a id="v:72" class="idref" href="#v:72"><span class="id" title="binder">v</span></a> : <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#22dae9afcbd37bf12a0fd155d91b0518"><span class="id" title="variable">Σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">(</span></a><a id="l:73" class="idref" href="#l:73"><span class="id" title="binder">l</span></a> : <a class="idref" href="tachis.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a>) (<a id="v':74" class="idref" href="#v':74"><span class="id" title="binder">v'</span></a> : <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#v:72"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#l:73"><span class="id" title="variable">l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a>                  <span class="comment">(*&nbsp;v&nbsp;is&nbsp;a&nbsp;location&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.tachis.examples.meldable_heap.html#l:73"><span class="id" title="variable">l</span></a> <a class="idref" href="tachis.tachis.problang_wp.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#v':74"><span class="id" title="variable">v'</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a>                       <span class="comment">(*&nbsp;...&nbsp;which&nbsp;points&nbsp;to&nbsp;a&nbsp;value&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:70"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#L:71"><span class="id" title="variable">L</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#v':74"><span class="id" title="variable">v'</span></a>       <span class="comment">(*&nbsp;...&nbsp;which&nbsp;is&nbsp;a&nbsp;meld&nbsp;heap&nbsp;*)</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="meld_heap_new" class="idref" href="#meld_heap_new"><span class="id" title="definition">meld_heap_new</span></a> : <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> := (<a class="idref" href="tachis.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">λ</span></a><a class="idref" href="tachis.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">:</span></a> "_"<a class="idref" href="tachis.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob_lang.notation.html#::expr_scope:'ref'_x"><span class="id" title="notation">ref</span></a> <a class="idref" href="tachis.prob_lang.notation.html#NONEV"><span class="id" title="abbreviation">NONEV</span></a>)%<span class="id" title="var">V</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Takes&nbsp;two&nbsp;values&nbsp;(not&nbsp;references!)&nbsp;and&nbsp;melds&nbsp;them&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="meld_heap_meld" class="idref" href="#meld_heap_meld"><span class="id" title="definition">meld_heap_meld</span></a> (<a id="c:75" class="idref" href="#c:75"><span class="id" title="binder">c</span></a> : <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#comparator"><span class="id" title="record">comparator</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <a class="idref" href="tachis.tachis.cost_models.html#CostTick"><span class="id" title="definition">CostTick</span></a>) : <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=  (<a class="idref" href="tachis.prob_lang.notation.html#b655cc6b0c09a3d45e15582d945b2696"><span class="id" title="notation">rec</span></a><a class="idref" href="tachis.prob_lang.notation.html#b655cc6b0c09a3d45e15582d945b2696"><span class="id" title="notation">:</span></a> "meld" "mh1" "mh2" <a class="idref" href="tachis.prob_lang.notation.html#b655cc6b0c09a3d45e15582d945b2696"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">match</span></a><a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">:</span></a> "mh1" <a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">with</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">|</span></a> <a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">NONE</span></a> <a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">=&gt;</span></a> "mh2"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">|</span></a> <a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">SOME</span></a> "h1" <a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">=&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">match</span></a><a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">:</span></a> "mh2" <a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">with</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">|</span></a> <a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">NONE</span></a> <a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">=&gt;</span></a> "mh1"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">|</span></a> <a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">SOME</span></a> "h2" <a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">=&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">let</span></a><a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:</span></a> "h'" <a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:=</span></a> <a class="idref" href="tachis.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a><a class="idref" href="tachis.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="tachis.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#c:75"><span class="id" title="variable">c</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Fst"><span class="id" title="constructor">Fst</span></a> "h1") (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Fst"><span class="id" title="constructor">Fst</span></a> "h2")<a class="idref" href="tachis.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">(</span></a>"h1"<a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">,</span></a> "h2"<a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">(</span></a>"h2"<a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">,</span></a> "h1"<a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">let</span></a><a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:</span></a> "h_min" <a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:=</span></a> <a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Fst"><span class="id" title="constructor">Fst</span></a> "h'"<a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">let</span></a><a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:</span></a> "h_max" <a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:=</span></a> <a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Snd"><span class="id" title="constructor">Snd</span></a> "h'"<a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Now&nbsp;(Fst&nbsp;h_min)&nbsp;&lt;=&nbsp;(Fst&nbsp;h_max),&nbsp;so&nbsp;h_max&nbsp;should&nbsp;get&nbsp;melded&nbsp;into&nbsp;a&nbsp;child&nbsp;of&nbsp;h_min&nbsp;*)</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a><a class="idref" href="tachis.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="tachis.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.notation.html#::expr_scope:'rand'_x"><span class="id" title="notation">rand</span></a> <a class="idref" href="tachis.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a>1 <a class="idref" href="tachis.prob_lang.notation.html#268bceb185e8402e5a254d7b9bacc674"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a>0<a class="idref" href="tachis.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="comment">(*&nbsp;Meld&nbsp;into&nbsp;the&nbsp;left&nbsp;branch&nbsp;of&nbsp;h_min&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">let</span></a><a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:</span></a> "melded" <a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:=</span></a> <a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">(</span></a>"meld" (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Fst"><span class="id" title="constructor">Fst</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Snd"><span class="id" title="constructor">Snd</span></a> "h_min")) (<a class="idref" href="tachis.prob_lang.notation.html#SOME"><span class="id" title="abbreviation">SOME</span></a> "h_max")<a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#SOME"><span class="id" title="abbreviation">SOME</span></a> <a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Fst"><span class="id" title="constructor">Fst</span></a> "h_min"<a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">(</span></a>"melded"<a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Snd"><span class="id" title="constructor">Snd</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Snd"><span class="id" title="constructor">Snd</span></a> "h_min")<a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">)))</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#::expr_scope:'if:'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <span class="comment">(*&nbsp;Meld&nbsp;into&nbsp;the&nbsp;right&nbsp;branch&nbsp;of&nbsp;h_min&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">let</span></a><a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:</span></a> "melded" <a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">:=</span></a> <a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">(</span></a>"meld" (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Snd"><span class="id" title="constructor">Snd</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Snd"><span class="id" title="constructor">Snd</span></a> "h_min")) (<a class="idref" href="tachis.prob_lang.notation.html#SOME"><span class="id" title="abbreviation">SOME</span></a> "h_max")<a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob_lang.notation.html#f2a86cf1716b42d91300f888867d22e8"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#SOME"><span class="id" title="abbreviation">SOME</span></a> <a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Fst"><span class="id" title="constructor">Fst</span></a> "h_min"<a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">,(</span></a><a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Fst"><span class="id" title="constructor">Fst</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Snd"><span class="id" title="constructor">Snd</span></a> "h_min")<a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">,</span></a> "melded"<a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">))</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">end</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">end</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)%<span class="id" title="var">V</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="meld_heap_insert" class="idref" href="#meld_heap_insert"><span class="id" title="definition">meld_heap_insert</span></a> (<a id="c:76" class="idref" href="#c:76"><span class="id" title="binder">c</span></a> : <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#comparator"><span class="id" title="record">comparator</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <a class="idref" href="tachis.tachis.cost_models.html#CostTick"><span class="id" title="definition">CostTick</span></a>) : <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<a class="idref" href="tachis.prob_lang.notation.html#e649b1753bdf9a3d478633a8c7e61dc9"><span class="id" title="notation">λ</span></a><a class="idref" href="tachis.prob_lang.notation.html#e649b1753bdf9a3d478633a8c7e61dc9"><span class="id" title="notation">:</span></a> "ref_h" "v"<a class="idref" href="tachis.prob_lang.notation.html#e649b1753bdf9a3d478633a8c7e61dc9"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ref_h" <a class="idref" href="tachis.prob_lang.notation.html#::expr_scope:x_'&lt;-'_x"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="tachis.prob_lang.notation.html#::expr_scope:x_'&lt;-'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_meld"><span class="id" title="definition">meld_heap_meld</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#c:76"><span class="id" title="variable">c</span></a> (<a class="idref" href="tachis.prob_lang.notation.html#569b74bc432a2b233b93ae1b45418e26"><span class="id" title="notation">!</span></a>"ref_h") (<a class="idref" href="tachis.prob_lang.notation.html#SOME"><span class="id" title="abbreviation">SOME</span></a> <a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">(</span></a>"v"<a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.notation.html#NONEV"><span class="id" title="abbreviation">NONEV</span></a><a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob_lang.notation.html#NONEV"><span class="id" title="abbreviation">NONEV</span></a><a class="idref" href="tachis.prob_lang.notation.html#ec04ba08aeb86de76ca579a7aa123c03"><span class="id" title="notation">))</span></a>)<a class="idref" href="tachis.prob_lang.notation.html#::expr_scope:x_'&lt;-'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob_lang.notation.html#2ec28258c896f2c046d760685d2be2ab"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="tachis.prob_lang.notation.html#3127c6bc552ca21a494fc6e3474a507d"><span class="id" title="notation">()</span></a>)%<span class="id" title="var">V</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="meld_heap_remove" class="idref" href="#meld_heap_remove"><span class="id" title="definition">meld_heap_remove</span></a> (<a id="c:77" class="idref" href="#c:77"><span class="id" title="binder">c</span></a> : <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#comparator"><span class="id" title="record">comparator</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <a class="idref" href="tachis.tachis.cost_models.html#CostTick"><span class="id" title="definition">CostTick</span></a>) : <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<a class="idref" href="tachis.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">λ</span></a><a class="idref" href="tachis.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">:</span></a> "ref_h"<a class="idref" href="tachis.prob_lang.notation.html#704630d98f03f1fa6c74ab29b9831803"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">match</span></a><a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">:</span></a> <a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.notation.html#569b74bc432a2b233b93ae1b45418e26"><span class="id" title="notation">!</span></a>"ref_h"<a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">with</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">|</span></a> <a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">NONE</span></a> <a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">=&gt;</span></a> <a class="idref" href="tachis.prob_lang.notation.html#NONEV"><span class="id" title="abbreviation">NONEV</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">|</span></a> <a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">SOME</span></a> "hv" <a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ref_h" <a class="idref" href="tachis.prob_lang.notation.html#::expr_scope:x_'&lt;-'_x"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="tachis.prob_lang.notation.html#::expr_scope:x_'&lt;-'_x"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_meld"><span class="id" title="definition">meld_heap_meld</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#c:77"><span class="id" title="variable">c</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Fst"><span class="id" title="constructor">Fst</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Snd"><span class="id" title="constructor">Snd</span></a> "hv")) (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Snd"><span class="id" title="constructor">Snd</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Snd"><span class="id" title="constructor">Snd</span></a> "hv"))<a class="idref" href="tachis.prob_lang.notation.html#::expr_scope:x_'&lt;-'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob_lang.notation.html#2ec28258c896f2c046d760685d2be2ab"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#SOME"><span class="id" title="abbreviation">SOME</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Fst"><span class="id" title="constructor">Fst</span></a> "hv")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.notation.html#a6aade80b42bcfcd5f70ea4affa7e487"><span class="id" title="notation">end</span></a>)%<span class="id" title="var">V</span>.<br/>

<br/>
</div>

<div class="doc">
Time credit accounting 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="tc_meld" class="idref" href="#tc_meld"><span class="id" title="definition">tc_meld</span></a> (<a id="k:78" class="idref" href="#k:78"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="n:79" class="idref" href="#n:79"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#n:79"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> 0)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 0%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> (2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:78"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a>1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> 2 <a class="idref" href="tachis.tachis.examples.meldable_heap.html#n:79"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">R</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tc_meld_1" class="idref" href="#tc_meld_1"><span class="id" title="lemma">tc_meld_1</span></a> (<a id="k:80" class="idref" href="#k:80"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) : (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:80"><span class="id" title="variable">k</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:80"><span class="id" title="variable">k</span></a>)%<span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln_1"><span class="id" title="lemma">ln_1</span></a> /=. <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tc_meld_0" class="idref" href="#tc_meld_0"><span class="id" title="lemma">tc_meld_0</span></a> (<a id="k:81" class="idref" href="#k:81"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) : (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:81"><span class="id" title="variable">k</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0)%<span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> /=. <span class="id" title="var">lra</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Edge&nbsp;case&nbsp;for&nbsp;tc_meld&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tc_meld_ind_L" class="idref" href="#tc_meld_ind_L"><span class="id" title="lemma">tc_meld_ind_L</span></a> (<a id="k:82" class="idref" href="#k:82"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="a:83" class="idref" href="#a:83"><span class="id" title="binder">a</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#a:83"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:82"><span class="id" title="variable">k</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:82"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:82"><span class="id" title="variable">k</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#a:83"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:82"><span class="id" title="variable">k</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:82"><span class="id" title="variable">k</span></a> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#a:83"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0))%<span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_0"><span class="id" title="lemma">tc_meld_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> 0)%<span class="id" title="var">nat</span> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>; <span class="id" title="var">last</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> 0)%<span class="id" title="var">nat</span> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>; <span class="id" title="var">last</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_def"><span class="id" title="lemma">Rdiv_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> ( 2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a>1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> 2 <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> 2 )%<span class="id" title="var">R</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a>1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> 2 <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> )%<span class="id" title="var">R</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a>1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> 2 (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0)%<span class="id" title="var">nat</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">R</span> <span class="id" title="keyword">with</span> (2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> 2 (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0)%<span class="id" title="var">nat</span>)%<span class="id" title="var">R</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_plus_distr_l"><span class="id" title="lemma">Rmult_plus_distr_l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> ( <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> 2 <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">R</span> <span class="id" title="keyword">with</span> (2<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a><span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> 2 <span class="id" title="var">a</span>)%<span class="id" title="var">R</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a> 2 <span class="id" title="var">k</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; [<span class="id" title="var">lra</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> 2 (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0)%<span class="id" title="var">nat</span>)%<span class="id" title="var">R</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> 2 ((1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0)%<span class="id" title="var">nat</span>))%<span class="id" title="var">R</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> ?<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_def"><span class="id" title="lemma">Rdiv_def</span></a> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_eq_compat_r"><span class="id" title="lemma">Rdiv_eq_compat_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> 2%<span class="id" title="var">R</span> <span class="id" title="keyword">with</span> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">R</span>; <span class="id" title="var">last</span> (<span class="id" title="tactic">simpl</span>; <span class="id" title="var">lra</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_plus_distr_r"><span class="id" title="lemma">Rmult_plus_distr_r</span></a> ?<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_1_l"><span class="id" title="lemma">Rmult_1_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln_mult"><span class="id" title="lemma">ln_mult</span></a>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#lt_0_INR"><span class="id" title="lemma">lt_0_INR</span></a>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_le"><span class="id" title="lemma">Rlt_le</span></a>, <a class="idref" href="tachis.tachis.examples.meldable_heap.html#Rlog_increasing"><span class="id" title="lemma">Rlog_increasing</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#lt_0_INR"><span class="id" title="lemma">lt_0_INR</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#mult_INR"><span class="id" title="lemma">mult_INR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#lt_INR"><span class="id" title="lemma">lt_INR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Edge&nbsp;case&nbsp;for&nbsp;tc_meld&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tc_meld_ind_R" class="idref" href="#tc_meld_ind_R"><span class="id" title="lemma">tc_meld_ind_R</span></a> (<a id="k:84" class="idref" href="#k:84"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="b:85" class="idref" href="#b:85"><span class="id" title="binder">b</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#b:85"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:84"><span class="id" title="variable">k</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:84"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:84"><span class="id" title="variable">k</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:84"><span class="id" title="variable">k</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#b:85"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:84"><span class="id" title="variable">k</span></a> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#b:85"><span class="id" title="variable">b</span></a>))%<span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">b</span>)%<span class="id" title="var">nat</span> <span class="id" title="keyword">with</span> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0)%<span class="id" title="var">nat</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_ind_L"><span class="id" title="lemma">tc_meld_ind_L</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Edge&nbsp;case&nbsp;for&nbsp;tc_meld&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tc_meld_ind_LR" class="idref" href="#tc_meld_ind_LR"><span class="id" title="lemma">tc_meld_ind_LR</span></a> (<a id="k:86" class="idref" href="#k:86"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:86"><span class="id" title="variable">k</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:86"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:86"><span class="id" title="variable">k</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:86"><span class="id" title="variable">k</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:86"><span class="id" title="variable">k</span></a> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0))%<span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_0"><span class="id" title="lemma">tc_meld_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_1"><span class="id" title="lemma">tc_meld_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Inductive&nbsp;bound&nbsp;for&nbsp;tc_meld&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;will&nbsp;only&nbsp;apply&nbsp;advanced&nbsp;composition&nbsp;in&nbsp;the&nbsp;case&nbsp;that&nbsp;both&nbsp;a&nbsp;and&nbsp;b&nbsp;have&nbsp;size&nbsp;at&nbsp;at&nbsp;least&nbsp;1&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tc_meld_ind'" class="idref" href="#tc_meld_ind'"><span class="id" title="lemma">tc_meld_ind'</span></a> (<a id="k:87" class="idref" href="#k:87"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="a:88" class="idref" href="#a:88"><span class="id" title="binder">a</span></a> <a id="b:89" class="idref" href="#b:89"><span class="id" title="binder">b</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:87"><span class="id" title="variable">k</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:87"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:87"><span class="id" title="variable">k</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#a:88"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:87"><span class="id" title="variable">k</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#b:89"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:87"><span class="id" title="variable">k</span></a> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#a:88"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#b:89"><span class="id" title="variable">b</span></a>))%<span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a'</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">b'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*&nbsp;a&nbsp;=&nbsp;b&nbsp;=&nbsp;0&nbsp;*)</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_ind_LR"><span class="id" title="lemma">tc_meld_ind_LR</span></a>; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*&nbsp;a&nbsp;=&nbsp;0&nbsp;*)</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_ind_R"><span class="id" title="lemma">tc_meld_ind_R</span></a>; [<span class="id" title="var">lia</span>|<span class="id" title="var">lra</span>]. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*&nbsp;b&nbsp;=&nbsp;0&nbsp;*)</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_ind_L"><span class="id" title="lemma">tc_meld_ind_L</span></a>; [<span class="id" title="var">lia</span>|<span class="id" title="var">lra</span>]. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Simplify&nbsp;edge&nbsp;cases&nbsp;from&nbsp;tc_meld&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">a'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">b'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Ha</span> : (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">a</span>)%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hb</span> : (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">b</span>)%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> 0)%<span class="id" title="var">nat</span> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>; <span class="id" title="var">last</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> 0)%<span class="id" title="var">nat</span> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>; <span class="id" title="var">last</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> 0) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb_neq"><span class="id" title="lemma">PeanoNat.Nat.eqb_neq</span></a>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Heqa</span> <span class="id" title="var">Heqb</span> <span class="id" title="var">a'</span> <span class="id" title="var">b'</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Divide&nbsp;by&nbsp;k&nbsp;and&nbsp;cancel&nbsp;the&nbsp;2&nbsp;factors&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_reg_r"><span class="id" title="lemma">Rmult_le_reg_r</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">k</span>)%<span class="id" title="var">R</span>); <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_0_lt_compat"><span class="id" title="lemma">Rinv_0_lt_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_plus_distr_r"><span class="id" title="lemma">Rmult_plus_distr_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_r"><span class="id" title="lemma">Rinv_r</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_def"><span class="id" title="lemma">Rdiv_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_mult"><span class="id" title="lemma">Rinv_mult</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_plus_distr_l"><span class="id" title="lemma">Rmult_plus_distr_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span>  (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">(</span></a>2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a>2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a>1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> 2 <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">))</span></a>)%<span class="id" title="var">R</span> <span class="id" title="keyword">with</span> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> 2 <span class="id" title="var">a</span>)%<span class="id" title="var">R</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rinv_l"><span class="id" title="lemma">Rinv_l</span></a>; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span>  (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">(</span></a>2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a>2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a>1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> 2 <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">))</span></a>)%<span class="id" title="var">R</span> <span class="id" title="keyword">with</span> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> 2 <span class="id" title="var">b</span>)%<span class="id" title="var">R</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rinv_l"><span class="id" title="lemma">Rinv_l</span></a>; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a>1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> 2 (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">b</span>)%<span class="id" title="var">nat</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">k</span>)%<span class="id" title="var">R</span> <span class="id" title="keyword">with</span> (2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a>1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> 2 (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">b</span>)%<span class="id" title="var">nat</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">R</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#2299a6ef56270a66cc1b95489d0f6e3a"><span class="id" title="notation">/</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">R</span>) -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_comm"><span class="id" title="lemma">Rmult_comm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">k</span>) -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rinv_l"><span class="id" title="lemma">Rinv_l</span></a>; <span class="id" title="var">lra</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Cancel&nbsp;out&nbsp;some&nbsp;1's&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_plus_distr_l"><span class="id" title="lemma">Rmult_plus_distr_l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">R</span> <span class="id" title="keyword">with</span> 2%<span class="id" title="var">R</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Replace&nbsp;1&nbsp;with&nbsp;a&nbsp;logarithm&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> 1%<span class="id" title="var">R</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#INR"><span class="id" title="definition">INR</span></a> 1) <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog_pow"><span class="id" title="lemma">Rlog_pow</span></a> 2); <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Turn&nbsp;Rlog&nbsp;into&nbsp;ln&nbsp;so&nbsp;that&nbsp;we&nbsp;can&nbsp;add&nbsp;them&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hln2</span> : (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln"><span class="id" title="definition">ln</span></a> 2)%<span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rlt_trans"><span class="id" title="lemma">Rlt_trans</span></a>; [| <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln_lt_2"><span class="id" title="lemma">ln_lt_2</span></a>]. <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_reg_r"><span class="id" title="lemma">Rmult_le_reg_r</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln"><span class="id" title="definition">ln</span></a> 2)); [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_plus_distr_r"><span class="id" title="lemma">Rmult_plus_distr_r</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln"><span class="id" title="definition">ln</span></a> 2)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_assoc"><span class="id" title="lemma">Rmult_assoc</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln"><span class="id" title="definition">ln</span></a> 2)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rinv_l"><span class="id" title="lemma">Rinv_l</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">lra</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Simplify&nbsp;the&nbsp;logarithms;&nbsp;apply&nbsp;monotonicity&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln_mult"><span class="id" title="lemma">ln_mult</span></a>; [| <span class="id" title="var">lra</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#lt_0_INR"><span class="id" title="lemma">lt_0_INR</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln_mult"><span class="id" title="lemma">ln_mult</span></a>; [ | | <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#lt_0_INR"><span class="id" title="lemma">lt_0_INR</span></a>]; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_lt_0_compat"><span class="id" title="lemma">Rmult_lt_0_compat</span></a>; [<span class="id" title="var">lra</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#lt_0_INR"><span class="id" title="lemma">lt_0_INR</span></a>]. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln_Rpower"><span class="id" title="lemma">ln_Rpower</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#ln_le"><span class="id" title="lemma">Rcomplements.ln_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_lt_0_compat"><span class="id" title="lemma">Rmult_lt_0_compat</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#lt_0_INR"><span class="id" title="lemma">lt_0_INR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_lt_0_compat"><span class="id" title="lemma">Rmult_lt_0_compat</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#lt_0_INR"><span class="id" title="lemma">lt_0_INR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Turn&nbsp;the&nbsp;exponent&nbsp;into&nbsp;a&nbsp;product&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> 2%<span class="id" title="var">R</span> <span class="id" title="keyword">with</span> (1%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 1%<span class="id" title="var">R</span>)%<span class="id" title="var">R</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rpower_plus"><span class="id" title="lemma">Rpower_plus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rpower_1"><span class="id" title="lemma">Rpower_1</span></a>; <span class="id" title="var">last</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#lt_0_INR"><span class="id" title="lemma">lt_0_INR</span></a>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (1%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 1%<span class="id" title="var">R</span>)%<span class="id" title="var">R</span> <span class="id" title="keyword">with</span> 2%<span class="id" title="var">R</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rfunctions.html#pow_1"><span class="id" title="lemma">pow_1</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Expand&nbsp;the&nbsp;binomial,&nbsp;bound&nbsp;using&nbsp;some&nbsp;of&nbsp;the&nbsp;terms&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#plus_INR"><span class="id" title="lemma">plus_INR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">a</span>)%<span class="id" title="var">R</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_plus_distr_r"><span class="id" title="lemma">Rmult_plus_distr_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_plus_distr_l"><span class="id" title="lemma">Rmult_plus_distr_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#INR_1"><span class="id" title="lemma">INR_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">a</span>)%<span class="id" title="var">R</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#lt_0_INR"><span class="id" title="lemma">lt_0_INR</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">b</span>)%<span class="id" title="var">R</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#lt_0_INR"><span class="id" title="lemma">lt_0_INR</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_1_r"><span class="id" title="lemma">Rmult_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_1_l"><span class="id" title="lemma">Rmult_1_l</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{1}(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_0_l"><span class="id" title="lemma">Rplus_0_l</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Reals_ext.html#Rle_plus_plus"><span class="id" title="lemma">Rle_plus_plus</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">lra</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{1}(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_0_l"><span class="id" title="lemma">Rplus_0_l</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Reals_ext.html#Rle_plus_plus"><span class="id" title="lemma">Rle_plus_plus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_le_0_compat"><span class="id" title="lemma">Rplus_le_le_0_compat</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{1}(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_0_l"><span class="id" title="lemma">Rplus_0_l</span></a> ((<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span>))%<span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Reals_ext.html#Rle_plus_plus"><span class="id" title="lemma">Rle_plus_plus</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">lra</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{1}(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a> ((<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span>))%<span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Final&nbsp;version&nbsp;of&nbsp;the&nbsp;inductive&nbsp;bound&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tc_meld_ind" class="idref" href="#tc_meld_ind"><span class="id" title="lemma">tc_meld_ind</span></a> (<a id="k:90" class="idref" href="#k:90"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="a:91" class="idref" href="#a:91"><span class="id" title="binder">a</span></a> <a id="b:92" class="idref" href="#b:92"><span class="id" title="binder">b</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:90"><span class="id" title="variable">k</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:90"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:90"><span class="id" title="variable">k</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#a:91"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:90"><span class="id" title="variable">k</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#b:92"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:90"><span class="id" title="variable">k</span></a> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#a:91"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#b:92"><span class="id" title="variable">b</span></a>))%<span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hk</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> 0), (<span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> 0), (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> 0); <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_ind'"><span class="id" title="lemma">tc_meld_ind'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tc_meld_nonneg" class="idref" href="#tc_meld_nonneg"><span class="id" title="lemma">tc_meld_nonneg</span></a> (<a id="cmp:93" class="idref" href="#cmp:93"><span class="id" title="binder">cmp</span></a> : <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#comparator"><span class="id" title="record">comparator</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <a class="idref" href="tachis.tachis.cost_models.html#CostTick"><span class="id" title="definition">CostTick</span></a>) <a id="n:94" class="idref" href="#n:94"><span class="id" title="binder">n</span></a> : (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_cost"><span class="id" title="projection">cmp_cost</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:93"><span class="id" title="variable">cmp</span></a>) <a class="idref" href="tachis.tachis.examples.meldable_heap.html#n:94"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">P</span> := (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_nonneg"><span class="id" title="projection">cmp_nonneg</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">cmp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> 0); <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_le_0_compat"><span class="id" title="lemma">Rplus_le_le_0_compat</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_def"><span class="id" title="lemma">Rdiv_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#ln_nonneg"><span class="id" title="lemma">ln_nonneg</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">Q</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln_lt_2"><span class="id" title="lemma">ln_lt_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_le"><span class="id" title="lemma">Rlt_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_0_lt_compat"><span class="id" title="lemma">Rinv_0_lt_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tc_meld_mono" class="idref" href="#tc_meld_mono"><span class="id" title="lemma">tc_meld_mono</span></a> (<a id="cmp:95" class="idref" href="#cmp:95"><span class="id" title="binder">cmp</span></a> : <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#comparator"><span class="id" title="record">comparator</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <a class="idref" href="tachis.tachis.cost_models.html#CostTick"><span class="id" title="definition">CostTick</span></a>) <a id="m:96" class="idref" href="#m:96"><span class="id" title="binder">m</span></a> <a id="n:97" class="idref" href="#n:97"><span class="id" title="binder">n</span></a> : (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#m:96"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#n:97"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_cost"><span class="id" title="projection">cmp_cost</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:95"><span class="id" title="variable">cmp</span></a>) <a class="idref" href="tachis.tachis.examples.meldable_heap.html#m:96"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_cost"><span class="id" title="projection">cmp_cost</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:95"><span class="id" title="variable">cmp</span></a>) <a class="idref" href="tachis.tachis.examples.meldable_heap.html#n:97"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#INR"><span class="id" title="definition">INR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">m'</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">P</span> := <a class="idref" href="tachis.tachis.examples.meldable_heap.html#Rlog_pos"><span class="id" title="lemma">Rlog_pos</span></a> 2 (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">Q</span> := <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_nonneg"><span class="id" title="projection">cmp_nonneg</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">cmp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_pos"><span class="id" title="lemma">Rmult_le_pos</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">exfalso</span>. <span class="id" title="var">lia</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{  <span class="id" title="tactic">pose</span> <span class="id" title="var">P</span> := (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_nonneg"><span class="id" title="projection">cmp_nonneg</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">cmp</span>). <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#Rlog"><span class="id" title="definition">Rlog</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rdiv_def"><span class="id" title="lemma">Rdiv_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_r"><span class="id" title="lemma">Rmult_le_compat_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rlt_le"><span class="id" title="lemma">Rlt_le</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rinv_0_lt_compat"><span class="id" title="lemma">Rinv_0_lt_compat</span></a>. <span class="id" title="tactic">pose</span> <span class="id" title="var">P</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rpower.html#ln_lt_2"><span class="id" title="lemma">ln_lt_2</span></a>. <span class="id" title="var">lra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#ln_le"><span class="id" title="lemma">Rcomplements.ln_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prelude.Reals_ext.html#pos_INR_S"><span class="id" title="lemma">pos_INR_S</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#le_INR"><span class="id" title="lemma">le_INR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Transparent</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#INR"><span class="id" title="definition">INR</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="spec_meld_heap_new" class="idref" href="#spec_meld_heap_new"><span class="id" title="lemma">spec_meld_heap_new</span></a> <a id="cmp:98" class="idref" href="#cmp:98"><span class="id" title="binder">cmp</span></a> : <a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">{{{</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">}}}</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_new"><span class="id" title="definition">meld_heap_new</span></a> <a class="idref" href="tachis.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="tachis.prob_lang.notation.html#3127c6bc552ca21a494fc6e3474a507d"><span class="id" title="notation">()</span></a> <a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">{{{</span></a> <a id="v:99" class="idref" href="#v:99"><span class="id" title="binder">v</span></a><a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">RET</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#v:99"><span class="id" title="variable">v</span></a><a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">;</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_ref"><span class="id" title="definition">is_meld_heap_ref</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:98"><span class="id" title="variable">cmp</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#v:99"><span class="id" title="variable">v</span></a> <a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">}}}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">Φ</span> <span class="id" title="var">_</span>) "HΦ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_new"><span class="id" title="definition">meld_heap_new</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_alloc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "HΦ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_ref"><span class="id" title="definition">is_meld_heap_ref</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Nil"><span class="id" title="constructor">Nil</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="tc_meld_distr" class="idref" href="#tc_meld_distr"><span class="id" title="definition">tc_meld_distr</span></a> (<a id="cmp:100" class="idref" href="#cmp:100"><span class="id" title="binder">cmp</span></a> : <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#comparator"><span class="id" title="record">comparator</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">_</span>) (<a id="LL:101" class="idref" href="#LL:101"><span class="id" title="binder">LL</span></a> <a id="LR:102" class="idref" href="#LR:102"><span class="id" title="binder">LR</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a>) (<a id="b:103" class="idref" href="#b:103"><span class="id" title="binder">b</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#b:103"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_cost"><span class="id" title="projection">cmp_cost</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:100"><span class="id" title="variable">cmp</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_cost"><span class="id" title="projection">cmp_cost</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:100"><span class="id" title="variable">cmp</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#LR:102"><span class="id" title="variable">LR</span></a>))%<span class="id" title="var">R</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_cost"><span class="id" title="projection">cmp_cost</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:100"><span class="id" title="variable">cmp</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_cost"><span class="id" title="projection">cmp_cost</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:100"><span class="id" title="variable">cmp</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#LL:101"><span class="id" title="variable">LL</span></a>))%<span class="id" title="var">R</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="spec_meld_heap_meld" class="idref" href="#spec_meld_heap_meld"><span class="id" title="lemma">spec_meld_heap_meld</span></a> <a id="cmp:104" class="idref" href="#cmp:104"><span class="id" title="binder">cmp</span></a> <a id="h1:105" class="idref" href="#h1:105"><span class="id" title="binder">h1</span></a> <a id="h2:106" class="idref" href="#h2:106"><span class="id" title="binder">h2</span></a> (<a id="L1:107" class="idref" href="#L1:107"><span class="id" title="binder">L1</span></a> <a id="L2:108" class="idref" href="#L2:108"><span class="id" title="binder">L2</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">{{{</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:104"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#L1:107"><span class="id" title="variable">L1</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#h1:105"><span class="id" title="variable">h1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:104"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#L2:108"><span class="id" title="variable">L2</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#h2:106"><span class="id" title="variable">h2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.tachis.expected_time_credits.html#52856f65edf933975cc15fd14c408e31"><span class="id" title="notation">⧖</span></a> <a class="idref" href="tachis.tachis.expected_time_credits.html#52856f65edf933975cc15fd14c408e31"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_cost"><span class="id" title="projection">cmp_cost</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:104"><span class="id" title="variable">cmp</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_cost"><span class="id" title="projection">cmp_cost</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:104"><span class="id" title="variable">cmp</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#L1:107"><span class="id" title="variable">L1</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_cost"><span class="id" title="projection">cmp_cost</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:104"><span class="id" title="variable">cmp</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#L2:108"><span class="id" title="variable">L2</span></a>)<a class="idref" href="tachis.tachis.expected_time_credits.html#52856f65edf933975cc15fd14c408e31"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">}}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_meld"><span class="id" title="definition">meld_heap_meld</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:104"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#h1:105"><span class="id" title="variable">h1</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#h2:106"><span class="id" title="variable">h2</span></a>)%<span class="id" title="var">E</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">{{{</span></a> <a id="v:109" class="idref" href="#v:109"><span class="id" title="binder">v</span></a><a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">RET</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#v:109"><span class="id" title="variable">v</span></a><a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="L:110" class="idref" href="#L:110"><span class="id" title="binder">L</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:104"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#L:110"><span class="id" title="variable">L</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#v:109"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#L:110"><span class="id" title="variable">L</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#L1:107"><span class="id" title="variable">L1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#L2:108"><span class="id" title="variable">L2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">}}}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iLöb</span> <span class="id" title="keyword">as</span> "IH" <span class="id" title="keyword">forall</span> (<span class="id" title="var">h1</span> <span class="id" title="var">h2</span> <span class="id" title="var">L1</span> <span class="id" title="var">L2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">Φ</span>) "((%b1 &amp; HBb1 &amp; %HHb1 &amp; %HLb1) &amp; (%b2 &amp; HBb2 &amp; %HHb2 &amp; %HLb2 ) &amp; H⧖) HΦ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_meld"><span class="id" title="definition">meld_heap_meld</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="tachis.prob_lang.notation.html#b655cc6b0c09a3d45e15582d945b2696"><span class="id" title="notation">rec</span></a><a class="idref" href="tachis.prob_lang.notation.html#b655cc6b0c09a3d45e15582d945b2696"><span class="id" title="notation">:</span></a> "meld" <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="tachis.prob_lang.notation.html#b655cc6b0c09a3d45e15582d945b2696"><span class="id" title="notation">:=</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">V</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Vrec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b1</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">b1K</span> <span class="id" title="var">b1BL</span> <span class="id" title="var">b1BR</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.tachis.examples.meldable_heap.html#repr_binarytree"><span class="id" title="definition">repr_binarytree</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "HBb1" <span class="id" title="keyword">as</span> "-&gt;".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iApply</span> "HΦ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list"><span class="id" title="definition">tree_to_list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HLb1</span> <span class="id" title="var">HLb2</span> /=. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="tachis.tachis.examples.meldable_heap.html#repr_binarytree"><span class="id" title="definition">repr_binarytree</span></a> -/<a class="idref" href="tachis.tachis.examples.meldable_heap.html#repr_binarytree"><span class="id" title="definition">repr_binarytree</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "HBb1" <span class="id" title="keyword">as</span> "(%b1v &amp; %b1vl &amp; %b1vr &amp; -&gt; &amp; HB1v &amp; HRb1L &amp; HRb1R)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b2</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">b2K</span> <span class="id" title="var">b2BL</span> <span class="id" title="var">b2BR</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="tachis.tachis.examples.meldable_heap.html#repr_binarytree"><span class="id" title="definition">repr_binarytree</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "HBb2" <span class="id" title="keyword">as</span> "-&gt;".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iApply</span> "HΦ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HLb2</span> <span class="id" title="var">HLb1</span> /=. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b1K</span> <span class="id" title="var">b1BL</span> <span class="id" title="var">b1BR</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "HB1v HRb1L HRb1R".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {3}/<a class="idref" href="tachis.tachis.examples.meldable_heap.html#repr_binarytree"><span class="id" title="definition">repr_binarytree</span></a> -/<a class="idref" href="tachis.tachis.examples.meldable_heap.html#repr_binarytree"><span class="id" title="definition">repr_binarytree</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "HBb2" <span class="id" title="keyword">as</span> "(%b2v &amp; %b2vl &amp; %b2vr &amp; -&gt; &amp; HB2v &amp; HRb2L &amp; HRb2R)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssert</span> ( <a class="idref" href="tachis.tachis.expected_time_credits.html#52856f65edf933975cc15fd14c408e31"><span class="id" title="notation">⧖</span></a> <a class="idref" href="tachis.tachis.expected_time_credits.html#52856f65edf933975cc15fd14c408e31"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_cost"><span class="id" title="projection">cmp_cost</span></a> <span class="id" title="var">cmp</span><a class="idref" href="tachis.tachis.expected_time_credits.html#52856f65edf933975cc15fd14c408e31"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.tachis.expected_time_credits.html#52856f65edf933975cc15fd14c408e31"><span class="id" title="notation">⧖</span></a> <a class="idref" href="tachis.tachis.expected_time_credits.html#52856f65edf933975cc15fd14c408e31"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_cost"><span class="id" title="projection">cmp_cost</span></a> <span class="id" title="var">cmp</span>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list"><span class="id" title="definition">tree_to_list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b1K</span> <span class="id" title="var">b1BL</span> <span class="id" title="var">b1BR</span>)))<a class="idref" href="tachis.tachis.expected_time_credits.html#52856f65edf933975cc15fd14c408e31"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.tachis.expected_time_credits.html#52856f65edf933975cc15fd14c408e31"><span class="id" title="notation">⧖</span></a> <a class="idref" href="tachis.tachis.expected_time_credits.html#52856f65edf933975cc15fd14c408e31"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_cost"><span class="id" title="projection">cmp_cost</span></a> <span class="id" title="var">cmp</span>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list"><span class="id" title="definition">tree_to_list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b2K</span> <span class="id" title="var">b2BL</span> <span class="id" title="var">b2BR</span>)))<a class="idref" href="tachis.tachis.expected_time_credits.html#52856f65edf933975cc15fd14c408e31"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">I</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> "[H⧖]"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> "(H⧖cmp &amp; H⧖b1 &amp; H⧖b2)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iClear</span> "IH".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.expected_time_credits.html#etc_split"><span class="id" title="lemma">etc_split</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H⧖"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[? H⧖']".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_nonneg"><span class="id" title="projection">cmp_nonneg</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_le_0_compat"><span class="id" title="lemma">Rplus_le_le_0_compat</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_nonneg"><span class="id" title="lemma">tc_meld_nonneg</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.expected_time_credits.html#etc_split"><span class="id" title="lemma">etc_split</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H⧖'"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[H⧖1 H⧖2]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_nonneg"><span class="id" title="lemma">tc_meld_nonneg</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_nonneg"><span class="id" title="lemma">tc_meld_nonneg</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "H⧖1".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.expected_time_credits.html#etc_weaken"><span class="id" title="lemma">etc_weaken</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_nonneg"><span class="id" title="lemma">tc_meld_nonneg</span></a>| <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HLb1</span>; <span class="id" title="var">lra</span>]. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.expected_time_credits.html#etc_weaken"><span class="id" title="lemma">etc_weaken</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_nonneg"><span class="id" title="lemma">tc_meld_nonneg</span></a>| <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HLb2</span>; <span class="id" title="var">lra</span>]. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">((</span></a>@<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#wp_cmp"><span class="id" title="projection">wp_cmp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">cmp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">b1K</span> <span class="id" title="var">b2K</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[H⧖cmp HB1v HB2v]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "(HB1v &amp; HB2v)".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Minimum&nbsp;is&nbsp;heap&nbsp;1,&nbsp;maximum&nbsp;is&nbsp;heap&nbsp;2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Apply&nbsp;advanced&nbsp;composition&nbsp;on&nbsp;the&nbsp;branch&nbsp;of&nbsp;the&nbsp;minimum&nbsp;heap&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.ert_rules.html#wp_couple_rand_adv_comp_strong'"><span class="id" title="lemma">wp_couple_rand_adv_comp_strong'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_cost"><span class="id" title="projection">cmp_cost</span></a> <span class="id" title="var">cmp</span>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list"><span class="id" title="definition">tree_to_list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b1K</span> <span class="id" title="var">b1BL</span> <span class="id" title="var">b1BR</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_distr"><span class="id" title="definition">tc_meld_distr</span></a> <span class="id" title="var">cmp</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list"><span class="id" title="definition">tree_to_list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b1BL</span>) (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list"><span class="id" title="definition">tree_to_list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b1BR</span>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="tachis.prelude.stdpp_ext.html#fin_to_bool"><span class="id" title="definition">fin_to_bool</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H⧖b1"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.prelude.stdpp_ext.html#fin_to_bool"><span class="id" title="definition">fin_to_bool</span></a> <span class="id" title="var">_</span>); <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_le_0_compat"><span class="id" title="lemma">Rplus_le_le_0_compat</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_nonneg"><span class="id" title="projection">cmp_nonneg</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_nonneg"><span class="id" title="lemma">tc_meld_nonneg</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_0_l"><span class="id" title="lemma">Rplus_0_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_fin2"><span class="id" title="lemma">SeriesC_fin2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> -(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_l"><span class="id" title="lemma">Nat.add_1_l</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">_</span>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_assoc"><span class="id" title="lemma">Nat.add_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">P</span> := (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_nonneg"><span class="id" title="projection">cmp_nonneg</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">cmp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_ind"><span class="id" title="lemma">tc_meld_ind</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">s</span>) "H⧖".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqVrec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[HRb1L H⧖ H⧖b2 HB2v HRb2L HRb2R]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iSplitL</span> "HRb1L".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">HHb1</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "HB2v HRb2L HRb2R".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> {4}/<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <a class="idref" href="tachis.tachis.examples.meldable_heap.html#fin2_subst_0"><span class="id" title="lemma">fin2_subst_0</span></a> /=; <span class="id" title="var">last</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="tachis.tachis.expected_time_credits.html#etc_combine"><span class="id" title="lemma">etc_combine</span></a>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.expected_time_credits.html#etc_irrel"><span class="id" title="lemma">etc_irrel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H⧖b2"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HLb2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iClear</span> "IH".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "(%L &amp; (%hR &amp; HhRR &amp; %HhR &amp; %HL') &amp; %HL)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iApply</span> "HΦ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b1K</span> <span class="id" title="var">hR</span> <span class="id" title="var">b1BR</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span>. { <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Prove&nbsp;that&nbsp;the&nbsp;resulting&nbsp;value&nbsp;is&nbsp;a&nbsp;heap&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">HeqVrec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">inversion</span> <span class="id" title="var">HHb1</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#heap_ordered_conv_elems"><span class="id" title="lemma">heap_ordered_conv_elems</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">HL'</span> <span class="id" title="var">HL</span> <span class="id" title="var">HLb2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#in_app_or"><span class="id" title="lemma">in_app_or</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx'</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">inversion</span> <span class="id" title="var">HHb1</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#heap_ordered_strong_elems"><span class="id" title="lemma">heap_ordered_strong_elems</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">b1BL</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="var">etrans</span>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#heap_ordered_strong_elems"><span class="id" title="lemma">heap_ordered_strong_elems</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b2K</span> <span class="id" title="var">b2BL</span> <span class="id" title="var">b2BR</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HHb2</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">inversion</span> <span class="id" title="var">HHb1</span>. <span class="id" title="var">done</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">HL'</span> <span class="id" title="var">HL</span> <span class="id" title="var">HLb1</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -?<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Sorting.Permutation.html#perm_skip"><span class="id" title="constructor">perm_skip</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Sorting.Permutation.html#Permutation_app_head"><span class="id" title="lemma">Permutation_app_head</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Sorting.Permutation.html#Permutation_app_comm"><span class="id" title="lemma">Permutation_app_comm</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">wp_pures</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqVrec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[HRb1R H⧖ H⧖b2 HB2v HRb2L HRb2R]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iSplitL</span> "HRb1R".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">HHb1</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "HB2v HRb2L HRb2R".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> {4}/<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <a class="idref" href="tachis.tachis.examples.meldable_heap.html#fin2_subst_neq0"><span class="id" title="lemma">fin2_subst_neq0</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HRW</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HRW</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="tachis.tachis.expected_time_credits.html#etc_combine"><span class="id" title="lemma">etc_combine</span></a>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.expected_time_credits.html#etc_irrel"><span class="id" title="lemma">etc_irrel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H⧖b2"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HLb2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iClear</span> "IH".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "(%L &amp; (%hR &amp; HhRR &amp; %HhR &amp; %HL') &amp; %HL)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iApply</span> "HΦ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b1K</span> <span class="id" title="var">b1BL</span> <span class="id" title="var">hR</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span>. { <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Prove&nbsp;that&nbsp;the&nbsp;resulting&nbsp;value&nbsp;is&nbsp;a&nbsp;heap&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">HeqVrec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HHb1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#heap_ordered_conv_elems"><span class="id" title="lemma">heap_ordered_conv_elems</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">HL'</span> <span class="id" title="var">HL</span> <span class="id" title="var">HLb2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#in_app_or"><span class="id" title="lemma">in_app_or</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx'</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">inversion</span> <span class="id" title="var">HHb1</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#heap_ordered_strong_elems"><span class="id" title="lemma">heap_ordered_strong_elems</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">b1BR</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">etrans</span>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#heap_ordered_strong_elems"><span class="id" title="lemma">heap_ordered_strong_elems</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b2K</span> <span class="id" title="var">b2BL</span> <span class="id" title="var">b2BR</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HHb2</span>; <span class="id" title="var">simplify_eq</span> =&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">HL'</span> <span class="id" title="var">HL</span> <span class="id" title="var">HLb1</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -?<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Minimum&nbsp;is&nbsp;heap&nbsp;2,&nbsp;maximum&nbsp;is&nbsp;heap&nbsp;1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Apply&nbsp;advanced&nbsp;composition&nbsp;on&nbsp;the&nbsp;branch&nbsp;of&nbsp;the&nbsp;minimum&nbsp;heap&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.ert_rules.html#wp_couple_rand_adv_comp_strong'"><span class="id" title="lemma">wp_couple_rand_adv_comp_strong'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_cost"><span class="id" title="projection">cmp_cost</span></a> <span class="id" title="var">cmp</span>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list"><span class="id" title="definition">tree_to_list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b2K</span> <span class="id" title="var">b2BL</span> <span class="id" title="var">b2BR</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_distr"><span class="id" title="definition">tc_meld_distr</span></a> <span class="id" title="var">cmp</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list"><span class="id" title="definition">tree_to_list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b2BL</span>) (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list"><span class="id" title="definition">tree_to_list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b2BR</span>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="tachis.prelude.stdpp_ext.html#fin_to_bool"><span class="id" title="definition">fin_to_bool</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H⧖b2"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="tachis.prelude.stdpp_ext.html#fin_to_bool"><span class="id" title="definition">fin_to_bool</span></a> <span class="id" title="var">_</span>); <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_le_0_compat"><span class="id" title="lemma">Rplus_le_le_0_compat</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_nonneg"><span class="id" title="projection">cmp_nonneg</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_nonneg"><span class="id" title="lemma">tc_meld_nonneg</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_0_l"><span class="id" title="lemma">Rplus_0_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="tachis.prob.countable_sum.html#SeriesC_fin2"><span class="id" title="lemma">SeriesC_fin2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> -(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_l"><span class="id" title="lemma">Nat.add_1_l</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">_</span>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_assoc"><span class="id" title="lemma">Nat.add_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">P</span> := (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_nonneg"><span class="id" title="projection">cmp_nonneg</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">cmp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_ind"><span class="id" title="lemma">tc_meld_ind</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">s</span>) "H⧖".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqVrec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[HRb2L H⧖ H⧖b1 HB1v HRb1L HRb1R]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iSplitL</span> "HRb2L".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">HHb2</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "HB1v HRb1L HRb1R".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> {4}/<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b1K</span> <span class="id" title="var">b1BL</span> <span class="id" title="var">b1BR</span>); <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <a class="idref" href="tachis.tachis.examples.meldable_heap.html#fin2_subst_0"><span class="id" title="lemma">fin2_subst_0</span></a> /=; <span class="id" title="var">last</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="tachis.tachis.expected_time_credits.html#etc_combine"><span class="id" title="lemma">etc_combine</span></a>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.expected_time_credits.html#etc_irrel"><span class="id" title="lemma">etc_irrel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H⧖b1"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HLb1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iClear</span> "IH".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "(%L &amp; (%hR &amp; HhRR &amp; %HhR &amp; %HL') &amp; %HL)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iApply</span> "HΦ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b2K</span> <span class="id" title="var">hR</span> <span class="id" title="var">b2BR</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span>. { <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Prove&nbsp;that&nbsp;the&nbsp;resulting&nbsp;value&nbsp;is&nbsp;a&nbsp;heap&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">HeqVrec</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_rel"><span class="id" title="projection">cmp_rel</span></a> <span class="id" title="var">cmp</span> <span class="id" title="var">b2K</span> <span class="id" title="var">b1K</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#total"><span class="id" title="definition">total</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_rel"><span class="id" title="projection">cmp_rel</span></a> <span class="id" title="var">cmp</span>) <span class="id" title="var">b2K</span> <span class="id" title="var">b1K</span>); <span class="id" title="var">done</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">inversion</span> <span class="id" title="var">HHb2</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#heap_ordered_conv_elems"><span class="id" title="lemma">heap_ordered_conv_elems</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">HL'</span> <span class="id" title="var">HL</span> <span class="id" title="var">HLb1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#in_app_or"><span class="id" title="lemma">in_app_or</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx'</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">inversion</span> <span class="id" title="var">HHb2</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#heap_ordered_strong_elems"><span class="id" title="lemma">heap_ordered_strong_elems</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">b2BL</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="var">etrans</span>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#heap_ordered_strong_elems"><span class="id" title="lemma">heap_ordered_strong_elems</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b1K</span> <span class="id" title="var">b1BL</span> <span class="id" title="var">b1BR</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HHb1</span>; <span class="id" title="var">simplify_eq</span> =&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">inversion</span> <span class="id" title="var">HHb2</span>. <span class="id" title="var">done</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">HL'</span> <span class="id" title="var">HL</span> <span class="id" title="var">HLb2</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Sorting.Permutation.html#Permutation_app_comm"><span class="id" title="lemma">Permutation_app_comm</span></a> <span class="id" title="var">L1</span>) -?<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Sorting.Permutation.html#perm_skip"><span class="id" title="constructor">perm_skip</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -?<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Sorting.Permutation.html#Permutation_app_head"><span class="id" title="lemma">Permutation_app_head</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Sorting.Permutation.html#Permutation_app_comm"><span class="id" title="lemma">Permutation_app_comm</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">wp_pures</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqVrec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[HRb2R H⧖ H⧖b1 HB1v HRb1L HRb1R]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iSplitL</span> "HRb2R".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">HHb2</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "HB1v HRb1L HRb1R".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> {4}/<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a>  <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b1K</span> <span class="id" title="var">b1BL</span> <span class="id" title="var">b1BR</span>); <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <a class="idref" href="tachis.tachis.examples.meldable_heap.html#fin2_subst_neq0"><span class="id" title="lemma">fin2_subst_neq0</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HRW</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HRW</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="tachis.tachis.expected_time_credits.html#etc_combine"><span class="id" title="lemma">etc_combine</span></a>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.expected_time_credits.html#etc_irrel"><span class="id" title="lemma">etc_irrel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H⧖b1"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HLb1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iClear</span> "IH".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "(%L &amp; (%hR &amp; HhRR &amp; %HhR &amp; %HL') &amp; %HL)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iApply</span> "HΦ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b2K</span> <span class="id" title="var">b2BL</span> <span class="id" title="var">hR</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span>. { <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_rel"><span class="id" title="projection">cmp_rel</span></a> <span class="id" title="var">cmp</span> <span class="id" title="var">b2K</span> <span class="id" title="var">b1K</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#total"><span class="id" title="definition">total</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_rel"><span class="id" title="projection">cmp_rel</span></a> <span class="id" title="var">cmp</span>) <span class="id" title="var">b2K</span> <span class="id" title="var">b1K</span>); <span class="id" title="var">done</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Prove&nbsp;that&nbsp;the&nbsp;resulting&nbsp;value&nbsp;is&nbsp;a&nbsp;heap&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">HeqVrec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HHb2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#heap_ordered_conv_elems"><span class="id" title="lemma">heap_ordered_conv_elems</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">HL'</span> <span class="id" title="var">HL</span> <span class="id" title="var">HLb1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#in_app_or"><span class="id" title="lemma">in_app_or</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx'</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">inversion</span> <span class="id" title="var">HHb2</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#heap_ordered_strong_elems"><span class="id" title="lemma">heap_ordered_strong_elems</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">b2BR</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">etrans</span>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#heap_ordered_strong_elems"><span class="id" title="lemma">heap_ordered_strong_elems</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b1K</span> <span class="id" title="var">b1BL</span> <span class="id" title="var">b1BR</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HHb1</span>; <span class="id" title="var">simplify_eq</span> =&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">HL'</span> <span class="id" title="var">HL</span> <span class="id" title="var">HLb2</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -?<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Sorting.Permutation.html#Permutation_app_comm"><span class="id" title="lemma">Permutation_app_comm</span></a> <span class="id" title="var">L1</span>) /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Sorting.Permutation.html#perm_skip"><span class="id" title="constructor">perm_skip</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -?<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Sorting.Permutation.html#Permutation_app_head"><span class="id" title="lemma">Permutation_app_head</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="meld_heap_insert_cost" class="idref" href="#meld_heap_insert_cost"><span class="id" title="definition">meld_heap_insert_cost</span></a> (<a id="cmp:111" class="idref" href="#cmp:111"><span class="id" title="binder">cmp</span></a> : <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#comparator"><span class="id" title="record">comparator</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <a class="idref" href="tachis.tachis.cost_models.html#CostTick"><span class="id" title="definition">CostTick</span></a>) <a id="N:112" class="idref" href="#N:112"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_cost"><span class="id" title="projection">cmp_cost</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:111"><span class="id" title="variable">cmp</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_cost"><span class="id" title="projection">cmp_cost</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:111"><span class="id" title="variable">cmp</span></a>) <a class="idref" href="tachis.tachis.examples.meldable_heap.html#N:112"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_cost"><span class="id" title="projection">cmp_cost</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:111"><span class="id" title="variable">cmp</span></a>) 1)%<span class="id" title="var">R</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="spec_meld_heap_insert" class="idref" href="#spec_meld_heap_insert"><span class="id" title="lemma">spec_meld_heap_insert</span></a> <a id="cmp:113" class="idref" href="#cmp:113"><span class="id" title="binder">cmp</span></a> <a id="ref_h:114" class="idref" href="#ref_h:114"><span class="id" title="binder">ref_h</span></a> <a id="w:115" class="idref" href="#w:115"><span class="id" title="binder">w</span></a> (<a id="l:116" class="idref" href="#l:116"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a>) <a id="k:117" class="idref" href="#k:117"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">{{{</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_ref"><span class="id" title="definition">is_meld_heap_ref</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:113"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#l:116"><span class="id" title="variable">l</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#ref_h:114"><span class="id" title="variable">ref_h</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_has_key"><span class="id" title="projection">cmp_has_key</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:113"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:117"><span class="id" title="variable">k</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#w:115"><span class="id" title="variable">w</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.tachis.expected_time_credits.html#52856f65edf933975cc15fd14c408e31"><span class="id" title="notation">⧖</span></a> <a class="idref" href="tachis.tachis.expected_time_credits.html#52856f65edf933975cc15fd14c408e31"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_insert_cost"><span class="id" title="definition">meld_heap_insert_cost</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:113"><span class="id" title="variable">cmp</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#l:116"><span class="id" title="variable">l</span></a>)<a class="idref" href="tachis.tachis.expected_time_credits.html#52856f65edf933975cc15fd14c408e31"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">}}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_insert"><span class="id" title="definition">meld_heap_insert</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:113"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#ref_h:114"><span class="id" title="variable">ref_h</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#w:115"><span class="id" title="variable">w</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">{{{</span></a> <a id="l':118" class="idref" href="#l':118"><span class="id" title="binder">l'</span></a><a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">RET</span></a> <a class="idref" href="tachis.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="tachis.prob_lang.notation.html#3127c6bc552ca21a494fc6e3474a507d"><span class="id" title="notation">()</span></a><a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_ref"><span class="id" title="definition">is_meld_heap_ref</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:113"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#l':118"><span class="id" title="variable">l'</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#ref_h:114"><span class="id" title="variable">ref_h</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#l':118"><span class="id" title="variable">l'</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:117"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#l:116"><span class="id" title="variable">l</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">}}}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_ref"><span class="id" title="definition">is_meld_heap_ref</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">Φ</span>) "((%ℓ &amp; %h &amp; -&gt; &amp; Hℓ &amp; Hh) &amp; Hw &amp; H⧖) HΦ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_insert"><span class="id" title="definition">meld_heap_insert</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_load</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hℓ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">((</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#spec_meld_heap_meld"><span class="id" title="lemma">spec_meld_heap_meld</span></a> <span class="id" title="var">cmp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[H⧖ Hh Hw]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">k</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Nil"><span class="id" title="constructor">Nil</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Nil"><span class="id" title="constructor">Nil</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#repr_binarytree"><span class="id" title="definition">repr_binarytree</span></a>. <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">h'</span>) "[%l' (Hh' &amp; %Hl')]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_store</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hℓ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "HΦ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span>; [| <span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Needs&nbsp;is_meld_heap_val&nbsp;to&nbsp;only&nbsp;be&nbsp;up&nbsp;to&nbsp;permutation,&nbsp;but&nbsp;otherweise&nbsp;done.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val_perm"><span class="id" title="lemma">is_meld_heap_val_perm</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[] Hh'"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Sorting.Permutation.html#Permutation_cons_append"><span class="id" title="lemma">Permutation_cons_append</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="meld_heap_remove_cost" class="idref" href="#meld_heap_remove_cost"><span class="id" title="definition">meld_heap_remove_cost</span></a> (<a id="cmp:119" class="idref" href="#cmp:119"><span class="id" title="binder">cmp</span></a> : <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#comparator"><span class="id" title="record">comparator</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <a class="idref" href="tachis.tachis.cost_models.html#CostTick"><span class="id" title="definition">CostTick</span></a>) <a id="N:120" class="idref" href="#N:120"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_cost"><span class="id" title="projection">cmp_cost</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:119"><span class="id" title="variable">cmp</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">*</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld"><span class="id" title="definition">tc_meld</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_cost"><span class="id" title="projection">cmp_cost</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:119"><span class="id" title="variable">cmp</span></a>) <a class="idref" href="tachis.tachis.examples.meldable_heap.html#N:120"><span class="id" title="variable">N</span></a>)%<span class="id" title="var">R</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="spec_meld_heap_remove" class="idref" href="#spec_meld_heap_remove"><span class="id" title="lemma">spec_meld_heap_remove</span></a> (<a id="cmp:121" class="idref" href="#cmp:121"><span class="id" title="binder">cmp</span></a> : <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#comparator"><span class="id" title="record">comparator</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <a class="idref" href="tachis.tachis.cost_models.html#CostTick"><span class="id" title="definition">CostTick</span></a>) <a id="ref_h:122" class="idref" href="#ref_h:122"><span class="id" title="binder">ref_h</span></a> <a id="l:123" class="idref" href="#l:123"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">{{{</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_ref"><span class="id" title="definition">is_meld_heap_ref</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:121"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#l:123"><span class="id" title="variable">l</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#ref_h:122"><span class="id" title="variable">ref_h</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="tachis.tachis.expected_time_credits.html#52856f65edf933975cc15fd14c408e31"><span class="id" title="notation">⧖</span></a> <a class="idref" href="tachis.tachis.expected_time_credits.html#52856f65edf933975cc15fd14c408e31"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_remove_cost"><span class="id" title="definition">meld_heap_remove_cost</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:121"><span class="id" title="variable">cmp</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#l:123"><span class="id" title="variable">l</span></a>)<a class="idref" href="tachis.tachis.expected_time_credits.html#52856f65edf933975cc15fd14c408e31"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">}}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_remove"><span class="id" title="definition">meld_heap_remove</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:121"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#ref_h:122"><span class="id" title="variable">ref_h</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">{{{</span></a> <a id="w:124" class="idref" href="#w:124"><span class="id" title="binder">w</span></a><a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">RET</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#w:124"><span class="id" title="variable">w</span></a><a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#w:124"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.InjLV"><span class="id" title="constructor">InjLV</span></a> <a class="idref" href="tachis.prob_lang.notation.html#66e8f9d9f9894a066beff0d1c67d3c77"><span class="id" title="notation">#</span></a><a class="idref" href="tachis.prob_lang.notation.html#3127c6bc552ca21a494fc6e3474a507d"><span class="id" title="notation">()</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#l:123"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_ref"><span class="id" title="definition">is_meld_heap_ref</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:121"><span class="id" title="variable">cmp</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#ref_h:122"><span class="id" title="variable">ref_h</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">∨</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">(</span></a><a id="k:125" class="idref" href="#k:125"><span class="id" title="binder">k</span></a> : <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a>) (<a id="u:126" class="idref" href="#u:126"><span class="id" title="binder">u</span></a> : <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a>) (<a id="l':127" class="idref" href="#l':127"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">),</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#w:124"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.InjRV"><span class="id" title="constructor">InjRV</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#u:126"><span class="id" title="variable">u</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#l:123"><span class="id" title="variable">l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:125"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#l':127"><span class="id" title="variable">l'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_has_key"><span class="id" title="projection">cmp_has_key</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:121"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:125"><span class="id" title="variable">k</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#u:126"><span class="id" title="variable">u</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_rel"><span class="id" title="projection">cmp_rel</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:121"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#k:125"><span class="id" title="variable">k</span></a>) <a class="idref" href="tachis.tachis.examples.meldable_heap.html#l:123"><span class="id" title="variable">l</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_ref"><span class="id" title="definition">is_meld_heap_ref</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:121"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#l':127"><span class="id" title="variable">l'</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#ref_h:122"><span class="id" title="variable">ref_h</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.bi.weakestpre.html#46f028f989b7c77928a3da60193fc921"><span class="id" title="notation">}}}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">Φ</span>) "((%ℓ &amp; %h &amp; -&gt; &amp; Hℓ &amp; (%b &amp; Hb &amp; %Hh &amp; %Hl)) &amp; H⧖) HΦ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_remove"><span class="id" title="definition">meld_heap_remove</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_load</span>; <span class="id" title="var">iIntros</span> "Hℓ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iDestruct</span> "Hb" <span class="id" title="keyword">as</span> "-&gt;".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "HΦ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iLeft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; <span class="id" title="tactic">first</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#Permutation_nil_r"><span class="id" title="lemma">Permutation_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_ref"><span class="id" title="definition">is_meld_heap_ref</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Nil"><span class="id" title="constructor">Nil</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iDestruct</span> "Hb" <span class="id" title="keyword">as</span> "(%vv &amp; %vl &amp; %vr &amp; -&gt; &amp; Hvv &amp; Hvl &amp; Hvr )".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">((</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#spec_meld_heap_meld"><span class="id" title="lemma">spec_meld_heap_meld</span></a> <span class="id" title="var">cmp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list"><span class="id" title="definition">tree_to_list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b1</span>) (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list"><span class="id" title="definition">tree_to_list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b2</span>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[H⧖ Hvl Hvr]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "Hvl". { <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a>. <span class="id" title="var">iExists</span> <span class="id" title="var">b1</span>; <span class="id" title="var">iFrame</span>. <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "Hvr". { <span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val"><span class="id" title="definition">is_meld_heap_val</span></a>. <span class="id" title="var">iExists</span> <span class="id" title="var">b2</span>; <span class="id" title="var">iFrame</span>. <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_remove_cost"><span class="id" title="definition">meld_heap_remove_cost</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.expected_time_credits.html#etc_weaken"><span class="id" title="lemma">etc_weaken</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H⧖"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">P1</span> := (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_nonneg"><span class="id" title="lemma">tc_meld_nonneg</span></a> <span class="id" title="var">cmp</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list"><span class="id" title="definition">tree_to_list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b1</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">P2</span> := (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_nonneg"><span class="id" title="lemma">tc_meld_nonneg</span></a> <span class="id" title="var">cmp</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list"><span class="id" title="definition">tree_to_list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b2</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">Q</span> := (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_nonneg"><span class="id" title="projection">cmp_nonneg</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">cmp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> 2%<span class="id" title="var">R</span> <span class="id" title="keyword">with</span> (1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">R</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_plus_distr_r"><span class="id" title="lemma">Rmult_plus_distr_r</span></a> ?<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rmult_1_l"><span class="id" title="lemma">Rmult_1_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" title="lemma">Rplus_le_compat</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_mono"><span class="id" title="lemma">tc_meld_mono</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hl</span> /= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hl</span> /= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">h'</span>) "(%L &amp; (%b &amp; Hb &amp; %Hb_heap &amp; %HL) &amp; %HL')".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_store</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hℓ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iApply</span> "HΦ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRight</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>. { <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hl</span> <span class="id" title="var">HL'</span>. <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_ref"><span class="id" title="definition">is_meld_heap_ref</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Use&nbsp;one&nbsp;of&nbsp;those&nbsp;lemmas&nbsp;which&nbsp;relate&nbsp;the&nbsp;head&nbsp;of&nbsp;a&nbsp;heap&nbsp;to&nbsp;the&nbsp;body&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list"><span class="id" title="definition">tree_to_list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list"><span class="id" title="definition">tree_to_list</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">b2</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tree_to_list"><span class="id" title="definition">tree_to_list</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span>)); <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a>, <a class="idref" href="tachis.tachis.examples.meldable_heap.html#heap_ordered_strong_elems"><span class="id" title="lemma">heap_ordered_strong_elems</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#program"><span class="id" title="section">program</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="interface" class="idref" href="#interface"><span class="id" title="section">interface</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="A:128" class="idref" href="#A:128"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="meld_heap_spec" class="idref" href="#meld_heap_spec"><span class="id" title="definition">meld_heap_spec</span></a> <a id="cmp:129" class="idref" href="#cmp:129"><span class="id" title="binder">cmp</span></a> : (@<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#min_heap"><span class="id" title="class">min_heap</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#interface.A"><span class="id" title="variable">A</span></a> <a class="idref" href="tachis.tachis.cost_models.html#CostTick"><span class="id" title="definition">CostTick</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:129"><span class="id" title="variable">cmp</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= {| <a class="idref" href="tachis.tachis.examples.min_heap_spec.html#heap_new"><span class="id" title="method">heap_new</span></a> := <a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_new"><span class="id" title="definition">meld_heap_new</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#heap_insert"><span class="id" title="method">heap_insert</span></a> := <a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_insert"><span class="id" title="definition">meld_heap_insert</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:129"><span class="id" title="variable">cmp</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#heap_remove"><span class="id" title="method">heap_remove</span></a> := <a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_remove"><span class="id" title="definition">meld_heap_remove</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:129"><span class="id" title="variable">cmp</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#is_min_heap"><span class="id" title="method">is_min_heap</span></a> := (<span class="id" title="keyword">fun</span> <a id="ac561eb9930a784cc140305591fb82e6" class="idref" href="#ac561eb9930a784cc140305591fb82e6"><span class="id" title="binder">Σ</span></a> <a id="q:131" class="idref" href="#q:131"><span class="id" title="binder">q</span></a> <a id="L:132" class="idref" href="#L:132"><span class="id" title="binder">L</span></a> <a id="v:133" class="idref" href="#v:133"><span class="id" title="binder">v</span></a> =&gt; @<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_ref"><span class="id" title="definition">is_meld_heap_ref</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#interface.A"><span class="id" title="variable">A</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#ac561eb9930a784cc140305591fb82e6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#q:131"><span class="id" title="variable">q</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:129"><span class="id" title="variable">cmp</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#L:132"><span class="id" title="variable">L</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#v:133"><span class="id" title="variable">v</span></a>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#heap_insert_cost"><span class="id" title="method">heap_insert_cost</span></a> := <a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_insert_cost"><span class="id" title="definition">meld_heap_insert_cost</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:129"><span class="id" title="variable">cmp</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#heap_remove_cost"><span class="id" title="method">heap_remove_cost</span></a> := <a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_remove_cost"><span class="id" title="definition">meld_heap_remove_cost</span></a> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#cmp:129"><span class="id" title="variable">cmp</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;meld_heap_insert_cost&nbsp;is&nbsp;nonnegative&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_insert_cost"><span class="id" title="definition">meld_heap_insert_cost</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">P</span> := (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_nonneg"><span class="id" title="projection">cmp_nonneg</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">cmp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_le_0_compat"><span class="id" title="lemma">Rplus_le_le_0_compat</span></a>; [<span class="id" title="var">lra</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_le_0_compat"><span class="id" title="lemma">Rplus_le_le_0_compat</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_nonneg"><span class="id" title="lemma">tc_meld_nonneg</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;meld_heap_remove_cost&nbsp;is&nbsp;nonnegative&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_remove_cost"><span class="id" title="definition">meld_heap_remove_cost</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">P</span> := (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_nonneg"><span class="id" title="lemma">tc_meld_nonneg</span></a> <span class="id" title="var">cmp</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">Q</span> := (<a class="idref" href="tachis.tachis.examples.min_heap_spec.html#cmp_nonneg"><span class="id" title="projection">cmp_nonneg</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">cmp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;meld_heap_insert_cost&nbsp;is&nbsp;monotone*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_insert_cost"><span class="id" title="definition">meld_heap_insert_cost</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_r"><span class="id" title="lemma">Rplus_le_compat_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_mono"><span class="id" title="lemma">tc_meld_mono</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;meld_heap_remove_cost&nbsp;is&nbsp;monotone&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#meld_heap_remove_cost"><span class="id" title="definition">meld_heap_remove_cost</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rmult_le_compat_l"><span class="id" title="lemma">Rmult_le_compat_l</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#tc_meld_mono"><span class="id" title="lemma">tc_meld_mono</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;is_meld_heap&nbsp;respects&nbsp;permutations&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? ? ? ? <span class="id" title="var">Hequiv</span> ? ? -&gt; .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_ref"><span class="id" title="definition">is_meld_heap_ref</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iStartProof</span>; <span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "(% &amp; % &amp; ? &amp; ? &amp; ? )".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val_perm"><span class="id" title="lemma">is_meld_heap_val_perm</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "(% &amp; % &amp; ? &amp; ? &amp; ? )".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#is_meld_heap_val_perm"><span class="id" title="lemma">is_meld_heap_val_perm</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;New&nbsp;heap&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (? ? ? ?) "_ H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> (<a class="idref" href="tachis.tachis.examples.meldable_heap.html#spec_meld_heap_new"><span class="id" title="lemma">spec_meld_heap_new</span></a> <span class="id" title="var">cmp</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Insert&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (? ? ? ? ? ? ? ?) "H ?".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#spec_meld_heap_insert"><span class="id" title="lemma">spec_meld_heap_insert</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Remove&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (? ? ? ? ? ? ) "H ?".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wp_apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.tachis.examples.meldable_heap.html#spec_meld_heap_remove"><span class="id" title="lemma">spec_meld_heap_remove</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.tachis.examples.meldable_heap.html#interface"><span class="id" title="section">interface</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
