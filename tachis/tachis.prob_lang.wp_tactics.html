<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/logsem/clutch">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">tachis.prob_lang.wp_tactics</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.bi</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.bi.html#"><span class="id" title="library">bi</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#"><span class="id" title="library">updates</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.base_logic.lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.fancy_updates.html#"><span class="id" title="library">fancy_updates</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#"><span class="id" title="library">coq_tactics</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.reduction.html#"><span class="id" title="library">reduction</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.spec_patterns.html#"><span class="id" title="library">spec_patterns</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.tactics.html#"><span class="id" title="library">tactics</span></a>.<br/>

<br/>
<span class="comment">(*From&nbsp;tachis.bi&nbsp;Require&nbsp;Import&nbsp;weakestpre.*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">tachis.prob_lang</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="tachis.prob_lang.lang.html#"><span class="id" title="library">lang</span></a> <a class="idref" href="tachis.prob_lang.tactics.html#"><span class="id" title="library">tactics</span></a> <a class="idref" href="tachis.prob_lang.notation.html#"><span class="id" title="library">notation</span></a> <a class="idref" href="tachis.prob_lang.class_instances.html#"><span class="id" title="library">class_instances</span></a>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type*".<br/>

<br/>
</div>

<div class="doc">
A basic set of requirements for a weakest precondition 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a id="GwpTacticsBase" class="idref" href="#GwpTacticsBase"><span class="id" title="record">GwpTacticsBase</span></a> (<a id="0101b9beac487b383a5ba2a8f6922788" class="idref" href="#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#gFunctors"><span class="id" title="record">gFunctors</span></a>) (<a id="A:2" class="idref" href="#A:2"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) `{<a id="invGS_gen0:4" class="idref" href="#invGS_gen0:4"><span class="id" title="binder">!</span></a><a id="invGS_gen0:4" class="idref" href="#invGS_gen0:4"><span class="id" title="binder">invGS_gen</span></a> <a id="hlc:3" class="idref" href="#hlc:3"><span class="id" title="binder"><span id="invGS_gen0:4" class="id">hlc</span></span></a> <a id="invGS_gen0:4" class="idref" href="#invGS_gen0:4"><span class="id" title="binder">Σ</span></a>} (<a id="gwp:5" class="idref" href="#gwp:5"><span class="id" title="binder">gwp</span></a> : <a class="idref" href="tachis.prob_lang.wp_tactics.html#A:2"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.coPset.html#coPset"><span class="id" title="definition">coPset</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="variable">Σ</span></a>)  := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="wptac_wp_value" class="idref" href="#wptac_wp_value"><span class="id" title="projection">wptac_wp_value</span></a> <a id="E:7" class="idref" href="#E:7"><span class="id" title="binder">E</span></a> <a id="ddd74b3e5ac7acdccfa97dcaa59e83fe" class="idref" href="#ddd74b3e5ac7acdccfa97dcaa59e83fe"><span class="id" title="binder">Φ</span></a> <a id="v:9" class="idref" href="#v:9"><span class="id" title="binder">v</span></a> <a id="a:10" class="idref" href="#a:10"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob_lang.wp_tactics.html#ddd74b3e5ac7acdccfa97dcaa59e83fe"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:9"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#gwp:5"><span class="id" title="variable">gwp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:10"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:7"><span class="id" title="variable">E</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.of_val"><span class="id" title="abbreviation">of_val</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:9"><span class="id" title="variable">v</span></a>) <a class="idref" href="tachis.prob_lang.wp_tactics.html#ddd74b3e5ac7acdccfa97dcaa59e83fe"><span class="id" title="variable">Φ</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="wptac_wp_fupd" class="idref" href="#wptac_wp_fupd"><span class="id" title="projection">wptac_wp_fupd</span></a> <a id="E:12" class="idref" href="#E:12"><span class="id" title="binder">E</span></a> <a id="88e16403a2e8c3584cb2b35950a575fb" class="idref" href="#88e16403a2e8c3584cb2b35950a575fb"><span class="id" title="binder">Φ</span></a> <a id="e:14" class="idref" href="#e:14"><span class="id" title="binder">e</span></a> <a id="a:15" class="idref" href="#a:15"><span class="id" title="binder">a</span></a> : <a class="idref" href="tachis.prob_lang.wp_tactics.html#gwp:5"><span class="id" title="variable">gwp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:15"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:12"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e:14"><span class="id" title="variable">e</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v:16" class="idref" href="#v:16"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#E:12"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#88e16403a2e8c3584cb2b35950a575fb"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:16"><span class="id" title="variable">v</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#gwp:5"><span class="id" title="variable">gwp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:15"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:12"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e:14"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#88e16403a2e8c3584cb2b35950a575fb"><span class="id" title="variable">Φ</span></a>;<br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="GwpTacticsBind" class="idref" href="#GwpTacticsBind"><span class="id" title="record">GwpTacticsBind</span></a> (<a id="8b13b958e79b112c1b4fdea541acbd8a" class="idref" href="#8b13b958e79b112c1b4fdea541acbd8a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#gFunctors"><span class="id" title="record">gFunctors</span></a>) (<a id="A:19" class="idref" href="#A:19"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) `{<a id="invGS_gen0:21" class="idref" href="#invGS_gen0:21"><span class="id" title="binder">!</span></a><a id="invGS_gen0:21" class="idref" href="#invGS_gen0:21"><span class="id" title="binder">invGS_gen</span></a> <a id="hlc:20" class="idref" href="#hlc:20"><span class="id" title="binder"><span id="invGS_gen0:21" class="id">hlc</span></span></a> <a id="invGS_gen0:21" class="idref" href="#invGS_gen0:21"><span class="id" title="binder">Σ</span></a>} (<a id="gwp:22" class="idref" href="#gwp:22"><span class="id" title="binder">gwp</span></a> : <a class="idref" href="tachis.prob_lang.wp_tactics.html#A:19"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.coPset.html#coPset"><span class="id" title="definition">coPset</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#8b13b958e79b112c1b4fdea541acbd8a"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#8b13b958e79b112c1b4fdea541acbd8a"><span class="id" title="variable">Σ</span></a>)  := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="wptac_wp_bind" class="idref" href="#wptac_wp_bind"><span class="id" title="projection">wptac_wp_bind</span></a> <a id="K:24" class="idref" href="#K:24"><span class="id" title="binder">K</span></a> `{<a id="LanguageCtx0:25" class="idref" href="#LanguageCtx0:25"><span class="id" title="binder">!</span></a><a id="LanguageCtx0:25" class="idref" href="#LanguageCtx0:25"><span class="id" title="binder">LanguageCtx</span></a> <a id="LanguageCtx0:25" class="idref" href="#LanguageCtx0:25"><span class="id" title="binder">K</span></a>} <a id="E:26" class="idref" href="#E:26"><span class="id" title="binder">E</span></a> <a id="e:27" class="idref" href="#e:27"><span class="id" title="binder">e</span></a> <a id="24a55b0b220e98811e5f8dd9beb73568" class="idref" href="#24a55b0b220e98811e5f8dd9beb73568"><span class="id" title="binder">Φ</span></a> <a id="a:29" class="idref" href="#a:29"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.wp_tactics.html#gwp:22"><span class="id" title="variable">gwp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:29"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:26"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e:27"><span class="id" title="variable">e</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v:30" class="idref" href="#v:30"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#gwp:22"><span class="id" title="variable">gwp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:29"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:26"><span class="id" title="variable">E</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#K:24"><span class="id" title="variable">K</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.of_val"><span class="id" title="abbreviation">of_val</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:30"><span class="id" title="variable">v</span></a>)) <a class="idref" href="tachis.prob_lang.wp_tactics.html#24a55b0b220e98811e5f8dd9beb73568"><span class="id" title="variable">Φ</span></a> ) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#gwp:22"><span class="id" title="variable">gwp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:29"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:26"><span class="id" title="variable">E</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#K:24"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e:27"><span class="id" title="variable">e</span></a>) <a class="idref" href="tachis.prob_lang.wp_tactics.html#24a55b0b220e98811e5f8dd9beb73568"><span class="id" title="variable">Φ</span></a><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="GwpTacticsPure" class="idref" href="#GwpTacticsPure"><span class="id" title="record">GwpTacticsPure</span></a> <a id="1beca3efe5883c5b6c82a78600a11ca9" class="idref" href="#1beca3efe5883c5b6c82a78600a11ca9"><span class="id" title="binder">Σ</span></a> <a id="A:33" class="idref" href="#A:33"><span class="id" title="binder">A</span></a> (<a id="laters:34" class="idref" href="#laters:34"><span class="id" title="binder">laters</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="gwp:35" class="idref" href="#gwp:35"><span class="id" title="binder">gwp</span></a> : <a class="idref" href="tachis.prob_lang.wp_tactics.html#A:33"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.coPset.html#coPset"><span class="id" title="definition">coPset</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#1beca3efe5883c5b6c82a78600a11ca9"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#1beca3efe5883c5b6c82a78600a11ca9"><span class="id" title="variable">Σ</span></a>) := {<br/>
&nbsp;&nbsp;<a id="wptac_wp_pure_step" class="idref" href="#wptac_wp_pure_step"><span class="id" title="projection">wptac_wp_pure_step</span></a> <a id="E:37" class="idref" href="#E:37"><span class="id" title="binder">E</span></a> <a id="e1:38" class="idref" href="#e1:38"><span class="id" title="binder">e1</span></a> <a id="e2:39" class="idref" href="#e2:39"><span class="id" title="binder">e2</span></a> <a id="60c3b12fe383daa4bb5633e65ebb244b" class="idref" href="#60c3b12fe383daa4bb5633e65ebb244b"><span class="id" title="binder">φ</span></a> <a id="n:41" class="idref" href="#n:41"><span class="id" title="binder">n</span></a> <a id="65a052a1179f3a2a95c5f3ae82617b94" class="idref" href="#65a052a1179f3a2a95c5f3ae82617b94"><span class="id" title="binder">Φ</span></a> <a id="a:43" class="idref" href="#a:43"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.language.html#PureExec"><span class="id" title="class">PureExec</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#60c3b12fe383daa4bb5633e65ebb244b"><span class="id" title="variable">φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#n:41"><span class="id" title="variable">n</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e1:38"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e2:39"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.wp_tactics.html#60c3b12fe383daa4bb5633e65ebb244b"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#891f966f575d022f2a61ef1e3647eddd"><span class="id" title="notation">▷^(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#laters:34"><span class="id" title="variable">laters</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#n:41"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#891f966f575d022f2a61ef1e3647eddd"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#891f966f575d022f2a61ef1e3647eddd"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#gwp:35"><span class="id" title="variable">gwp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:43"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:37"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e2:39"><span class="id" title="variable">e2</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#65a052a1179f3a2a95c5f3ae82617b94"><span class="id" title="variable">Φ</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#891f966f575d022f2a61ef1e3647eddd"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#gwp:35"><span class="id" title="variable">gwp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:43"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:37"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e1:38"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#65a052a1179f3a2a95c5f3ae82617b94"><span class="id" title="variable">Φ</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">)</span></a>;<br/>
}.<br/>

<br/>
</div>

<div class="doc">
Heap 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a id="GwpTacticsHeap" class="idref" href="#GwpTacticsHeap"><span class="id" title="record">GwpTacticsHeap</span></a> <a id="8bac999218c391434ebfca8da64fb69b" class="idref" href="#8bac999218c391434ebfca8da64fb69b"><span class="id" title="binder">Σ</span></a> <a id="A:46" class="idref" href="#A:46"><span class="id" title="binder">A</span></a> (<a id="laters:47" class="idref" href="#laters:47"><span class="id" title="binder">laters</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="gwp:48" class="idref" href="#gwp:48"><span class="id" title="binder">gwp</span></a> : <a class="idref" href="tachis.prob_lang.wp_tactics.html#A:46"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.coPset.html#coPset"><span class="id" title="definition">coPset</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#8bac999218c391434ebfca8da64fb69b"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#8bac999218c391434ebfca8da64fb69b"><span class="id" title="variable">Σ</span></a>):= {<br/>
&nbsp;&nbsp;<a id="wptac_mapsto" class="idref" href="#wptac_mapsto"><span class="id" title="projection">wptac_mapsto</span></a> : <a class="idref" href="tachis.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.dfrac.html#dfrac"><span class="id" title="inductive">dfrac</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#8bac999218c391434ebfca8da64fb69b"><span class="id" title="variable">Σ</span></a>;<br/>
&nbsp;&nbsp;<a id="wptac_mapsto_array" class="idref" href="#wptac_mapsto_array"><span class="id" title="projection">wptac_mapsto_array</span></a> : <a class="idref" href="tachis.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.dfrac.html#dfrac"><span class="id" title="inductive">dfrac</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.val"><span class="id" title="inductive">val</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#8bac999218c391434ebfca8da64fb69b"><span class="id" title="variable">Σ</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="wptac_wp_alloc" class="idref" href="#wptac_wp_alloc"><span class="id" title="projection">wptac_wp_alloc</span></a> <a id="E:52" class="idref" href="#E:52"><span class="id" title="binder">E</span></a> <a id="v:53" class="idref" href="#v:53"><span class="id" title="binder">v</span></a> <a id="a:54" class="idref" href="#a:54"><span class="id" title="binder">a</span></a> <a id="5cba7004d58c60b6de2180ca4e67d07a" class="idref" href="#5cba7004d58c60b6de2180ca4e67d07a"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#92d0bdcb18f9d1493c442cde9da26f21"><span class="id" title="notation">▷?</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#laters:47"><span class="id" title="variable">laters</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#92d0bdcb18f9d1493c442cde9da26f21"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="l:56" class="idref" href="#l:56"><span class="id" title="binder">l</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_mapsto:50"><span class="id" title="method">wptac_mapsto</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#l:56"><span class="id" title="variable">l</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.dfrac.html#DfracOwn"><span class="id" title="constructor">DfracOwn</span></a> 1) <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:53"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#5cba7004d58c60b6de2180ca4e67d07a"><span class="id" title="variable">Φ</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitV"><span class="id" title="constructor">LitV</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitLoc"><span class="id" title="constructor">LitLoc</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#l:56"><span class="id" title="variable">l</span></a>))%<span class="id" title="var">V</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#92d0bdcb18f9d1493c442cde9da26f21"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.wp_tactics.html#gwp:48"><span class="id" title="variable">gwp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:54"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:52"><span class="id" title="variable">E</span></a> (<a class="idref" href="tachis.prob_lang.notation.html#Alloc"><span class="id" title="abbreviation">Alloc</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:53"><span class="id" title="variable">v</span></a>)) <a class="idref" href="tachis.prob_lang.wp_tactics.html#5cba7004d58c60b6de2180ca4e67d07a"><span class="id" title="variable">Φ</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="wptac_wp_allocN" class="idref" href="#wptac_wp_allocN"><span class="id" title="projection">wptac_wp_allocN</span></a> <a id="E:58" class="idref" href="#E:58"><span class="id" title="binder">E</span></a> <a id="v:59" class="idref" href="#v:59"><span class="id" title="binder">v</span></a> <a id="n:60" class="idref" href="#n:60"><span class="id" title="binder">n</span></a> <a id="a:61" class="idref" href="#a:61"><span class="id" title="binder">a</span></a> <a id="071e8b4be4ab41d34ad0a9516fe03a12" class="idref" href="#071e8b4be4ab41d34ad0a9516fe03a12"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#n:60"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#92d0bdcb18f9d1493c442cde9da26f21"><span class="id" title="notation">▷?</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#laters:47"><span class="id" title="variable">laters</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#92d0bdcb18f9d1493c442cde9da26f21"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="l:63" class="idref" href="#l:63"><span class="id" title="binder">l</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_mapsto_array:51"><span class="id" title="method">wptac_mapsto_array</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#l:63"><span class="id" title="variable">l</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.dfrac.html#DfracOwn"><span class="id" title="constructor">DfracOwn</span></a> 1) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#replicate"><span class="id" title="definition">replicate</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#n:60"><span class="id" title="variable">n</span></a>) <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:59"><span class="id" title="variable">v</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.wp_tactics.html#071e8b4be4ab41d34ad0a9516fe03a12"><span class="id" title="variable">Φ</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitV"><span class="id" title="constructor">LitV</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitLoc"><span class="id" title="constructor">LitLoc</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#l:63"><span class="id" title="variable">l</span></a>))%<span class="id" title="var">V</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#92d0bdcb18f9d1493c442cde9da26f21"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.wp_tactics.html#gwp:48"><span class="id" title="variable">gwp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:61"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:58"><span class="id" title="variable">E</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.AllocN"><span class="id" title="constructor">AllocN</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitV"><span class="id" title="constructor">LitV</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitInt"><span class="id" title="constructor">LitInt</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#n:60"><span class="id" title="variable">n</span></a>) (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:59"><span class="id" title="variable">v</span></a>)) <a class="idref" href="tachis.prob_lang.wp_tactics.html#071e8b4be4ab41d34ad0a9516fe03a12"><span class="id" title="variable">Φ</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="wptac_wp_load" class="idref" href="#wptac_wp_load"><span class="id" title="projection">wptac_wp_load</span></a> <a id="E:65" class="idref" href="#E:65"><span class="id" title="binder">E</span></a> <a id="v:66" class="idref" href="#v:66"><span class="id" title="binder">v</span></a> <a id="l:67" class="idref" href="#l:67"><span class="id" title="binder">l</span></a> <a id="dq:68" class="idref" href="#dq:68"><span class="id" title="binder">dq</span></a> <a id="a:69" class="idref" href="#a:69"><span class="id" title="binder">a</span></a> <a id="732cb7b8f82dc7819c643a2f8948d6e9" class="idref" href="#732cb7b8f82dc7819c643a2f8948d6e9"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#1ab064278224e8da215d0768a08713fe"><span class="id" title="notation">▷</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_mapsto:50"><span class="id" title="method">wptac_mapsto</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#l:67"><span class="id" title="variable">l</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#dq:68"><span class="id" title="variable">dq</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:66"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#92d0bdcb18f9d1493c442cde9da26f21"><span class="id" title="notation">▷?</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#laters:47"><span class="id" title="variable">laters</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#92d0bdcb18f9d1493c442cde9da26f21"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_mapsto:50"><span class="id" title="method">wptac_mapsto</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#l:67"><span class="id" title="variable">l</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#dq:68"><span class="id" title="variable">dq</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:66"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#732cb7b8f82dc7819c643a2f8948d6e9"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:66"><span class="id" title="variable">v</span></a>%<span class="id" title="var">V</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#92d0bdcb18f9d1493c442cde9da26f21"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.wp_tactics.html#gwp:48"><span class="id" title="variable">gwp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:69"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:65"><span class="id" title="variable">E</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Load"><span class="id" title="constructor">Load</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitV"><span class="id" title="constructor">LitV</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitLoc"><span class="id" title="constructor">LitLoc</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#l:67"><span class="id" title="variable">l</span></a>)) <a class="idref" href="tachis.prob_lang.wp_tactics.html#732cb7b8f82dc7819c643a2f8948d6e9"><span class="id" title="variable">Φ</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="wptac_wp_store" class="idref" href="#wptac_wp_store"><span class="id" title="projection">wptac_wp_store</span></a> <a id="E:72" class="idref" href="#E:72"><span class="id" title="binder">E</span></a> <a id="v:73" class="idref" href="#v:73"><span class="id" title="binder">v</span></a> <a id="v':74" class="idref" href="#v':74"><span class="id" title="binder">v'</span></a> <a id="l:75" class="idref" href="#l:75"><span class="id" title="binder">l</span></a> <a id="a:76" class="idref" href="#a:76"><span class="id" title="binder">a</span></a> <a id="35a691b8a9949b7b1d8dc3e120bf6086" class="idref" href="#35a691b8a9949b7b1d8dc3e120bf6086"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#1ab064278224e8da215d0768a08713fe"><span class="id" title="notation">▷</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_mapsto:50"><span class="id" title="method">wptac_mapsto</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#l:75"><span class="id" title="variable">l</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.dfrac.html#DfracOwn"><span class="id" title="constructor">DfracOwn</span></a> 1) <a class="idref" href="tachis.prob_lang.wp_tactics.html#v':74"><span class="id" title="variable">v'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#92d0bdcb18f9d1493c442cde9da26f21"><span class="id" title="notation">▷?</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#laters:47"><span class="id" title="variable">laters</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#92d0bdcb18f9d1493c442cde9da26f21"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_mapsto:50"><span class="id" title="method">wptac_mapsto</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#l:75"><span class="id" title="variable">l</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.dfrac.html#DfracOwn"><span class="id" title="constructor">DfracOwn</span></a> 1) <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:73"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#35a691b8a9949b7b1d8dc3e120bf6086"><span class="id" title="variable">Φ</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitV"><span class="id" title="constructor">LitV</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitUnit"><span class="id" title="constructor">LitUnit</span></a>))%<span class="id" title="var">V</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#92d0bdcb18f9d1493c442cde9da26f21"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.wp_tactics.html#gwp:48"><span class="id" title="variable">gwp</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:76"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:72"><span class="id" title="variable">E</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Store"><span class="id" title="constructor">Store</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitV"><span class="id" title="constructor">LitV</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitLoc"><span class="id" title="constructor">LitLoc</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#l:75"><span class="id" title="variable">l</span></a>) (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:73"><span class="id" title="variable">v</span></a>)) <a class="idref" href="tachis.prob_lang.wp_tactics.html#35a691b8a9949b7b1d8dc3e120bf6086"><span class="id" title="variable">Φ</span></a>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="wp_tactics" class="idref" href="#wp_tactics"><span class="id" title="section">wp_tactics</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:84" class="idref" href="#H:84"><span class="id" title="binder">GwpTacticsBase</span></a> <a id="f5fbe4214aa113f089a67eca0c1316e1" class="idref" href="#f5fbe4214aa113f089a67eca0c1316e1"><span class="id" title="binder"><span id="H:84" class="id">Σ</span></span></a> <a id="A:80" class="idref" href="#A:80"><span class="id" title="binder"><span id="H:84" class="id">A</span></span></a> <a id="hlc:81" class="idref" href="#hlc:81"><span class="id" title="binder"><span id="H:84" class="id">hlc</span></span></a> <a id="gwp:83" class="idref" href="#gwp:83"><span class="id" title="binder"><span id="H:84" class="id">gwp</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Notation</span> <a id="a3c2583b01c460620d3a359385a8eb22" class="idref" href="#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">&quot;</span></a>'WP' e @ s ; E {{ Φ } }" := (<a class="idref" href="tachis.prob_lang.wp_tactics.html#wp_tactics.gwp"><span class="id" title="variable">gwp</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span>%<span class="id" title="var">E</span> <span class="id" title="var">Φ</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="var">e</span>, <span class="id" title="var">Φ</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">bi_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Notation</span> <a id="61d3b60a4fbc0809847a7f35ef05ffde" class="idref" href="#61d3b60a4fbc0809847a7f35ef05ffde"><span class="id" title="notation">&quot;</span></a>'WP' e @ s ; E {{ v , Q } }" := (<a class="idref" href="tachis.prob_lang.wp_tactics.html#wp_tactics.gwp"><span class="id" title="variable">gwp</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span>%<span class="id" title="var">E</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v:85" class="idref" href="#v:85"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">Q</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="var">e</span>, <span class="id" title="var">Q</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">format</span> "'[hv' 'WP'  e  '/' @  '[' s ;  '/' E  ']' '/' {{  '[' v ,  '/' Q  ']' } } ']'") : <span class="id" title="var">bi_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tac_wp_expr_eval" class="idref" href="#tac_wp_expr_eval"><span class="id" title="lemma">tac_wp_expr_eval</span></a> <a id="236388f105d074056f3e462b4c293839" class="idref" href="#236388f105d074056f3e462b4c293839"><span class="id" title="binder">Δ</span></a> <a id="a:87" class="idref" href="#a:87"><span class="id" title="binder">a</span></a> <a id="E:88" class="idref" href="#E:88"><span class="id" title="binder">E</span></a> <a id="e73a483417d6d52b4d15f2d636983ba4" class="idref" href="#e73a483417d6d52b4d15f2d636983ba4"><span class="id" title="binder">Φ</span></a> <a id="e:90" class="idref" href="#e:90"><span class="id" title="binder">e</span></a> <a id="e':91" class="idref" href="#e':91"><span class="id" title="binder">e'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="e'':92" class="idref" href="#e'':92"><span class="id" title="binder">e''</span></a>:=<a class="idref" href="tachis.prob_lang.wp_tactics.html#e':91"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e:90"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e'':92"><span class="id" title="variable">e''</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#236388f105d074056f3e462b4c293839"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">WP</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e':91"><span class="id" title="variable">e'</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">@</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:87"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:88"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">{{</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e73a483417d6d52b4d15f2d636983ba4"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">}}</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#236388f105d074056f3e462b4c293839"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">WP</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e:90"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">@</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:87"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:88"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">{{</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e73a483417d6d52b4d15f2d636983ba4"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> -&gt;. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tac_wp_pure_later" class="idref" href="#tac_wp_pure_later"><span class="id" title="lemma">tac_wp_pure_later</span></a> <a id="laters:93" class="idref" href="#laters:93"><span class="id" title="binder">laters</span></a> `{<a id="GwpTacticsPure0:94" class="idref" href="#GwpTacticsPure0:94"><span class="id" title="binder">!</span></a><a id="GwpTacticsPure0:94" class="idref" href="#GwpTacticsPure0:94"><span class="id" title="binder">GwpTacticsPure</span></a> <a id="GwpTacticsPure0:94" class="idref" href="#GwpTacticsPure0:94"><span class="id" title="binder">Σ</span></a> <a id="GwpTacticsPure0:94" class="idref" href="#GwpTacticsPure0:94"><span class="id" title="binder">A</span></a> <a id="GwpTacticsPure0:94" class="idref" href="#GwpTacticsPure0:94"><span class="id" title="binder">laters</span></a> <a id="GwpTacticsPure0:94" class="idref" href="#GwpTacticsPure0:94"><span class="id" title="binder">gwp</span></a>} <a id="b482e8a149ac9cd0a1f9e3e4134dfe7d" class="idref" href="#b482e8a149ac9cd0a1f9e3e4134dfe7d"><span class="id" title="binder">Δ</span></a> <a id="4f2cd9fcac6555f4828b561a04cd4611" class="idref" href="#4f2cd9fcac6555f4828b561a04cd4611"><span class="id" title="binder">Δ'</span></a> <a id="E:97" class="idref" href="#E:97"><span class="id" title="binder">E</span></a> <a id="K:98" class="idref" href="#K:98"><span class="id" title="binder">K</span></a> <a id="e1:99" class="idref" href="#e1:99"><span class="id" title="binder">e1</span></a> <a id="e2:100" class="idref" href="#e2:100"><span class="id" title="binder">e2</span></a> <a id="87154c36829ecb25cae9c00e17fdff89" class="idref" href="#87154c36829ecb25cae9c00e17fdff89"><span class="id" title="binder">φ</span></a> <a id="n:102" class="idref" href="#n:102"><span class="id" title="binder">n</span></a> <a id="480d97dbc43944b9643869d7380c1ae5" class="idref" href="#480d97dbc43944b9643869d7380c1ae5"><span class="id" title="binder">Φ</span></a> <a id="a:104" class="idref" href="#a:104"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.common.language.html#PureExec"><span class="id" title="class">PureExec</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#87154c36829ecb25cae9c00e17fdff89"><span class="id" title="variable">φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#n:102"><span class="id" title="variable">n</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e1:99"><span class="id" title="variable">e1</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e2:100"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.wp_tactics.html#87154c36829ecb25cae9c00e17fdff89"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#MaybeIntoLaterNEnvs"><span class="id" title="class">MaybeIntoLaterNEnvs</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#laters:93"><span class="id" title="variable">laters</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#n:102"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <a class="idref" href="tachis.prob_lang.wp_tactics.html#b482e8a149ac9cd0a1f9e3e4134dfe7d"><span class="id" title="variable">Δ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4f2cd9fcac6555f4828b561a04cd4611"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4f2cd9fcac6555f4828b561a04cd4611"><span class="id" title="variable">Δ'</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">WP</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#K:98"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e2:100"><span class="id" title="variable">e2</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">@</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:104"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:97"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">{{</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#480d97dbc43944b9643869d7380c1ae5"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">}}</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#b482e8a149ac9cd0a1f9e3e4134dfe7d"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">WP</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.common.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#K:98"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e1:99"><span class="id" title="variable">e1</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">@</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:104"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:97"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">{{</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#480d97dbc43944b9643869d7380c1ae5"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails_unseal"><span class="id" title="definition">envs_entails_unseal</span></a>=&gt; ??? <span class="id" title="var">HΔ'</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#into_laterN_env_sound"><span class="id" title="lemma">into_laterN_env_sound</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;want&nbsp;<span class="inlinecode"><span class="id" title="var">pure_exec_fill</span></span>&nbsp;to&nbsp;be&nbsp;available&nbsp;to&nbsp;TC&nbsp;search&nbsp;locally.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="tachis.common.ectx_language.html#pure_exec_fill"><span class="id" title="lemma">pure_exec_fill</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HΔ'</span> -<a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_wp_pure_step"><span class="id" title="method">wptac_wp_pure_step</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tac_wp_value_nofupd" class="idref" href="#tac_wp_value_nofupd"><span class="id" title="lemma">tac_wp_value_nofupd</span></a> <a id="f9984910b3dfe016133ce06768010329" class="idref" href="#f9984910b3dfe016133ce06768010329"><span class="id" title="binder">Δ</span></a> <a id="E:106" class="idref" href="#E:106"><span class="id" title="binder">E</span></a> <a id="8e8a7418049e67934eac83ae0ccecb41" class="idref" href="#8e8a7418049e67934eac83ae0ccecb41"><span class="id" title="binder">Φ</span></a> <a id="v:108" class="idref" href="#v:108"><span class="id" title="binder">v</span></a> <a id="a:109" class="idref" href="#a:109"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#f9984910b3dfe016133ce06768010329"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#8e8a7418049e67934eac83ae0ccecb41"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:108"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#f9984910b3dfe016133ce06768010329"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">WP</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.lang.html#prob_lang.of_val"><span class="id" title="abbreviation">of_val</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:108"><span class="id" title="variable">v</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">@</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:109"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:106"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">{{</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#8e8a7418049e67934eac83ae0ccecb41"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails_unseal"><span class="id" title="definition">envs_entails_unseal</span></a>=&gt; -&gt;. <span class="id" title="tactic">apply</span> <a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_wp_value"><span class="id" title="method">wptac_wp_value</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tac_wp_value'" class="idref" href="#tac_wp_value'"><span class="id" title="lemma">tac_wp_value'</span></a> <a id="e9c4b5cb3a4378c615c6d4bdb385a746" class="idref" href="#e9c4b5cb3a4378c615c6d4bdb385a746"><span class="id" title="binder">Δ</span></a> <a id="E:111" class="idref" href="#E:111"><span class="id" title="binder">E</span></a> <a id="fba7ef62298e1c26cbc585b1f038c0fa" class="idref" href="#fba7ef62298e1c26cbc585b1f038c0fa"><span class="id" title="binder">Φ</span></a> <a id="v:113" class="idref" href="#v:113"><span class="id" title="binder">v</span></a> <a id="a:114" class="idref" href="#a:114"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e9c4b5cb3a4378c615c6d4bdb385a746"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#E:111"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#fba7ef62298e1c26cbc585b1f038c0fa"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:113"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e9c4b5cb3a4378c615c6d4bdb385a746"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">WP</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.lang.html#prob_lang.of_val"><span class="id" title="abbreviation">of_val</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:113"><span class="id" title="variable">v</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">)</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">@</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:114"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:111"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">{{</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#fba7ef62298e1c26cbc585b1f038c0fa"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a3c2583b01c460620d3a359385a8eb22"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails_unseal"><span class="id" title="definition">envs_entails_unseal</span></a>=&gt; -&gt;. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_wp_fupd"><span class="id" title="method">wptac_wp_fupd</span></a> -<a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_wp_value"><span class="id" title="method">wptac_wp_value</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob_lang.wp_tactics.html#wp_tactics"><span class="id" title="section">wp_tactics</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="wp_bind_tactics" class="idref" href="#wp_bind_tactics"><span class="id" title="section">wp_bind_tactics</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:120" class="idref" href="#H:120"><span class="id" title="binder">GwpTacticsBind</span></a> <a id="4ab8af35b8f4bf9e0a1f4a462962d99a" class="idref" href="#4ab8af35b8f4bf9e0a1f4a462962d99a"><span class="id" title="binder"><span id="H:120" class="id">Σ</span></span></a> <a id="A:116" class="idref" href="#A:116"><span class="id" title="binder"><span id="H:120" class="id">A</span></span></a> <a id="hlc:117" class="idref" href="#hlc:117"><span class="id" title="binder"><span id="H:120" class="id">hlc</span></span></a> <a id="gwp:119" class="idref" href="#gwp:119"><span class="id" title="binder"><span id="H:120" class="id">gwp</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Notation</span> <a id="9ff15d9c5572a880009467e65c941855" class="idref" href="#9ff15d9c5572a880009467e65c941855"><span class="id" title="notation">&quot;</span></a>'WP' e @ s ; E {{ Φ } }" := (<a class="idref" href="tachis.prob_lang.wp_tactics.html#wp_bind_tactics.gwp"><span class="id" title="variable">gwp</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span>%<span class="id" title="var">E</span> <span class="id" title="var">Φ</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="var">e</span>, <span class="id" title="var">Φ</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">bi_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Notation</span> <a id="afbf17735a49a9f5413aa97346bd9e6b" class="idref" href="#afbf17735a49a9f5413aa97346bd9e6b"><span class="id" title="notation">&quot;</span></a>'WP' e @ s ; E {{ v , Q } }" := (<a class="idref" href="tachis.prob_lang.wp_tactics.html#wp_bind_tactics.gwp"><span class="id" title="variable">gwp</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span>%<span class="id" title="var">E</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v:121" class="idref" href="#v:121"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">Q</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="var">e</span>, <span class="id" title="var">Q</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">format</span> "'[hv' 'WP'  e  '/' @  '[' s ;  '/' E  ']' '/' {{  '[' v ,  '/' Q  ']' } } ']'") : <span class="id" title="var">bi_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tac_wp_bind" class="idref" href="#tac_wp_bind"><span class="id" title="lemma">tac_wp_bind</span></a> <a id="K:122" class="idref" href="#K:122"><span class="id" title="binder">K</span></a> <a id="bbabf351a4e1160eb2b905aeacd371f5" class="idref" href="#bbabf351a4e1160eb2b905aeacd371f5"><span class="id" title="binder">Δ</span></a> <a id="E:124" class="idref" href="#E:124"><span class="id" title="binder">E</span></a> <a id="6cb425a9d593a0283b54128c368b4d51" class="idref" href="#6cb425a9d593a0283b54128c368b4d51"><span class="id" title="binder">Φ</span></a> <a id="e:126" class="idref" href="#e:126"><span class="id" title="binder">e</span></a> <a id="f:127" class="idref" href="#f:127"><span class="id" title="binder">f</span></a> <a id="a:128" class="idref" href="#a:128"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="tachis.prob_lang.wp_tactics.html#f:127"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="e:129" class="idref" href="#e:129"><span class="id" title="binder">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.common.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#K:122"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e:129"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="comment">(*&nbsp;as&nbsp;an&nbsp;eta&nbsp;expanded&nbsp;hypothesis&nbsp;so&nbsp;that&nbsp;we&nbsp;can&nbsp;`simpl`&nbsp;it&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#bbabf351a4e1160eb2b905aeacd371f5"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#afbf17735a49a9f5413aa97346bd9e6b"><span class="id" title="notation">WP</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e:126"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#afbf17735a49a9f5413aa97346bd9e6b"><span class="id" title="notation">@</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:128"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#afbf17735a49a9f5413aa97346bd9e6b"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:124"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#afbf17735a49a9f5413aa97346bd9e6b"><span class="id" title="notation">{{</span></a> <a id="v:130" class="idref" href="#v:130"><span class="id" title="binder">v</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#afbf17735a49a9f5413aa97346bd9e6b"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#9ff15d9c5572a880009467e65c941855"><span class="id" title="notation">WP</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#f:127"><span class="id" title="variable">f</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:130"><span class="id" title="variable">v</span></a>) <a class="idref" href="tachis.prob_lang.wp_tactics.html#9ff15d9c5572a880009467e65c941855"><span class="id" title="notation">@</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:128"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#9ff15d9c5572a880009467e65c941855"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:124"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#9ff15d9c5572a880009467e65c941855"><span class="id" title="notation">{{</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#6cb425a9d593a0283b54128c368b4d51"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#9ff15d9c5572a880009467e65c941855"><span class="id" title="notation">}}</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#afbf17735a49a9f5413aa97346bd9e6b"><span class="id" title="notation">}}</span></a>)%<span class="id" title="var">I</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#bbabf351a4e1160eb2b905aeacd371f5"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#9ff15d9c5572a880009467e65c941855"><span class="id" title="notation">WP</span></a> <a class="idref" href="tachis.common.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#K:122"><span class="id" title="variable">K</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#e:126"><span class="id" title="variable">e</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#9ff15d9c5572a880009467e65c941855"><span class="id" title="notation">@</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:128"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#9ff15d9c5572a880009467e65c941855"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:124"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#9ff15d9c5572a880009467e65c941855"><span class="id" title="notation">{{</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#6cb425a9d593a0283b54128c368b4d51"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#9ff15d9c5572a880009467e65c941855"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails_unseal"><span class="id" title="definition">envs_entails_unseal</span></a>=&gt; -&gt; -&gt;. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_wp_bind"><span class="id" title="method">wptac_wp_bind</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob_lang.wp_tactics.html#wp_bind_tactics"><span class="id" title="section">wp_bind_tactics</span></a>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_expr_eval" <span class="id" title="var">tactic3</span>(<span class="id" title="var">t</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">iStartProof</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.bi.weakestpre.html#wp"><span class="id" title="method">wp</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">E</span> ?<span class="id" title="var">e</span> ?<span class="id" title="var">Q</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">notypeclasses</span> <span class="id" title="tactic">refine</span> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_expr_eval"><span class="id" title="lemma">tac_wp_expr_eval</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> );<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>|<span class="id" title="keyword">let</span> <span class="id" title="var">x</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">x</span>; <span class="id" title="var">notypeclasses</span> <span class="id" title="tactic">refine</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>|]<br/>
&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.bi.weakestpre.html#twp"><span class="id" title="method">twp</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">E</span> ?<span class="id" title="var">e</span> ?<span class="id" title="var">Q</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">notypeclasses</span> <span class="id" title="tactic">refine</span> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_expr_eval"><span class="id" title="lemma">tac_wp_expr_eval</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> );<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>|<span class="id" title="keyword">let</span> <span class="id" title="var">x</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">x</span>; <span class="id" title="var">notypeclasses</span> <span class="id" title="tactic">refine</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>|]<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> "wp_expr_eval: not a 'wp'"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">wp_expr_simpl</span> := <span class="id" title="var">wp_expr_eval</span> <span class="id" title="tactic">simpl</span>.<br/>

<br/>
</div>

<div class="doc">
Simplify the goal if it is <span class="inlinecode"><a class="idref" href="tachis.bi.weakestpre.html#wp"><span class="id" title="projection">wp</span></a></span> of a value.
  If the postcondition already allows a fupd, do not add a second one.
  But otherwise, *do* add a fupd. This ensures that all the lemmas applied
  here are bidirectional, so we never will make a goal unprovable. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">wp_value_head</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.bi.weakestpre.html#wp"><span class="id" title="method">wp</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">E</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.of_val"><span class="id" title="abbreviation">of_val</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd"><span class="id" title="definition">fupd</span></a> ?<span class="id" title="var">E</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_value_nofupd"><span class="id" title="lemma">tac_wp_value_nofupd</span></a><br/>
&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.bi.weakestpre.html#wp"><span class="id" title="method">wp</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">E</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.of_val"><span class="id" title="abbreviation">of_val</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.bi.weakestpre.html#wp"><span class="id" title="method">wp</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">E</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_value_nofupd"><span class="id" title="lemma">tac_wp_value_nofupd</span></a><br/>
&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.bi.weakestpre.html#wp"><span class="id" title="method">wp</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">E</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.of_val"><span class="id" title="abbreviation">of_val</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_value'"><span class="id" title="lemma">tac_wp_value'</span></a><br/>
&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.bi.weakestpre.html#twp"><span class="id" title="method">twp</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">E</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.of_val"><span class="id" title="abbreviation">of_val</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd"><span class="id" title="definition">fupd</span></a> ?<span class="id" title="var">E</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_value_nofupd"><span class="id" title="lemma">tac_wp_value_nofupd</span></a><br/>
&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.bi.weakestpre.html#twp"><span class="id" title="method">twp</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">E</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.of_val"><span class="id" title="abbreviation">of_val</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.bi.weakestpre.html#twp"><span class="id" title="method">twp</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">E</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_value_nofupd"><span class="id" title="lemma">tac_wp_value_nofupd</span></a><br/>
&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.bi.weakestpre.html#twp"><span class="id" title="method">twp</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">E</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.of_val"><span class="id" title="abbreviation">of_val</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_value'"><span class="id" title="lemma">tac_wp_value'</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">wp_finish</span> :=<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;simplify&nbsp;occurences&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">wptac_mapsto</span></span>&nbsp;projections&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?[<a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_mapsto"><span class="id" title="method">wptac_mapsto</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]/=;<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;simplify&nbsp;occurences&nbsp;of&nbsp;subst/fill&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">wp_expr_simpl</span>;<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;in&nbsp;case&nbsp;we&nbsp;have&nbsp;reached&nbsp;a&nbsp;value,&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;wp&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">wp_value_head</span>;<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;prettify&nbsp;▷s&nbsp;caused&nbsp;by&nbsp;<span class="inlinecode"><span class="id" title="var">MaybeIntoLaterNEnvs</span></span>&nbsp;and&nbsp;λs&nbsp;caused&nbsp;by&nbsp;wp_value&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">pm_prettify</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_vals_compare_safe</span> :=<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;first&nbsp;branch&nbsp;is&nbsp;for&nbsp;when&nbsp;we&nbsp;have&nbsp;<span class="inlinecode"><span class="id" title="var">vals_compare_safe</span></span>&nbsp;in&nbsp;the&nbsp;context.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;other&nbsp;two&nbsp;branches&nbsp;are&nbsp;for&nbsp;when&nbsp;either&nbsp;one&nbsp;of&nbsp;the&nbsp;branches&nbsp;reduces&nbsp;to<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">True</span></span>&nbsp;or&nbsp;we&nbsp;have&nbsp;it&nbsp;in&nbsp;the&nbsp;context.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">fast_done</span> || (<span class="id" title="tactic">left</span>; <span class="id" title="var">fast_done</span>) || (<span class="id" title="tactic">right</span>; <span class="id" title="var">fast_done</span>).<br/>

<br/>
</div>

<div class="doc">
The argument <span class="inlinecode"><span class="id" title="var">efoc</span></span> can be used to specify the construct that should be
reduced. For example, you can write <span class="inlinecode"><span class="id" title="var">wp_pure</span></span> <span class="inlinecode">(<span class="id" title="var">EIf</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span>)</span>, which will search
for an <span class="inlinecode"><span class="id" title="var">EIf</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> in the expression, and reduce it.

<div class="paragraph"> </div>

The use of <span class="inlinecode"><span class="id" title="var">open_constr</span></span> in this tactic is essential. It will convert all holes
(i.e. <span class="inlinecode"><span class="id" title="var">_</span></span>s) into evars, that later get unified when an occurences is found
(see <span class="inlinecode"><span class="id" title="var">unify</span></span> <span class="inlinecode"><span class="id" title="var">e'</span></span> <span class="inlinecode"><span class="id" title="var">efoc</span></span> in the code below). 
</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "wp_pure" <span class="id" title="var">open_constr</span>(<span class="id" title="var">efoc</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">iStartProof</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.bi.weakestpre.html#wp"><span class="id" title="method">wp</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">E</span> ?<span class="id" title="var">e</span> ?<span class="id" title="var">Q</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">e</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">e'</span> <span class="id" title="var">efoc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_pure_later"><span class="id" title="lemma">tac_wp_pure_later</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">tc_solve</span>                       <span class="comment">(*&nbsp;PureExec&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">try</span> <span class="id" title="var">solve_vals_compare_safe</span>    <span class="comment">(*&nbsp;The&nbsp;pure&nbsp;condition&nbsp;for&nbsp;PureExec&nbsp;--&nbsp;handles&nbsp;trivial&nbsp;goals,&nbsp;including&nbsp;<span class="inlinecode"><span class="id" title="var">vals_compare_safe</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">tc_solve</span>                       <span class="comment">(*&nbsp;IntoLaters&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">wp_finish</span>                      <span class="comment">(*&nbsp;new&nbsp;goal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id" title="tactic">fail</span> "wp_pure: cannot find" <span class="id" title="var">efoc</span> "in" <span class="id" title="var">e</span> "or" <span class="id" title="var">efoc</span> "is not a redex"<br/>
&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.bi.weakestpre.html#twp"><span class="id" title="method">twp</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">E</span> ?<span class="id" title="var">e</span> ?<span class="id" title="var">Q</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">e</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">e'</span> <span class="id" title="var">efoc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_pure_later"><span class="id" title="lemma">tac_wp_pure_later</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">tc_solve</span>                       <span class="comment">(*&nbsp;PureExec&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">try</span> <span class="id" title="var">solve_vals_compare_safe</span>    <span class="comment">(*&nbsp;The&nbsp;pure&nbsp;condition&nbsp;for&nbsp;PureExec&nbsp;--&nbsp;handles&nbsp;trivial&nbsp;goals,&nbsp;including&nbsp;<span class="inlinecode"><span class="id" title="var">vals_compare_safe</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">tc_solve</span>                       <span class="comment">(*&nbsp;IntoLaters&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">wp_finish</span>                      <span class="comment">(*&nbsp;new&nbsp;goal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id" title="tactic">fail</span> "Hello! wp_pure: cannot find" <span class="id" title="var">efoc</span> "in" <span class="id" title="var">e</span> "or" <span class="id" title="var">efoc</span> "is not a redex"<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> "wp_pure: not a 'wp'"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_pure" :=<br/>
&nbsp;&nbsp;<span class="id" title="var">wp_pure</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">wp_pures</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">iStartProof</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">first</span> [ <span class="comment">(*&nbsp;The&nbsp;`;<span class="inlinecode"></span>`&nbsp;makes&nbsp;sure&nbsp;that&nbsp;no&nbsp;side-condition&nbsp;magically&nbsp;spawns.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">progress</span> <span class="id" title="tactic">repeat</span> (<span class="id" title="var">wp_pure</span> <span class="id" title="var">_</span>; [])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">wp_finish</span> <span class="comment">(*&nbsp;In&nbsp;case&nbsp;wp_pure&nbsp;never&nbsp;ran,&nbsp;make&nbsp;sure&nbsp;we&nbsp;do&nbsp;the&nbsp;usual&nbsp;cleanup.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;].<br/>

<br/>
</div>

<div class="doc">
Unlike <span class="inlinecode"><span class="id" title="var">wp_pures</span></span>, the tactics <span class="inlinecode"><span class="id" title="var">wp_rec</span></span> and <span class="inlinecode"><span class="id" title="var">wp_lam</span></span> should also reduce
    lambdas/recs that are hidden behind a definition, i.e. they should use
    <span class="inlinecode"><a class="idref" href="tachis.prob_lang.class_instances.html#AsRecV_recv"><span class="id" title="definition">AsRecV_recv</span></a></span> as a proper instance instead of a <span class="inlinecode"><span class="id" title="keyword">Hint</span></span> <span class="inlinecode"><span class="id" title="keyword">Extern</span></span>.

<div class="paragraph"> </div>

    We achieve this by putting <span class="inlinecode"><a class="idref" href="tachis.prob_lang.class_instances.html#AsRecV_recv"><span class="id" title="definition">AsRecV_recv</span></a></span> in the current environment so that it
    can be used as an instance by the typeclass resolution system. We then perform
    the reduction, and finally we clear this new hypothesis. 
</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "wp_rec" :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> := <a class="idref" href="tachis.prob_lang.class_instances.html#AsRecV_recv"><span class="id" title="definition">AsRecV_recv</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="var">wp_pure</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.App"><span class="id" title="constructor">App</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_if" := <span class="id" title="var">wp_pure</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.If"><span class="id" title="constructor">If</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_if_true" := <span class="id" title="var">wp_pure</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.If"><span class="id" title="constructor">If</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitV"><span class="id" title="constructor">LitV</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitBool"><span class="id" title="constructor">LitBool</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>)) <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_if_false" := <span class="id" title="var">wp_pure</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.If"><span class="id" title="constructor">If</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitV"><span class="id" title="constructor">LitV</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitBool"><span class="id" title="constructor">LitBool</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)) <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_unop" := <span class="id" title="var">wp_pure</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.UnOp"><span class="id" title="constructor">UnOp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_binop" := <span class="id" title="var">wp_pure</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.BinOp"><span class="id" title="constructor">BinOp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_op" := <span class="id" title="var">wp_unop</span> || <span class="id" title="var">wp_binop</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_lam" := <span class="id" title="var">wp_rec</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_let" := <span class="id" title="var">wp_pure</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Rec"><span class="id" title="constructor">Rec</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.binders.html#BAnon"><span class="id" title="constructor">BAnon</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.binders.html#BNamed"><span class="id" title="constructor">BNamed</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>); <span class="id" title="var">wp_lam</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_seq" := <span class="id" title="var">wp_pure</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Rec"><span class="id" title="constructor">Rec</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.binders.html#BAnon"><span class="id" title="constructor">BAnon</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.binders.html#BAnon"><span class="id" title="constructor">BAnon</span></a> <span class="id" title="var">_</span>); <span class="id" title="var">wp_lam</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_proj" := <span class="id" title="var">wp_pure</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Fst"><span class="id" title="constructor">Fst</span></a> <span class="id" title="var">_</span>) || <span class="id" title="var">wp_pure</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Snd"><span class="id" title="constructor">Snd</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_case" := <span class="id" title="var">wp_pure</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Case"><span class="id" title="constructor">Case</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_match" := <span class="id" title="var">wp_case</span>; <span class="id" title="var">wp_pure</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Rec"><span class="id" title="constructor">Rec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">wp_lam</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_inj" := <span class="id" title="var">wp_pure</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.InjL"><span class="id" title="constructor">InjL</span></a> <span class="id" title="var">_</span>) || <span class="id" title="var">wp_pure</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.InjR"><span class="id" title="constructor">InjR</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_pair" := <span class="id" title="var">wp_pure</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Pair"><span class="id" title="constructor">Pair</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_closure" := <span class="id" title="var">wp_pure</span> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Rec"><span class="id" title="constructor">Rec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">wp_bind_core</span> <span class="id" title="var">K</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="tactic">eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">K</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_bind"><span class="id" title="lemma">tac_wp_bind</span></a> <span class="id" title="var">K</span>); [<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>|<span class="id" title="var">reduction.pm_prettify</span>]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_bind" <span class="id" title="var">open_constr</span>(<span class="id" title="var">efoc</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">iStartProof</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.bi.weakestpre.html#wp"><span class="id" title="method">wp</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">E</span> ?<span class="id" title="var">e</span> ?<span class="id" title="var">Q</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span> [ <span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt; <span class="id" title="var">unify</span> <span class="id" title="var">e'</span> <span class="id" title="var">efoc</span>; <span class="id" title="var">wp_bind_core</span> <span class="id" title="var">K</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">fail</span> 1 "wp_bind: cannot find" <span class="id" title="var">efoc</span> "in" <span class="id" title="var">e</span> ]<br/>
&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.bi.weakestpre.html#twp"><span class="id" title="method">twp</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">E</span> ?<span class="id" title="var">e</span> ?<span class="id" title="var">Q</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span> [ <span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt; <span class="id" title="var">unify</span> <span class="id" title="var">e'</span> <span class="id" title="var">efoc</span>; <span class="id" title="var">wp_bind_core</span> <span class="id" title="var">K</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">fail</span> 1 "wp_bind: cannot find" <span class="id" title="var">efoc</span> "in" <span class="id" title="var">e</span> ]<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> "wp_bind: not a 'wp'"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The tactic <span class="inlinecode"><span class="id" title="var">wp_apply_core</span></span> <span class="inlinecode"><span class="id" title="var">lem</span></span> <span class="inlinecode"><span class="id" title="var">tac_suc</span></span> <span class="inlinecode"><span class="id" title="var">tac_fail</span></span> evaluates <span class="inlinecode"><span class="id" title="var">lem</span></span> to a
    hypothesis <span class="inlinecode"><span class="id" title="var">H</span></span> that can be applied, and then runs <span class="inlinecode"><span class="id" title="var">wp_bind_core</span></span> <span class="inlinecode"><span class="id" title="var">K</span>;</span> <span class="inlinecode"><span class="id" title="var">tac_suc</span></span> <span class="inlinecode"><span class="id" title="var">H</span></span>
    for every possible evaluation context <span class="inlinecode"><span class="id" title="var">K</span></span>.

<div class="paragraph"> </div>

<ul class="doclist">
<li> The tactic <span class="inlinecode"><span class="id" title="var">tac_suc</span></span> should do <span class="inlinecode"><span class="id" title="var">iApplyHyp</span></span> <span class="inlinecode"><span class="id" title="var">H</span></span> to actually apply the hypothesis,
      but can perform other operations in addition (see <span class="inlinecode"><span class="id" title="var">wp_apply</span></span> and <span class="inlinecode"><span class="id" title="var">awp_apply</span></span>
      below).

</li>
<li> The tactic <span class="inlinecode"><span class="id" title="var">tac_fail</span></span> <span class="inlinecode"><span class="id" title="var">cont</span></span> is called when <span class="inlinecode"><span class="id" title="var">tac_suc</span></span> <span class="inlinecode"><span class="id" title="var">H</span></span> fails for all evaluation
      contexts <span class="inlinecode"><span class="id" title="var">K</span></span>, and can perform further operations before invoking <span class="inlinecode"><span class="id" title="var">cont</span></span> to
      try again.

</li>
</ul>

<div class="paragraph"> </div>

    TC resolution of <span class="inlinecode"><span class="id" title="var">lem</span></span> premises happens *after* <span class="inlinecode"><span class="id" title="var">tac_suc</span></span> <span class="inlinecode"><span class="id" title="var">H</span></span> got executed. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">wp_apply_core</span> <span class="id" title="var">lem</span> <span class="id" title="var">tac_suc</span> <span class="id" title="var">tac_fail</span> := <span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;[<span class="id" title="var">iPoseProofCore</span> <span class="id" title="var">lem</span> <span class="id" title="keyword">as</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.bi.weakestpre.html#wp"><span class="id" title="method">wp</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">E</span> ?<span class="id" title="var">e</span> ?<span class="id" title="var">Q</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt; <span class="id" title="var">wp_bind_core</span> <span class="id" title="var">K</span>; <span class="id" title="var">tac_suc</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.bi.weakestpre.html#twp"><span class="id" title="method">twp</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">E</span> ?<span class="id" title="var">e</span> ?<span class="id" title="var">Q</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt; <span class="id" title="var">wp_bind_core</span> <span class="id" title="var">K</span>; <span class="id" title="var">tac_suc</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> 1 "wp_apply: not a 'wp'"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;|<span class="id" title="var">tac_fail</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">wp_apply_core</span> <span class="id" title="var">lem</span> <span class="id" title="var">tac_suc</span> <span class="id" title="var">tac_fail</span>)<br/>
&nbsp;&nbsp;|<span class="id" title="keyword">let</span> <span class="id" title="var">P</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">lem</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fail</span> "wp_apply: cannot apply" <span class="id" title="var">lem</span> ":" <span class="id" title="var">P</span> ].<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_apply" <span class="id" title="var">open_constr</span>(<span class="id" title="var">lem</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">wp_apply_core</span> <span class="id" title="var">lem</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> =&gt; <span class="id" title="var">iApplyHyp</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">iNext</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">wp_expr_simpl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">cont</span> =&gt; <span class="id" title="tactic">fail</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_smart_apply" <span class="id" title="var">open_constr</span>(<span class="id" title="var">lem</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">wp_apply_core</span> <span class="id" title="var">lem</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> =&gt; <span class="id" title="var">iApplyHyp</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">iNext</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">wp_expr_simpl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">cont</span> =&gt; <span class="id" title="var">wp_pure</span> <span class="id" title="var">_</span>; []; <span class="id" title="var">cont</span> ()).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="heap_tactics" class="idref" href="#heap_tactics"><span class="id" title="section">heap_tactics</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:136" class="idref" href="#H:136"><span class="id" title="binder">GwpTacticsBase</span></a> <a id="827e6cceb29d7e31d1fb867cd390df8a" class="idref" href="#827e6cceb29d7e31d1fb867cd390df8a"><span class="id" title="binder"><span id="H:136" class="id">Σ</span></span></a> <a id="A:132" class="idref" href="#A:132"><span class="id" title="binder"><span id="H:136" class="id">A</span></span></a> <a id="hlc:133" class="idref" href="#hlc:133"><span class="id" title="binder"><span id="H:136" class="id">hlc</span></span></a> <a id="gwp:135" class="idref" href="#gwp:135"><span class="id" title="binder"><span id="H:136" class="id">gwp</span></span></a>, <a id="H0:138" class="idref" href="#H0:138"><span class="id" title="binder">GwpTacticsBind</span></a> <a id="H0:138" class="idref" href="#H0:138"><span class="id" title="binder">Σ</span></a> <a id="H0:138" class="idref" href="#H0:138"><span class="id" title="binder">A</span></a> <a id="H0:138" class="idref" href="#H0:138"><span class="id" title="binder">hlc</span></a> <a id="H0:138" class="idref" href="#H0:138"><span class="id" title="binder">gwp</span></a>, <a id="GwpTacticsHeap0:140" class="idref" href="#GwpTacticsHeap0:140"><span class="id" title="binder">!</span></a><a id="GwpTacticsHeap0:140" class="idref" href="#GwpTacticsHeap0:140"><span class="id" title="binder">GwpTacticsHeap</span></a> <a id="GwpTacticsHeap0:140" class="idref" href="#GwpTacticsHeap0:140"><span class="id" title="binder">Σ</span></a> <a id="GwpTacticsHeap0:140" class="idref" href="#GwpTacticsHeap0:140"><span class="id" title="binder">A</span></a> <a id="laters:139" class="idref" href="#laters:139"><span class="id" title="binder"><span id="GwpTacticsHeap0:140" class="id">laters</span></span></a> <a id="GwpTacticsHeap0:140" class="idref" href="#GwpTacticsHeap0:140"><span class="id" title="binder">gwp</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Notation</span> <a id="4fc66e4372a8e0f2be4ae7fc5f1c8204" class="idref" href="#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">&quot;</span></a>'WP' e @ s ; E {{ Φ } }" := (<a class="idref" href="tachis.prob_lang.wp_tactics.html#heap_tactics.gwp"><span class="id" title="variable">gwp</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span>%<span class="id" title="var">E</span> <span class="id" title="var">Φ</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="var">e</span>, <span class="id" title="var">Φ</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">bi_scope</span>.<br/>

<br/>
</div>

<div class="doc">
Notations with binder. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Local Notation</span> <a id="8ca4da2a3f8a316539694ccf3d45c146" class="idref" href="#8ca4da2a3f8a316539694ccf3d45c146"><span class="id" title="notation">&quot;</span></a>'WP' e @ s ; E {{ v , Q } }" := (<a class="idref" href="tachis.prob_lang.wp_tactics.html#heap_tactics.gwp"><span class="id" title="variable">gwp</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span>%<span class="id" title="var">E</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v:141" class="idref" href="#v:141"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">Q</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="var">e</span>, <span class="id" title="var">Q</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">format</span> "'[hv' 'WP'  e  '/' @  '[' s ;  '/' E  ']' '/' {{  '[' v ,  '/' Q  ']' } } ']'") : <span class="id" title="var">bi_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tac_wp_alloc" class="idref" href="#tac_wp_alloc"><span class="id" title="lemma">tac_wp_alloc</span></a> <a id="1a3b200d154a801ce694cfe669154564" class="idref" href="#1a3b200d154a801ce694cfe669154564"><span class="id" title="binder">Δ</span></a> <a id="df119fcc0a69466595b3d5fd294cb90c" class="idref" href="#df119fcc0a69466595b3d5fd294cb90c"><span class="id" title="binder">Δ'</span></a> <a id="E:144" class="idref" href="#E:144"><span class="id" title="binder">E</span></a> <a id="j:145" class="idref" href="#j:145"><span class="id" title="binder">j</span></a> <a id="K:146" class="idref" href="#K:146"><span class="id" title="binder">K</span></a> <a id="v:147" class="idref" href="#v:147"><span class="id" title="binder">v</span></a> <a id="6b6d0e6427d723c4d07429ba9da8d026" class="idref" href="#6b6d0e6427d723c4d07429ba9da8d026"><span class="id" title="binder">Φ</span></a> <a id="a:149" class="idref" href="#a:149"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#MaybeIntoLaterNEnvs"><span class="id" title="class">MaybeIntoLaterNEnvs</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#heap_tactics.laters"><span class="id" title="variable">laters</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <a class="idref" href="tachis.prob_lang.wp_tactics.html#1a3b200d154a801ce694cfe669154564"><span class="id" title="variable">Δ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#df119fcc0a69466595b3d5fd294cb90c"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="l:150" class="idref" href="#l:150"><span class="id" title="binder">l</span></a> : <a class="idref" href="tachis.prob_lang.locations.html#loc"><span class="id" title="record">loc</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_app"><span class="id" title="definition">envs_app</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#j:145"><span class="id" title="variable">j</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_mapsto"><span class="id" title="method">wptac_mapsto</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#l:150"><span class="id" title="variable">l</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.dfrac.html#DfracOwn"><span class="id" title="constructor">DfracOwn</span></a> 1) <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:147"><span class="id" title="variable">v</span></a>)) <a class="idref" href="tachis.prob_lang.wp_tactics.html#df119fcc0a69466595b3d5fd294cb90c"><span class="id" title="variable">Δ'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">Δ''</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">Δ''</span> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">WP</span></a> <a class="idref" href="tachis.common.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#K:146"><span class="id" title="variable">K</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitV"><span class="id" title="constructor">LitV</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitLoc"><span class="id" title="constructor">LitLoc</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#l:150"><span class="id" title="variable">l</span></a>) <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">@</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:149"><span class="id" title="variable">a</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:144"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">{{</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#6b6d0e6427d723c4d07429ba9da8d026"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">}}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'False'"><span class="id" title="notation">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#1a3b200d154a801ce694cfe669154564"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">WP</span></a> <a class="idref" href="tachis.common.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#K:146"><span class="id" title="variable">K</span></a> (<a class="idref" href="tachis.prob_lang.notation.html#Alloc"><span class="id" title="abbreviation">Alloc</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:147"><span class="id" title="variable">v</span></a>)) <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">@</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:149"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:144"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">{{</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#6b6d0e6427d723c4d07429ba9da8d026"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails_unseal"><span class="id" title="definition">envs_entails_unseal</span></a>=&gt; ? <span class="id" title="var">HΔ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_wp_bind"><span class="id" title="method">wptac_wp_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_apply"><span class="id" title="lemma">bi.wand_apply</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_entails"><span class="id" title="lemma">bi.wand_entails</span></a>, <a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_wp_alloc"><span class="id" title="method">wptac_wp_alloc</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#left_id"><span class="id" title="definition">left_id</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#into_laterN_env_sound"><span class="id" title="lemma">into_laterN_env_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws_later.html#bi.laterN_mono"><span class="id" title="lemma">bi.laterN_mono</span></a>, <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi.forall_intro"><span class="id" title="lemma">bi.forall_intro</span></a>=&gt; <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HΔ</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_app"><span class="id" title="definition">envs_app</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Δ''</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">HΔ'</span>; [| <span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_app_sound"><span class="id" title="lemma">envs_app_sound</span></a> //; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_intro_l"><span class="id" title="lemma">bi.wand_intro_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#right_id"><span class="id" title="definition">right_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tac_wp_allocN" class="idref" href="#tac_wp_allocN"><span class="id" title="lemma">tac_wp_allocN</span></a> <a id="553ebe059724afb4b113db5a46f44b23" class="idref" href="#553ebe059724afb4b113db5a46f44b23"><span class="id" title="binder">Δ</span></a> <a id="9a668b4a2d49d9a44f327c8a3bfde75f" class="idref" href="#9a668b4a2d49d9a44f327c8a3bfde75f"><span class="id" title="binder">Δ'</span></a> <a id="E:153" class="idref" href="#E:153"><span class="id" title="binder">E</span></a> <a id="j:154" class="idref" href="#j:154"><span class="id" title="binder">j</span></a> <a id="K:155" class="idref" href="#K:155"><span class="id" title="binder">K</span></a> <a id="v:156" class="idref" href="#v:156"><span class="id" title="binder">v</span></a> <a id="n:157" class="idref" href="#n:157"><span class="id" title="binder">n</span></a> <a id="4d8fc37bf5a446654d4cb3b5604daa7c" class="idref" href="#4d8fc37bf5a446654d4cb3b5604daa7c"><span class="id" title="binder">Φ</span></a> <a id="a:159" class="idref" href="#a:159"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#n:157"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#MaybeIntoLaterNEnvs"><span class="id" title="class">MaybeIntoLaterNEnvs</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#heap_tactics.laters"><span class="id" title="variable">laters</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <a class="idref" href="tachis.prob_lang.wp_tactics.html#553ebe059724afb4b113db5a46f44b23"><span class="id" title="variable">Δ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#9a668b4a2d49d9a44f327c8a3bfde75f"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="l:160" class="idref" href="#l:160"><span class="id" title="binder">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_app"><span class="id" title="definition">envs_app</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#j:154"><span class="id" title="variable">j</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_mapsto_array"><span class="id" title="method">wptac_mapsto_array</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#l:160"><span class="id" title="variable">l</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.dfrac.html#DfracOwn"><span class="id" title="constructor">DfracOwn</span></a> 1) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#replicate"><span class="id" title="definition">replicate</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#n:157"><span class="id" title="variable">n</span></a>) <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:156"><span class="id" title="variable">v</span></a>))) <a class="idref" href="tachis.prob_lang.wp_tactics.html#9a668b4a2d49d9a44f327c8a3bfde75f"><span class="id" title="variable">Δ'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">Δ''</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">Δ''</span> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">WP</span></a> <a class="idref" href="tachis.common.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#K:155"><span class="id" title="variable">K</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitV"><span class="id" title="constructor">LitV</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitLoc"><span class="id" title="constructor">LitLoc</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#l:160"><span class="id" title="variable">l</span></a>) <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">@</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:159"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:153"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">{{</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4d8fc37bf5a446654d4cb3b5604daa7c"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">}}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'False'"><span class="id" title="notation">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#553ebe059724afb4b113db5a46f44b23"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">WP</span></a> <a class="idref" href="tachis.common.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#K:155"><span class="id" title="variable">K</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.AllocN"><span class="id" title="constructor">AllocN</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitV"><span class="id" title="constructor">LitV</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitInt"><span class="id" title="constructor">LitInt</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#n:157"><span class="id" title="variable">n</span></a>) (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:156"><span class="id" title="variable">v</span></a>)) <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">@</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:159"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:153"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">{{</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4d8fc37bf5a446654d4cb3b5604daa7c"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails_unseal"><span class="id" title="definition">envs_entails_unseal</span></a>=&gt; ? ? <span class="id" title="var">HΔ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_wp_bind"><span class="id" title="method">wptac_wp_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_apply"><span class="id" title="lemma">bi.wand_apply</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_entails"><span class="id" title="lemma">bi.wand_entails</span></a>, <a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_wp_allocN"><span class="id" title="method">wptac_wp_allocN</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#left_id"><span class="id" title="definition">left_id</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#into_laterN_env_sound"><span class="id" title="lemma">into_laterN_env_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws_later.html#bi.laterN_mono"><span class="id" title="lemma">bi.laterN_mono</span></a>, <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi.forall_intro"><span class="id" title="lemma">bi.forall_intro</span></a>=&gt; <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HΔ</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_app"><span class="id" title="definition">envs_app</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Δ''</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">HΔ'</span>; [ | <span class="id" title="var">contradiction</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_app_sound"><span class="id" title="lemma">envs_app_sound</span></a> //; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_intro_l"><span class="id" title="lemma">bi.wand_intro_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#right_id"><span class="id" title="definition">right_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tac_wp_load" class="idref" href="#tac_wp_load"><span class="id" title="lemma">tac_wp_load</span></a> <a id="d87b216f70c82384d71e9322d51d48aa" class="idref" href="#d87b216f70c82384d71e9322d51d48aa"><span class="id" title="binder">Δ</span></a> <a id="853b6f92d2c67a48112e54c393760197" class="idref" href="#853b6f92d2c67a48112e54c393760197"><span class="id" title="binder">Δ'</span></a> <a id="E:163" class="idref" href="#E:163"><span class="id" title="binder">E</span></a> <a id="i:164" class="idref" href="#i:164"><span class="id" title="binder">i</span></a> <a id="K:165" class="idref" href="#K:165"><span class="id" title="binder">K</span></a> <a id="b:166" class="idref" href="#b:166"><span class="id" title="binder">b</span></a> <a id="l:167" class="idref" href="#l:167"><span class="id" title="binder">l</span></a> <a id="dq:168" class="idref" href="#dq:168"><span class="id" title="binder">dq</span></a> <a id="v:169" class="idref" href="#v:169"><span class="id" title="binder">v</span></a> <a id="b77e0f4a207748ddb3e80f52f2b6ddbf" class="idref" href="#b77e0f4a207748ddb3e80f52f2b6ddbf"><span class="id" title="binder">Φ</span></a> <a id="a:171" class="idref" href="#a:171"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#MaybeIntoLaterNEnvs"><span class="id" title="class">MaybeIntoLaterNEnvs</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#heap_tactics.laters"><span class="id" title="variable">laters</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <a class="idref" href="tachis.prob_lang.wp_tactics.html#d87b216f70c82384d71e9322d51d48aa"><span class="id" title="variable">Δ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#853b6f92d2c67a48112e54c393760197"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#i:164"><span class="id" title="variable">i</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#853b6f92d2c67a48112e54c393760197"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#b:166"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_mapsto"><span class="id" title="method">wptac_mapsto</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#l:167"><span class="id" title="variable">l</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#dq:168"><span class="id" title="variable">dq</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:169"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#853b6f92d2c67a48112e54c393760197"><span class="id" title="variable">Δ'</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">WP</span></a> <a class="idref" href="tachis.common.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#K:165"><span class="id" title="variable">K</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:169"><span class="id" title="variable">v</span></a>) <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">@</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:171"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:163"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">{{</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#b77e0f4a207748ddb3e80f52f2b6ddbf"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">}}</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#d87b216f70c82384d71e9322d51d48aa"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">WP</span></a> <a class="idref" href="tachis.common.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#K:165"><span class="id" title="variable">K</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Load"><span class="id" title="constructor">Load</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitV"><span class="id" title="constructor">LitV</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitLoc"><span class="id" title="constructor">LitLoc</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#l:167"><span class="id" title="variable">l</span></a>)) <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">@</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:171"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:163"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">{{</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#b77e0f4a207748ddb3e80f52f2b6ddbf"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails_unseal"><span class="id" title="definition">envs_entails_unseal</span></a>=&gt; ?? <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_wp_bind"><span class="id" title="method">wptac_wp_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_apply"><span class="id" title="lemma">bi.wand_apply</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_entails"><span class="id" title="lemma">bi.wand_entails</span></a>, <a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_wp_load"><span class="id" title="method">wptac_wp_load</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#into_laterN_env_sound"><span class="id" title="lemma">into_laterN_env_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="tachis.prob_lang.wp_tactics.html#heap_tactics.laters"><span class="id" title="variable">laters</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws_later.html#bi.later_sep"><span class="id" title="lemma">bi.later_sep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_lookup_split"><span class="id" title="lemma">envs_lookup_split</span></a> //; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi.later_mono"><span class="id" title="lemma">bi.later_mono</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">iIntros</span> "[#$ He]". <span class="id" title="var">iIntros</span> "_". <span class="id" title="var">iApply</span> <span class="id" title="var">Hi</span>. <span class="id" title="var">iApply</span> "He". <span class="id" title="var">iFrame</span> "#".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.sep_mono_r"><span class="id" title="lemma">bi.sep_mono_r</span></a>, <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_mono"><span class="id" title="lemma">bi.wand_mono</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_lookup_split"><span class="id" title="lemma">envs_lookup_split</span></a> //; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">iIntros</span> "[#$ He]". <span class="id" title="var">iIntros</span> "_". <span class="id" title="var">iApply</span> <span class="id" title="var">Hi</span>. <span class="id" title="var">iApply</span> "He". <span class="id" title="var">iFrame</span> "#".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">iIntros</span> "[$ He] H". <span class="id" title="var">iApply</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "He".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tac_wp_store" class="idref" href="#tac_wp_store"><span class="id" title="lemma">tac_wp_store</span></a> <a id="1f9b3d07d5c6542d312c8bb3c06a5fb3" class="idref" href="#1f9b3d07d5c6542d312c8bb3c06a5fb3"><span class="id" title="binder">Δ</span></a> <a id="3c80e6f19951670a9a8f6488f352dd48" class="idref" href="#3c80e6f19951670a9a8f6488f352dd48"><span class="id" title="binder">Δ'</span></a> <a id="E:174" class="idref" href="#E:174"><span class="id" title="binder">E</span></a> <a id="i:175" class="idref" href="#i:175"><span class="id" title="binder">i</span></a> <a id="K:176" class="idref" href="#K:176"><span class="id" title="binder">K</span></a> <a id="l:177" class="idref" href="#l:177"><span class="id" title="binder">l</span></a> <a id="v:178" class="idref" href="#v:178"><span class="id" title="binder">v</span></a> <a id="v':179" class="idref" href="#v':179"><span class="id" title="binder">v'</span></a> <a id="388e0a1edceb89ad5f6f635a00548bb3" class="idref" href="#388e0a1edceb89ad5f6f635a00548bb3"><span class="id" title="binder">Φ</span></a> <a id="a:181" class="idref" href="#a:181"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#MaybeIntoLaterNEnvs"><span class="id" title="class">MaybeIntoLaterNEnvs</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#heap_tactics.laters"><span class="id" title="variable">laters</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <a class="idref" href="tachis.prob_lang.wp_tactics.html#1f9b3d07d5c6542d312c8bb3c06a5fb3"><span class="id" title="variable">Δ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#3c80e6f19951670a9a8f6488f352dd48"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#i:175"><span class="id" title="variable">i</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#3c80e6f19951670a9a8f6488f352dd48"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_mapsto"><span class="id" title="method">wptac_mapsto</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#l:177"><span class="id" title="variable">l</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.dfrac.html#DfracOwn"><span class="id" title="constructor">DfracOwn</span></a> 1) <a class="idref" href="tachis.prob_lang.wp_tactics.html#v:178"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>%<span class="id" title="var">I</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_simple_replace"><span class="id" title="definition">envs_simple_replace</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#i:175"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#i:175"><span class="id" title="variable">i</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_mapsto"><span class="id" title="method">wptac_mapsto</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#l:177"><span class="id" title="variable">l</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.dfrac.html#DfracOwn"><span class="id" title="constructor">DfracOwn</span></a> 1) <a class="idref" href="tachis.prob_lang.wp_tactics.html#v':179"><span class="id" title="variable">v'</span></a>)) <a class="idref" href="tachis.prob_lang.wp_tactics.html#3c80e6f19951670a9a8f6488f352dd48"><span class="id" title="variable">Δ'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">Δ''</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">Δ''</span> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">WP</span></a> <a class="idref" href="tachis.common.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#K:176"><span class="id" title="variable">K</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitV"><span class="id" title="constructor">LitV</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitUnit"><span class="id" title="constructor">LitUnit</span></a>) <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">@</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:181"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:174"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">{{</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#388e0a1edceb89ad5f6f635a00548bb3"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">}}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'False'"><span class="id" title="notation">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#1f9b3d07d5c6542d312c8bb3c06a5fb3"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">WP</span></a> <a class="idref" href="tachis.common.ectxi_language.html#fill"><span class="id" title="definition">fill</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#K:176"><span class="id" title="variable">K</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Store"><span class="id" title="constructor">Store</span></a> (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitV"><span class="id" title="constructor">LitV</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="tachis.prob_lang.lang.html#prob_lang.LitLoc"><span class="id" title="constructor">LitLoc</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#l:177"><span class="id" title="variable">l</span></a>) (<a class="idref" href="tachis.prob_lang.lang.html#prob_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#v':179"><span class="id" title="variable">v'</span></a>)) <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">@</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#a:181"><span class="id" title="variable">a</span></a><a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">;</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#E:174"><span class="id" title="variable">E</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">{{</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#388e0a1edceb89ad5f6f635a00548bb3"><span class="id" title="variable">Φ</span></a> <a class="idref" href="tachis.prob_lang.wp_tactics.html#4fc66e4372a8e0f2be4ae7fc5f1c8204"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails_unseal"><span class="id" title="definition">envs_entails_unseal</span></a>=&gt; ?? <span class="id" title="var">Hcnt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_simple_replace"><span class="id" title="definition">envs_simple_replace</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Δ''</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">HΔ''</span>; [ | <span class="id" title="var">contradiction</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_wp_bind"><span class="id" title="method">wptac_wp_bind</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_apply"><span class="id" title="lemma">bi.wand_apply</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_entails"><span class="id" title="lemma">bi.wand_entails</span></a>, <a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_wp_store"><span class="id" title="method">wptac_wp_store</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.coq_tactics.html#into_laterN_env_sound"><span class="id" title="lemma">into_laterN_env_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="tachis.prob_lang.wp_tactics.html#heap_tactics.laters"><span class="id" title="variable">laters</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws_later.html#bi.later_sep"><span class="id" title="lemma">bi.later_sep</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_simple_replace_sound"><span class="id" title="lemma">envs_simple_replace_sound</span></a> //; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#right_id"><span class="id" title="definition">right_id</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi.later_mono"><span class="id" title="lemma">bi.later_mono</span></a>, <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.sep_mono_r"><span class="id" title="lemma">bi.sep_mono_r</span></a>, <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_mono"><span class="id" title="lemma">bi.wand_mono</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_simple_replace_sound"><span class="id" title="lemma">envs_simple_replace_sound</span></a> //; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#right_id"><span class="id" title="definition">right_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[$ He] H". <span class="id" title="var">iApply</span> <span class="id" title="var">Hcnt</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "He".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="tachis.prob_lang.wp_tactics.html#heap_tactics"><span class="id" title="section">heap_tactics</span></a>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_alloc" <span class="id" title="var">ident</span>(<span class="id" title="var">l</span>) "as" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Htmp</span> := <span class="id" title="var">iFresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">finish</span> <span class="id" title="var">_</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span> [<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> | <span class="id" title="tactic">fail</span> 1 "wp_alloc:" <span class="id" title="var">l</span> "not fresh"];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pm_reduce</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'False'"><span class="id" title="notation">False</span></a> =&gt; <span class="id" title="tactic">fail</span> 1 "wp_alloc:" <span class="id" title="var">H</span> "not fresh"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="var">iDestructHyp</span> <span class="id" title="var">Htmp</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>; <span class="id" title="var">wp_finish</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>;<br/>
&nbsp;&nbsp;</div>

<div class="doc">
The code first tries to use allocation lemma for a single reference,
     ie, <span class="inlinecode"><a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_alloc"><span class="id" title="lemma">tac_wp_alloc</span></a></span> (respectively, <span class="inlinecode"><span class="id" title="var">tac_twp_alloc</span></span>).
     If that fails, it tries to use the lemma <span class="inlinecode"><a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_allocN"><span class="id" title="lemma">tac_wp_allocN</span></a></span>
     (respectively, <span class="inlinecode"><span class="id" title="var">tac_twp_allocN</span></span>) for allocating an array.
     Notice that we could have used the array allocation lemma also for single
     references. However, that would produce the resource l ↦∗ <span class="inlinecode"><span class="id" title="var">v</span></span> instead of
     l ↦ v for single references. These are logically equivalent assertions
     but are not equal. 
</div>
<div class="code">
<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.bi.weakestpre.html#wp"><span class="id" title="method">wp</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">E</span> ?<span class="id" title="var">e</span> ?<span class="id" title="var">Q</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">process_single</span> <span class="id" title="var">_</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt; <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_alloc"><span class="id" title="lemma">tac_wp_alloc</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htmp</span> <span class="id" title="var">K</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">fail</span> 1 "wp_alloc: cannot find 'Alloc' in" <span class="id" title="var">e</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">tc_solve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">finish</span> ()]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">process_array</span> <span class="id" title="var">_</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt; <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_allocN"><span class="id" title="lemma">tac_wp_allocN</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htmp</span> <span class="id" title="var">K</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">fail</span> 1 "wp_alloc: cannot find 'Alloc' in" <span class="id" title="var">e</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">idtac</span>| <span class="id" title="var">tc_solve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">finish</span> ()]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> (<span class="id" title="var">process_single</span> ()) || (<span class="id" title="var">process_array</span> ())<br/>
| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.bi.weakestpre.html#twp"><span class="id" title="method">twp</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">E</span> ?<span class="id" title="var">e</span> ?<span class="id" title="var">Q</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">process_single</span> <span class="id" title="var">_</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt; <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_alloc"><span class="id" title="lemma">tac_wp_alloc</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htmp</span> <span class="id" title="var">K</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">fail</span> 1 "wp_alloc: cannot find 'Alloc' in" <span class="id" title="var">e</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">tc_solve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">finish</span> ()]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">process_array</span> <span class="id" title="var">_</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt; <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_allocN"><span class="id" title="lemma">tac_wp_allocN</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htmp</span> <span class="id" title="var">K</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">fail</span> 1 "wp_alloc: cannot find 'Alloc' in" <span class="id" title="var">e</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">idtac</span>| <span class="id" title="var">tc_solve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">finish</span> ()]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> (<span class="id" title="var">process_single</span> ()) || (<span class="id" title="var">process_array</span> ())<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> "wp_alloc: not a 'wp'"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_alloc" <span class="id" title="var">ident</span>(<span class="id" title="var">l</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">wp_alloc</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> "?".<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_load" :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">solve_wptac_mapsto</span> <span class="id" title="var">_</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_mapsto"><span class="id" title="method">wptac_mapsto</span></a> ?<span class="id" title="var">l</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)%<span class="id" title="var">I</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <span class="id" title="var">l</span> <span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssumptionCore</span> || <span class="id" title="tactic">fail</span> "wp_load: cannot find" <span class="id" title="var">l</span> "↦ ?" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.bi.weakestpre.html#wp"><span class="id" title="method">wp</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">E</span> ?<span class="id" title="var">e</span> ?<span class="id" title="var">Q</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt; <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_load"><span class="id" title="lemma">tac_wp_load</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">K</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">fail</span> 1 "wp_load: cannot find 'Load' in" <span class="id" title="var">e</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">tc_solve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">solve_wptac_mapsto</span> ()<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">wp_finish</span>]<br/>
&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.bi.weakestpre.html#twp"><span class="id" title="method">twp</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">E</span> ?<span class="id" title="var">e</span> ?<span class="id" title="var">Q</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt; <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_load"><span class="id" title="lemma">tac_wp_load</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">K</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">fail</span> 1 "wp_load: cannot find 'Load' in" <span class="id" title="var">e</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">tc_solve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">solve_wptac_mapsto</span> ()<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">wp_finish</span>]<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> "wp_load: not a 'wp'"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "wp_store" :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">solve_wptac_mapsto</span> <span class="id" title="var">_</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#wptac_mapsto"><span class="id" title="method">wptac_mapsto</span></a> ?<span class="id" title="var">l</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)%<span class="id" title="var">I</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <span class="id" title="var">l</span> <span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssumptionCore</span> || <span class="id" title="tactic">fail</span> "wp_store: cannot find" <span class="id" title="var">l</span> "↦ ?" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">wp_pures</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.bi.weakestpre.html#wp"><span class="id" title="method">wp</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">E</span> ?<span class="id" title="var">e</span> ?<span class="id" title="var">Q</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt; <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_store"><span class="id" title="lemma">tac_wp_store</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">K</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">fail</span> 1 "wp_store: cannot find 'Store' in" <span class="id" title="var">e</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">tc_solve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">solve_wptac_mapsto</span> ()<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">pm_reduce</span>; <span class="id" title="tactic">first</span> [<span class="id" title="var">wp_seq</span>|<span class="id" title="var">wp_finish</span>]]<br/>
  | |- <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <span class="id" title="var">_</span> (<a class="idref" href="tachis.bi.weakestpre.html#twp"><span class="id" title="method">twp</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">E</span> ?<span class="id" title="var">e</span> ?<span class="id" title="var">Q</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">reshape_expr</span> <span class="id" title="var">e</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> <span class="id" title="var">e'</span> =&gt; <span class="id" title="tactic">eapply</span> (<a class="idref" href="tachis.prob_lang.wp_tactics.html#tac_wp_store"><span class="id" title="lemma">tac_wp_store</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">K</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">fail</span> 1 "wp_store: cannot find 'Store' in" <span class="id" title="var">e</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">tc_solve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">solve_wptac_mapsto</span> ()<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">pm_reduce</span>; <span class="id" title="tactic">first</span> [<span class="id" title="var">wp_seq</span>|<span class="id" title="var">wp_finish</span>]]<br/>
  | <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> "wp_store: not a 'wp'"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
