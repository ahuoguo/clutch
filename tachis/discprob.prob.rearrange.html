<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/logsem/clutch">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">discprob.prob.rearrange</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;Here&nbsp;we&nbsp;prove&nbsp;that&nbsp;if&nbsp;a&nbsp;series&nbsp;converges&nbsp;absolutely,&nbsp;then&nbsp;every<br/>
&nbsp;&nbsp;&nbsp;rearrangement&nbsp;of&nbsp;that&nbsp;series&nbsp;(1)&nbsp;converges&nbsp;absolutely,&nbsp;and&nbsp;(2)<br/>
&nbsp;&nbsp;&nbsp;converges&nbsp;to&nbsp;the&nbsp;same&nbsp;value.&nbsp;&nbsp;This&nbsp;is&nbsp;needed&nbsp;to&nbsp;show&nbsp;that&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;definition&nbsp;of&nbsp;expectation&nbsp;is&nbsp;sensible&nbsp;and&nbsp;matches&nbsp;alternate&nbsp;ways&nbsp;of<br/>
&nbsp;&nbsp;&nbsp;defining&nbsp;it.<br/>
*)</span><br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">discprob.basic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="discprob.basic.base.html#"><span class="id" title="library">base</span></a> <a class="idref" href="discprob.basic.order.html#"><span class="id" title="library">order</span></a> <a class="idref" href="discprob.basic.bigop_ext.html#"><span class="id" title="library">bigop_ext</span></a> <a class="idref" href="discprob.basic.nify.html#"><span class="id" title="library">nify</span></a> <a class="idref" href="discprob.basic.sval.html#"><span class="id" title="library">sval</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">discprob.prob</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="discprob.prob.countable.html#"><span class="id" title="library">countable</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Reals.html#"><span class="id" title="library">Reals</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.micromega.Fourier.html#"><span class="id" title="library">Fourier</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.micromega.Psatz.html#"><span class="id" title="library">Psatz</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Logic.ClassicalEpsilon.html#"><span class="id" title="library">ClassicalEpsilon</span></a>.<br/>
#[<span class="id" title="var">warning</span>="-hiding-delimiting-key,-overwriting-delimiting-key"] <span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">ssrnat</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">ssreflect</span> <span class="id" title="library">ssrbool</span> <span class="id" title="library">ssrfun</span> <span class="id" title="library">eqtype</span> <span class="id" title="library">seq</span> <span class="id" title="library">bigop</span> <span class="id" title="library">fintype</span> <span class="id" title="library">choice</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coquelicot</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#"><span class="id" title="library">Rcomplements</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rbar.html#"><span class="id" title="library">Rbar</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#"><span class="id" title="library">Series</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Lim_seq.html#"><span class="id" title="library">Lim_seq</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#"><span class="id" title="library">Hierarchy</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Markov.html#"><span class="id" title="library">Markov</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_n_m_filter" class="idref" href="#sum_n_m_filter"><span class="id" title="lemma">sum_n_m_filter</span></a> (<a id="a:1" class="idref" href="#a:1"><span class="id" title="binder">a</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="P:2" class="idref" href="#P:2"><span class="id" title="binder">P</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="n:3" class="idref" href="#n:3"><span class="id" title="binder">n</span></a> <a id="m:4" class="idref" href="#m:4"><span class="id" title="binder">m</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n_m"><span class="id" title="definition">sum_n_m</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:5" class="idref" href="#n:5"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="discprob.prob.rearrange.html#P:2"><span class="id" title="variable">P</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:5"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="discprob.prob.rearrange.html#a:1"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:5"><span class="id" title="variable">n</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0) <a class="idref" href="discprob.prob.rearrange.html#n:3"><span class="id" title="variable">n</span></a> <a class="idref" href="discprob.prob.rearrange.html#m:4"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n_m"><span class="id" title="definition">sum_n_m</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <a class="idref" href="discprob.prob.rearrange.html#a:1"><span class="id" title="variable">a</span></a>) <a class="idref" href="discprob.prob.rearrange.html#n:3"><span class="id" title="variable">n</span></a> <a class="idref" href="discprob.prob.rearrange.html#m:4"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n_m_le"><span class="id" title="lemma">sum_n_m_le</span></a> =&gt; <span class="id" title="var">k</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">k</span>) =&gt; //=; <span class="id" title="tactic">try</span> <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_pos"><span class="id" title="lemma">Rabs_pos</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="foldl_max" class="idref" href="#foldl_max"><span class="id" title="lemma">foldl_max</span></a> <a id="l:6" class="idref" href="#l:6"><span class="id" title="binder">l</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:7" class="idref" href="#x:7"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="definition">foldl</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> <a class="idref" href="discprob.prob.rearrange.html#x:7"><span class="id" title="variable">x</span></a> <a class="idref" href="discprob.prob.rearrange.html#l:6"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#d62fe7eb16bd9315a9b7758d6f907270"><span class="id" title="notation">≥</span></a> <a class="idref" href="discprob.prob.rearrange.html#x:7"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">rewrite</span> //=; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHl</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Nat.html#max"><span class="id" title="definition">Init.Nat.max</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_l"><span class="id" title="lemma">Nat.le_max_l</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="max_fun_range" class="idref" href="#max_fun_range"><span class="id" title="lemma">max_fun_range</span></a> (<a id="adf3bc8341a90edf65bb756c93872ed9" class="idref" href="#adf3bc8341a90edf65bb756c93872ed9"><span class="id" title="binder">σ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="m:9" class="idref" href="#m:9"><span class="id" title="binder">m</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="N:10" class="idref" href="#N:10"><span class="id" title="binder">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="m':11" class="idref" href="#m':11"><span class="id" title="binder">m'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#m':11"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="discprob.prob.rearrange.html#m:9"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.prob.rearrange.html#adf3bc8341a90edf65bb756c93872ed9"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#m':11"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="discprob.prob.rearrange.html#N:10"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="m0:12" class="idref" href="#m0:12"><span class="id" title="binder">m0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#m0:12"><span class="id" title="variable">m0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="discprob.prob.rearrange.html#m:9"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="discprob.prob.rearrange.html#adf3bc8341a90edf65bb756c93872ed9"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#m0:12"><span class="id" title="variable">m0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#N:10"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (σ <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">N</span>&amp;?&amp;<span class="id" title="var">Hachieve</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Nat.html#max"><span class="id" title="definition">Init.Nat.max</span></a> <span class="id" title="var">N</span> (σ (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m</span>))). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span>. <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">etransitivity</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_l"><span class="id" title="lemma">Nat.le_max_l</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.max_case_strong"><span class="id" title="lemma">Nat.max_case_strong</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hachieve</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">m0</span>&amp;?&amp;?). <span class="id" title="tactic">exists</span> <span class="id" title="var">m0</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m</span>). <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="bijective" class="idref" href="#bijective"><span class="id" title="section">bijective</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bij_nat_cover" class="idref" href="#bij_nat_cover"><span class="id" title="lemma">bij_nat_cover</span></a> (<a id="8520583ae5f9101ee6510faa5e82ff2f" class="idref" href="#8520583ae5f9101ee6510faa5e82ff2f"><span class="id" title="binder">σ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="bij:14" class="idref" href="#bij:14"><span class="id" title="binder">bij</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#bijective"><span class="id" title="inductive">bijective</span></a> <a class="idref" href="discprob.prob.rearrange.html#8520583ae5f9101ee6510faa5e82ff2f"><span class="id" title="variable">σ</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:15" class="idref" href="#n:15"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="m:16" class="idref" href="#m:16"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="m':17" class="idref" href="#m':17"><span class="id" title="binder">m'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#m':17"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#d62fe7eb16bd9315a9b7758d6f907270"><span class="id" title="notation">≥</span></a> <a class="idref" href="discprob.prob.rearrange.html#m:16"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="N:18" class="idref" href="#N:18"><span class="id" title="binder">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n':19" class="idref" href="#n':19"><span class="id" title="binder">n'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':19"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:15"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="m'':20" class="idref" href="#m'':20"><span class="id" title="binder">m''</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#m'':20"><span class="id" title="variable">m''</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="discprob.prob.rearrange.html#m':17"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="discprob.prob.rearrange.html#8520583ae5f9101ee6510faa5e82ff2f"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#m'':20"><span class="id" title="variable">m''</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':19"><span class="id" title="variable">n'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="discprob.prob.rearrange.html#N:18"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#d62fe7eb16bd9315a9b7758d6f907270"><span class="id" title="notation">≥</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:15"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="m'':21" class="idref" href="#m'':21"><span class="id" title="binder">m''</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#m'':21"><span class="id" title="variable">m''</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="discprob.prob.rearrange.html#m':17"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.prob.rearrange.html#8520583ae5f9101ee6510faa5e82ff2f"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#m'':21"><span class="id" title="variable">m''</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="discprob.prob.rearrange.html#N:18"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">bij</span> <span class="id" title="keyword">as</span> [σ<span class="id" title="var">inv</span> <span class="id" title="var">Hcan1</span> <span class="id" title="var">Hcan2</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (σ<span class="id" title="var">inv</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>) =&gt; <span class="id" title="var">m'</span> <span class="id" title="var">Hgem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#max_fun_range"><span class="id" title="lemma">max_fun_range</span></a> σ <span class="id" title="var">m'</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">N</span>&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">N</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">n'</span>. <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">exists</span> (σ<span class="id" title="var">inv</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>); <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">m</span>&amp;<span class="id" title="var">Hm</span>). <span class="comment">(*&nbsp;N&amp;(IHm1&amp;?&amp;?)).&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Nat.html#max"><span class="id" title="definition">Init.Nat.max</span></a> <span class="id" title="var">m</span> (σ<span class="id" title="var">inv</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>))) =&gt; <span class="id" title="var">m'</span> <span class="id" title="var">Hgem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#max_fun_range"><span class="id" title="lemma">max_fun_range</span></a> σ (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Nat.html#max"><span class="id" title="definition">Init.Nat.max</span></a> <span class="id" title="var">m'</span> (σ<span class="id" title="var">inv</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>)))) <span class="id" title="keyword">as</span> (<span class="id" title="var">N'</span>&amp;<span class="id" title="var">Hbound</span>&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">N'</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">n'</span>. <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">exists</span> (σ<span class="id" title="var">inv</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>)). <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Nat.html#max"><span class="id" title="definition">Init.Nat.max</span></a> <span class="id" title="var">m</span> (σ<span class="id" title="var">inv</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>))); <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_r"><span class="id" title="lemma">Nat.le_max_r</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">m'</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">N</span>&amp;(<span class="id" title="var">IHm1</span>&amp;?&amp;?)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_l"><span class="id" title="lemma">Nat.le_max_l</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHm1</span> <span class="id" title="var">n'</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span>&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hbound</span> (σ<span class="id" title="var">inv</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcan2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbound</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hbound</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">m''</span> <span class="id" title="var">Hlem'</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hbound</span>. <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_l"><span class="id" title="lemma">Nat.le_max_l</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_n_bij_sandwich" class="idref" href="#sum_n_bij_sandwich"><span class="id" title="lemma">sum_n_bij_sandwich</span></a> (<a id="a:22" class="idref" href="#a:22"><span class="id" title="binder">a</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="ae0c06ba32431cba6651bad87205f6d2" class="idref" href="#ae0c06ba32431cba6651bad87205f6d2"><span class="id" title="binder">σ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="bij:24" class="idref" href="#bij:24"><span class="id" title="binder">bij</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#bijective"><span class="id" title="inductive">bijective</span></a> <a class="idref" href="discprob.prob.rearrange.html#ae0c06ba32431cba6651bad87205f6d2"><span class="id" title="variable">σ</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:25" class="idref" href="#n:25"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="m:26" class="idref" href="#m:26"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="m':27" class="idref" href="#m':27"><span class="id" title="binder">m'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#m':27"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#d62fe7eb16bd9315a9b7758d6f907270"><span class="id" title="notation">≥</span></a> <a class="idref" href="discprob.prob.rearrange.html#m:26"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="n':28" class="idref" href="#n':28"><span class="id" title="binder">n'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':28"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#d62fe7eb16bd9315a9b7758d6f907270"><span class="id" title="notation">≥</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:25"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <a class="idref" href="discprob.prob.rearrange.html#a:22"><span class="id" title="variable">a</span></a>) <a class="idref" href="discprob.prob.rearrange.html#n:25"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <a class="idref" href="discprob.prob.rearrange.html#a:22"><span class="id" title="variable">a</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <a class="idref" href="discprob.prob.rearrange.html#ae0c06ba32431cba6651bad87205f6d2"><span class="id" title="variable">σ</span></a>) <a class="idref" href="discprob.prob.rearrange.html#m':27"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <a class="idref" href="discprob.prob.rearrange.html#a:22"><span class="id" title="variable">a</span></a>) <a class="idref" href="discprob.prob.rearrange.html#n':28"><span class="id" title="variable">n'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>; <span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#bij_nat_cover"><span class="id" title="lemma">bij_nat_cover</span></a> σ <span class="id" title="var">bij</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">m</span>&amp;<span class="id" title="var">Hm</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">m</span> =&gt; <span class="id" title="var">m'</span> <span class="id" title="var">Hgem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">N</span>&amp;(<span class="id" title="var">Hhit</span>&amp;?&amp;<span class="id" title="var">Hup</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">N</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="discprob.basic.bigop_ext.html#sum_n_bigop"><span class="id" title="lemma">sum_n_bigop</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">index_enum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">bij</span> <span class="id" title="keyword">as</span> [σ<span class="id" title="var">inv</span> <span class="id" title="var">Hcan1</span> <span class="id" title="var">Hcan2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hupinv</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n':29" class="idref" href="#n':29"><span class="id" title="binder"><span id="n':30" class="id">n'</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':29"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> σ<span class="id" title="var">inv</span> <a class="idref" href="discprob.prob.rearrange.html#n':29"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <span class="id" title="var">m'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n'</span>. <span class="id" title="tactic">move</span> /<span class="id" title="var">Hhit</span> =&gt; [<span class="id" title="var">m''</span>] [<span class="id" title="var">Hle</span> <span class="id" title="var">Heq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Heq</span> <span class="id" title="var">Hcan1</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (σ<span class="id" title="var">inv'</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:31" class="idref" href="#x:31"><span class="id" title="binder"><span id="x:33" class="id">x</span></span></a>: <span class="id" title="notation">'</span><span class="id" title="notation">I_</span><span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="discprob.prob.rearrange.html#x:31"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Ordinal</span> <span class="id" title="var">k</span> <span class="id" title="var">Hle</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">Ordinal</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#SSR_leq"><span class="id" title="lemma">SSR_leq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#le_n_S"><span class="id" title="lemma">le_n_S</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Hupinv</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#SSR_leq"><span class="id" title="lemma">SSR_leq</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span>) <span class="id" title="var">Hle</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx_map_le"><span class="id" title="lemma">sum_reidx_map_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> σ<span class="id" title="var">inv'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> (<span class="id" title="var">x</span>&amp;<span class="id" title="var">Hlex</span>) ?. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcan2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">enumT</span> <span class="id" title="lemma">mem_enum</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_ge"><span class="id" title="lemma">Rle_ge</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_pos"><span class="id" title="lemma">Rabs_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">enumT</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">enum_uniq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">enumT</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">enum_uniq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> (<span class="id" title="var">x</span>&amp;?) (<span class="id" title="var">y</span>&amp;?) =&gt; //= <span class="id" title="var">_</span>. <span class="id" title="tactic">inversion</span> 1. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">ord_inj</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#bij_inj"><span class="id" title="lemma">bij_inj</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#Bijective"><span class="id" title="constructor">Bijective</span></a> <span class="id" title="var">Hcan2</span> <span class="id" title="var">Hcan1</span>)). <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="discprob.basic.bigop_ext.html#sum_n_bigop"><span class="id" title="lemma">sum_n_bigop</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">index_enum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (σ' := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:35" class="idref" href="#x:35"><span class="id" title="binder"><span id="x:37" class="id">x</span></span></a>: <span class="id" title="notation">'</span><span class="id" title="notation">I_</span><span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m'</span><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="discprob.prob.rearrange.html#x:35"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Ordinal</span> <span class="id" title="var">k</span> <span class="id" title="var">Hle</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">Ordinal</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#SSR_leq"><span class="id" title="lemma">SSR_leq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#le_n_S"><span class="id" title="lemma">le_n_S</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Hup</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#SSR_leq"><span class="id" title="lemma">SSR_leq</span></a> <span class="id" title="var">k</span> <span class="id" title="var">m'</span>) <span class="id" title="var">Hle</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx_map_le"><span class="id" title="lemma">sum_reidx_map_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> σ').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> (<span class="id" title="var">x</span>&amp;<span class="id" title="var">Hlex</span>) ?. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">enumT</span> <span class="id" title="lemma">mem_enum</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_ge"><span class="id" title="lemma">Rle_ge</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_pos"><span class="id" title="lemma">Rabs_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">enumT</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">enum_uniq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">enumT</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">enum_uniq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> (<span class="id" title="var">x</span>&amp;?) (<span class="id" title="var">y</span>&amp;?) =&gt; //= <span class="id" title="var">_</span>. <span class="id" title="tactic">inversion</span> 1. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">ord_inj</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#bij_inj"><span class="id" title="lemma">bij_inj</span></a> <span class="id" title="var">bij</span>). <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Lemma</span> <a id="sum_rearrange" class="idref" href="#sum_rearrange"><span class="id" title="lemma">sum_rearrange</span></a> <a id="x:39" class="idref" href="#x:39"><span class="id" title="binder">x</span></a> <a id="y:40" class="idref" href="#y:40"><span class="id" title="binder">y</span></a> <a id="z:41" class="idref" href="#z:41"><span class="id" title="binder">z</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="discprob.prob.rearrange.html#x:39"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="discprob.prob.rearrange.html#y:40"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="discprob.prob.rearrange.html#y:40"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="discprob.prob.rearrange.html#z:41"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="discprob.prob.rearrange.html#y:40"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="discprob.prob.rearrange.html#x:39"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="discprob.prob.rearrange.html#z:41"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="discprob.prob.rearrange.html#x:39"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">nra</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_n_m_bij_diff_abs" class="idref" href="#sum_n_m_bij_diff_abs"><span class="id" title="lemma">sum_n_m_bij_diff_abs</span></a> (<a id="a:42" class="idref" href="#a:42"><span class="id" title="binder">a</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="e301eb36a877cd02cbb5965c6e966e14" class="idref" href="#e301eb36a877cd02cbb5965c6e966e14"><span class="id" title="binder">σ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="bij:44" class="idref" href="#bij:44"><span class="id" title="binder">bij</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#bijective"><span class="id" title="inductive">bijective</span></a> <a class="idref" href="discprob.prob.rearrange.html#e301eb36a877cd02cbb5965c6e966e14"><span class="id" title="variable">σ</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="N:45" class="idref" href="#N:45"><span class="id" title="binder">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="M:46" class="idref" href="#M:46"><span class="id" title="binder">M</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="m:47" class="idref" href="#m:47"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#m:47"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#d62fe7eb16bd9315a9b7758d6f907270"><span class="id" title="notation">≥</span></a> <a class="idref" href="discprob.prob.rearrange.html#M:46"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="n:48" class="idref" href="#n:48"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:48"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#d62fe7eb16bd9315a9b7758d6f907270"><span class="id" title="notation">≥</span></a> <a class="idref" href="discprob.prob.rearrange.html#N:45"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <a class="idref" href="discprob.prob.rearrange.html#a:42"><span class="id" title="variable">a</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <a class="idref" href="discprob.prob.rearrange.html#e301eb36a877cd02cbb5965c6e966e14"><span class="id" title="variable">σ</span></a>) <a class="idref" href="discprob.prob.rearrange.html#m:47"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <a class="idref" href="discprob.prob.rearrange.html#a:42"><span class="id" title="variable">a</span></a>) <a class="idref" href="discprob.prob.rearrange.html#N:45"><span class="id" title="variable">N</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n_m"><span class="id" title="definition">sum_n_m</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <a class="idref" href="discprob.prob.rearrange.html#a:42"><span class="id" title="variable">a</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="discprob.prob.rearrange.html#N:45"><span class="id" title="variable">N</span></a>) <a class="idref" href="discprob.prob.rearrange.html#n:48"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="discprob.prob.rearrange.html#sum_n_bij_sandwich"><span class="id" title="lemma">sum_n_bij_sandwich</span></a> <span class="id" title="var">a</span> σ <span class="id" title="var">bij</span> <span class="id" title="var">N</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">M</span>&amp;<span class="id" title="var">HM</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">M</span> =&gt; <span class="id" title="var">m</span> <span class="id" title="var">HgeM</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<span class="id" title="var">HM</span> <span class="id" title="var">m</span> <span class="id" title="var">HgeM</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">N'</span>&amp;?&amp;(?&amp;?)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">N'</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n_m_sum_n"><span class="id" title="lemma">sum_n_m_sum_n</span></a>); <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_right"><span class="id" title="lemma">Rabs_right</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#minus"><span class="id" title="definition">minus</span></a>/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#plus"><span class="id" title="definition">plus</span></a>/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#opp"><span class="id" title="definition">opp</span></a>/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="discprob.prob.rearrange.html#sum_rearrange"><span class="id" title="lemma">sum_rearrange</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_n_m_bij_diff" class="idref" href="#sum_n_m_bij_diff"><span class="id" title="lemma">sum_n_m_bij_diff</span></a> (<a id="a:49" class="idref" href="#a:49"><span class="id" title="binder">a</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="5cdb643423f970505cbe86645593e303" class="idref" href="#5cdb643423f970505cbe86645593e303"><span class="id" title="binder">σ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="bij:51" class="idref" href="#bij:51"><span class="id" title="binder">bij</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#bijective"><span class="id" title="inductive">bijective</span></a> <a class="idref" href="discprob.prob.rearrange.html#5cdb643423f970505cbe86645593e303"><span class="id" title="variable">σ</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="N:52" class="idref" href="#N:52"><span class="id" title="binder">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="M:53" class="idref" href="#M:53"><span class="id" title="binder">M</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="m:54" class="idref" href="#m:54"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#m:54"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#d62fe7eb16bd9315a9b7758d6f907270"><span class="id" title="notation">≥</span></a> <a class="idref" href="discprob.prob.rearrange.html#M:53"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="n:55" class="idref" href="#n:55"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:55"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#d62fe7eb16bd9315a9b7758d6f907270"><span class="id" title="notation">≥</span></a> <a class="idref" href="discprob.prob.rearrange.html#N:52"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<a class="idref" href="discprob.prob.rearrange.html#a:49"><span class="id" title="variable">a</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <a class="idref" href="discprob.prob.rearrange.html#5cdb643423f970505cbe86645593e303"><span class="id" title="variable">σ</span></a>) <a class="idref" href="discprob.prob.rearrange.html#m:54"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:49"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#N:52"><span class="id" title="variable">N</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n_m"><span class="id" title="definition">sum_n_m</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <a class="idref" href="discprob.prob.rearrange.html#a:49"><span class="id" title="variable">a</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="discprob.prob.rearrange.html#N:52"><span class="id" title="variable">N</span></a>) <a class="idref" href="discprob.prob.rearrange.html#n:55"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>; <span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#bij_nat_cover"><span class="id" title="lemma">bij_nat_cover</span></a> σ <span class="id" title="var">bij</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">m</span>&amp;<span class="id" title="var">Hm</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">m</span> =&gt; <span class="id" title="var">m'</span> <span class="id" title="var">Hgem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">N</span>&amp;(<span class="id" title="var">Hhit</span>&amp;?&amp;<span class="id" title="var">Hup</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">N</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <span class="id" title="notation">&lt;=</span> <a id="i:56" class="idref" href="#i:56"><span class="id" title="binder"><span id="i:57" class="id"><span id="i:58" class="id"><span id="i:60" class="id"><span id="i:61" class="id"><span id="i:62" class="id">i</span></span></span></span></span></span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">N</span> <span class="id" title="notation">|</span> <a class="idref" href="discprob.prob.countable.html#exC"><span class="id" title="definition">exC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="m0:59" class="idref" href="#m0:59"><span class="id" title="binder"><span id="m0:63" class="id">m0</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><span class="id" title="definition">leq</span> <a class="idref" href="discprob.prob.rearrange.html#m0:59"><span class="id" title="variable">m0</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a>σ <a class="idref" href="discprob.prob.rearrange.html#m0:59"><span class="id" title="variable">m0</span></a> <span class="id" title="notation">==</span> <a class="idref" href="discprob.prob.rearrange.html#i:56"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>)<span class="id" title="notation">)</span> <span class="id" title="notation">(</span><span class="id" title="var">a</span> <a class="idref" href="discprob.prob.rearrange.html#i:56"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="discprob.basic.bigop_ext.html#sum_n_m_bigop"><span class="id" title="lemma">sum_n_m_bigop</span></a>. <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="discprob.basic.bigop_ext.html#Rabs_bigop_triang"><span class="id" title="lemma">Rabs_bigop_triang</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> //=. <span class="id" title="tactic">apply</span> <a class="idref" href="discprob.basic.bigop_ext.html#Rabs_bigop_filter"><span class="id" title="lemma">Rabs_bigop_filter</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<span class="id" title="var">a</span> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> σ) <span class="id" title="var">m'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:64" class="idref" href="#i:64"><span class="id" title="binder"><span id="i:65" class="id"><span id="i:66" class="id"><span id="i:68" class="id"><span id="i:69" class="id"><span id="i:70" class="id">i</span></span></span></span></span></span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">N</span> <span class="id" title="notation">|</span> <a class="idref" href="discprob.prob.countable.html#exC"><span class="id" title="definition">exC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="m0:67" class="idref" href="#m0:67"><span class="id" title="binder"><span id="m0:71" class="id">m0</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> (<a class="idref" href="discprob.prob.rearrange.html#m0:67"><span class="id" title="variable">m0</span></a> <span class="id" title="notation">&lt;=</span> <span class="id" title="var">m'</span>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a>σ <a class="idref" href="discprob.prob.rearrange.html#m0:67"><span class="id" title="variable">m0</span></a> <span class="id" title="notation">==</span> <a class="idref" href="discprob.prob.rearrange.html#i:64"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>)<span class="id" title="notation">)</span> <span class="id" title="var">a</span> <a class="idref" href="discprob.prob.rearrange.html#i:64"><span class="id" title="variable">i</span></a>) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="discprob.basic.bigop_ext.html#sum_n_bigop"><span class="id" title="lemma">sum_n_bigop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">index_enum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (σ' := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:72" class="idref" href="#x:72"><span class="id" title="binder"><span id="x:74" class="id">x</span></span></a>: <span class="id" title="notation">'</span><span class="id" title="notation">I_</span><span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m'</span><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="discprob.prob.rearrange.html#x:72"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Ordinal</span> <span class="id" title="var">k</span> <span class="id" title="var">Hle</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">Ordinal</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#SSR_leq"><span class="id" title="lemma">SSR_leq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#le_n_S"><span class="id" title="lemma">le_n_S</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Hup</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#SSR_leq"><span class="id" title="lemma">SSR_leq</span></a> <span class="id" title="var">k</span> <span class="id" title="var">m'</span>) <span class="id" title="var">Hle</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx_map"><span class="id" title="lemma">sum_reidx_map</span></a> (<span class="id" title="abbreviation">Finite.enum</span> (<span class="id" title="inductive">ordinal</span> <span class="id" title="var">m'</span><span class="id" title="notation">.+1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="abbreviation">Finite.enum</span> (<span class="id" title="inductive">ordinal</span> <span class="id" title="var">N</span><span class="id" title="notation">.+1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:76" class="idref" href="#x:76"><span class="id" title="binder"><span id="x:77" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <span class="id" title="var">_</span> σ').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> (<span class="id" title="var">x</span>&amp;<span class="id" title="var">Hlex</span>) ? =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> (<span class="id" title="var">m0</span>&amp;?); <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrbool.html#introT"><span class="id" title="lemma">introT</span></a> (<a class="idref" href="discprob.prob.countable.html#exCP"><span class="id" title="lemma">exCP</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">m0</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> (<span class="id" title="var">n'</span>&amp;?) <span class="id" title="var">_</span>. <span class="id" title="tactic">move</span> /<a class="idref" href="discprob.prob.countable.html#exCP"><span class="id" title="lemma">exCP</span></a> =&gt; [<span class="id" title="var">m0</span>]. <span class="id" title="tactic">move</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; [<span class="id" title="var">Hle</span> <span class="id" title="var">Heq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfalse</span>. <span class="id" title="var">contradiction</span> <span class="id" title="var">Hfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">m0</span> <span class="id" title="notation">&lt;</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m'</span>)%<span class="id" title="var">nat</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">nify</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="constructor">Ordinal</span> <span class="id" title="var">Hlt</span>). <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">ord_inj</span> =&gt; //=. <span class="id" title="var">nify</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">enumT</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">enum_uniq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">enumT</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">enum_uniq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> (<span class="id" title="var">x</span>&amp;?) (<span class="id" title="var">y</span>&amp;?)  <span class="id" title="var">_</span> =&gt; //=. <span class="id" title="tactic">inversion</span> 1. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">ord_inj</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#bij_inj"><span class="id" title="lemma">bij_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> <span class="id" title="var">a</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:78" class="idref" href="#i:78"><span class="id" title="binder"><span id="i:79" class="id"><span id="i:80" class="id"><span id="i:82" class="id"><span id="i:83" class="id"><span id="i:84" class="id">i</span></span></span></span></span></span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <span class="id" title="notation">|</span> <a class="idref" href="discprob.prob.countable.html#exC"><span class="id" title="definition">exC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="m0:81" class="idref" href="#m0:81"><span class="id" title="binder"><span id="m0:85" class="id">m0</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> (<a class="idref" href="discprob.prob.rearrange.html#m0:81"><span class="id" title="variable">m0</span></a> <span class="id" title="notation">&lt;=</span> <span class="id" title="var">m'</span>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a>σ <a class="idref" href="discprob.prob.rearrange.html#m0:81"><span class="id" title="variable">m0</span></a> <span class="id" title="notation">==</span> <a class="idref" href="discprob.prob.rearrange.html#i:78"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>)<span class="id" title="notation">)</span> <span class="id" title="var">a</span> <a class="idref" href="discprob.prob.rearrange.html#i:78"><span class="id" title="variable">i</span></a>) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="discprob.basic.bigop_ext.html#sum_n_bigop"><span class="id" title="lemma">sum_n_bigop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">eq_bigl</span>. <span class="id" title="tactic">intros</span> (<span class="id" title="var">i</span>&amp;<span class="id" title="var">Hle</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrbool.html#introT"><span class="id" title="lemma">introT</span></a> (<a class="idref" href="discprob.prob.countable.html#exCP"><span class="id" title="lemma">exCP</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<span class="id" title="var">Hhit</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">m''</span>&amp;?&amp;?); <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> (<span class="id" title="var">nify</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">m''</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="var">nify</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<span class="id" title="lemma">big_mkord</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="i:86" class="idref" href="#i:86"><span class="id" title="binder"><span id="i:88" class="id"><span id="i:90" class="id">i</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.countable.html#exC"><span class="id" title="definition">exC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="m0:87" class="idref" href="#m0:87"><span class="id" title="binder"><span id="m0:89" class="id"><span id="m0:91" class="id">m0</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> (<a class="idref" href="discprob.prob.rearrange.html#m0:87"><span class="id" title="variable">m0</span></a> <span class="id" title="notation">&lt;=</span> <span class="id" title="var">m'</span>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a>σ <a class="idref" href="discprob.prob.rearrange.html#m0:87"><span class="id" title="variable">m0</span></a> <span class="id" title="notation">==</span> <a class="idref" href="discprob.prob.rearrange.html#i:86"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <span class="id" title="notation">&lt;=</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">N</span>)%<span class="id" title="var">nat</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hsplit</span> <span class="id" title="tactic">by</span> (<span class="id" title="var">nify</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">big_cat_nat</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hsplit</span>) //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_mkord</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:92" class="idref" href="#a:92"><span class="id" title="binder"><span id="a:94" class="id">a</span></span></a> <a id="b:93" class="idref" href="#b:93"><span class="id" title="binder"><span id="b:95" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:92"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="discprob.prob.rearrange.html#b:93"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:92"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#b:93"><span class="id" title="variable">b</span></a>) <span class="id" title="keyword">as</span> -&gt; <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">field</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="norm_dist_mid" class="idref" href="#norm_dist_mid"><span class="id" title="lemma">norm_dist_mid</span></a> <a id="x:96" class="idref" href="#x:96"><span class="id" title="binder">x</span></a> <a id="y:97" class="idref" href="#y:97"><span class="id" title="binder">y</span></a> <a id="z:98" class="idref" href="#z:98"><span class="id" title="binder">z</span></a>: <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a> (<a class="idref" href="discprob.prob.rearrange.html#x:96"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="discprob.prob.rearrange.html#y:97"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a> (<a class="idref" href="discprob.prob.rearrange.html#x:96"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="discprob.prob.rearrange.html#z:98"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a> (<a class="idref" href="discprob.prob.rearrange.html#z:98"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="discprob.prob.rearrange.html#y:97"><span class="id" title="variable">y</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">z</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><span class="id" title="var">z</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">field</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm_triangle"><span class="id" title="lemma">norm_triangle</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_refl"><span class="id" title="lemma">Rle_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="series_rearrange" class="idref" href="#series_rearrange"><span class="id" title="lemma">series_rearrange</span></a> (<a id="a:99" class="idref" href="#a:99"><span class="id" title="binder">a</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="4fbcfdbd6bed7ea9d2fc47807f145636" class="idref" href="#4fbcfdbd6bed7ea9d2fc47807f145636"><span class="id" title="binder">σ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="bij:101" class="idref" href="#bij:101"><span class="id" title="binder">bij</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#bijective"><span class="id" title="inductive">bijective</span></a> <a class="idref" href="discprob.prob.rearrange.html#4fbcfdbd6bed7ea9d2fc47807f145636"><span class="id" title="variable">σ</span></a>) (<a id="v:102" class="idref" href="#v:102"><span class="id" title="binder">v</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:103" class="idref" href="#n:103"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="discprob.prob.rearrange.html#a:99"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:103"><span class="id" title="variable">n</span></a>)) <a class="idref" href="discprob.prob.rearrange.html#v:102"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:104" class="idref" href="#n:104"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="discprob.prob.rearrange.html#a:99"><span class="id" title="variable">a</span></a> (<a class="idref" href="discprob.prob.rearrange.html#4fbcfdbd6bed7ea9d2fc47807f145636"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:104"><span class="id" title="variable">n</span></a>))) <a class="idref" href="discprob.prob.rearrange.html#v:102"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:105" class="idref" href="#n:105"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:99"><span class="id" title="variable">a</span></a> (<a class="idref" href="discprob.prob.rearrange.html#4fbcfdbd6bed7ea9d2fc47807f145636"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:105"><span class="id" title="variable">n</span></a>)) (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Series"><span class="id" title="definition">Series</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:99"><span class="id" title="variable">a</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Habsconv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#ex_series"><span class="id" title="definition">ex_series</span></a> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">v'</span>&amp;<span class="id" title="var">Hconv</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#ex_series_Rabs"><span class="id" title="lemma">ex_series_Rabs</span></a>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hnorm</span>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="eps:106" class="idref" href="#eps:106"><span class="id" title="binder"><span id="eps:110" class="id">eps</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#posreal"><span class="id" title="record">posreal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="N:107" class="idref" href="#N:107"><span class="id" title="binder"><span id="N:111" class="id">N</span></span></a> <a id="M:108" class="idref" href="#M:108"><span class="id" title="binder"><span id="M:112" class="id">M</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="m:109" class="idref" href="#m:109"><span class="id" title="binder"><span id="m:113" class="id">m</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#M:108"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="discprob.prob.rearrange.html#m:109"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <span class="id" title="var">a</span>) <a class="idref" href="discprob.prob.rearrange.html#N:107"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <span class="id" title="var">a</span> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> σ) <a class="idref" href="discprob.prob.rearrange.html#m:109"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="discprob.prob.rearrange.html#eps:106"><span class="id" title="variable">eps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> <span class="id" title="var">a</span> <a class="idref" href="discprob.prob.rearrange.html#N:107"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<span class="id" title="var">a</span> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> σ) <a class="idref" href="discprob.prob.rearrange.html#m:109"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="discprob.prob.rearrange.html#eps:106"><span class="id" title="variable">eps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <span class="id" title="var">a</span>) <a class="idref" href="discprob.prob.rearrange.html#N:107"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">v</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="discprob.prob.rearrange.html#eps:106"><span class="id" title="variable">eps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> <span class="id" title="var">a</span> <a class="idref" href="discprob.prob.rearrange.html#N:107"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">v'</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="discprob.prob.rearrange.html#eps:106"><span class="id" title="variable">eps</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">eps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Cauchy_ex_series"><span class="id" title="lemma">Cauchy_ex_series</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">N0</span>&amp;<span class="id" title="var">IHN</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="N:114" class="idref" href="#N:114"><span class="id" title="binder"><span id="N:116" class="id">N</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="N':115" class="idref" href="#N':115"><span class="id" title="binder"><span id="N':117" class="id">N'</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#N':115"><span class="id" title="variable">N'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#d62fe7eb16bd9315a9b7758d6f907270"><span class="id" title="notation">≥</span></a> <a class="idref" href="discprob.prob.rearrange.html#N:114"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <span class="id" title="var">a</span>) <a class="idref" href="discprob.prob.rearrange.html#N':115"><span class="id" title="variable">N'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">v</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">eps</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">N1</span>&amp;<span class="id" title="var">HN1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Habsconv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">Habsconv</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span>&amp;<span class="id" title="var">Hball</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#locally_ball"><span class="id" title="lemma">locally_ball</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hball</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="N:118" class="idref" href="#N:118"><span class="id" title="binder"><span id="N:120" class="id">N</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="N':119" class="idref" href="#N':119"><span class="id" title="binder"><span id="N':121" class="id">N'</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#N':119"><span class="id" title="variable">N'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#d62fe7eb16bd9315a9b7758d6f907270"><span class="id" title="notation">≥</span></a> <a class="idref" href="discprob.prob.rearrange.html#N:118"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> <span class="id" title="var">a</span> <a class="idref" href="discprob.prob.rearrange.html#N':119"><span class="id" title="variable">N'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">v'</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">eps</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">N2</span>&amp;<span class="id" title="var">HN2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hconv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">Hconv</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span>&amp;<span class="id" title="var">Hball</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#locally_ball"><span class="id" title="lemma">locally_ball</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hball</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">N</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> <span class="id" title="var">N0</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> <span class="id" title="var">N1</span> <span class="id" title="var">N2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#sum_n_m_bij_diff_abs"><span class="id" title="lemma">sum_n_m_bij_diff_abs</span></a> <span class="id" title="var">a</span> σ <span class="id" title="var">bij</span> <span class="id" title="var">N</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">M1</span>&amp;<span class="id" title="var">IHM1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#sum_n_m_bij_diff"><span class="id" title="lemma">sum_n_m_bij_diff</span></a> <span class="id" title="var">a</span> σ <span class="id" title="var">bij</span> <span class="id" title="var">N</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">M2</span>&amp;<span class="id" title="var">IHM2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">N</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span>) =&gt; <span class="id" title="var">m</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.max_lub_iff"><span class="id" title="lemma">Nat.max_lub_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span> <span class="id" title="keyword">as</span> (?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#abs"><span class="id" title="definition">abs</span></a>//=; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_minus_sym"><span class="id" title="lemma">Rabs_minus_sym</span></a>. <span class="id" title="var">edestruct</span> (<span class="id" title="var">IHM1</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">n</span>&amp;?&amp;<span class="id" title="var">Hle</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_lt_trans"><span class="id" title="lemma">Rle_lt_trans</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#abs"><span class="id" title="definition">abs</span></a>//= <span class="id" title="tactic">in</span> <span class="id" title="var">IHN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_lt_trans"><span class="id" title="lemma">Rle_lt_trans</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rle_abs"><span class="id" title="lemma">Rle_abs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">N0</span> <span class="id" title="notation">&lt;=</span> <span class="id" title="var">N</span>)%<span class="id" title="var">coq_nat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">N</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_l"><span class="id" title="lemma">Nat.le_max_l</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHN</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_minus_sym"><span class="id" title="lemma">Rabs_minus_sym</span></a>. <span class="id" title="var">edestruct</span> (<span class="id" title="var">IHM2</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">n</span>&amp;?&amp;<span class="id" title="var">Hle</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_lt_trans"><span class="id" title="lemma">Rle_lt_trans</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#abs"><span class="id" title="definition">abs</span></a>//= <span class="id" title="tactic">in</span> <span class="id" title="var">IHN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_lt_trans"><span class="id" title="lemma">Rle_lt_trans</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rle_abs"><span class="id" title="lemma">Rle_abs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">N0</span> <span class="id" title="notation">&lt;=</span> <span class="id" title="var">N</span>)%<span class="id" title="var">coq_nat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">N</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_l"><span class="id" title="lemma">Nat.le_max_l</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHN</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">HN1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">N</span>. <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_r"><span class="id" title="lemma">Nat.le_max_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_l"><span class="id" title="lemma">Nat.le_max_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">HN2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">N</span>. <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_r"><span class="id" title="lemma">Nat.le_max_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_r"><span class="id" title="lemma">Nat.le_max_r</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#filterlim_locally"><span class="id" title="lemma">filterlim_locally</span></a> =&gt; <span class="id" title="var">eps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<span class="id" title="var">Hnorm</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#pos_div_2"><span class="id" title="definition">pos_div_2</span></a> <span class="id" title="var">eps</span>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">N</span>&amp;<span class="id" title="var">M</span>&amp;?<span class="id" title="var">HNM</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">M</span> =&gt; <span class="id" title="var">m</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HNM</span> <span class="id" title="var">m</span> <span class="id" title="var">Hle</span>) <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#ball"><span class="id" title="definition">ball</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#AbsRing_ball"><span class="id" title="definition">AbsRing_ball</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#abs"><span class="id" title="definition">abs</span></a>/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#AbsRing.abs"><span class="id" title="projection">AbsRing.abs</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#minus"><span class="id" title="definition">minus</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#plus"><span class="id" title="definition">plus</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#opp"><span class="id" title="definition">opp</span></a>//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="discprob.prob.rearrange.html#norm_dist_mid"><span class="id" title="lemma">norm_dist_mid</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <span class="id" title="var">a</span> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> σ) <span class="id" title="var">m</span>) <span class="id" title="var">v</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <span class="id" title="var">a</span>) <span class="id" title="var">N</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a>//={1}/<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#Rminus"><span class="id" title="definition">Rminus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hle'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_lt_trans"><span class="id" title="lemma">Rle_lt_trans</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hle'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eps</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">eps</span>&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">eps</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">eps</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a>2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">eps</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a>2); <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">field</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_lt_compat"><span class="id" title="lemma">Rplus_lt_compat</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#abs"><span class="id" title="definition">abs</span></a>//= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_minus_sym"><span class="id" title="lemma">Rabs_minus_sym</span></a>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Series"><span class="id" title="definition">Series</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v'</span>) <span class="id" title="keyword">as</span> -&gt; <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_unique"><span class="id" title="lemma">is_series_unique</span></a>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#filterlim_locally"><span class="id" title="lemma">filterlim_locally</span></a> =&gt; <span class="id" title="var">eps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<span class="id" title="var">Hnorm</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#pos_div_2"><span class="id" title="definition">pos_div_2</span></a> <span class="id" title="var">eps</span>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">N</span>&amp;<span class="id" title="var">M</span>&amp;?<span class="id" title="var">HNM</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">M</span> =&gt; <span class="id" title="var">m</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HNM</span> <span class="id" title="var">m</span> <span class="id" title="var">Hle</span>) <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#ball"><span class="id" title="definition">ball</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#AbsRing_ball"><span class="id" title="definition">AbsRing_ball</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#abs"><span class="id" title="definition">abs</span></a>/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#AbsRing.abs"><span class="id" title="projection">AbsRing.abs</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#minus"><span class="id" title="definition">minus</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#plus"><span class="id" title="definition">plus</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#opp"><span class="id" title="definition">opp</span></a>//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="discprob.prob.rearrange.html#norm_dist_mid"><span class="id" title="lemma">norm_dist_mid</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<span class="id" title="var">a</span> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> σ) <span class="id" title="var">m</span>) <span class="id" title="var">v'</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> <span class="id" title="var">a</span> <span class="id" title="var">N</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a>//={1}/<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#Rminus"><span class="id" title="definition">Rminus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hle'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_lt_trans"><span class="id" title="lemma">Rle_lt_trans</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hle'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eps</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">eps</span>&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">eps</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">eps</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a>2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">eps</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a>2); <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">field</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_lt_compat"><span class="id" title="lemma">Rplus_lt_compat</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#abs"><span class="id" title="definition">abs</span></a>//= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_minus_sym"><span class="id" title="lemma">Rabs_minus_sym</span></a>. <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="discprob.prob.rearrange.html#bijective"><span class="id" title="section">bijective</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="covering" class="idref" href="#covering"><span class="id" title="section">covering</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> (<a id="covering.a" class="idref" href="#covering.a"><span class="id" title="variable">a</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>).<br/>
<span class="id" title="keyword">Variable</span> (<a id="a7a5bc1ce2f954d4c38f9785224b1451" class="idref" href="#a7a5bc1ce2f954d4c38f9785224b1451"><span class="id" title="variable">σ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>
<span class="id" title="keyword">Variable</span> (<a id="covering.INJ" class="idref" href="#covering.INJ"><span class="id" title="variable">INJ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:124" class="idref" href="#n:124"><span class="id" title="binder">n</span></a> <a id="n':125" class="idref" href="#n':125"><span class="id" title="binder">n'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#covering.a"><span class="id" title="variable">a</span></a> (<a class="idref" href="discprob.prob.rearrange.html#a7a5bc1ce2f954d4c38f9785224b1451"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:124"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.prob.rearrange.html#a7a5bc1ce2f954d4c38f9785224b1451"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:124"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#a7a5bc1ce2f954d4c38f9785224b1451"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':125"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:124"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':125"><span class="id" title="variable">n'</span></a>).<br/>
<span class="id" title="keyword">Variable</span> (<a id="covering.COV" class="idref" href="#covering.COV"><span class="id" title="variable">COV</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:127" class="idref" href="#n:127"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#covering.a"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:127"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="m:128" class="idref" href="#m:128"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a7a5bc1ce2f954d4c38f9785224b1451"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#m:128"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:127"><span class="id" title="variable">n</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inj_nat_cover" class="idref" href="#inj_nat_cover"><span class="id" title="lemma">inj_nat_cover</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:130" class="idref" href="#n:130"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="m:131" class="idref" href="#m:131"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="m':132" class="idref" href="#m':132"><span class="id" title="binder">m'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#m':132"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#d62fe7eb16bd9315a9b7758d6f907270"><span class="id" title="notation">≥</span></a> <a class="idref" href="discprob.prob.rearrange.html#m:131"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="N:133" class="idref" href="#N:133"><span class="id" title="binder">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n':134" class="idref" href="#n':134"><span class="id" title="binder">n'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':134"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:130"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="m'':135" class="idref" href="#m'':135"><span class="id" title="binder">m''</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#m'':135"><span class="id" title="variable">m''</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="discprob.prob.rearrange.html#m':132"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="discprob.prob.rearrange.html#a7a5bc1ce2f954d4c38f9785224b1451"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#m'':135"><span class="id" title="variable">m''</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':134"><span class="id" title="variable">n'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="discprob.prob.rearrange.html#covering.a"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':134"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="discprob.prob.rearrange.html#N:133"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#d62fe7eb16bd9315a9b7758d6f907270"><span class="id" title="notation">≥</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:130"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="m'':136" class="idref" href="#m'':136"><span class="id" title="binder">m''</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#m'':136"><span class="id" title="variable">m''</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="discprob.prob.rearrange.html#m':132"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.prob.rearrange.html#a7a5bc1ce2f954d4c38f9785224b1451"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#m'':136"><span class="id" title="variable">m''</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="discprob.prob.rearrange.html#N:133"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Req_dec"><span class="id" title="lemma">Req_dec</span></a> (<a class="idref" href="discprob.prob.rearrange.html#covering.a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>) 0) <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hneq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; <span class="id" title="var">m'</span> <span class="id" title="var">Hge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#max_fun_range"><span class="id" title="lemma">max_fun_range</span></a> <a class="idref" href="discprob.prob.rearrange.html#a7a5bc1ce2f954d4c38f9785224b1451"><span class="id" title="variable">σ</span></a> <span class="id" title="var">m'</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">N</span>&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">N</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> <span class="id" title="var">n'</span>. <span class="id" title="tactic">inversion</span> 1. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#covering.COV"><span class="id" title="variable">COV</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> <span class="id" title="var">Hneq</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">m</span>&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">m</span> =&gt; <span class="id" title="var">m'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#max_fun_range"><span class="id" title="lemma">max_fun_range</span></a> <a class="idref" href="discprob.prob.rearrange.html#a7a5bc1ce2f954d4c38f9785224b1451"><span class="id" title="variable">σ</span></a> <span class="id" title="var">m'</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">N</span>&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">N</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> <span class="id" title="var">n'</span>. <span class="id" title="tactic">inversion</span> 1. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">m</span>&amp;<span class="id" title="var">Hm</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Req_dec"><span class="id" title="lemma">Req_dec</span></a> (<a class="idref" href="discprob.prob.rearrange.html#covering.a"><span class="id" title="variable">a</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>)) 0) <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hneq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exists</span> <span class="id" title="var">m</span> =&gt; <span class="id" title="var">m'</span> <span class="id" title="var">Hge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">N</span>&amp;?&amp;?&amp;?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">N</span>); <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">last</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n'</span>. <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#covering.COV"><span class="id" title="variable">COV</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">Hneq</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">minv</span>&amp;<span class="id" title="var">Heq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Nat.html#max"><span class="id" title="definition">Init.Nat.max</span></a> <span class="id" title="var">m</span> <span class="id" title="var">minv</span>) =&gt; <span class="id" title="var">m'</span> <span class="id" title="var">Hgem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#max_fun_range"><span class="id" title="lemma">max_fun_range</span></a> <a class="idref" href="discprob.prob.rearrange.html#a7a5bc1ce2f954d4c38f9785224b1451"><span class="id" title="variable">σ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Nat.html#max"><span class="id" title="definition">Init.Nat.max</span></a> <span class="id" title="var">m'</span> <span class="id" title="var">minv</span>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">N'</span>&amp;<span class="id" title="var">Hbound</span>&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">N'</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> <span class="id" title="var">n'</span>. <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">exists</span> <span class="id" title="var">minv</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Nat.html#max"><span class="id" title="definition">Init.Nat.max</span></a> <span class="id" title="var">m</span> <span class="id" title="var">minv</span>); <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_r"><span class="id" title="lemma">Nat.le_max_r</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">m'</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">N</span>&amp;(<span class="id" title="var">IHm1</span>&amp;?&amp;?)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_l"><span class="id" title="lemma">Nat.le_max_l</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hbound</span> <span class="id" title="var">minv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Heq</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hbound</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_r"><span class="id" title="lemma">Nat.le_max_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> <span class="id" title="var">m''</span> <span class="id" title="var">Hlem'</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hbound</span>. <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_l"><span class="id" title="lemma">Nat.le_max_l</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_n_m_cover_diff" class="idref" href="#sum_n_m_cover_diff"><span class="id" title="lemma">sum_n_m_cover_diff</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="N:137" class="idref" href="#N:137"><span class="id" title="binder">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="M:138" class="idref" href="#M:138"><span class="id" title="binder">M</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="m:139" class="idref" href="#m:139"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#m:139"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#d62fe7eb16bd9315a9b7758d6f907270"><span class="id" title="notation">≥</span></a> <a class="idref" href="discprob.prob.rearrange.html#M:138"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="n:140" class="idref" href="#n:140"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:140"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#d62fe7eb16bd9315a9b7758d6f907270"><span class="id" title="notation">≥</span></a> <a class="idref" href="discprob.prob.rearrange.html#N:137"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<a class="idref" href="discprob.prob.rearrange.html#covering.a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <a class="idref" href="discprob.prob.rearrange.html#a7a5bc1ce2f954d4c38f9785224b1451"><span class="id" title="variable">σ</span></a>) <a class="idref" href="discprob.prob.rearrange.html#m:139"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> <a class="idref" href="discprob.prob.rearrange.html#covering.a"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#N:137"><span class="id" title="variable">N</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n_m"><span class="id" title="definition">sum_n_m</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <a class="idref" href="discprob.prob.rearrange.html#covering.a"><span class="id" title="variable">a</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="discprob.prob.rearrange.html#N:137"><span class="id" title="variable">N</span></a>) <a class="idref" href="discprob.prob.rearrange.html#n:140"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>; <span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#inj_nat_cover"><span class="id" title="lemma">inj_nat_cover</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">m</span>&amp;<span class="id" title="var">Hm</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">m</span> =&gt; <span class="id" title="var">m'</span> <span class="id" title="var">Hgem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">N</span>&amp;(<span class="id" title="var">Hhit</span>&amp;?&amp;<span class="id" title="var">Hup</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">N</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <span class="id" title="notation">&lt;=</span> <a id="i:141" class="idref" href="#i:141"><span class="id" title="binder"><span id="i:142" class="id"><span id="i:143" class="id"><span id="i:145" class="id"><span id="i:146" class="id"><span id="i:147" class="id">i</span></span></span></span></span></span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">N</span> <span class="id" title="notation">|</span> <a class="idref" href="discprob.prob.countable.html#exC"><span class="id" title="definition">exC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="m0:144" class="idref" href="#m0:144"><span class="id" title="binder"><span id="m0:148" class="id">m0</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><span class="id" title="definition">leq</span> <a class="idref" href="discprob.prob.rearrange.html#m0:144"><span class="id" title="variable">m0</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="discprob.prob.rearrange.html#a7a5bc1ce2f954d4c38f9785224b1451"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#m0:144"><span class="id" title="variable">m0</span></a> <span class="id" title="notation">==</span> <a class="idref" href="discprob.prob.rearrange.html#i:141"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>)<span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="discprob.prob.rearrange.html#covering.a"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#i:141"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="discprob.basic.bigop_ext.html#sum_n_m_bigop"><span class="id" title="lemma">sum_n_m_bigop</span></a>. <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="discprob.basic.bigop_ext.html#Rabs_bigop_triang"><span class="id" title="lemma">Rabs_bigop_triang</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> //=. <span class="id" title="tactic">apply</span> <a class="idref" href="discprob.basic.bigop_ext.html#Rabs_bigop_filter"><span class="id" title="lemma">Rabs_bigop_filter</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<a class="idref" href="discprob.prob.rearrange.html#covering.a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <a class="idref" href="discprob.prob.rearrange.html#a7a5bc1ce2f954d4c38f9785224b1451"><span class="id" title="variable">σ</span></a>) <span class="id" title="var">m'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:149" class="idref" href="#i:149"><span class="id" title="binder"><span id="i:150" class="id"><span id="i:151" class="id"><span id="i:153" class="id"><span id="i:154" class="id"><span id="i:155" class="id">i</span></span></span></span></span></span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">N</span> <span class="id" title="notation">|</span> <a class="idref" href="discprob.prob.countable.html#exC"><span class="id" title="definition">exC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="m0:152" class="idref" href="#m0:152"><span class="id" title="binder"><span id="m0:156" class="id">m0</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> (<a class="idref" href="discprob.prob.rearrange.html#m0:152"><span class="id" title="variable">m0</span></a> <span class="id" title="notation">&lt;=</span> <span class="id" title="var">m'</span>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="discprob.prob.rearrange.html#a7a5bc1ce2f954d4c38f9785224b1451"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#m0:152"><span class="id" title="variable">m0</span></a> <span class="id" title="notation">==</span> <a class="idref" href="discprob.prob.rearrange.html#i:149"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>)<span class="id" title="notation">)</span> <a class="idref" href="discprob.prob.rearrange.html#covering.a"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#i:149"><span class="id" title="variable">i</span></a>) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="discprob.basic.bigop_ext.html#sum_n_bigop"><span class="id" title="lemma">sum_n_bigop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="discprob.basic.bigop_ext.html#bigop_cond_non0"><span class="id" title="lemma">bigop_cond_non0</span></a> [<span class="id" title="var">a</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#covering.a"><span class="id" title="variable">a</span></a>]<a class="idref" href="discprob.basic.bigop_ext.html#bigop_cond_non0"><span class="id" title="lemma">bigop_cond_non0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">index_enum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (σ' := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:158" class="idref" href="#x:158"><span class="id" title="binder"><span id="x:160" class="id">x</span></span></a>: <span class="id" title="notation">'</span><span class="id" title="notation">I_</span><span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m'</span><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="discprob.prob.rearrange.html#x:158"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Ordinal</span> <span class="id" title="var">k</span> <span class="id" title="var">Hle</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">Ordinal</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#SSR_leq"><span class="id" title="lemma">SSR_leq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#le_n_S"><span class="id" title="lemma">le_n_S</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Hup</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#SSR_leq"><span class="id" title="lemma">SSR_leq</span></a> <span class="id" title="var">k</span> <span class="id" title="var">m'</span>) <span class="id" title="var">Hle</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx_map"><span class="id" title="lemma">sum_reidx_map</span></a> (<span class="id" title="abbreviation">Finite.enum</span> (<span class="id" title="inductive">ordinal</span> <span class="id" title="var">m'</span><span class="id" title="notation">.+1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="abbreviation">Finite.enum</span> (<span class="id" title="inductive">ordinal</span> <span class="id" title="var">N</span><span class="id" title="notation">.+1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> σ').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> (<span class="id" title="var">x</span>&amp;<span class="id" title="var">Hlex</span>) ? =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> (<span class="id" title="var">m0</span>&amp;?); <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrbool.html#introT"><span class="id" title="lemma">introT</span></a> (<a class="idref" href="discprob.prob.countable.html#exCP"><span class="id" title="lemma">exCP</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">m0</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> (<span class="id" title="var">n'</span>&amp;?) <span class="id" title="var">_</span>. <span class="id" title="tactic">move</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; [<span class="id" title="var">HexC</span> ?]. <span class="id" title="tactic">move</span> /<a class="idref" href="discprob.prob.countable.html#exCP"><span class="id" title="lemma">exCP</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HexC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">HexC</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">m0</span>&amp;<span class="id" title="var">HexC'</span>). <span class="id" title="tactic">move</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HexC'</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">HexC'</span>) <span class="id" title="keyword">as</span> (?&amp;<span class="id" title="var">Heq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfalse</span>. <span class="id" title="var">contradiction</span> <span class="id" title="var">Hfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">m0</span> <span class="id" title="notation">&lt;</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m'</span>)%<span class="id" title="var">nat</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">nify</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="constructor">Ordinal</span> <span class="id" title="var">Hlt</span>). <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> //=. <span class="id" title="tactic">move</span> /<span class="id" title="definition">eqP</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> <span class="id" title="lemma">ord_inj</span> =&gt; //=. <span class="id" title="var">nify</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">enumT</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">enum_uniq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">enumT</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">enum_uniq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> (<span class="id" title="var">x</span>&amp;?) (<span class="id" title="var">y</span>&amp;?) <span class="id" title="var">Hneq0</span> =&gt; //=. <span class="id" title="tactic">inversion</span> 1. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">ord_inj</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="discprob.prob.rearrange.html#covering.INJ"><span class="id" title="variable">INJ</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">move</span> /<span class="id" title="definition">eqP</span>. <span class="id" title="tactic">move</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq0</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> <a class="idref" href="discprob.prob.rearrange.html#covering.a"><span class="id" title="variable">a</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">big</span><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a><span class="id" title="notation">/</span>0<span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span><a id="i:162" class="idref" href="#i:162"><span class="id" title="binder"><span id="i:163" class="id"><span id="i:164" class="id"><span id="i:166" class="id"><span id="i:167" class="id"><span id="i:168" class="id">i</span></span></span></span></span></span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <span class="id" title="notation">|</span> <a class="idref" href="discprob.prob.countable.html#exC"><span class="id" title="definition">exC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="m0:165" class="idref" href="#m0:165"><span class="id" title="binder"><span id="m0:169" class="id">m0</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> (<a class="idref" href="discprob.prob.rearrange.html#m0:165"><span class="id" title="variable">m0</span></a> <span class="id" title="notation">&lt;=</span> <span class="id" title="var">m'</span>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="discprob.prob.rearrange.html#a7a5bc1ce2f954d4c38f9785224b1451"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#m0:165"><span class="id" title="variable">m0</span></a> <span class="id" title="notation">==</span> <a class="idref" href="discprob.prob.rearrange.html#i:162"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>)<span class="id" title="notation">)</span> <a class="idref" href="discprob.prob.rearrange.html#covering.a"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#i:162"><span class="id" title="variable">i</span></a>) <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="discprob.basic.bigop_ext.html#sum_n_bigop"><span class="id" title="lemma">sum_n_bigop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="discprob.basic.bigop_ext.html#bigop_cond_non0"><span class="id" title="lemma">bigop_cond_non0</span></a> [<span class="id" title="var">a</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#covering.a"><span class="id" title="variable">a</span></a>]<a class="idref" href="discprob.basic.bigop_ext.html#bigop_cond_non0"><span class="id" title="lemma">bigop_cond_non0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="discprob.basic.bigop_ext.html#sum_reidx_map"><span class="id" title="lemma">sum_reidx_map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#id"><span class="id" title="abbreviation">id</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> (<span class="id" title="var">x</span>&amp;<span class="id" title="var">Hlex</span>) ? =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> (<span class="id" title="var">n'</span>&amp;<span class="id" title="var">Hle</span>) ? <span class="id" title="var">Hneq0</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrbool.html#introT"><span class="id" title="lemma">introT</span></a> (<a class="idref" href="discprob.prob.countable.html#exCP"><span class="id" title="lemma">exCP</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<span class="id" title="var">Hhit</span> <span class="id" title="var">n'</span>) <span class="id" title="keyword">as</span> [(<span class="id" title="var">m''</span>&amp;?&amp;?)|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> -<span class="id" title="var">Hle</span>. <span class="id" title="var">nify</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">exists</span> <span class="id" title="var">m''</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="var">nify</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>=&gt; //=. <span class="id" title="tactic">subst</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">rewrite</span> //= <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq0</span>. <span class="id" title="tactic">move</span> /<span class="id" title="definition">eqP</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq0</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> (<span class="id" title="var">n'</span>&amp;<span class="id" title="var">Hle</span>) <span class="id" title="var">_</span>. <span class="id" title="tactic">move</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; [<span class="id" title="var">HexC</span> ?]. <span class="id" title="tactic">move</span> /<a class="idref" href="discprob.prob.countable.html#exCP"><span class="id" title="lemma">exCP</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HexC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">HexC</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">m0</span>&amp;<span class="id" title="var">HexC'</span>). <span class="id" title="tactic">move</span> /<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HexC'</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">HexC'</span>) <span class="id" title="keyword">as</span> (?&amp;<span class="id" title="var">Heq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfalse</span>. <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hfalse</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="constructor">Ordinal</span> <span class="id" title="var">Hle</span>). <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">index_enum</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">enumT</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">enum_uniq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">index_enum</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">enumT</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">enum_uniq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> (<span class="id" title="var">x</span>&amp;?) (<span class="id" title="var">y</span>&amp;?) =&gt; //=.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<span class="id" title="lemma">big_mkord</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="i:171" class="idref" href="#i:171"><span class="id" title="binder"><span id="i:173" class="id"><span id="i:175" class="id">i</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.countable.html#exC"><span class="id" title="definition">exC</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="m0:172" class="idref" href="#m0:172"><span class="id" title="binder"><span id="m0:174" class="id"><span id="m0:176" class="id">m0</span></span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> (<a class="idref" href="discprob.prob.rearrange.html#m0:172"><span class="id" title="variable">m0</span></a> <span class="id" title="notation">&lt;=</span> <span class="id" title="var">m'</span>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="discprob.prob.rearrange.html#a7a5bc1ce2f954d4c38f9785224b1451"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#m0:172"><span class="id" title="variable">m0</span></a> <span class="id" title="notation">==</span> <a class="idref" href="discprob.prob.rearrange.html#i:171"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <span class="id" title="notation">&lt;=</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">N</span>)%<span class="id" title="var">nat</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hsplit</span> <span class="id" title="tactic">by</span> (<span class="id" title="var">nify</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">big_cat_nat</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hsplit</span>) //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_mkord</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:177" class="idref" href="#a:177"><span class="id" title="binder"><span id="a:179" class="id">a</span></span></a> <a id="b:178" class="idref" href="#b:178"><span class="id" title="binder"><span id="b:180" class="id">b</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:177"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="discprob.prob.rearrange.html#b:178"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:177"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#b:178"><span class="id" title="variable">b</span></a>) <span class="id" title="keyword">as</span> -&gt; <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">field</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="discprob.prob.rearrange.html#covering"><span class="id" title="section">covering</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="series_rearrange_covering" class="idref" href="#series_rearrange_covering"><span class="id" title="lemma">series_rearrange_covering</span></a> (<a id="a:181" class="idref" href="#a:181"><span class="id" title="binder">a</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="c4328d2d235e6e0d7c0a12c793e0568e" class="idref" href="#c4328d2d235e6e0d7c0a12c793e0568e"><span class="id" title="binder">σ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INJ:185" class="idref" href="#INJ:185"><span class="id" title="binder">INJ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:183" class="idref" href="#n:183"><span class="id" title="binder">n</span></a> <a id="n':184" class="idref" href="#n':184"><span class="id" title="binder">n'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:181"><span class="id" title="variable">a</span></a> (<a class="idref" href="discprob.prob.rearrange.html#c4328d2d235e6e0d7c0a12c793e0568e"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:183"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.prob.rearrange.html#c4328d2d235e6e0d7c0a12c793e0568e"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:183"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#c4328d2d235e6e0d7c0a12c793e0568e"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':184"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:183"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':184"><span class="id" title="variable">n'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="COV:188" class="idref" href="#COV:188"><span class="id" title="binder">COV</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:186" class="idref" href="#n:186"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:181"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:186"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="m:187" class="idref" href="#m:187"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#c4328d2d235e6e0d7c0a12c793e0568e"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#m:187"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:186"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="v:189" class="idref" href="#v:189"><span class="id" title="binder">v</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:190" class="idref" href="#n:190"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="discprob.prob.rearrange.html#a:181"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:190"><span class="id" title="variable">n</span></a>)) <a class="idref" href="discprob.prob.rearrange.html#v:189"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:191" class="idref" href="#n:191"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="discprob.prob.rearrange.html#a:181"><span class="id" title="variable">a</span></a> (<a class="idref" href="discprob.prob.rearrange.html#c4328d2d235e6e0d7c0a12c793e0568e"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:191"><span class="id" title="variable">n</span></a>))) <a class="idref" href="discprob.prob.rearrange.html#v:189"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:192" class="idref" href="#n:192"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:181"><span class="id" title="variable">a</span></a> (<a class="idref" href="discprob.prob.rearrange.html#c4328d2d235e6e0d7c0a12c793e0568e"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:192"><span class="id" title="variable">n</span></a>)) (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Series"><span class="id" title="definition">Series</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:181"><span class="id" title="variable">a</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Habsconv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#ex_series"><span class="id" title="definition">ex_series</span></a> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">v'</span>&amp;<span class="id" title="var">Hconv</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#ex_series_Rabs"><span class="id" title="lemma">ex_series_Rabs</span></a>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hnorm</span>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="eps:193" class="idref" href="#eps:193"><span class="id" title="binder"><span id="eps:197" class="id">eps</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#posreal"><span class="id" title="record">posreal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="N:194" class="idref" href="#N:194"><span class="id" title="binder"><span id="N:198" class="id">N</span></span></a> <a id="M:195" class="idref" href="#M:195"><span class="id" title="binder"><span id="M:199" class="id">M</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="m:196" class="idref" href="#m:196"><span class="id" title="binder"><span id="m:200" class="id">m</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#M:195"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="discprob.prob.rearrange.html#m:196"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <span class="id" title="var">a</span>) <a class="idref" href="discprob.prob.rearrange.html#N:194"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <span class="id" title="var">a</span> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> σ) <a class="idref" href="discprob.prob.rearrange.html#m:196"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="discprob.prob.rearrange.html#eps:193"><span class="id" title="variable">eps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> <span class="id" title="var">a</span> <a class="idref" href="discprob.prob.rearrange.html#N:194"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<span class="id" title="var">a</span> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> σ) <a class="idref" href="discprob.prob.rearrange.html#m:196"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="discprob.prob.rearrange.html#eps:193"><span class="id" title="variable">eps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <span class="id" title="var">a</span>) <a class="idref" href="discprob.prob.rearrange.html#N:194"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">v</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="discprob.prob.rearrange.html#eps:193"><span class="id" title="variable">eps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> <span class="id" title="var">a</span> <a class="idref" href="discprob.prob.rearrange.html#N:194"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">v'</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="discprob.prob.rearrange.html#eps:193"><span class="id" title="variable">eps</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">eps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Cauchy_ex_series"><span class="id" title="lemma">Cauchy_ex_series</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">N0</span>&amp;<span class="id" title="var">IHN</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="N:201" class="idref" href="#N:201"><span class="id" title="binder"><span id="N:203" class="id">N</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="N':202" class="idref" href="#N':202"><span class="id" title="binder"><span id="N':204" class="id">N'</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#N':202"><span class="id" title="variable">N'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#d62fe7eb16bd9315a9b7758d6f907270"><span class="id" title="notation">≥</span></a> <a class="idref" href="discprob.prob.rearrange.html#N:201"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <span class="id" title="var">a</span>) <a class="idref" href="discprob.prob.rearrange.html#N':202"><span class="id" title="variable">N'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">v</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">eps</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">N1</span>&amp;<span class="id" title="var">HN1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Habsconv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">Habsconv</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span>&amp;<span class="id" title="var">Hball</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#locally_ball"><span class="id" title="lemma">locally_ball</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hball</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="N:205" class="idref" href="#N:205"><span class="id" title="binder"><span id="N:207" class="id">N</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="N':206" class="idref" href="#N':206"><span class="id" title="binder"><span id="N':208" class="id">N'</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#N':206"><span class="id" title="variable">N'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#d62fe7eb16bd9315a9b7758d6f907270"><span class="id" title="notation">≥</span></a> <a class="idref" href="discprob.prob.rearrange.html#N:205"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> <span class="id" title="var">a</span> <a class="idref" href="discprob.prob.rearrange.html#N':206"><span class="id" title="variable">N'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">v'</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">eps</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">N2</span>&amp;<span class="id" title="var">HN2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hconv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">Hconv</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span>&amp;<span class="id" title="var">Hball</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#locally_ball"><span class="id" title="lemma">locally_ball</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hball</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">N</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> <span class="id" title="var">N0</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> <span class="id" title="var">N1</span> <span class="id" title="var">N2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#sum_n_m_cover_diff"><span class="id" title="lemma">sum_n_m_cover_diff</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <span class="id" title="var">a</span>) σ) <span class="id" title="keyword">as</span> (<span class="id" title="var">M1</span>&amp;<span class="id" title="var">IHM1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{  <span class="id" title="tactic">rewrite</span> //= =&gt; <span class="id" title="var">n</span> <span class="id" title="var">n'</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">INJ</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq0</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_R0"><span class="id" title="lemma">Rabs_R0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq0</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> //= =&gt; <span class="id" title="var">n</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">COV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq0</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_R0"><span class="id" title="lemma">Rabs_R0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq0</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#sum_n_m_cover_diff"><span class="id" title="lemma">sum_n_m_cover_diff</span></a> <span class="id" title="var">a</span> σ <span class="id" title="var">INJ</span> <span class="id" title="var">COV</span> <span class="id" title="var">N</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">M2</span>&amp;<span class="id" title="var">IHM2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">N</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span>) =&gt; <span class="id" title="var">m</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.max_lub_iff"><span class="id" title="lemma">Nat.max_lub_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span> <span class="id" title="keyword">as</span> (?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#abs"><span class="id" title="definition">abs</span></a>//=; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_minus_sym"><span class="id" title="lemma">Rabs_minus_sym</span></a>. <span class="id" title="var">edestruct</span> (<span class="id" title="var">IHM1</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">n</span>&amp;?&amp;<span class="id" title="var">Hle</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_lt_trans"><span class="id" title="lemma">Rle_lt_trans</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#abs"><span class="id" title="definition">abs</span></a>//= <span class="id" title="tactic">in</span> <span class="id" title="var">IHN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_lt_trans"><span class="id" title="lemma">Rle_lt_trans</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rle_abs"><span class="id" title="lemma">Rle_abs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">N0</span> <span class="id" title="notation">&lt;=</span> <span class="id" title="var">N</span>)%<span class="id" title="var">coq_nat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">N</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_l"><span class="id" title="lemma">Nat.le_max_l</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_lt_trans"><span class="id" title="lemma">Rle_lt_trans</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHN</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">N</span>) <span class="id" title="var">n</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n_m_ext_loc"><span class="id" title="lemma">sum_n_m_ext_loc</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> =&gt; //=. <span class="id" title="tactic">rewrite</span> //= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_Rabsolu"><span class="id" title="lemma">Rabs_Rabsolu</span></a>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_minus_sym"><span class="id" title="lemma">Rabs_minus_sym</span></a>. <span class="id" title="var">edestruct</span> (<span class="id" title="var">IHM2</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">n</span>&amp;?&amp;<span class="id" title="var">Hle</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_lt_trans"><span class="id" title="lemma">Rle_lt_trans</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#abs"><span class="id" title="definition">abs</span></a>//= <span class="id" title="tactic">in</span> <span class="id" title="var">IHN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_lt_trans"><span class="id" title="lemma">Rle_lt_trans</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rle_abs"><span class="id" title="lemma">Rle_abs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">N0</span> <span class="id" title="notation">&lt;=</span> <span class="id" title="var">N</span>)%<span class="id" title="var">coq_nat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">N</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_l"><span class="id" title="lemma">Nat.le_max_l</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHN</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">HN1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">N</span>. <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_r"><span class="id" title="lemma">Nat.le_max_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_l"><span class="id" title="lemma">Nat.le_max_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">HN2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">N</span>. <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_r"><span class="id" title="lemma">Nat.le_max_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_r"><span class="id" title="lemma">Nat.le_max_r</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#filterlim_locally"><span class="id" title="lemma">filterlim_locally</span></a> =&gt; <span class="id" title="var">eps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<span class="id" title="var">Hnorm</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#pos_div_2"><span class="id" title="definition">pos_div_2</span></a> <span class="id" title="var">eps</span>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">N</span>&amp;<span class="id" title="var">M</span>&amp;?<span class="id" title="var">HNM</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">M</span> =&gt; <span class="id" title="var">m</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HNM</span> <span class="id" title="var">m</span> <span class="id" title="var">Hle</span>) <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#ball"><span class="id" title="definition">ball</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#AbsRing_ball"><span class="id" title="definition">AbsRing_ball</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#abs"><span class="id" title="definition">abs</span></a>/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#AbsRing.abs"><span class="id" title="projection">AbsRing.abs</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#minus"><span class="id" title="definition">minus</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#plus"><span class="id" title="definition">plus</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#opp"><span class="id" title="definition">opp</span></a>//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="discprob.prob.rearrange.html#norm_dist_mid"><span class="id" title="lemma">norm_dist_mid</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <span class="id" title="var">a</span> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> σ) <span class="id" title="var">m</span>) <span class="id" title="var">v</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <span class="id" title="var">a</span>) <span class="id" title="var">N</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a>//={1}/<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#Rminus"><span class="id" title="definition">Rminus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hle'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_lt_trans"><span class="id" title="lemma">Rle_lt_trans</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hle'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eps</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">eps</span>&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">eps</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">eps</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a>2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">eps</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a>2); <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">field</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_lt_compat"><span class="id" title="lemma">Rplus_lt_compat</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#abs"><span class="id" title="definition">abs</span></a>//= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_minus_sym"><span class="id" title="lemma">Rabs_minus_sym</span></a>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Series"><span class="id" title="definition">Series</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v'</span>) <span class="id" title="keyword">as</span> -&gt; <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_unique"><span class="id" title="lemma">is_series_unique</span></a>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#filterlim_locally"><span class="id" title="lemma">filterlim_locally</span></a> =&gt; <span class="id" title="var">eps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<span class="id" title="var">Hnorm</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Rcomplements.html#pos_div_2"><span class="id" title="definition">pos_div_2</span></a> <span class="id" title="var">eps</span>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">N</span>&amp;<span class="id" title="var">M</span>&amp;?<span class="id" title="var">HNM</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">M</span> =&gt; <span class="id" title="var">m</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HNM</span> <span class="id" title="var">m</span> <span class="id" title="var">Hle</span>) <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#ball"><span class="id" title="definition">ball</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#AbsRing_ball"><span class="id" title="definition">AbsRing_ball</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#abs"><span class="id" title="definition">abs</span></a>/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#AbsRing.abs"><span class="id" title="projection">AbsRing.abs</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#minus"><span class="id" title="definition">minus</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#plus"><span class="id" title="definition">plus</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#opp"><span class="id" title="definition">opp</span></a>//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="discprob.prob.rearrange.html#norm_dist_mid"><span class="id" title="lemma">norm_dist_mid</span></a> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> (<span class="id" title="var">a</span> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> σ) <span class="id" title="var">m</span>) <span class="id" title="var">v'</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#sum_n"><span class="id" title="definition">sum_n</span></a> <span class="id" title="var">a</span> <span class="id" title="var">N</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a>//={1}/<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#Rminus"><span class="id" title="definition">Rminus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hle'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rle_lt_trans"><span class="id" title="lemma">Rle_lt_trans</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hle'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eps</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">eps</span>&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">eps</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">eps</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a>2 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <span class="id" title="var">eps</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a>2); <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">field</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_lt_compat"><span class="id" title="lemma">Rplus_lt_compat</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#norm"><span class="id" title="definition">norm</span></a>//=/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#abs"><span class="id" title="definition">abs</span></a>//= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_minus_sym"><span class="id" title="lemma">Rabs_minus_sym</span></a>. <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="series_rearrange_covering_pos" class="idref" href="#series_rearrange_covering_pos"><span class="id" title="lemma">series_rearrange_covering_pos</span></a> (<a id="a:209" class="idref" href="#a:209"><span class="id" title="binder">a</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="775ece8fae5e4b4061cf4b658276d95e" class="idref" href="#775ece8fae5e4b4061cf4b658276d95e"><span class="id" title="binder">σ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INJ:213" class="idref" href="#INJ:213"><span class="id" title="binder">INJ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:211" class="idref" href="#n:211"><span class="id" title="binder">n</span></a> <a id="n':212" class="idref" href="#n':212"><span class="id" title="binder">n'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:209"><span class="id" title="variable">a</span></a> (<a class="idref" href="discprob.prob.rearrange.html#775ece8fae5e4b4061cf4b658276d95e"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:211"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.prob.rearrange.html#775ece8fae5e4b4061cf4b658276d95e"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:211"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#775ece8fae5e4b4061cf4b658276d95e"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':212"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:211"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':212"><span class="id" title="variable">n'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="COV:216" class="idref" href="#COV:216"><span class="id" title="binder">COV</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:214" class="idref" href="#n:214"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:209"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:214"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="m:215" class="idref" href="#m:215"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#775ece8fae5e4b4061cf4b658276d95e"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#m:215"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:214"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="POS:218" class="idref" href="#POS:218"><span class="id" title="binder">POS</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:217" class="idref" href="#n:217"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:209"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:217"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#7822f196a19e8673dbc60a529f728eb7"><span class="id" title="notation">&gt;=</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="v:219" class="idref" href="#v:219"><span class="id" title="binder">v</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:209"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#v:219"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:220" class="idref" href="#n:220"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:209"><span class="id" title="variable">a</span></a> (<a class="idref" href="discprob.prob.rearrange.html#775ece8fae5e4b4061cf4b658276d95e"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:220"><span class="id" title="variable">n</span></a>)) <a class="idref" href="discprob.prob.rearrange.html#v:219"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_ext"><span class="id" title="lemma">is_series_ext</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:221" class="idref" href="#n:221"><span class="id" title="binder"><span id="n:222" class="id">n</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<span class="id" title="var">a</span> (σ <a class="idref" href="discprob.prob.rearrange.html#n:221"><span class="id" title="variable">n</span></a>)))).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_right"><span class="id" title="lemma">Rabs_right</span></a>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="discprob.prob.rearrange.html#series_rearrange_covering"><span class="id" title="lemma">series_rearrange_covering</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">His1</span>&amp;?); <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">His1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_ext"><span class="id" title="lemma">is_series_ext</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_right"><span class="id" title="lemma">Rabs_right</span></a>; <span class="id" title="tactic">auto</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Series_rearrange_covering" class="idref" href="#Series_rearrange_covering"><span class="id" title="lemma">Series_rearrange_covering</span></a> (<a id="a:223" class="idref" href="#a:223"><span class="id" title="binder">a</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="a0e84727f53ba31894b9a61e9ad1aac8" class="idref" href="#a0e84727f53ba31894b9a61e9ad1aac8"><span class="id" title="binder">σ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INJ:227" class="idref" href="#INJ:227"><span class="id" title="binder">INJ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:225" class="idref" href="#n:225"><span class="id" title="binder">n</span></a> <a id="n':226" class="idref" href="#n':226"><span class="id" title="binder">n'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:223"><span class="id" title="variable">a</span></a> (<a class="idref" href="discprob.prob.rearrange.html#a0e84727f53ba31894b9a61e9ad1aac8"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:225"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.prob.rearrange.html#a0e84727f53ba31894b9a61e9ad1aac8"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:225"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#a0e84727f53ba31894b9a61e9ad1aac8"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':226"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:225"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':226"><span class="id" title="variable">n'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="COV:230" class="idref" href="#COV:230"><span class="id" title="binder">COV</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:228" class="idref" href="#n:228"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:223"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:228"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="m:229" class="idref" href="#m:229"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a0e84727f53ba31894b9a61e9ad1aac8"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#m:229"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:228"><span class="id" title="variable">n</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#ex_series"><span class="id" title="definition">ex_series</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:231" class="idref" href="#n:231"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="discprob.prob.rearrange.html#a:223"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:231"><span class="id" title="variable">n</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Series"><span class="id" title="definition">Series</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:223"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Series"><span class="id" title="definition">Series</span></a> (<a class="idref" href="discprob.prob.rearrange.html#a:223"><span class="id" title="variable">a</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">o</span> <a class="idref" href="discprob.prob.rearrange.html#a0e84727f53ba31894b9a61e9ad1aac8"><span class="id" title="variable">σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">v'</span>&amp;?).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_unique"><span class="id" title="lemma">is_series_unique</span></a>. <span class="id" title="var">edestruct</span> <a class="idref" href="discprob.prob.rearrange.html#series_rearrange_covering"><span class="id" title="lemma">series_rearrange_covering</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="countable_series_rearrange_covering" class="idref" href="#countable_series_rearrange_covering"><span class="id" title="lemma">countable_series_rearrange_covering</span></a> {<a id="Y:232" class="idref" href="#Y:232"><span class="id" title="binder">Y</span></a> <a id="X:233" class="idref" href="#X:233"><span class="id" title="binder">X</span></a>: <span class="id" title="abbreviation">countType</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a:234" class="idref" href="#a:234"><span class="id" title="binder">a</span></a>: <a class="idref" href="discprob.prob.rearrange.html#X:233"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="5ccfc0b22a9dd9a0c3ca1dae6113ccd7" class="idref" href="#5ccfc0b22a9dd9a0c3ca1dae6113ccd7"><span class="id" title="binder">σ</span></a>: <a class="idref" href="discprob.prob.rearrange.html#Y:232"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.prob.rearrange.html#X:233"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INJ:238" class="idref" href="#INJ:238"><span class="id" title="binder">INJ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:236" class="idref" href="#n:236"><span class="id" title="binder">n</span></a> <a id="n':237" class="idref" href="#n':237"><span class="id" title="binder">n'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:234"><span class="id" title="variable">a</span></a> (<a class="idref" href="discprob.prob.rearrange.html#5ccfc0b22a9dd9a0c3ca1dae6113ccd7"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:236"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.prob.rearrange.html#5ccfc0b22a9dd9a0c3ca1dae6113ccd7"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:236"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#5ccfc0b22a9dd9a0c3ca1dae6113ccd7"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':237"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:236"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':237"><span class="id" title="variable">n'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="COV:241" class="idref" href="#COV:241"><span class="id" title="binder">COV</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:239" class="idref" href="#n:239"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:234"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:239"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="m:240" class="idref" href="#m:240"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#5ccfc0b22a9dd9a0c3ca1dae6113ccd7"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#m:240"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:239"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="v:242" class="idref" href="#v:242"><span class="id" title="binder">v</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:243" class="idref" href="#n:243"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="discprob.prob.rearrange.html#a:234"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:243"><span class="id" title="variable">n</span></a>))) <a class="idref" href="discprob.prob.rearrange.html#v:242"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:244" class="idref" href="#n:244"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="discprob.prob.rearrange.html#a:234"><span class="id" title="variable">a</span></a> (<a class="idref" href="discprob.prob.rearrange.html#5ccfc0b22a9dd9a0c3ca1dae6113ccd7"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:244"><span class="id" title="variable">n</span></a>)))) <a class="idref" href="discprob.prob.rearrange.html#v:242"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:245" class="idref" href="#n:245"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:234"><span class="id" title="variable">a</span></a> (<a class="idref" href="discprob.prob.rearrange.html#5ccfc0b22a9dd9a0c3ca1dae6113ccd7"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:245"><span class="id" title="variable">n</span></a>))) (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Series"><span class="id" title="definition">Series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:234"><span class="id" title="variable">a</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">a'</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:246" class="idref" href="#n:246"><span class="id" title="binder"><span id="n:248" class="id">n</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="discprob.prob.rearrange.html#n:246"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span> | <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; 0 | <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span> =&gt; <a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> <span class="id" title="var">a</span> <span class="id" title="var">n'</span> <span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (σ' := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:250" class="idref" href="#n:250"><span class="id" title="binder"><span id="n:251" class="id">n</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">match</span> @<span class="id" title="definition">pickle_inv</span> <span class="id" title="var">Y</span> <a class="idref" href="discprob.prob.rearrange.html#n:250"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="definition">pickle</span> (σ <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">His</span>. <span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#series_rearrange_covering"><span class="id" title="lemma">series_rearrange_covering</span></a> <span class="id" title="var">a'</span> σ') <span class="id" title="keyword">as</span> (<span class="id" title="var">Habs</span>&amp;?).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span>. <span class="id" title="tactic">rewrite</span> /σ'/<span class="id" title="var">a'</span>/<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a>/<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#oapp"><span class="id" title="abbreviation">oapp</span></a>//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<span class="id" title="definition">pickle_inv</span> <span class="id" title="var">Y</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">pickleK_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<span class="id" title="definition">pickle_inv</span> <span class="id" title="var">Y</span> <span class="id" title="var">n'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">s'</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> ? <span class="id" title="var">HeqS</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqS</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="discprob.prob.countable.html#pickle_inj"><span class="id" title="lemma">pickle_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">s'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">INJ</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="discprob.prob.countable.html#pickle_inv_some_inj"><span class="id" title="lemma">pickle_inv_some_inj</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq0</span> <span class="id" title="var">Hpickle</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hpickle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">a'</span>/<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a>/σ'//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span>]; <span class="id" title="tactic">first</span> <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<span class="id" title="definition">pickle_inv</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> //= =&gt; <span class="id" title="var">Hneq0</span>. <span class="id" title="var">edestruct</span> (<span class="id" title="var">COV</span> <span class="id" title="var">_</span> <span class="id" title="var">Hneq0</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">m</span>&amp;<span class="id" title="var">Heqm</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="definition">pickle</span> <span class="id" title="var">m</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">pickleK_inv</span> =&gt; //=. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="discprob.prob.countable.html#pickle_inv_some_inv"><span class="id" title="lemma">pickle_inv_some_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> //=; <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_decr_1"><span class="id" title="lemma">is_series_decr_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_R0"><span class="id" title="lemma">Rabs_R0</span></a> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#opp"><span class="id" title="definition">opp</span></a>//= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Ropp_0"><span class="id" title="lemma">Ropp_0</span></a>/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#plus"><span class="id" title="definition">plus</span></a>//= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_ext"><span class="id" title="lemma">is_series_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a>//=. <span class="id" title="tactic">destruct</span> <span class="id" title="definition">pickle_inv</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_R0"><span class="id" title="lemma">Rabs_R0</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_ext"><span class="id" title="lemma">is_series_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">a'</span>/<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a>/σ'//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<span class="id" title="definition">pickle_inv</span> <span class="id" title="var">Y</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">pickleK_inv</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> //= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_R0"><span class="id" title="lemma">Rabs_R0</span></a> //=.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Series"><span class="id" title="definition">Series</span></a> <span class="id" title="var">a'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Series"><span class="id" title="definition">Series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">a'</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Series_incr_1_aux"><span class="id" title="lemma">Series_incr_1_aux</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_ext"><span class="id" title="lemma">is_series_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">a'</span>/<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a>/σ'//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<span class="id" title="definition">pickle_inv</span> <span class="id" title="var">Y</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">pickleK_inv</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> //=.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="countable_series_oapp" class="idref" href="#countable_series_oapp"><span class="id" title="lemma">countable_series_oapp</span></a> {<a id="X:252" class="idref" href="#X:252"><span class="id" title="binder">X</span></a>: <span class="id" title="abbreviation">countType</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a:253" class="idref" href="#a:253"><span class="id" title="binder">a</span></a>: <a class="idref" href="discprob.prob.rearrange.html#X:252"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="v:254" class="idref" href="#v:254"><span class="id" title="binder">v</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:255" class="idref" href="#n:255"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#oapp"><span class="id" title="abbreviation">oapp</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:253"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R0"><span class="id" title="axiom">R0</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:255"><span class="id" title="variable">n</span></a>))) <a class="idref" href="discprob.prob.rearrange.html#v:254"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:256" class="idref" href="#n:256"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="discprob.prob.rearrange.html#a:253"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:256"><span class="id" title="variable">n</span></a>))) <a class="idref" href="discprob.prob.rearrange.html#v:254"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:257" class="idref" href="#n:257"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:253"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:257"><span class="id" title="variable">n</span></a>)) (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Series"><span class="id" title="definition">Series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#oapp"><span class="id" title="abbreviation">oapp</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:253"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R0"><span class="id" title="axiom">R0</span></a>))).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#countable_series_rearrange_covering"><span class="id" title="lemma">countable_series_rearrange_covering</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#oapp"><span class="id" title="abbreviation">oapp</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R0"><span class="id" title="axiom">R0</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">Habs</span>&amp;?).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> //=. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> //=. <span class="id" title="tactic">intros</span> [|]; <span class="id" title="tactic">rewrite</span> //=; (<span class="id" title="tactic">eauto</span> || <span class="id" title="var">nra</span>). }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_ext"><span class="id" title="lemma">is_series_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> //=.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_ext"><span class="id" title="lemma">is_series_ext</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="countable_series_oapp'" class="idref" href="#countable_series_oapp'"><span class="id" title="lemma">countable_series_oapp'</span></a> {<a id="X:258" class="idref" href="#X:258"><span class="id" title="binder">X</span></a>: <span class="id" title="abbreviation">countType</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a:259" class="idref" href="#a:259"><span class="id" title="binder">a</span></a>: <a class="idref" href="discprob.prob.rearrange.html#X:258"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="v:260" class="idref" href="#v:260"><span class="id" title="binder">v</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:261" class="idref" href="#n:261"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="discprob.prob.rearrange.html#a:259"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:261"><span class="id" title="variable">n</span></a>))) <a class="idref" href="discprob.prob.rearrange.html#v:260"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:262" class="idref" href="#n:262"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#oapp"><span class="id" title="abbreviation">oapp</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:259"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R0"><span class="id" title="axiom">R0</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:262"><span class="id" title="variable">n</span></a>))) <a class="idref" href="discprob.prob.rearrange.html#v:260"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#oapp"><span class="id" title="abbreviation">oapp</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:259"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R0"><span class="id" title="axiom">R0</span></a>)) (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Series"><span class="id" title="definition">Series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:259"><span class="id" title="variable">a</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">His</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">a'</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:263" class="idref" href="#n:263"><span class="id" title="binder"><span id="n:265" class="id">n</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="discprob.prob.rearrange.html#n:263"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span> | <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; 0 | <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span> =&gt; <a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> <span class="id" title="var">a</span> <span class="id" title="var">n'</span> <span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (σ' := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:267" class="idref" href="#n:267"><span class="id" title="binder"><span id="n:268" class="id">n</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">match</span> @<span class="id" title="definition">pickle_inv</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <span class="id" title="var">X</span>) <a class="idref" href="discprob.prob.rearrange.html#n:267"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="definition">pickle</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#series_rearrange_covering"><span class="id" title="lemma">series_rearrange_covering</span></a> <span class="id" title="var">a'</span> σ') <span class="id" title="keyword">as</span> (<span class="id" title="var">Habs</span>&amp;?).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span>. <span class="id" title="tactic">rewrite</span> /σ'/<span class="id" title="var">a'</span>/<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a>/<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#oapp"><span class="id" title="abbreviation">oapp</span></a>//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<span class="id" title="definition">pickle_inv</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <span class="id" title="var">X</span>) <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">s</span>|]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">pickleK_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<span class="id" title="definition">pickle_inv</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <span class="id" title="var">X</span>) <span class="id" title="var">n'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">s'</span>|]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> ? <span class="id" title="var">HeqS</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqS</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="discprob.prob.countable.html#pickle_inj"><span class="id" title="lemma">pickle_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="discprob.prob.countable.html#pickle_inv_some_inj"><span class="id" title="lemma">pickle_inv_some_inj</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq0</span> <span class="id" title="var">Hpickle</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hpickle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq0</span> <span class="id" title="var">Hpickle</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hpickle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">a'</span>/<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a>/σ'//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span>]; <span class="id" title="tactic">first</span> <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<span class="id" title="definition">pickle_inv</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqs</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> //= =&gt; <span class="id" title="var">Hneq0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="definition">pickle</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">s</span>)). <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">pickleK_inv</span> =&gt; //=. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="discprob.prob.countable.html#pickle_inv_some_inv"><span class="id" title="lemma">pickle_inv_some_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_decr_1"><span class="id" title="lemma">is_series_decr_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_R0"><span class="id" title="lemma">Rabs_R0</span></a> /<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#opp"><span class="id" title="definition">opp</span></a>//= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Ropp_0"><span class="id" title="lemma">Ropp_0</span></a>/<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Hierarchy.html#plus"><span class="id" title="definition">plus</span></a>//= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rplus_0_r"><span class="id" title="lemma">Rplus_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_ext"><span class="id" title="lemma">is_series_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a>//=. <span class="id" title="tactic">destruct</span> <span class="id" title="definition">pickle_inv</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_R0"><span class="id" title="lemma">Rabs_R0</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_ext"><span class="id" title="lemma">is_series_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">a'</span>/<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a>/σ'//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<span class="id" title="definition">pickle_inv</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <span class="id" title="var">X</span>) <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">s</span>|]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">pickleK_inv</span> <span class="id" title="var">Heqs</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqs</span> //= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_R0"><span class="id" title="lemma">Rabs_R0</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqs</span> //= <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_R0"><span class="id" title="lemma">Rabs_R0</span></a> //=.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Series"><span class="id" title="definition">Series</span></a> <span class="id" title="var">a'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Series"><span class="id" title="definition">Series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">a'</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Series_incr_1_aux"><span class="id" title="lemma">Series_incr_1_aux</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_ext"><span class="id" title="lemma">is_series_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">a'</span>/<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a>/σ'//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<span class="id" title="definition">pickle_inv</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <span class="id" title="var">X</span>) <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">s</span>|]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqs</span> <span class="id" title="lemma">pickleK_inv</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqs</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqs</span> //=.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="countable_Series_oapp'" class="idref" href="#countable_Series_oapp'"><span class="id" title="lemma">countable_Series_oapp'</span></a> {<a id="X:269" class="idref" href="#X:269"><span class="id" title="binder">X</span></a>: <span class="id" title="abbreviation">countType</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a:270" class="idref" href="#a:270"><span class="id" title="binder">a</span></a>: <a class="idref" href="discprob.prob.rearrange.html#X:269"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#ex_series"><span class="id" title="definition">ex_series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:271" class="idref" href="#n:271"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="discprob.prob.rearrange.html#a:270"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:271"><span class="id" title="variable">n</span></a>))) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Series"><span class="id" title="definition">Series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:270"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Series"><span class="id" title="definition">Series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#oapp"><span class="id" title="abbreviation">oapp</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:270"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R0"><span class="id" title="axiom">R0</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">v</span>&amp;<span class="id" title="var">Hex</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#countable_series_oapp'"><span class="id" title="lemma">countable_series_oapp'</span></a> <span class="id" title="var">a</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_unique"><span class="id" title="lemma">is_series_unique</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Remark</span> <a id="gt_support_conv" class="idref" href="#gt_support_conv"><span class="id" title="lemma">gt_support_conv</span></a> {<a id="X:272" class="idref" href="#X:272"><span class="id" title="binder">X</span></a>: <span class="id" title="abbreviation">countType</span>} (<a id="b:273" class="idref" href="#b:273"><span class="id" title="binder">b</span></a>: <a class="idref" href="discprob.prob.rearrange.html#X:272"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>): <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:274" class="idref" href="#x:274"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#b:273"><span class="id" title="variable">b</span></a> <a class="idref" href="discprob.prob.rearrange.html#x:274"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.prob.countable.html#support"><span class="id" title="definition">support</span></a> <a class="idref" href="discprob.prob.rearrange.html#b:273"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hgt</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rgt_dec"><span class="id" title="lemma">Rgt_dec</span></a> (<span class="id" title="var">b</span> <span class="id" title="var">x</span>) 0); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="countable_series_rearrange_covering_match" class="idref" href="#countable_series_rearrange_covering_match"><span class="id" title="lemma">countable_series_rearrange_covering_match</span></a> {<a id="X:275" class="idref" href="#X:275"><span class="id" title="binder">X</span></a> <a id="Y:276" class="idref" href="#Y:276"><span class="id" title="binder">Y</span></a>: <span class="id" title="abbreviation">countType</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a:277" class="idref" href="#a:277"><span class="id" title="binder">a</span></a>: <a class="idref" href="discprob.prob.rearrange.html#X:275"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="b:278" class="idref" href="#b:278"><span class="id" title="binder">b</span></a>: <a class="idref" href="discprob.prob.rearrange.html#Y:276"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="dec00bc1c47428012b4ea2b5a990fa54" class="idref" href="#dec00bc1c47428012b4ea2b5a990fa54"><span class="id" title="binder">σ</span></a>: <a class="idref" href="discprob.prob.countable.html#support"><span class="id" title="definition">support</span></a> <a class="idref" href="discprob.prob.rearrange.html#b:278"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.prob.countable.html#support"><span class="id" title="definition">support</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:277"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hapos:281" class="idref" href="#Hapos:281"><span class="id" title="binder">Hapos</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:280" class="idref" href="#x:280"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:277"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#x:280"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#7822f196a19e8673dbc60a529f728eb7"><span class="id" title="notation">&gt;=</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hbpos:283" class="idref" href="#Hbpos:283"><span class="id" title="binder">Hbpos</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:282" class="idref" href="#x:282"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#b:278"><span class="id" title="variable">b</span></a> <a class="idref" href="discprob.prob.rearrange.html#x:282"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#7822f196a19e8673dbc60a529f728eb7"><span class="id" title="notation">&gt;=</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INJ:286" class="idref" href="#INJ:286"><span class="id" title="binder">INJ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:284" class="idref" href="#n:284"><span class="id" title="binder">n</span></a> <a id="n':285" class="idref" href="#n':285"><span class="id" title="binder">n'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#dec00bc1c47428012b4ea2b5a990fa54"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:284"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#dec00bc1c47428012b4ea2b5a990fa54"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':285"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:284"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':285"><span class="id" title="variable">n'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="COV:289" class="idref" href="#COV:289"><span class="id" title="binder">COV</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:287" class="idref" href="#n:287"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="m:288" class="idref" href="#m:288"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#dec00bc1c47428012b4ea2b5a990fa54"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#m:288"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:287"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="EQ:291" class="idref" href="#EQ:291"><span class="id" title="binder">EQ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:290" class="idref" href="#n:290"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:277"><span class="id" title="variable">a</span></a> (<span class="id" title="abbreviation">sval</span> (<a class="idref" href="discprob.prob.rearrange.html#dec00bc1c47428012b4ea2b5a990fa54"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:290"><span class="id" title="variable">n</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#b:278"><span class="id" title="variable">b</span></a> (<span class="id" title="abbreviation">sval</span> <a class="idref" href="discprob.prob.rearrange.html#n:290"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="v:292" class="idref" href="#v:292"><span class="id" title="binder">v</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:293" class="idref" href="#n:293"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:277"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:293"><span class="id" title="variable">n</span></a>)) <a class="idref" href="discprob.prob.rearrange.html#v:292"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:294" class="idref" href="#n:294"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#b:278"><span class="id" title="variable">b</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:294"><span class="id" title="variable">n</span></a>)) <a class="idref" href="discprob.prob.rearrange.html#v:292"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">His</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (σ':=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="y:295" class="idref" href="#y:295"><span class="id" title="binder"><span id="y:296" class="id">y</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rgt_dec"><span class="id" title="lemma">Rgt_dec</span></a> (<span class="id" title="var">b</span> <a class="idref" href="discprob.prob.rearrange.html#y:295"><span class="id" title="variable">y</span></a>) 0 <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">Hpf</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="abbreviation">sval</span> (σ (<a class="idref" href="discprob.prob.rearrange.html#gt_support_conv"><span class="id" title="lemma">gt_support_conv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hpf</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>  =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:297" class="idref" href="#n:297"><span class="id" title="binder"><span id="n:298" class="id">n</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#oapp"><span class="id" title="abbreviation">oapp</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R0"><span class="id" title="axiom">R0</span></a> (σ' <a class="idref" href="discprob.prob.rearrange.html#n:297"><span class="id" title="variable">n</span></a>)))) <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">Hext</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_ext"><span class="id" title="lemma">is_series_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a>/σ'//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="definition">pickle_inv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span>|] =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rgt_dec"><span class="id" title="lemma">Rgt_dec</span></a> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ</span> //=; <span class="id" title="tactic">try</span> <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_right"><span class="id" title="lemma">Rabs_right</span></a>; <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_R0"><span class="id" title="lemma">Rabs_R0</span></a>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hbpos</span> <span class="id" title="var">s</span>); <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#countable_series_rearrange_covering"><span class="id" title="lemma">countable_series_rearrange_covering</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#oapp"><span class="id" title="abbreviation">oapp</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R0"><span class="id" title="axiom">R0</span></a>) σ').<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /σ'. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rgt_dec"><span class="id" title="lemma">Rgt_dec</span></a> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq0</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq'</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="discprob.basic.sval.html#sval_inj_pi"><span class="id" title="lemma">sval_inj_pi</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq'</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">INJ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq'</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> [<span class="id" title="var">s</span>|] =&gt; //=. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hapos</span> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hgt0</span>|<span class="id" title="var">Heq0</span>]; <span class="id" title="var">last</span> <span class="id" title="var">nra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">COV</span> (<a class="idref" href="discprob.prob.rearrange.html#gt_support_conv"><span class="id" title="lemma">gt_support_conv</span></a> <span class="id" title="var">a</span> <span class="id" title="var">s</span> <span class="id" title="var">Hgt0</span>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span>&amp;<span class="id" title="var">Heqy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="abbreviation">sval</span> <span class="id" title="var">y</span>). <span class="id" title="tactic">rewrite</span> /σ'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rgt_dec"><span class="id" title="lemma">Rgt_dec</span></a> <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hngt</span>]; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span>&amp;<span class="id" title="var">Hgt</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hngt</span>. <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">Hngt</span> <span class="id" title="var">Hgt</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Rgt_dec"><span class="id" title="lemma">Rgt_dec</span></a>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">transitivity</span> (<span class="id" title="abbreviation">sval</span> (σ <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="discprob.basic.sval.html#sval_inj_pred"><span class="id" title="lemma">sval_inj_pred</span></a> =&gt; //=. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqy</span> =&gt; //=.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{ <span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#countable_series_oapp'"><span class="id" title="lemma">countable_series_oapp'</span></a> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_ext"><span class="id" title="lemma">is_series_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> =&gt; <span class="id" title="var">n</span>. <span class="id" title="tactic">destruct</span> (@<span class="id" title="definition">pickle_inv</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span>) =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs_right"><span class="id" title="lemma">Rabs_right</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="countable_series_rearrange_covering_match_fun" class="idref" href="#countable_series_rearrange_covering_match_fun"><span class="id" title="lemma">countable_series_rearrange_covering_match_fun</span></a> {<a id="X:299" class="idref" href="#X:299"><span class="id" title="binder">X</span></a> <a id="Y:300" class="idref" href="#Y:300"><span class="id" title="binder">Y</span></a>: <span class="id" title="abbreviation">countType</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a:301" class="idref" href="#a:301"><span class="id" title="binder">a</span></a>: <a class="idref" href="discprob.prob.rearrange.html#X:299"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="b:302" class="idref" href="#b:302"><span class="id" title="binder">b</span></a>: <a class="idref" href="discprob.prob.rearrange.html#Y:300"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="dfdc303f41cbb8c8a66cf3c5b08ab952" class="idref" href="#dfdc303f41cbb8c8a66cf3c5b08ab952"><span class="id" title="binder">σ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="x:303" class="idref" href="#x:303"><span class="id" title="binder">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="discprob.prob.rearrange.html#Y:300"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="discprob.prob.rearrange.html#b:302"><span class="id" title="variable">b</span></a> <a class="idref" href="discprob.prob.rearrange.html#x:303"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <a id="x:304" class="idref" href="#x:304"><span class="id" title="binder">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="discprob.prob.rearrange.html#X:299"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:301"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#x:304"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;(Hapos:&nbsp;∀&nbsp;x,&nbsp;a&nbsp;x&nbsp;&gt;=&nbsp;0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Hbpos:&nbsp;∀&nbsp;x,&nbsp;b&nbsp;x&nbsp;&gt;=&nbsp;0)&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INJ:308" class="idref" href="#INJ:308"><span class="id" title="binder">INJ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:306" class="idref" href="#n:306"><span class="id" title="binder">n</span></a> <a id="n':307" class="idref" href="#n':307"><span class="id" title="binder">n'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#dfdc303f41cbb8c8a66cf3c5b08ab952"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:306"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#dfdc303f41cbb8c8a66cf3c5b08ab952"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':307"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:306"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#n':307"><span class="id" title="variable">n'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="COV:311" class="idref" href="#COV:311"><span class="id" title="binder">COV</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:309" class="idref" href="#n:309"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="m:310" class="idref" href="#m:310"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#dfdc303f41cbb8c8a66cf3c5b08ab952"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#m:310"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:309"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="EQ:313" class="idref" href="#EQ:313"><span class="id" title="binder">EQ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:312" class="idref" href="#n:312"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:301"><span class="id" title="variable">a</span></a> (<span class="id" title="abbreviation">sval</span> (<a class="idref" href="discprob.prob.rearrange.html#dfdc303f41cbb8c8a66cf3c5b08ab952"><span class="id" title="variable">σ</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:312"><span class="id" title="variable">n</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.rearrange.html#b:302"><span class="id" title="variable">b</span></a> (<span class="id" title="abbreviation">sval</span> <a class="idref" href="discprob.prob.rearrange.html#n:312"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="v:314" class="idref" href="#v:314"><span class="id" title="binder">v</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:315" class="idref" href="#n:315"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="discprob.prob.rearrange.html#a:301"><span class="id" title="variable">a</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:315"><span class="id" title="variable">n</span></a>))) <a class="idref" href="discprob.prob.rearrange.html#v:314"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:316" class="idref" href="#n:316"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="discprob.prob.rearrange.html#b:302"><span class="id" title="variable">b</span></a> <a class="idref" href="discprob.prob.rearrange.html#n:316"><span class="id" title="variable">n</span></a>))) <a class="idref" href="discprob.prob.rearrange.html#v:314"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> <a class="idref" href="discprob.prob.rearrange.html#b:302"><span class="id" title="variable">b</span></a>) (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Series"><span class="id" title="definition">Series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> <a class="idref" href="discprob.prob.rearrange.html#a:301"><span class="id" title="variable">a</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">His</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (σ':=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="y:317" class="idref" href="#y:317"><span class="id" title="binder"><span id="y:318" class="id">y</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Req_EM_T"><span class="id" title="abbreviation">Req_EM_T</span></a> (<span class="id" title="var">b</span> <a class="idref" href="discprob.prob.rearrange.html#y:317"><span class="id" title="variable">y</span></a>) 0 <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">Hpf</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="abbreviation">sval</span> (σ (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <a class="idref" href="discprob.prob.rearrange.html#y:317"><span class="id" title="variable">y</span></a> <span class="id" title="var">Hpf</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>  =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hext0</span>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="n:319" class="idref" href="#n:319"><span class="id" title="binder"><span id="n:322" class="id">n</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n0:320" class="idref" href="#n0:320"><span class="id" title="binder"><span id="n0:323" class="id">n0</span></span></a> : <span class="id" title="var">Y</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#oapp"><span class="id" title="abbreviation">oapp</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R0"><span class="id" title="axiom">R0</span></a> (σ' <a class="idref" href="discprob.prob.rearrange.html#n0:320"><span class="id" title="variable">n0</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">)</span></a>) <a class="idref" href="discprob.prob.rearrange.html#n:319"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n0:321" class="idref" href="#n0:321"><span class="id" title="binder"><span id="n0:324" class="id">n0</span></span></a> : <span class="id" title="var">Y</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><span class="id" title="var">b</span> <a class="idref" href="discprob.prob.rearrange.html#n0:321"><span class="id" title="variable">n0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">)</span></a>) <a class="idref" href="discprob.prob.rearrange.html#n:319"><span class="id" title="variable">n</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a>/σ'//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="definition">pickle_inv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span>|] =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Req_EM_T"><span class="id" title="abbreviation">Req_EM_T</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq0</span>|<span class="id" title="var">Hneq0</span>] =&gt; //= ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> //= ; <span class="id" title="tactic">eapply</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:325" class="idref" href="#n:325"><span class="id" title="binder"><span id="n:327" class="id">n</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rbasic_fun.html#Rabs"><span class="id" title="definition">Rabs</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#oapp"><span class="id" title="abbreviation">oapp</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R0"><span class="id" title="axiom">R0</span></a> (σ' <a class="idref" href="discprob.prob.rearrange.html#n:325"><span class="id" title="variable">n</span></a>)))) <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series"><span class="id" title="definition">is_series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="n:326" class="idref" href="#n:326"><span class="id" title="binder"><span id="n:328" class="id">n</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#oapp"><span class="id" title="abbreviation">oapp</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R0"><span class="id" title="axiom">R0</span></a> (σ' <a class="idref" href="discprob.prob.rearrange.html#n:326"><span class="id" title="variable">n</span></a>))) (<a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#Series"><span class="id" title="definition">Series</span></a> (<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> <span class="id" title="var">a</span>))).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> (<span class="id" title="var">Hext_abs</span>&amp;<span class="id" title="var">Hext</span>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_ext"><span class="id" title="lemma">is_series_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hext_abs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="discprob.prob.countable.html#countable_sum_Rabs"><span class="id" title="lemma">countable_sum_Rabs</span></a>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_ext"><span class="id" title="lemma">is_series_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#countable_series_rearrange_covering"><span class="id" title="lemma">countable_series_rearrange_covering</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.ssr.ssrfun.html#oapp"><span class="id" title="abbreviation">oapp</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R0"><span class="id" title="axiom">R0</span></a>) σ').<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /σ'. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Req_EM_T"><span class="id" title="abbreviation">Req_EM_T</span></a> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq0</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq'</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="discprob.basic.sval.html#sval_inj_pi"><span class="id" title="lemma">sval_inj_pi</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq'</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">INJ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq'</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> [<span class="id" title="var">s</span>|] =&gt; //=. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">COV</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">s</span> <span class="id" title="var">Hneq0</span>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span>&amp;<span class="id" title="var">Heqy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="abbreviation">sval</span> <span class="id" title="var">y</span>). <span class="id" title="tactic">rewrite</span> /σ'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Reals.RIneq.html#Req_EM_T"><span class="id" title="abbreviation">Req_EM_T</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hngt</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span>&amp;<span class="id" title="var">Hgt</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hngt</span>. <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">Hngt</span> <span class="id" title="var">Hgt</span>. <span class="id" title="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">transitivity</span> (<span class="id" title="abbreviation">sval</span> (σ <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="discprob.basic.sval.html#sval_inj_pi"><span class="id" title="lemma">sval_inj_pi</span></a> =&gt; //=. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqy</span> =&gt; //=.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{ <span class="id" title="var">edestruct</span> (<a class="idref" href="discprob.prob.rearrange.html#countable_series_oapp'"><span class="id" title="lemma">countable_series_oapp'</span></a> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coquelicot.saclay.inria.fr/html//Coquelicot.Series.html#is_series_ext"><span class="id" title="lemma">is_series_ext</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="discprob.prob.countable.html#countable_sum"><span class="id" title="definition">countable_sum</span></a> =&gt; <span class="id" title="var">n</span>. <span class="id" title="tactic">destruct</span> (@<span class="id" title="definition">pickle_inv</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span>) =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="discprob.prob.rearrange.html#countable_Series_oapp'"><span class="id" title="lemma">countable_Series_oapp'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
